(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Vb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Od={exports:{}},Ao={};var B_;function kb(){if(B_)return Ao;B_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Ao.Fragment=e,Ao.jsx=i,Ao.jsxs=i,Ao}var H_;function Ub(){return H_||(H_=1,Od.exports=kb()),Od.exports}var A=Ub(),Md={exports:{}},xe={};var q_;function Lb(){if(q_)return xe;q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function q(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,W={};function Ee(N,Y,le){this.props=N,this.context=Y,this.refs=W,this.updater=le||te}Ee.prototype.isReactComponent={},Ee.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},Ee.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Ie(){}Ie.prototype=Ee.prototype;function Te(N,Y,le){this.props=N,this.context=Y,this.refs=W,this.updater=le||te}var We=Te.prototype=new Ie;We.constructor=Te,se(We,Ee.prototype),We.isPureReactComponent=!0;var ct=Array.isArray;function Fe(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(N,Y,le){var ue=le.ref;return{$$typeof:s,type:N,key:Y,ref:ue!==void 0?ue:null,props:le}}function V(N,Y){return I(N.type,Y,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function U(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return Y[le]})}var R=/\/+/g;function rt(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):Y.toString(36)}function pt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Fe,Fe):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,Y,le,ue,we){var De=typeof N;(De==="undefined"||De==="boolean")&&(N=null);var ke=!1;if(N===null)ke=!0;else switch(De){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(N.$$typeof){case s:case e:ke=!0;break;case T:return ke=N._init,G(ke(N._payload),Y,le,ue,we)}}if(ke)return we=we(N),ke=ue===""?"."+rt(N,0):ue,ct(we)?(le="",ke!=null&&(le=ke.replace(R,"$&/")+"/"),G(we,Y,le,"",function(Bn){return Bn})):we!=null&&(D(we)&&(we=V(we,le+(we.key==null||N&&N.key===we.key?"":(""+we.key).replace(R,"$&/")+"/")+ke)),Y.push(we)),1;ke=0;var wt=ue===""?".":ue+":";if(ct(N))for(var yt=0;yt<N.length;yt++)ue=N[yt],De=wt+rt(ue,yt),ke+=G(ue,Y,le,De,we);else if(yt=q(N),typeof yt=="function")for(N=yt.call(N),yt=0;!(ue=N.next()).done;)ue=ue.value,De=wt+rt(ue,yt++),ke+=G(ue,Y,le,De,we);else if(De==="object"){if(typeof N.then=="function")return G(pt(N),Y,le,ue,we);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ae(N,Y,le){if(N==null)return N;var ue=[],we=0;return G(N,ue,"","",function(De){return Y.call(le,De,we++)}),ue}function ye(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var Pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Xe={map:ae,forEach:function(N,Y,le){ae(N,function(){Y.apply(this,arguments)},le)},count:function(N){var Y=0;return ae(N,function(){Y++}),Y},toArray:function(N){return ae(N,function(Y){return Y})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return xe.Activity=w,xe.Children=Xe,xe.Component=Ee,xe.Fragment=i,xe.Profiler=o,xe.PureComponent=Te,xe.StrictMode=a,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,xe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return x.H.useMemoCache(N)}},xe.cache=function(N){return function(){return N.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(N,Y,le){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ue=se({},N.props),we=N.key;if(Y!=null)for(De in Y.key!==void 0&&(we=""+Y.key),Y)!S.call(Y,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&Y.ref===void 0||(ue[De]=Y[De]);var De=arguments.length-2;if(De===1)ue.children=le;else if(1<De){for(var ke=Array(De),wt=0;wt<De;wt++)ke[wt]=arguments[wt+2];ue.children=ke}return I(N.type,we,ue)},xe.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},xe.createElement=function(N,Y,le){var ue,we={},De=null;if(Y!=null)for(ue in Y.key!==void 0&&(De=""+Y.key),Y)S.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=Y[ue]);var ke=arguments.length-2;if(ke===1)we.children=le;else if(1<ke){for(var wt=Array(ke),yt=0;yt<ke;yt++)wt[yt]=arguments[yt+2];we.children=wt}if(N&&N.defaultProps)for(ue in ke=N.defaultProps,ke)we[ue]===void 0&&(we[ue]=ke[ue]);return I(N,De,we)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(N){return{$$typeof:g,render:N}},xe.isValidElement=D,xe.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ye}},xe.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},xe.startTransition=function(N){var Y=x.T,le={};x.T=le;try{var ue=N(),we=x.S;we!==null&&we(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Fe,Pe)}catch(De){Pe(De)}finally{Y!==null&&le.types!==null&&(Y.types=le.types),x.T=Y}},xe.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},xe.use=function(N){return x.H.use(N)},xe.useActionState=function(N,Y,le){return x.H.useActionState(N,Y,le)},xe.useCallback=function(N,Y){return x.H.useCallback(N,Y)},xe.useContext=function(N){return x.H.useContext(N)},xe.useDebugValue=function(){},xe.useDeferredValue=function(N,Y){return x.H.useDeferredValue(N,Y)},xe.useEffect=function(N,Y){return x.H.useEffect(N,Y)},xe.useEffectEvent=function(N){return x.H.useEffectEvent(N)},xe.useId=function(){return x.H.useId()},xe.useImperativeHandle=function(N,Y,le){return x.H.useImperativeHandle(N,Y,le)},xe.useInsertionEffect=function(N,Y){return x.H.useInsertionEffect(N,Y)},xe.useLayoutEffect=function(N,Y){return x.H.useLayoutEffect(N,Y)},xe.useMemo=function(N,Y){return x.H.useMemo(N,Y)},xe.useOptimistic=function(N,Y){return x.H.useOptimistic(N,Y)},xe.useReducer=function(N,Y,le){return x.H.useReducer(N,Y,le)},xe.useRef=function(N){return x.H.useRef(N)},xe.useState=function(N){return x.H.useState(N)},xe.useSyncExternalStore=function(N,Y,le){return x.H.useSyncExternalStore(N,Y,le)},xe.useTransition=function(){return x.H.useTransition()},xe.version="19.2.3",xe}var G_;function xm(){return G_||(G_=1,Md.exports=Lb()),Md.exports}var it=xm();const ta=Vb(it);var Vd={exports:{}},So={},kd={exports:{}},Ud={};var F_;function Pb(){return F_||(F_=1,(function(s){function e(G,ae){var ye=G.length;G.push(ae);e:for(;0<ye;){var Pe=ye-1>>>1,Xe=G[Pe];if(0<o(Xe,ae))G[Pe]=ae,G[ye]=Xe,ye=Pe;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ae=G[0],ye=G.pop();if(ye!==ae){G[0]=ye;e:for(var Pe=0,Xe=G.length,N=Xe>>>1;Pe<N;){var Y=2*(Pe+1)-1,le=G[Y],ue=Y+1,we=G[ue];if(0>o(le,ye))ue<Xe&&0>o(we,le)?(G[Pe]=we,G[ue]=ye,Pe=ue):(G[Pe]=le,G[Y]=ye,Pe=Y);else if(ue<Xe&&0>o(we,ye))G[Pe]=we,G[ue]=ye,Pe=ue;else break e}}return ae}function o(G,ae){var ye=G.sortIndex-ae.sortIndex;return ye!==0?ye:G.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],T=1,w=null,M=3,q=!1,te=!1,se=!1,W=!1,Ee=typeof setTimeout=="function"?setTimeout:null,Ie=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function We(G){for(var ae=i(_);ae!==null;){if(ae.callback===null)a(_);else if(ae.startTime<=G)a(_),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=i(_)}}function ct(G){if(se=!1,We(G),!te)if(i(y)!==null)te=!0,Fe||(Fe=!0,U());else{var ae=i(_);ae!==null&&pt(ct,ae.startTime-G)}}var Fe=!1,x=-1,S=5,I=-1;function V(){return W?!0:!(s.unstable_now()-I<S)}function D(){if(W=!1,Fe){var G=s.unstable_now();I=G;var ae=!0;try{e:{te=!1,se&&(se=!1,Ie(x),x=-1),q=!0;var ye=M;try{t:{for(We(G),w=i(y);w!==null&&!(w.expirationTime>G&&V());){var Pe=w.callback;if(typeof Pe=="function"){w.callback=null,M=w.priorityLevel;var Xe=Pe(w.expirationTime<=G);if(G=s.unstable_now(),typeof Xe=="function"){w.callback=Xe,We(G),ae=!0;break t}w===i(y)&&a(y),We(G)}else a(y);w=i(y)}if(w!==null)ae=!0;else{var N=i(_);N!==null&&pt(ct,N.startTime-G),ae=!1}}break e}finally{w=null,M=ye,q=!1}ae=void 0}}finally{ae?U():Fe=!1}}}var U;if(typeof Te=="function")U=function(){Te(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,rt=R.port2;R.port1.onmessage=D,U=function(){rt.postMessage(null)}}else U=function(){Ee(D,0)};function pt(G,ae){x=Ee(function(){G(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ae=3;break;default:ae=M}var ye=M;M=ae;try{return G()}finally{M=ye}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ye=M;M=G;try{return ae()}finally{M=ye}},s.unstable_scheduleCallback=function(G,ae,ye){var Pe=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Pe+ye:Pe):ye=Pe,G){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=ye+Xe,G={id:T++,callback:ae,priorityLevel:G,startTime:ye,expirationTime:Xe,sortIndex:-1},ye>Pe?(G.sortIndex=ye,e(_,G),i(y)===null&&G===i(_)&&(se?(Ie(x),x=-1):se=!0,pt(ct,ye-Pe))):(G.sortIndex=Xe,e(y,G),te||q||(te=!0,Fe||(Fe=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ae=M;return function(){var ye=M;M=ae;try{return G.apply(this,arguments)}finally{M=ye}}}})(Ud)),Ud}var Q_;function jb(){return Q_||(Q_=1,kd.exports=Pb()),kd.exports}var Ld={exports:{}},on={};var Y_;function zb(){if(Y_)return on;Y_=1;var s=xm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,T)},on.flushSync=function(y){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=T,a.d.f()}},on.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},on.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},on.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:q}):T==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},on.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},on.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin);a.d.L(y,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},on.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},on.requestFormReset=function(y){a.d.r(y)},on.unstable_batchedUpdates=function(y,_){return y(_)},on.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.3",on}var K_;function Bb(){if(K_)return Ld.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=zb(),Ld.exports}var X_;function Hb(){if(X_)return So;X_=1;var s=jb(),e=xm(),i=Bb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,l=f;break}if(E===l){p=!0,l=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=h;break}if(E===l){p=!0,l=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Ie=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case Ee:return"Profiler";case W:return"StrictMode";case ct:return"Suspense";case Fe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case Te:return t.displayName||"Context";case Ie:return(t._context.displayName||"Context")+".Consumer";case We:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var pt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Pe=[],Xe=-1;function N(t){return{current:t}}function Y(t){0>Xe||(t.current=Pe[Xe],Pe[Xe]=null,Xe--)}function le(t,n){Xe++,Pe[Xe]=t.current,t.current=n}var ue=N(null),we=N(null),De=N(null),ke=N(null);function wt(t,n){switch(le(De,n),le(we,t),le(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?c_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=c_(n),t=h_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ue),le(ue,t)}function yt(){Y(ue),Y(we),Y(De)}function Bn(t){t.memoizedState!==null&&le(ke,t);var n=ue.current,r=h_(n,t.type);n!==r&&(le(we,t),le(ue,r))}function Xi(t){we.current===t&&(Y(ue),Y(we)),ke.current===t&&(Y(ke),vo._currentValue=ye)}var $i,Zi;function xn(t){if($i===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);$i=n&&n[1]||"",Zi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$i+t+Zi}var ee=!1;function J(t,n){if(!t||ee)return"";ee=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var z=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){z=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){z=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),j=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var F=`
`+C[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{ee=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?xn(r):""}function re(t,n){switch(t.tag){case 26:case 27:case 5:return xn(t.type);case 16:return xn("Lazy");case 13:return t.child!==n&&n!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return J(t.type,!1);case 11:return J(t.type.render,!1);case 1:return J(t.type,!0);case 31:return xn("Activity");default:return""}}function he(t){try{var n="",r=null;do n+=re(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var oe=Object.prototype.hasOwnProperty,me=s.unstable_scheduleCallback,ne=s.unstable_cancelCallback,ve=s.unstable_shouldYield,je=s.unstable_requestPaint,nt=s.unstable_now,$=s.unstable_getCurrentPriorityLevel,ge=s.unstable_ImmediatePriority,Ye=s.unstable_UserBlockingPriority,at=s.unstable_NormalPriority,Ct=s.unstable_LowPriority,_n=s.unstable_IdlePriority,su=s.log,ru=s.unstable_setDisableYieldValue,si=null,Jt=null;function Hn(t){if(typeof su=="function"&&ru(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(si,t)}catch{}}var xt=Math.clz32?Math.clz32:lu,au=Math.log,ha=Math.LN2;function lu(t){return t>>>=0,t===0?32:31-(au(t)/ha|0)|0}var vi=256,Rr=262144,Vt=4194304;function Ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Ei(l):(p&=E,p!==0?h=Ei(p):r||(r=E&~t,r!==0&&(h=Ei(r))))):(E=l&~f,E!==0?h=Ei(E):p!==0?h=Ei(p):r||(r=l&~t,r!==0&&(h=Ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ri(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var t=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),t}function bi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ir(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(r=p&~r;0<r;){var F=31-xt(r),K=1<<F;E[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}r&=~K}l!==0&&Cr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Cr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-xt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Al(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-xt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Sl(t,n){var r=n&-n;return r=(r&42)!==0?1:xr(r),(r&(t.suspendedLanes|n))!==0?0:r}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:V_(t.type))}function ai(t,n){var r=ae.p;try{return ae.p=t,n()}finally{ae.p=r}}var li=Math.random().toString(36).slice(2),kt="__reactFiber$"+li,Kt="__reactProps$"+li,Ai="__reactContainer$"+li,fa="__reactEvents$"+li,Lh="__reactListeners$"+li,cu="__reactHandles$"+li,hu="__reactResources$"+li,Si="__reactMarker$"+li;function da(t){delete t[kt],delete t[Kt],delete t[fa],delete t[Lh],delete t[cu]}function wi(t){var n=t[kt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ai]||r[kt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=__(t);t!==null;){if(r=t[kt])return r;t=__(t)}return n}t=r,r=t.parentNode}return null}function qn(t){if(t=t[kt]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ri(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ut(t){t[Si]=!0}var wl=new Set,Rl={};function Ii(t,n){Ci(t,n),Ci(t+"Capture",n)}function Ci(t,n){for(Rl[t]=n,t=0;t<n.length;t++)wl.add(n[t])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},xl={};function fu(t){return oe.call(xl,t)?!0:oe.call(Cl,t)?!1:Il.test(t)?xl[t]=!0:(Cl[t]=!0,!1)}function ma(t,n,r){if(fu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Dn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Lt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function lt(t){if(!t._valueTracker){var n=Is(t)?"checked":"value";t._valueTracker=Nl(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Is(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function vn(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(t,n,r,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xt(n)):t.value!==""+Xt(n)&&(t.value=""+Xt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Dl(t,p,Xt(n)):r!=null?Dl(t,p,Xt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xt(E):t.removeAttribute("name")}function du(t,n,r,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){lt(t);return}r=r!=null?""+Xt(r):"",n=n!=null?""+Xt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),lt(t)}function Dl(t,n,r){n==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Cs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function mu(t,n,r){if(n!=null&&(n=""+Xt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xt(r):""}function xs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(pt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),lt(t)}function En(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||pu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ml(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ol(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ol(t,f,n[f])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var Vl=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,Ni=null;function Or(t){var n=qn(t);if(n&&(t=n.stateNode)){var r=t[Kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(pa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Kt]||null;if(!h)throw Error(a(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Nr(l)}break e;case"textarea":mu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Cs(t,!!r.multiple,n,!1)}}}var _a=!1;function Os(t,n,r){if(_a)return t(n,r);_a=!0;try{var l=t(n);return l}finally{if(_a=!1,(Ds!==null||Ni!==null)&&(uc(),Ds&&(n=Ds,t=Ni,Ni=Ds=null,Or(n),t)))for(n=0;n<t.length;n++)Or(t[n])}}function ui(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Kt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Fn)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Mr=!1}var Di=null,kl=null,Vr=null;function Ul(){if(Vr)return Vr;var t,n=kl,r=n.length,l,h="value"in Di?Di.value:Di.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Vr=h.slice(t,1<l?1-l:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function ci(){return!1}function Wt(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:ci,this.isPropagationStopped=ci,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Wt(es),Ms=w({},es,{view:0,detail:0}),Ll=Wt(Ms),Vs,va,Mi,Ea=w({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Vs=t.screenX-Mi.screenX,va=t.screenY-Mi.screenY):va=Vs=0,Mi=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Pl=Wt(Ea),Ur=w({},Ea,{dataTransfer:0}),yu=Wt(Ur),_u=w({},Ms,{relatedTarget:0}),Lr=Wt(_u),jl=w({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Wt(jl),Ta=w({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=Wt(Ta),Tu=w({},es,{data:0}),Vi=Wt(Tu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function ks(){return wu}var dn=w({},Ms,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=Wt(dn),Iu=w({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Wt(Iu),u=w({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=Wt(u),v=w({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Wt(v),L=w({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Wt(L),ie=w({},es,{newState:0,oldState:0}),Oe=Wt(ie),Nt=[9,13,27,32],et=Fn&&"CompositionEvent"in window,Tt=null;Fn&&"documentMode"in document&&(Tt=document.documentMode);var Qn=Fn&&"TextEvent"in window&&!Tt,ki=Fn&&(!et||Tt&&8<Tt&&11>=Tt),hi=" ",fi=!1;function Pr(t,n){switch(t){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function sT(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return t=n.data,t===hi&&fi?null:t;default:return null}}function rT(t,n){if(Aa)return t==="compositionend"||!et&&Pr(t,n)?(t=Ul(),Vr=kl=Di=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var aT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!aT[t.type]:n==="textarea"}function bp(t,n,r,l){Ds?Ni?Ni.push(l):Ni=[l]:Ds=l,n=gc(n,"onChange"),0<n.length&&(r=new Oi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var zl=null,Bl=null;function lT(t){s_(t,0)}function Cu(t){var n=Nn(t);if(Nr(n))return t}function Ap(t,n){if(t==="change")return n}var Sp=!1;if(Fn){var Ph;if(Fn){var jh="oninput"in document;if(!jh){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),jh=typeof wp.oninput=="function"}Ph=jh}else Ph=!1;Sp=Ph&&(!document.documentMode||9<document.documentMode)}function Rp(){zl&&(zl.detachEvent("onpropertychange",Ip),Bl=zl=null)}function Ip(t){if(t.propertyName==="value"&&Cu(Bl)){var n=[];bp(n,Bl,t,Gn(t)),Os(lT,n)}}function oT(t,n,r){t==="focusin"?(Rp(),zl=n,Bl=r,zl.attachEvent("onpropertychange",Ip)):t==="focusout"&&Rp()}function uT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Bl)}function cT(t,n){if(t==="click")return Cu(n)}function hT(t,n){if(t==="input"||t==="change")return Cu(n)}function fT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:fT;function Hl(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!oe.call(n,h)||!On(t[h],n[h]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xp(t,n){var r=Cp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cp(r)}}function Np(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Np(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=xi(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var dT=Fn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Bh=null,ql=null,Hh=!1;function Op(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hh||Sa==null||Sa!==xi(l)||(l=Sa,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Hl(ql,l)||(ql=l,l=gc(Bh,"onSelect"),0<l.length&&(n=new Oi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Sa)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var wa={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},qh={},Mp={};Fn&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function zr(t){if(qh[t])return qh[t];if(!wa[t])return t;var n=wa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Mp)return qh[t]=n[r];return t}var Vp=zr("animationend"),kp=zr("animationiteration"),Up=zr("animationstart"),mT=zr("transitionrun"),pT=zr("transitionstart"),gT=zr("transitioncancel"),Lp=zr("transitionend"),Pp=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function di(t,n){Pp.set(t,n),Ii(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Ra=0,Fh=0;function Nu(){for(var t=Ra,n=Fh=Ra=0;n<t;){var r=Yn[n];Yn[n++]=null;var l=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&jp(r,h,f)}}function Du(t,n,r,l){Yn[Ra++]=t,Yn[Ra++]=n,Yn[Ra++]=r,Yn[Ra++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,n,r,l){return Du(t,n,r,l),Ou(t)}function Br(t,n){return Du(t,null,null,n),Ou(t)}function jp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-xt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ou(t){if(50<ho)throw ho=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function yT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,r,l){return new yT(t,n,r,l)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,n){var r=t.alternate;return r===null?(r=Mn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Yh(t)&&(p=1);else if(typeof t=="string")p=bb(t,r,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Mn(31,r,n,h),t.elementType=I,t.lanes=f,t;case se:return Hr(r.children,h,f,n);case W:p=8,h|=24;break;case Ee:return t=Mn(12,r,n,h|2),t.elementType=Ee,t.lanes=f,t;case ct:return t=Mn(13,r,n,h),t.elementType=ct,t.lanes=f,t;case Fe:return t=Mn(19,r,n,h),t.elementType=Fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:p=10;break e;case Ie:p=9;break e;case We:p=11;break e;case x:p=14;break e;case S:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Mn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Hr(t,n,r,l){return t=Mn(7,t,l,n),t.lanes=r,t}function Kh(t,n,r){return t=Mn(6,t,null,n),t.lanes=r,t}function Bp(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,r){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hp=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var r=Hp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:he(n)},Hp.set(t,n),n)}return{value:t,source:n,stack:he(n)}}var Ca=[],xa=0,Vu=null,Gl=0,Xn=[],$n=0,Us=null,Ui=1,Li="";function is(t,n){Ca[xa++]=Gl,Ca[xa++]=Vu,Vu=t,Gl=n}function qp(t,n,r){Xn[$n++]=Ui,Xn[$n++]=Li,Xn[$n++]=Us,Us=t;var l=Ui;t=Li;var h=32-xt(l)-1;l&=~(1<<h),r+=1;var f=32-xt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ui=1<<32-xt(n)+h|r<<h|l,Li=f+t}else Ui=1<<f|r<<h|l,Li=t}function $h(t){t.return!==null&&(is(t,1),qp(t,1,0))}function Zh(t){for(;t===Vu;)Vu=Ca[--xa],Ca[xa]=null,Gl=Ca[--xa],Ca[xa]=null;for(;t===Us;)Us=Xn[--$n],Xn[$n]=null,Li=Xn[--$n],Xn[$n]=null,Ui=Xn[--$n],Xn[$n]=null}function Gp(t,n){Xn[$n++]=Ui,Xn[$n++]=Li,Xn[$n++]=Us,Ui=n.id,Li=n.overflow,Us=t}var en=null,_t=null,Qe=!1,Ls=null,Zn=!1,Jh=Error(a(519));function Ps(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(Kn(n,t)),Jh}function Fp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[kt]=t,n[Kt]=l,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(r=0;r<mo.length;r++)Le(mo[r],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),du(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),xs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||o_(n.textContent,r)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||Ps(t,!0)}function Qp(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:en=en.return}}function Na(t){if(t!==en)return!1;if(!Qe)return Qp(t),Qe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yd(t.type,t.memoizedProps)),r=!r),r&&_t&&Ps(t),Qp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));_t=y_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));_t=y_(t)}else n===27?(n=_t,Js(t.type)?(t=bd,bd=null,_t=t):_t=n):_t=en?Wn(t.stateNode.nextSibling):null;return!0}function qr(){_t=en=null,Qe=!1}function Wh(){var t=Ls;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Ls=null),t}function Fl(t){Ls===null?Ls=[t]:Ls.push(t)}var ef=N(null),Gr=null,ss=null;function js(t,n,r){le(ef,n._currentValue),n._currentValue=r}function rs(t){t._currentValue=ef.current,Y(ef)}function tf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function nf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),tf(f.return,r,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),tf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Da(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;On(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vo):t=[vo])}h=h.return}t!==null&&nf(n,t,r,l),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Gr=t,ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Yp(Gr,t)}function Uu(t,n){return Gr===null&&Fr(t),Yp(t,n)}function Yp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ss===null){if(t===null)throw Error(a(308));ss=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ss=ss.next=n;return r}var _T=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},vT=s.unstable_scheduleCallback,ET=s.unstable_NormalPriority,Pt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new _T,data:new Map,refCount:0}}function Ql(t){t.refCount--,t.refCount===0&&vT(ET,function(){t.controller.abort()})}var Yl=null,rf=0,Oa=0,Ma=null;function TT(t,n){if(Yl===null){var r=Yl=[];rf=0,Oa=od(),Ma={status:"pending",value:void 0,then:function(l){r.push(l)}}}return rf++,n.then(Kp,Kp),n}function Kp(){if(--rf===0&&Yl!==null){Ma!==null&&(Ma.status="fulfilled");var t=Yl;Yl=null,Oa=0,Ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function bT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Xp=G.S;G.S=function(t,n){Oy=nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&TT(t,n),Xp!==null&&Xp(t,n)};var Qr=N(null);function af(){var t=Qr.current;return t!==null?t:gt.pooledCache}function Lu(t,n){n===null?le(Qr,Qr.current):le(Qr,n.pool)}function $p(){var t=af();return t===null?null:{parent:Pt._currentValue,pool:t}}var Va=Error(a(460)),lf=Error(a(474)),Pu=Error(a(542)),ju={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(oi,oi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t}throw Kr=n,Va}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Kr=r,Va):r}}var Kr=null;function Wp(){if(Kr===null)throw Error(a(459));var t=Kr;return Kr=null,t}function eg(t){if(t===Va||t===Pu)throw Error(a(483))}var ka=null,Kl=0;function zu(t){var n=Kl;return Kl+=1,ka===null&&(ka=[]),Jp(ka,t,n)}function Xl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tg(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function r(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ns(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Q){return O===null||O.tag!==6?(O=Kh(P,k.mode,Q),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,Q){var _e=P.type;return _e===se?F(k,O,P.props.children,Q,P.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&Yr(_e)===O.type)?(O=h(O,P.props),Xl(O,P),O.return=k,O):(O=Mu(P.type,P.key,P.props,null,k.mode,Q),Xl(O,P),O.return=k,O)}function j(k,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Xh(P,k.mode,Q),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function F(k,O,P,Q,_e){return O===null||O.tag!==7?(O=Hr(P,k.mode,Q,_e),O.return=k,O):(O=h(O,P),O.return=k,O)}function K(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Kh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return P=Mu(O.type,O.key,O.props,null,k.mode,P),Xl(P,O),P.return=k,P;case te:return O=Xh(O,k.mode,P),O.return=k,O;case S:return O=Yr(O),K(k,O,P)}if(pt(O)||U(O))return O=Hr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return K(k,zu(O),P);if(O.$$typeof===Te)return K(k,Uu(k,O),P);Bu(k,O)}return null}function z(k,O,P,Q){var _e=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _e!==null?null:E(k,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===_e?C(k,O,P,Q):null;case te:return P.key===_e?j(k,O,P,Q):null;case S:return P=Yr(P),z(k,O,P,Q)}if(pt(P)||U(P))return _e!==null?null:F(k,O,P,Q,null);if(typeof P.then=="function")return z(k,O,zu(P),Q);if(P.$$typeof===Te)return z(k,O,Uu(k,P),Q);Bu(k,P)}return null}function H(k,O,P,Q,_e){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(O,k,""+Q,_e);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return k=k.get(Q.key===null?P:Q.key)||null,C(O,k,Q,_e);case te:return k=k.get(Q.key===null?P:Q.key)||null,j(O,k,Q,_e);case S:return Q=Yr(Q),H(k,O,P,Q,_e)}if(pt(Q)||U(Q))return k=k.get(P)||null,F(O,k,Q,_e,null);if(typeof Q.then=="function")return H(k,O,P,zu(Q),_e);if(Q.$$typeof===Te)return H(k,O,P,Uu(O,Q),_e);Bu(O,Q)}return null}function fe(k,O,P,Q){for(var _e=null,$e=null,de=O,Ve=O=0,Be=null;de!==null&&Ve<P.length;Ve++){de.index>Ve?(Be=de,de=null):Be=de.sibling;var Ze=z(k,de,P[Ve],Q);if(Ze===null){de===null&&(de=Be);break}t&&de&&Ze.alternate===null&&n(k,de),O=f(Ze,O,Ve),$e===null?_e=Ze:$e.sibling=Ze,$e=Ze,de=Be}if(Ve===P.length)return r(k,de),Qe&&is(k,Ve),_e;if(de===null){for(;Ve<P.length;Ve++)de=K(k,P[Ve],Q),de!==null&&(O=f(de,O,Ve),$e===null?_e=de:$e.sibling=de,$e=de);return Qe&&is(k,Ve),_e}for(de=l(de);Ve<P.length;Ve++)Be=H(de,k,Ve,P[Ve],Q),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ve:Be.key),O=f(Be,O,Ve),$e===null?_e=Be:$e.sibling=Be,$e=Be);return t&&de.forEach(function(ir){return n(k,ir)}),Qe&&is(k,Ve),_e}function Ae(k,O,P,Q){if(P==null)throw Error(a(151));for(var _e=null,$e=null,de=O,Ve=O=0,Be=null,Ze=P.next();de!==null&&!Ze.done;Ve++,Ze=P.next()){de.index>Ve?(Be=de,de=null):Be=de.sibling;var ir=z(k,de,Ze.value,Q);if(ir===null){de===null&&(de=Be);break}t&&de&&ir.alternate===null&&n(k,de),O=f(ir,O,Ve),$e===null?_e=ir:$e.sibling=ir,$e=ir,de=Be}if(Ze.done)return r(k,de),Qe&&is(k,Ve),_e;if(de===null){for(;!Ze.done;Ve++,Ze=P.next())Ze=K(k,Ze.value,Q),Ze!==null&&(O=f(Ze,O,Ve),$e===null?_e=Ze:$e.sibling=Ze,$e=Ze);return Qe&&is(k,Ve),_e}for(de=l(de);!Ze.done;Ve++,Ze=P.next())Ze=H(de,k,Ve,Ze.value,Q),Ze!==null&&(t&&Ze.alternate!==null&&de.delete(Ze.key===null?Ve:Ze.key),O=f(Ze,O,Ve),$e===null?_e=Ze:$e.sibling=Ze,$e=Ze);return t&&de.forEach(function(Mb){return n(k,Mb)}),Qe&&is(k,Ve),_e}function mt(k,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var _e=P.key;O!==null;){if(O.key===_e){if(_e=P.type,_e===se){if(O.tag===7){r(k,O.sibling),Q=h(O,P.props.children),Q.return=k,k=Q;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&Yr(_e)===O.type){r(k,O.sibling),Q=h(O,P.props),Xl(Q,P),Q.return=k,k=Q;break e}r(k,O);break}else n(k,O);O=O.sibling}P.type===se?(Q=Hr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Mu(P.type,P.key,P.props,null,k.mode,Q),Xl(Q,P),Q.return=k,k=Q)}return p(k);case te:e:{for(_e=P.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(k,O.sibling),Q=h(O,P.children||[]),Q.return=k,k=Q;break e}else{r(k,O);break}else n(k,O);O=O.sibling}Q=Xh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case S:return P=Yr(P),mt(k,O,P,Q)}if(pt(P))return fe(k,O,P,Q);if(U(P)){if(_e=U(P),typeof _e!="function")throw Error(a(150));return P=_e.call(P),Ae(k,O,P,Q)}if(typeof P.then=="function")return mt(k,O,zu(P),Q);if(P.$$typeof===Te)return mt(k,O,Uu(k,P),Q);Bu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(k,O.sibling),Q=h(O,P),Q.return=k,k=Q):(r(k,O),Q=Kh(P,k.mode,Q),Q.return=k,k=Q),p(k)):r(k,O)}return function(k,O,P,Q){try{Kl=0;var _e=mt(k,O,P,Q);return ka=null,_e}catch(de){if(de===Va||de===Pu)throw de;var $e=Mn(29,de,null,k.mode);return $e.lanes=Q,$e.return=k,$e}}}var Xr=tg(!0),ng=tg(!1),zs=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ou(t),jp(t,null,r),n}return Du(t,l,n,r),Ou(t)}function $l(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Al(t,r)}}function cf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var hf=!1;function Zl(){if(hf){var t=Ma;if(t!==null)throw t}}function Jl(t,n,r,l){hf=!1;var h=t.updateQueue;zs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,p===null?f=j:p.next=j,p=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;p=0,F=j=C=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(ze&z)===z:(l&z)===z){z!==0&&z===Oa&&(hf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,Ae=E;z=n;var mt=r;switch(Ae.tag){case 1:if(fe=Ae.payload,typeof fe=="function"){K=fe.call(mt,K,z);break e}K=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ae.payload,z=typeof fe=="function"?fe.call(mt,K,z):fe,z==null)break e;K=w({},K,z);break e;case 2:zs=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=H,C=K):F=F.next=H,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=K),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=p,t.lanes=p,t.memoizedState=K}}function ig(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function sg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ig(r[t],n)}var Ua=N(null),Hu=N(0);function rg(t,n){t=ms,le(Hu,t),le(Ua,n),ms=t|n.baseLanes}function ff(){le(Hu,ms),le(Ua,Ua.current)}function df(){ms=Hu.current,Y(Ua),Y(Hu)}var Vn=N(null),Jn=null;function qs(t){var n=t.alternate;le(Dt,Dt.current&1),le(Vn,t),Jn===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(Jn=t)}function mf(t){le(Dt,Dt.current),le(Vn,t),Jn===null&&(Jn=t)}function ag(t){t.tag===22?(le(Dt,Dt.current),le(Vn,t),Jn===null&&(Jn=t)):Gs()}function Gs(){le(Dt,Dt.current),le(Vn,Vn.current)}function kn(t){Y(Vn),Jn===t&&(Jn=null),Y(Dt)}var Dt=N(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ed(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Me=null,ft=null,jt=null,Gu=!1,La=!1,$r=!1,Fu=0,Wl=0,Pa=null,AT=0;function Rt(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!On(t[r],n[r]))return!1;return!0}function gf(t,n,r,l,h,f){return as=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?qg:Df,$r=!1,f=r(l,h),$r=!1,La&&(f=og(n,r,l,h)),lg(t),f}function lg(t){G.H=no;var n=ft!==null&&ft.next!==null;if(as=0,jt=ft=Me=null,Gu=!1,Wl=0,Pa=null,n)throw Error(a(300));t===null||zt||(t=t.dependencies,t!==null&&ku(t)&&(zt=!0))}function og(t,n,r,l){Me=t;var h=0;do{if(La&&(Pa=null),Wl=0,La=!1,25<=h)throw Error(a(301));if(h+=1,jt=ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Gg,f=n(r,l)}while(La);return f}function ST(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?eo(n):n,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Me.flags|=1024),n}function yf(){var t=Fu!==0;return Fu=0,t}function _f(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function vf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}as=0,jt=ft=Me=null,La=!1,Wl=Fu=0,Pa=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Me.memoizedState=jt=t:jt=jt.next=t,jt}function Ot(){if(ft===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var n=jt===null?Me.memoizedState:jt.next;if(n!==null)jt=n,ft=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},jt===null?Me.memoizedState=jt=t:jt=jt.next=t}return jt}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(t){var n=Wl;return Wl+=1,Pa===null&&(Pa=[]),t=Jp(Pa,t,n),n=Me,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?qg:Df),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return eo(t);if(t.$$typeof===Te)return tn(t)}throw Error(a(438,String(t)))}function Ef(t){var n=null,r=Me.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Qu(),Me.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function ls(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=Ot();return Tf(n,ft,t)}function Tf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,C=null,j=n,F=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(ze&K)===K:(as&K)===K){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===Oa&&(F=!0);else if((as&z)===z){j=j.next,z===Oa&&(F=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=K,p=f):C=C.next=K,Me.lanes|=z,Ys|=z;K=j.action,$r&&r(f,K),f=j.hasEagerState?j.eagerState:r(f,K)}else z={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=z,p=f):C=C.next=z,Me.lanes|=K,Ys|=K;j=j.next}while(j!==null&&j!==n);if(C===null?p=f:C.next=E,!On(f,t.memoizedState)&&(zt=!0,F&&(r=Ma,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var n=Ot(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);On(f,n.memoizedState)||(zt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ug(t,n,r){var l=Me,h=Ot(),f=Qe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!On((ft||h).memoizedState,r);if(p&&(h.memoizedState=r,zt=!0),h=h.queue,wf(fg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,ja(9,{destroy:void 0},hg.bind(null,l,h,r,n),null),gt===null)throw Error(a(349));f||(as&127)!==0||cg(l,n,r)}return r}function cg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Me.updateQueue,n===null?(n=Qu(),Me.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function hg(t,n,r,l){n.value=r,n.getSnapshot=l,dg(n)&&mg(t)}function fg(t,n,r){return r(function(){dg(n)&&mg(t)})}function dg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!On(t,r)}catch{return!0}}function mg(t){var n=Br(t,2);n!==null&&wn(n,t,2)}function Af(t){var n=mn();if(typeof t=="function"){var r=t;if(t=r(),$r){Hn(!0);try{r()}finally{Hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n}function pg(t,n,r,l){return t.baseState=r,Tf(t,ft,typeof l=="function"?l:ls)}function wT(t,n,r,l,h){if(Zu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,gg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function gg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=r(h,l),C=G.S;C!==null&&C(p,E),yg(t,n,E)}catch(j){Sf(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,l),yg(t,n,f)}catch(j){Sf(t,n,j)}}function yg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){_g(t,n,l)},function(l){return Sf(t,n,l)}):_g(t,n,r)}function _g(t,n,r){n.status="fulfilled",n.value=r,vg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,gg(t,r)))}function Sf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,vg(n),n=n.next;while(n!==l)}t.action=null}function vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Eg(t,n){return n}function Tg(t,n){if(Qe){var r=gt.formState;if(r!==null){e:{var l=Me;if(Qe){if(_t){t:{for(var h=_t,f=Zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){_t=Wn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(n=r[0])}}return r=mn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},r.queue=l,r=zg.bind(null,Me,l),l.dispatch=r,l=Af(!1),f=Nf.bind(null,Me,!1,l.queue),l=mn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=wT.bind(null,Me,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function bg(t){var n=Ot();return Ag(n,ft,t)}function Ag(t,n,r){if(n=Tf(t,n,Eg)[0],t=Ku(ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=eo(n)}catch(p){throw p===Va?Pu:p}else l=n;n=Ot();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Me.flags|=2048,ja(9,{destroy:void 0},RT.bind(null,h,r),null)),[l,f,t]}function RT(t,n){t.action=n}function Sg(t){var n=Ot(),r=ft;if(r!==null)return Ag(n,r,t);Ot(),n=n.memoizedState,r=Ot();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ja(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Qu(),Me.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function wg(){return Ot().memoizedState}function Xu(t,n,r,l){var h=mn();Me.flags|=t,h.memoizedState=ja(1|n,{destroy:void 0},r,l===void 0?null:l)}function $u(t,n,r,l){var h=Ot();l=l===void 0?null:l;var f=h.memoizedState.inst;ft!==null&&l!==null&&pf(l,ft.memoizedState.deps)?h.memoizedState=ja(n,f,r,l):(Me.flags|=t,h.memoizedState=ja(1|n,f,r,l))}function Rg(t,n){Xu(8390656,8,t,n)}function wf(t,n){$u(2048,8,t,n)}function IT(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Qu(),Me.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Ig(t){var n=Ot().memoizedState;return IT({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cg(t,n){return $u(4,2,t,n)}function xg(t,n){return $u(4,4,t,n)}function Ng(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dg(t,n,r){r=r!=null?r.concat([t]):null,$u(4,4,Ng.bind(null,n,t),r)}function Rf(){}function Og(t,n){var r=Ot();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Mg(t,n){var r=Ot();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),$r){Hn(!0);try{t()}finally{Hn(!1)}}return r.memoizedState=[l,n],l}function If(t,n,r){return r===void 0||(as&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Vy(),Me.lanes|=t,Ys|=t,r)}function Vg(t,n,r,l){return On(r,n)?r:Ua.current!==null?(t=If(t,r,l),On(t,n)||(zt=!0),t):(as&42)===0||(as&1073741824)!==0&&(ze&261930)===0?(zt=!0,t.memoizedState=r):(t=Vy(),Me.lanes|=t,Ys|=t,n)}function kg(t,n,r,l,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Nf(t,!1,n,r);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=bT(C,l);to(t,n,F,Pn(t))}else to(t,n,l,Pn(t))}catch(K){to(t,n,{then:function(){},status:"rejected",reason:K},Pn())}finally{ae.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function CT(){}function Cf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Ug(t).queue;kg(t,h,n,ye,r===null?CT:function(){return Lg(t),r(l)})}function Ug(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:ye},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lg(t){var n=Ug(t);n.next===null&&(n=t.alternate.memoizedState),to(t,n.next.queue,{},Pn())}function xf(){return tn(vo)}function Pg(){return Ot().memoizedState}function jg(){return Ot().memoizedState}function xT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Pn();t=Bs(r);var l=Hs(n,t,r);l!==null&&(wn(l,n,r),$l(l,n,r)),n={cache:sf()},t.payload=n;return}n=n.return}}function NT(t,n,r){var l=Pn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Bg(n,r):(r=Qh(t,n,r,l),r!==null&&(wn(r,t,l),Hg(r,n,l)))}function zg(t,n,r){var l=Pn();to(t,n,r,l)}function to(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Bg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,On(E,p))return Du(t,n,h,0),gt===null&&Nu(),!1}catch{}if(r=Qh(t,n,h,l),r!==null)return wn(r,t,l),Hg(r,n,l),!0}return!1}function Nf(t,n,r,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(a(479))}else n=Qh(t,r,l,2),n!==null&&wn(n,t,2)}function Zu(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Bg(t,n){La=Gu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Hg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Al(t,r)}}var no={readContext:tn,use:Yu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};no.useEffectEvent=Rt;var qg={readContext:tn,use:Yu,useCallback:function(t,n){return mn().memoizedState=[t,n===void 0?null:n],t},useContext:tn,useEffect:Rg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Xu(4194308,4,Ng.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var r=mn();n=n===void 0?null:n;var l=t();if($r){Hn(!0);try{t()}finally{Hn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=mn();if(r!==void 0){var h=r(n);if($r){Hn(!0);try{r(n)}finally{Hn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=NT.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var n=mn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,r=zg.bind(null,Me,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(t,n){var r=mn();return If(r,t,n)},useTransition:function(){var t=Af(!1);return t=kg.bind(null,Me,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Me,h=mn();if(Qe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),gt===null)throw Error(a(349));(ze&127)!==0||cg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Rg(fg.bind(null,l,f,t),[t]),l.flags|=2048,ja(9,{destroy:void 0},hg.bind(null,l,f,r,n),null),r},useId:function(){var t=mn(),n=gt.identifierPrefix;if(Qe){var r=Li,l=Ui;r=(l&~(1<<32-xt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=AT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t){var n=mn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nf.bind(null,Me,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return mn().memoizedState=xT.bind(null,Me)},useEffectEvent:function(t){var n=mn(),r={impl:t};return n.memoizedState=r,function(){if((tt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:tn,use:Yu,useCallback:Og,useContext:tn,useEffect:wf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:xg,useMemo:Mg,useReducer:Ku,useRef:wg,useState:function(){return Ku(ls)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Ot();return Vg(r,ft.memoizedState,t,n)},useTransition:function(){var t=Ku(ls)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:eo(t),n]},useSyncExternalStore:ug,useId:Pg,useHostTransitionStatus:xf,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var r=Ot();return pg(r,ft,t,n)},useMemoCache:Ef,useCacheRefresh:jg};Df.useEffectEvent=Ig;var Gg={readContext:tn,use:Yu,useCallback:Og,useContext:tn,useEffect:wf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:xg,useMemo:Mg,useReducer:bf,useRef:wg,useState:function(){return bf(ls)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Ot();return ft===null?If(r,t,n):Vg(r,ft.memoizedState,t,n)},useTransition:function(){var t=bf(ls)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:eo(t),n]},useSyncExternalStore:ug,useId:Pg,useHostTransitionStatus:xf,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var r=Ot();return ft!==null?pg(r,ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:jg};Gg.useEffectEvent=Ig;function Of(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Pn(),h=Bs(l);h.payload=n,r!=null&&(h.callback=r),n=Hs(t,h,l),n!==null&&(wn(n,t,l),$l(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Pn(),h=Bs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Hs(t,h,l),n!==null&&(wn(n,t,l),$l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Pn(),l=Bs(r);l.tag=2,n!=null&&(l.callback=n),n=Hs(t,l,r),n!==null&&(wn(n,t,r),$l(n,t,r))}};function Fg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Hl(r,l)||!Hl(h,f):!0}function Qg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Yg(t){xu(t)}function Kg(t){console.error(t)}function Xg(t){xu(t)}function Ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,r){return r=Bs(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(t,n)},r}function Zg(t){return t=Bs(t),t.tag=3,t}function Jg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){$g(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){$g(n,r,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function DT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Da(n,r,h,!0),r=Vn.current,r!==null){switch(r.tag){case 31:case 13:return Jn===null?cc():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),rd(t,l,h)),!1;case 22:return r.flags|=65536,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),rd(t,l,h)),!1}throw Error(a(435,r.tag))}return rd(t,l,h),cc(),!1}if(Qe)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Jh&&(t=Error(a(422),{cause:l}),Fl(Kn(t,r)))):(l!==Jh&&(n=Error(a(423),{cause:l}),Fl(Kn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,r),h=Vf(t.stateNode,l,h),cf(t,h),It!==4&&(It=2)),!1;var f=Error(a(520),{cause:l});if(f=Kn(f,r),co===null?co=[f]:co.push(f),It!==4&&(It=2),n===null)return!0;l=Kn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Vf(r.stateNode,l,t),cf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Zg(h),Jg(h,t,r,l),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),zt=!1;function nn(t,n,r,l){n.child=t===null?ng(n,null,r,l):Xr(n,t.child,r,l)}function Wg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Fr(n),l=gf(t,n,r,p,f,h),E=yf(),t!==null&&!zt?(_f(t,n,h),os(t,n,h)):(Qe&&E&&$h(n),n.flags|=1,nn(t,n,l,h),n.child)}function ey(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ty(t,n,f,l,h)):(t=Mu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(p,l)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ns(f,l),t.ref=n.ref,t.return=n,n.child=t}function ty(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Hl(f,l)&&t.ref===n.ref)if(zt=!1,n.pendingProps=l=f,qf(t,h))(t.flags&131072)!==0&&(zt=!0);else return n.lanes=t.lanes,os(t,n,h)}return Uf(t,n,r,l,h)}function ny(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return iy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?rg(n,f):ff(),ag(n);else return l=n.lanes=536870912,iy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Lu(n,f.cachePool),rg(n,f),Gs(),n.memoizedState=null):(t!==null&&Lu(n,null),ff(),Gs());return nn(t,n,h,r),n.child}function io(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(t,n,r,l,h){var f=af();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Lu(n,null),ff(),ag(n),t!==null&&Da(t,n,l,!0),n.childLanes=h,null}function Wu(t,n){return n=tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function sy(t,n,r){return Xr(n,t.child,null,r),t=Wu(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function OT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=Wu(n,l),n.lanes=536870912,io(null,t);if(mf(n),(t=_t)?(t=g_(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,en=n,_t=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return Wu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=sy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(zt||Da(t,n,r,!1),h=(r&t.childLanes)!==0,zt||h){if(l=gt,l!==null&&(p=Sl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Br(t,p),wn(l,t,p),kf;cc(),n=sy(t,n,r)}else t=f.treeContext,_t=Wn(p.nextSibling),en=n,Qe=!0,Ls=null,Zn=!1,t!==null&&Gp(n,t),n=Wu(n,l),n.flags|=4096;return n}return t=ns(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Uf(t,n,r,l,h){return Fr(n),r=gf(t,n,r,l,void 0,h),l=yf(),t!==null&&!zt?(_f(t,n,h),os(t,n,h)):(Qe&&l&&$h(n),n.flags|=1,nn(t,n,r,h),n.child)}function ry(t,n,r,l,h,f){return Fr(n),n.updateQueue=null,r=og(n,l,r,h),lg(t),l=yf(),t!==null&&!zt?(_f(t,n,f),os(t,n,f)):(Qe&&l&&$h(n),n.flags|=1,nn(t,n,r,f),n.child)}function ay(t,n,r,l,h){if(Fr(n),n.stateNode===null){var f=Ia,p=r.contextType;typeof p=="object"&&p!==null&&(f=tn(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?tn(p):Ia,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Of(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Jl(n,l,f,h),Zl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Zr(r,E);f.props=C;var j=f.context,F=r.contextType;p=Ia,typeof F=="object"&&F!==null&&(p=tn(F));var K=r.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&Qg(n,f,l,p),zs=!1;var z=n.memoizedState;f.state=z,Jl(n,l,f,h),Zl(),j=n.memoizedState,E||z!==j||zs?(typeof K=="function"&&(Of(n,r,K,l),j=n.memoizedState),(C=zs||Fg(n,r,C,l,z,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(t,n),p=n.memoizedProps,F=Zr(r,p),f.props=F,K=n.pendingProps,z=f.context,j=r.contextType,C=Ia,typeof j=="object"&&j!==null&&(C=tn(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||z!==C)&&Qg(n,f,l,C),zs=!1,z=n.memoizedState,f.state=z,Jl(n,l,f,h),Zl();var H=n.memoizedState;p!==K||z!==H||zs||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof E=="function"&&(Of(n,r,E,l),H=n.memoizedState),(F=zs||Fg(n,r,F,l,z,H,C)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ec(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,r,h)):nn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=os(t,n,h),t}function ly(t,n,r,l){return qr(),n.flags|=256,nn(t,n,r,l),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:$p()}}function jf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Ln),t}function oy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qe){if(h?qs(n):Gs(),(t=_t)?(t=g_(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,en=n,_t=null)):t=null,t===null)throw Ps(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Gs(),h=n.mode,E=tc({mode:"hidden",children:E},h),l=Hr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Pf(r),l.childLanes=jf(t,p,r),n.memoizedState=Lf,io(null,l)):(qs(n),zf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(qs(n),n.flags&=-257,n=Bf(t,n,r)):n.memoizedState!==null?(Gs(),n.child=t.child,n.flags|=128,n=null):(Gs(),E=l.fallback,h=n.mode,l=tc({mode:"visible",children:l.children},h),E=Hr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Xr(n,t.child,null,r),l=n.child,l.memoizedState=Pf(r),l.childLanes=jf(t,p,r),n.memoizedState=Lf,n=io(null,l));else if(qs(n),Td(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,l=Error(a(419)),l.stack="",l.digest=p,Fl({value:l,source:null,stack:null}),n=Bf(t,n,r)}else if(zt||Da(t,n,r,!1),p=(r&t.childLanes)!==0,zt||p){if(p=gt,p!==null&&(l=Sl(p,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Br(t,l),wn(p,t,l),kf;Ed(E)||cc(),n=Bf(t,n,r)}else Ed(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,_t=Wn(E.nextSibling),en=n,Qe=!0,Ls=null,Zn=!1,t!==null&&Gp(n,t),n=zf(n,l.children),n.flags|=4096);return n}return h?(Gs(),E=l.fallback,h=n.mode,C=t.child,j=C.sibling,l=ns(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=ns(j,E):(E=Hr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,io(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Pf(r):(h=E.cachePool,h!==null?(C=Pt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=$p(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=jf(t,p,r),n.memoizedState=Lf,io(t.child,l)):(qs(n),r=t.child,t=r.sibling,r=ns(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function zf(t,n){return n=tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tc(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Bf(t,n,r){return Xr(n,t.child,null,r),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function uy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),tf(t.return,n,r)}function Hf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function cy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Dt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,le(Dt,p),nn(t,n,l,r),l=Qe?Gl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,r,n);else if(t.tag===19)uy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Hf(n,!0,r,null,f,l);break;case"together":Hf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function os(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Da(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ns(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ns(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function MT(t,n,r){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),js(n,Pt,t.memoizedState.cache),qr();break;case 27:case 5:Bn(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(qs(n),t=os(t,n,r),t!==null?t.sibling:null);qs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Da(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return cy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Dt,Dt.current),l)break;return null;case 22:return n.lanes=0,ny(t,n,r,n.pendingProps);case 24:js(n,Pt,t.memoizedState.cache)}return os(t,n,r)}function hy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)zt=!0;else{if(!qf(t,r)&&(n.flags&128)===0)return zt=!1,MT(t,n,r);zt=(t.flags&131072)!==0}else zt=!1,Qe&&(n.flags&1048576)!==0&&qp(n,Gl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")Yh(t)?(l=Zr(t,l),n.tag=1,n=ay(null,n,t,l,r)):(n.tag=0,n=Uf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===We){n.tag=11,n=Wg(null,n,t,l,r);break e}else if(h===x){n.tag=14,n=ey(null,n,t,l,r);break e}}throw n=rt(t)||t,Error(a(306,n,""))}}return n;case 0:return Uf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Zr(l,n.pendingProps),ay(t,n,l,h,r);case 3:e:{if(wt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),Jl(n,l,null,r);var p=n.memoizedState;if(l=p.cache,js(n,Pt,l),l!==f.cache&&nf(n,[Pt],r,!0),Zl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,l,r);break e}else if(l!==h){h=Kn(Error(a(424)),n),Fl(h),n=ly(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,_t=Wn(t.firstChild),en=n,Qe=!0,Ls=null,Zn=!0,r=ng(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qr(),l===h){n=os(t,n,r);break e}nn(t,n,l,r)}n=n.child}return n;case 26:return ec(t,n),t===null?(r=b_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Qe||(r=n.type,t=n.pendingProps,l=yc(De.current).createElement(r),l[kt]=n,l[Kt]=t,sn(l,r,t),Ut(l),n.stateNode=l):n.memoizedState=b_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bn(n),t===null&&Qe&&(l=n.stateNode=v_(n.type,n.pendingProps,De.current),en=n,Zn=!0,h=_t,Js(n.type)?(bd=h,_t=Wn(l.firstChild)):_t=h),nn(t,n,n.pendingProps.children,r),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qe&&((h=l=_t)&&(l=ub(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,en=n,_t=Wn(l.firstChild),Zn=!1,h=!0):h=!1),h||Ps(n)),Bn(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,yd(h,f)?l=null:p!==null&&yd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,ST,null,null,r),vo._currentValue=h),ec(t,n),nn(t,n,l,r),n.child;case 6:return t===null&&Qe&&((t=r=_t)&&(r=cb(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,en=n,_t=null,t=!0):t=!1),t||Ps(n)),null;case 13:return oy(t,n,r);case 4:return wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xr(n,null,l,r):nn(t,n,l,r),n.child;case 11:return Wg(t,n,n.type,n.pendingProps,r);case 7:return nn(t,n,n.pendingProps,r),n.child;case 8:return nn(t,n,n.pendingProps.children,r),n.child;case 12:return nn(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,js(n,n.type,l.value),nn(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Fr(n),h=tn(h),l=l(h),n.flags|=1,nn(t,n,l,r),n.child;case 14:return ey(t,n,n.type,n.pendingProps,r);case 15:return ty(t,n,n.type,n.pendingProps,r);case 19:return cy(t,n,r);case 31:return OT(t,n,r);case 22:return ny(t,n,r,n.pendingProps);case 24:return Fr(n),l=tn(Pt),t===null?(h=af(),h===null&&(h=gt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},of(n),js(n,Pt,h)):((t.lanes&r)!==0&&(uf(t,n),Jl(n,null,null,r),Zl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,Pt,l)):(l=f.cache,js(n,Pt,l),l!==h.cache&&nf(n,[Pt],r,!0))),nn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function us(t){t.flags|=4}function Gf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Py())t.flags|=8192;else throw Kr=ju,lf}else t.flags&=-16777217}function fy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!I_(n))if(Py())t.flags|=8192;else throw Kr=ju,lf}function nc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ou():536870912,t.lanes|=n,qa|=n)}function so(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function VT(t,n,r){var l=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(n),null;case 1:return vt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),rs(Pt),yt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Na(n)?us(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),vt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(us(n),f!==null?(vt(n),fy(n,f)):(vt(n),Gf(n,h,null,l,r))):f?f!==t.memoizedState?(us(n),vt(n),fy(n,f)):(vt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&us(n),vt(n),Gf(n,h,t,l,r)),null;case 27:if(Xi(n),r=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return vt(n),null}t=ue.current,Na(n)?Fp(n):(t=v_(h,l,r),n.stateNode=t,us(n))}return vt(n),null;case 5:if(Xi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return vt(n),null}if(f=ue.current,Na(n))Fp(n);else{var p=yc(De.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[kt]=n,f[Kt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(sn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&us(n)}}return vt(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,Na(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[kt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||o_(t.nodeValue,r)),t||Ps(n,!0)}else t=yc(t).createTextNode(l),t[kt]=n,n.stateNode=t}return vt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Na(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[kt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),t=!1}else r=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return vt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[kt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),nc(n,n.updateQueue),vt(n),null);case 4:return yt(),t===null&&fd(n.stateNode.containerInfo),vt(n),null;case 10:return rs(n.type),vt(n),null;case 19:if(Y(Dt),l=n.memoizedState,l===null)return vt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)so(l,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,so(l,!1),t=f.updateQueue,n.updateQueue=t,nc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zp(r,t),r=r.sibling;return le(Dt,Dt.current&1|2),Qe&&is(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&nt()>lc&&(n.flags|=128,h=!0,so(l,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nc(n,t),so(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Qe)return vt(n),null}else 2*nt()-l.renderingStartTime>lc&&r!==536870912&&(n.flags|=128,h=!0,so(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nt(),t.sibling=null,r=Dt.current,le(Dt,h?r&1|2:r&1),Qe&&is(n,l.treeForkCount),t):(vt(n),null);case 22:case 23:return kn(n),df(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(vt(n),n.subtreeFlags&6&&(n.flags|=8192)):vt(n),r=n.updateQueue,r!==null&&nc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(Qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),rs(Pt),vt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kT(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(Pt),yt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xi(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Dt),null;case 4:return yt(),null;case 10:return rs(n.type),null;case 22:case 23:return kn(n),df(),t!==null&&Y(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(Pt),null;case 25:return null;default:return null}}function dy(t,n){switch(Zh(n),n.tag){case 3:rs(Pt),yt();break;case 26:case 27:case 5:Xi(n);break;case 4:yt();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:Y(Dt);break;case 10:rs(n.type);break;case 22:case 23:kn(n),df(),t!==null&&Y(Qr);break;case 24:rs(Pt)}}function ro(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(E){ut(n,n.return,E)}}function Fs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=r,j=E;try{j()}catch(F){ut(h,C,F)}}}l=l.next}while(l!==f)}}catch(F){ut(n,n.return,F)}}function my(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{sg(n,r)}catch(l){ut(t,t.return,l)}}}function py(t,n,r){r.props=Zr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ut(t,n,l)}}function ao(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){ut(t,n,h)}}function Pi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){ut(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ut(t,n,h)}else r.current=null}function gy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){ut(t,t.return,h)}}function Ff(t,n,r){try{var l=t.stateNode;ib(l,t.type,r,n),l[Kt]=n}catch(h){ut(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oi));else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Yf(t,n,r),t=t.sibling;t!==null;)Yf(t,n,r),t=t.sibling}function ic(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ic(t,n,r),t=t.sibling;t!==null;)ic(t,n,r),t=t.sibling}function _y(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,l,r),n[kt]=t,n[Kt]=r}catch(f){ut(t,t.return,f)}}var cs=!1,Bt=!1,Kf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,$t=null;function UT(t,n){if(t=t.containerInfo,pd=Sc,t=Dp(t),zh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,C=-1,j=0,F=0,K=t,z=null;t:for(;;){for(var H;K!==r||h!==0&&K.nodeType!==3||(E=p+h),K!==f||l!==0&&K.nodeType!==3||(C=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(H=K.firstChild)!==null;)z=K,K=H;for(;;){if(K===t)break t;if(z===r&&++j===h&&(E=p),z===f&&++F===l&&(C=p),(H=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=H}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:t,selectionRange:r},Sc=!1,$t=n;$t!==null;)if(n=$t,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,$t=t;else for(;$t!==null;){switch(n=$t,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var fe=Zr(r.type,h);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ut(r,r.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)vd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,$t=t;break}$t=n.return}}function Ey(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:fs(t,r),l&4&&ro(5,r);break;case 1:if(fs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){ut(r,r.return,p)}else{var h=Zr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ut(r,r.return,p)}}l&64&&my(r),l&512&&ao(r,r.return);break;case 3:if(fs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{sg(t,n)}catch(p){ut(r,r.return,p)}}break;case 27:n===null&&l&4&&_y(r);case 26:case 5:fs(t,r),n===null&&l&4&&gy(r),l&512&&ao(r,r.return);break;case 12:fs(t,r);break;case 31:fs(t,r),l&4&&Ay(t,r);break;case 13:fs(t,r),l&4&&Sy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=FT.bind(null,r),hb(t,r))));break;case 22:if(l=r.memoizedState!==null||cs,!l){n=n!==null&&n.memoizedState!==null||Bt,h=cs;var f=Bt;cs=l,(Bt=n)&&!f?ds(t,r,(r.subtreeFlags&8772)!==0):fs(t,r),cs=h,Bt=f}break;case 30:break;default:fs(t,r)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,Tn=!1;function hs(t,n,r){for(r=r.child;r!==null;)by(t,n,r),r=r.sibling}function by(t,n,r){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(si,r)}catch{}switch(r.tag){case 26:Bt||Pi(r,n),hs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Bt||Pi(r,n);var l=bt,h=Tn;Js(r.type)&&(bt=r.stateNode,Tn=!1),hs(t,n,r),go(r.stateNode),bt=l,Tn=h;break;case 5:Bt||Pi(r,n);case 6:if(l=bt,h=Tn,bt=null,hs(t,n,r),bt=l,Tn=h,bt!==null)if(Tn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(r.stateNode)}catch(f){ut(r,n,f)}else try{bt.removeChild(r.stateNode)}catch(f){ut(r,n,f)}break;case 18:bt!==null&&(Tn?(t=bt,m_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Za(t)):m_(bt,r.stateNode));break;case 4:l=bt,h=Tn,bt=r.stateNode.containerInfo,Tn=!0,hs(t,n,r),bt=l,Tn=h;break;case 0:case 11:case 14:case 15:Fs(2,r,n),Bt||Fs(4,r,n),hs(t,n,r);break;case 1:Bt||(Pi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&py(r,n,l)),hs(t,n,r);break;case 21:hs(t,n,r);break;case 22:Bt=(l=Bt)||r.memoizedState!==null,hs(t,n,r),Bt=l;break;default:hs(t,n,r)}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(r){ut(n,n.return,r)}}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(r){ut(n,n.return,r)}}function LT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vy),n;default:throw Error(a(435,t.tag))}}function sc(t,n){var r=LT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=QT.bind(null,t,l);l.then(h,h)}})}function bn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){bt=E.stateNode,Tn=!1;break e}break;case 5:bt=E.stateNode,Tn=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(bt===null)throw Error(a(160));by(f,p,h),bt=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wy(n,t),n=n.sibling}var mi=null;function wy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),An(t),l&4&&(Fs(3,t,t.return),ro(3,t),Fs(5,t,t.return));break;case 1:bn(n,t),An(t),l&512&&(Bt||r===null||Pi(r,r.return)),l&64&&cs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=mi;if(bn(n,t),An(t),l&512&&(Bt||r===null||Pi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,l,r),f[kt]=t,Ut(f),l=f;break e;case"link":var p=w_("link","href",h).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),sn(f,l,r),h.head.appendChild(f);break;case"meta":if(p=w_("meta","content",h).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(l),sn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[kt]=t,Ut(f),l=f}t.stateNode=l}else R_(h,t.type,t.stateNode);else t.stateNode=S_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?R_(h,t.type,t.stateNode):S_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,r.memoizedProps)}break;case 27:bn(n,t),An(t),l&512&&(Bt||r===null||Pi(r,r.return)),r!==null&&l&4&&Ff(t,t.memoizedProps,r.memoizedProps);break;case 5:if(bn(n,t),An(t),l&512&&(Bt||r===null||Pi(r,r.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(fe){ut(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(bn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(fe){ut(t,t.return,fe)}}break;case 3:if(Ec=null,h=mi,mi=_c(n.containerInfo),bn(n,t),mi=h,An(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(fe){ut(t,t.return,fe)}Kf&&(Kf=!1,Ry(t));break;case 4:l=mi,mi=_c(t.stateNode.containerInfo),bn(n,t),An(t),mi=l;break;case 12:bn(n,t),An(t);break;case 31:bn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 13:bn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ac=nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,j=cs,F=Bt;if(cs=j||h,Bt=F||C,bn(n,t),Bt=F,cs=j,An(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||cs||Bt||Jr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(fe){ut(C,C.return,fe)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(fe){ut(C,C.return,fe)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?p_(H,!0):p_(C.stateNode,!1)}catch(fe){ut(C,C.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,sc(t,r))));break;case 19:bn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 30:break;case 21:break;default:bn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(yy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Qf(t);ic(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(En(p,""),r.flags&=-33);var E=Qf(t);ic(t,E,p);break;case 3:case 4:var C=r.stateNode.containerInfo,j=Qf(t);Yf(t,j,C);break;default:throw Error(a(161))}}catch(F){ut(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),Jr(n);break;case 1:Pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&py(n,n.return,r),Jr(n);break;case 27:go(n.stateNode);case 26:case 5:Pi(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function ds(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ds(h,f,r),ro(4,f);break;case 1:if(ds(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ut(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ig(C[h],E)}catch(j){ut(l,l.return,j)}}r&&p&64&&my(f),ao(f,f.return);break;case 27:_y(f);case 26:case 5:ds(h,f,r),r&&l===null&&p&4&&gy(f),ao(f,f.return);break;case 12:ds(h,f,r);break;case 31:ds(h,f,r),r&&p&4&&Ay(h,f);break;case 13:ds(h,f,r),r&&p&4&&Sy(h,f);break;case 22:f.memoizedState===null&&ds(h,f,r),ao(f,f.return);break;case 30:break;default:ds(h,f,r)}n=n.sibling}}function Xf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ql(r))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t))}function pi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(t,n,r,l),n=n.sibling}function Iy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,r,l),h&2048&&ro(9,n);break;case 1:pi(t,n,r,l);break;case 3:pi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t)));break;case 12:if(h&2048){pi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ut(n,n.return,C)}}else pi(t,n,r,l);break;case 31:pi(t,n,r,l);break;case 13:pi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,r,l):lo(t,n):f._visibility&2?pi(t,n,r,l):(f._visibility|=2,za(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:pi(t,n,r,l),h&2048&&$f(n.alternate,n);break;default:pi(t,n,r,l)}}function za(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,C=l,j=p.flags;switch(p.tag){case 0:case 11:case 15:za(f,p,E,C,h),ro(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?za(f,p,E,C,h):lo(f,p):(F._visibility|=2,za(f,p,E,C,h)),h&&j&2048&&Xf(p.alternate,p);break;case 24:za(f,p,E,C,h),h&&j&2048&&$f(p.alternate,p);break;default:za(f,p,E,C,h)}n=n.sibling}}function lo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:lo(r,l),h&2048&&Xf(l.alternate,l);break;case 24:lo(r,l),h&2048&&$f(l.alternate,l);break;default:lo(r,l)}n=n.sibling}}var oo=8192;function Ba(t,n,r){if(t.subtreeFlags&oo)for(t=t.child;t!==null;)Cy(t,n,r),t=t.sibling}function Cy(t,n,r){switch(t.tag){case 26:Ba(t,n,r),t.flags&oo&&t.memoizedState!==null&&Ab(r,mi,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,n,r);break;case 3:case 4:var l=mi;mi=_c(t.stateNode.containerInfo),Ba(t,n,r),mi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=oo,oo=16777216,Ba(t,n,r),oo=l):Ba(t,n,r));break;default:Ba(t,n,r)}}function xy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];$t=l,Dy(l,t)}xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:uo(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:uo(t);break;case 12:uo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,rc(t)):uo(t);break;default:uo(t)}}function rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];$t=l,Dy(l,t)}xy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),rc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,rc(n));break;default:rc(n)}t=t.sibling}}function Dy(t,n){for(;$t!==null;){var r=$t;switch(r.tag){case 0:case 11:case 15:Fs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ql(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,$t=l;else e:for(r=t;$t!==null;){l=$t;var h=l.sibling,f=l.return;if(Ty(l),l===r){$t=null;break e}if(h!==null){h.return=f,$t=h;break e}$t=f}}}var PT={getCacheForType:function(t){var n=tn(Pt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return tn(Pt).controller.signal}},jT=typeof WeakMap=="function"?WeakMap:Map,tt=0,gt=null,Ue=null,ze=0,ot=0,Un=null,Qs=!1,Ha=!1,Zf=!1,ms=0,It=0,Ys=0,Wr=0,Jf=0,Ln=0,qa=0,co=null,Sn=null,Wf=!1,ac=0,Oy=0,lc=1/0,oc=null,Ks=null,Ft=0,Xs=null,Ga=null,ps=0,ed=0,td=null,My=null,ho=0,nd=null;function Pn(){return(tt&2)!==0&&ze!==0?ze&-ze:G.T!==null?od():uu()}function Vy(){if(Ln===0)if((ze&536870912)===0||Qe){var t=Rr;Rr<<=1,(Rr&3932160)===0&&(Rr=262144),Ln=t}else Ln=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Ln}function wn(t,n,r){(t===gt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),$s(t,ze,Ln,!1)),Ir(t,r),((tt&2)===0||t!==gt)&&(t===gt&&((tt&2)===0&&(Wr|=r),It===4&&$s(t,ze,Ln,!1)),ji(t))}function ky(t,n,r){if((tt&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ri(t,n),h=l?HT(t,n):sd(t,n,!0),f=l;do{if(h===0){Ha&&!l&&$s(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!zT(r)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=co;var C=E.current.memoizedState.isDehydrated;if(C&&(Fa(E,p).flags|=256),p=sd(E,p,!1),p!==2){if(Zf&&!C){E.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Fa(t,0),$s(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(l,n,Ln,!Qs);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ac+300-nt(),10<h)){if($s(l,n,Ln,!Qs),Ti(l,0,!0)!==0)break e;ps=n,l.timeoutHandle=f_(Uy.bind(null,l,r,Sn,oc,Wf,n,Ln,Wr,qa,Qs,f,"Throttled",-0,0),h);break e}Uy(l,r,Sn,oc,Wf,n,Ln,Wr,qa,Qs,f,null,-0,0)}}break}while(!0);ji(t)}function Uy(t,n,r,l,h,f,p,E,C,j,F,K,z,H){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Cy(n,f,K);var fe=(f&62914560)===f?ac-nt():(f&4194048)===f?Oy-nt():0;if(fe=Sb(K,fe),fe!==null){ps=f,t.cancelPendingCommit=fe(Gy.bind(null,t,n,f,r,l,h,p,E,C,F,K,null,z,H)),$s(t,f,p,!j);return}}Gy(t,n,f,r,l,h,p,E,C)}function zT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(t,n,r,l){n&=~Jf,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-xt(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Cr(t,r,n)}function uc(){return(tt&6)===0?(fo(0),!1):!0}function id(){if(Ue!==null){if(ot===0)var t=Ue.return;else t=Ue,ss=Gr=null,vf(t),ka=null,Kl=0,t=Ue;for(;t!==null;)dy(t.alternate,t),t=t.return;Ue=null}}function Fa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ab(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ps=0,id(),gt=t,Ue=r=ns(t.current,null),ze=n,ot=0,Un=null,Qs=!1,Ha=ri(t,n),Zf=!1,qa=Ln=Jf=Wr=Ys=It=0,Sn=co=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-xt(l),f=1<<h;n|=t[h],l&=~f}return ms=n,Nu(),r}function Ly(t,n){Me=null,G.H=no,n===Va||n===Pu?(n=Wp(),ot=3):n===lf?(n=Wp(),ot=4):ot=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,Ue===null&&(It=1,Ju(t,Kn(n,t.current)))}function Py(){var t=Vn.current;return t===null?!0:(ze&4194048)===ze?Jn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Jn:!1}function jy(){var t=G.H;return G.H=no,t===null?no:t}function zy(){var t=G.A;return G.A=PT,t}function cc(){It=4,Qs||(ze&4194048)!==ze&&Vn.current!==null||(Ha=!0),(Ys&134217727)===0&&(Wr&134217727)===0||gt===null||$s(gt,ze,Ln,!1)}function sd(t,n,r){var l=tt;tt|=2;var h=jy(),f=zy();(gt!==t||ze!==n)&&(oc=null,Fa(t,n)),n=!1;var p=It;e:do try{if(ot!==0&&Ue!==null){var E=Ue,C=Un;switch(ot){case 8:id(),p=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var j=ot;if(ot=0,Un=null,Qa(t,E,C,j),r&&Ha){p=0;break e}break;default:j=ot,ot=0,Un=null,Qa(t,E,C,j)}}BT(),p=It;break}catch(F){Ly(t,F)}while(!0);return n&&t.shellSuspendCounter++,ss=Gr=null,tt=l,G.H=h,G.A=f,Ue===null&&(gt=null,ze=0,Nu()),p}function BT(){for(;Ue!==null;)By(Ue)}function HT(t,n){var r=tt;tt|=2;var l=jy(),h=zy();gt!==t||ze!==n?(oc=null,lc=nt()+500,Fa(t,n)):Ha=ri(t,n);e:do try{if(ot!==0&&Ue!==null){n=Ue;var f=Un;t:switch(ot){case 1:ot=0,Un=null,Qa(t,n,f,1);break;case 2:case 9:if(Zp(f)){ot=0,Un=null,Hy(n);break}n=function(){ot!==2&&ot!==9||gt!==t||(ot=7),ji(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Zp(f)?(ot=0,Un=null,Hy(n)):(ot=0,Un=null,Qa(t,n,f,7));break;case 5:var p=null;switch(Ue.tag){case 26:p=Ue.memoizedState;case 5:case 27:var E=Ue;if(p?I_(p):E.stateNode.complete){ot=0,Un=null;var C=E.sibling;if(C!==null)Ue=C;else{var j=E.return;j!==null?(Ue=j,hc(j)):Ue=null}break t}}ot=0,Un=null,Qa(t,n,f,5);break;case 6:ot=0,Un=null,Qa(t,n,f,6);break;case 8:id(),It=6;break e;default:throw Error(a(462))}}qT();break}catch(F){Ly(t,F)}while(!0);return ss=Gr=null,G.H=l,G.A=h,tt=r,Ue!==null?0:(gt=null,ze=0,Nu(),It)}function qT(){for(;Ue!==null&&!ve();)By(Ue)}function By(t){var n=hy(t.alternate,t,ms);t.memoizedProps=t.pendingProps,n===null?hc(t):Ue=n}function Hy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ry(r,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=ry(r,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:vf(n);default:dy(r,n),n=Ue=zp(n,ms),n=hy(r,n,ms)}t.memoizedProps=t.pendingProps,n===null?hc(t):Ue=n}function Qa(t,n,r,l){ss=Gr=null,vf(n),ka=null,Kl=0;var h=n.return;try{if(DT(t,h,n,r,ze)){It=1,Ju(t,Kn(r,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;It=1,Ju(t,Kn(r,t.current)),Ue=null;return}n.flags&32768?(Qe||l===1?t=!0:Ha||(ze&536870912)!==0?t=!1:(Qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),qy(n,t)):hc(n)}function hc(t){var n=t;do{if((n.flags&32768)!==0){qy(n,Qs);return}t=n.return;var r=VT(n.alternate,n,ms);if(r!==null){Ue=r;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);It===0&&(It=5)}function qy(t,n){do{var r=kT(t.alternate,t);if(r!==null){r.flags&=32767,Ue=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=r}while(t!==null);It=6,Ue=null}function Gy(t,n,r,l,h,f,p,E,C){t.cancelPendingCommit=null;do fc();while(Ft!==0);if((tt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Uh(t,r,f,p,E,C),t===gt&&(Ue=gt=null,ze=0),Ga=n,Xs=t,ps=r,ed=f,td=h,My=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YT(at,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ae.p,ae.p=2,p=tt,tt|=4;try{UT(t,n,r)}finally{tt=p,ae.p=h,G.T=l}}Ft=1,Fy(),Qy(),Yy()}}function Fy(){if(Ft===1){Ft=0;var t=Xs,n=Ga,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=ae.p;ae.p=2;var h=tt;tt|=4;try{wy(n,t);var f=gd,p=Dp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Np(E.ownerDocument.documentElement,E)){if(C!==null&&zh(E)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var H=z.getSelection(),fe=E.textContent.length,Ae=Math.min(C.start,fe),mt=C.end===void 0?Ae:Math.min(C.end,fe);!H.extend&&Ae>mt&&(p=mt,mt=Ae,Ae=p);var k=xp(E,Ae),O=xp(E,mt);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=K.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),Ae>mt?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!pd,gd=pd=null}finally{tt=h,ae.p=l,G.T=r}}t.current=n,Ft=2}}function Qy(){if(Ft===2){Ft=0;var t=Xs,n=Ga,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=ae.p;ae.p=2;var h=tt;tt|=4;try{Ey(t,n.alternate,n)}finally{tt=h,ae.p=l,G.T=r}}Ft=3}}function Yy(){if(Ft===4||Ft===3){Ft=0,je();var t=Xs,n=Ga,r=ps,l=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ft=5:(Ft=0,Ga=Xs=null,Ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ks=null),Ji(r),n=n.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(si,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ae.p,ae.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ae.p=h}}(ps&3)!==0&&fc(),ji(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===nd?ho++:(ho=0,nd=t):ho=0,fo(0)}}function Ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ql(n)))}function fc(){return Fy(),Qy(),Yy(),Xy()}function Xy(){if(Ft!==5)return!1;var t=Xs,n=ed;ed=0;var r=Ji(ps),l=G.T,h=ae.p;try{ae.p=32>r?32:r,G.T=null,r=td,td=null;var f=Xs,p=ps;if(Ft=0,Ga=Xs=null,ps=0,(tt&6)!==0)throw Error(a(331));var E=tt;if(tt|=4,Ny(f.current),Iy(f,f.current,p,r),tt=E,fo(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(si,f)}catch{}return!0}finally{ae.p=h,G.T=l,Ky(t,n)}}function $y(t,n,r){n=Kn(r,n),n=Vf(t.stateNode,n,2),t=Hs(t,n,2),t!==null&&(Ir(t,2),ji(t))}function ut(t,n,r){if(t.tag===3)$y(t,t,r);else for(;n!==null;){if(n.tag===3){$y(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){t=Kn(r,t),r=Zg(2),l=Hs(n,r,2),l!==null&&(Jg(r,l,n,t),Ir(l,2),ji(l));break}}n=n.return}}function rd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new jT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Zf=!0,h.add(r),t=GT.bind(null,t,n,r),n.then(t,t))}function GT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,gt===t&&(ze&r)===r&&(It===4||It===3&&(ze&62914560)===ze&&300>nt()-ac?(tt&2)===0&&Fa(t,0):Jf|=r,qa===ze&&(qa=0)),ji(t)}function Zy(t,n){n===0&&(n=ou()),t=Br(t,n),t!==null&&(Ir(t,n),ji(t))}function FT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Zy(t,r)}function QT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Zy(t,r)}function YT(t,n){return me(t,n)}var dc=null,Ya=null,ad=!1,mc=!1,ld=!1,Zs=0;function ji(t){t!==Ya&&t.next===null&&(Ya===null?dc=Ya=t:Ya=Ya.next=t),mc=!0,ad||(ad=!0,XT())}function fo(t,n){if(!ld&&mc){ld=!0;do for(var r=!1,l=dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-xt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,t_(l,f))}else f=ze,f=Ti(l,l===gt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ri(l,f)||(r=!0,t_(l,f));l=l.next}while(r);ld=!1}}function KT(){Jy()}function Jy(){mc=ad=!1;var t=0;Zs!==0&&rb()&&(t=Zs);for(var n=nt(),r=null,l=dc;l!==null;){var h=l.next,f=Wy(l,n);f===0?(l.next=null,r===null?dc=h:r.next=h,h===null&&(Ya=r)):(r=l,(t!==0||(f&3)!==0)&&(mc=!0)),l=h}Ft!==0&&Ft!==5||fo(t),Zs!==0&&(Zs=0)}function Wy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-xt(f),E=1<<p,C=h[p];C===-1?((E&r)===0||(E&l)!==0)&&(h[p]=kh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=gt,r=ze,r=Ti(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ne(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ri(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ne(l),Ji(r)){case 2:case 8:r=Ye;break;case 32:r=at;break;case 268435456:r=_n;break;default:r=at}return l=e_.bind(null,t),r=me(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ne(l),t.callbackPriority=2,t.callbackNode=null,2}function e_(t,n){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fc()&&t.callbackNode!==r)return null;var l=ze;return l=Ti(t,t===gt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ky(t,l,n),Wy(t,nt()),t.callbackNode!=null&&t.callbackNode===r?e_.bind(null,t):null)}function t_(t,n){if(fc())return null;ky(t,n,!0)}function XT(){lb(function(){(tt&6)!==0?me(ge,KT):Jy()})}function od(){if(Zs===0){var t=Oa;t===0&&(t=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Zs=t}return Zs}function n_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function i_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $T(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=n_((h[Kt]||null).action),p=l.submitter;p&&(n=(n=p[Kt]||null)?n_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Oi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var C=p?i_(h,p):new FormData(h);Cf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?i_(h,p):new FormData(h),Cf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],ZT=cd.toLowerCase(),JT=cd[0].toUpperCase()+cd.slice(1);di(ZT,"on"+JT)}di(Vp,"onAnimationEnd"),di(kp,"onAnimationIteration"),di(Up,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(mT,"onTransitionRun"),di(pT,"onTransitionStart"),di(gT,"onTransitionCancel"),di(Lp,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function s_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){xu(F)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(E=l[p],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){xu(F)}h.currentTarget=null,f=C}}}}function Le(t,n){var r=n[fa];r===void 0&&(r=n[fa]=new Set);var l=t+"__bubble";r.has(l)||(r_(n,t,2,!1),r.add(l))}function hd(t,n,r){var l=0;n&&(l|=4),r_(r,t,l,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[pc]){t[pc]=!0,wl.forEach(function(r){r!=="selectionchange"&&(WT.has(r)||hd(r,!1,t),hd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[pc]||(n[pc]=!0,hd("selectionchange",!1,n))}}function r_(t,n,r,l){switch(V_(n)){case 2:var h=Ib;break;case 8:h=Cb;break;default:h=Id}r=h.bind(null,n,r,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function dd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=wi(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue e}E=E.parentNode}}l=l.return}Os(function(){var j=f,F=Gn(r),K=[];e:{var z=Pp.get(t);if(z!==void 0){var H=Oi,fe=t;switch(t){case"keypress":if(kr(r)===0)break e;case"keydown":case"keyup":H=Ru;break;case"focusin":fe="focus",H=Lr;break;case"focusout":fe="blur",H=Lr;break;case"beforeblur":case"afterblur":H=Lr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Vp:case kp:case Up:H=vu;break;case Lp:H=b;break;case"scroll":case"scrollend":H=Ll;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ts;break;case"toggle":case"beforetoggle":H=Oe}var Ae=(n&4)!==0,mt=!Ae&&(t==="scroll"||t==="scrollend"),k=Ae?z!==null?z+"Capture":null:z;Ae=[];for(var O=j,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ui(O,k),Q!=null&&Ae.push(po(O,Q,P))),mt)break;O=O.return}0<Ae.length&&(z=new H(z,fe,null,r,F),K.push({event:z,listeners:Ae}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Vl&&(fe=r.relatedTarget||r.fromElement)&&(wi(fe)||fe[Ai]))break e;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(fe=r.relatedTarget||r.toElement,H=j,fe=fe?wi(fe):null,fe!==null&&(mt=c(fe),Ae=fe.tag,fe!==mt||Ae!==5&&Ae!==27&&Ae!==6)&&(fe=null)):(H=null,fe=j),H!==fe)){if(Ae=Pl,Q="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=ts,Q="onPointerLeave",k="onPointerEnter",O="pointer"),mt=H==null?z:Nn(H),P=fe==null?z:Nn(fe),z=new Ae(Q,O+"leave",H,r,F),z.target=mt,z.relatedTarget=P,Q=null,wi(F)===j&&(Ae=new Ae(k,O+"enter",fe,r,F),Ae.target=P,Ae.relatedTarget=mt,Q=Ae),mt=Q,H&&fe)t:{for(Ae=eb,k=H,O=fe,P=0,Q=k;Q;Q=Ae(Q))P++;Q=0;for(var _e=O;_e;_e=Ae(_e))Q++;for(;0<P-Q;)k=Ae(k),P--;for(;0<Q-P;)O=Ae(O),Q--;for(;P--;){if(k===O||O!==null&&k===O.alternate){Ae=k;break t}k=Ae(k),O=Ae(O)}Ae=null}else Ae=null;H!==null&&a_(K,z,H,Ae,!1),fe!==null&&mt!==null&&a_(K,mt,fe,Ae,!0)}}e:{if(z=j?Nn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var $e=Ap;else if(Tp(z))if(Sp)$e=hT;else{$e=uT;var de=oT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ga(j.elementType)&&($e=Ap):$e=cT;if($e&&($e=$e(t,j))){bp(K,$e,r,F);break e}de&&de(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Dl(z,"number",z.value)}switch(de=j?Nn(j):window,t){case"focusin":(Tp(de)||de.contentEditable==="true")&&(Sa=de,Bh=j,ql=null);break;case"focusout":ql=Bh=Sa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Op(K,r,F);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":Op(K,r,F)}var Ve;if(et)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Aa?Pr(t,r)&&(Be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(ki&&r.locale!=="ko"&&(Aa||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Aa&&(Ve=Ul()):(Di=F,kl="value"in Di?Di.value:Di.textContent,Aa=!0)),de=gc(j,Be),0<de.length&&(Be=new Vi(Be,t,null,r,F),K.push({event:Be,listeners:de}),Ve?Be.data=Ve:(Ve=ba(r),Ve!==null&&(Be.data=Ve)))),(Ve=Qn?sT(t,r):rT(t,r))&&(Be=gc(j,"onBeforeInput"),0<Be.length&&(de=new Vi("onBeforeInput","beforeinput",null,r,F),K.push({event:de,listeners:Be}),de.data=Ve)),$T(K,t,j,r,F)}s_(K,n)})}function po(t,n,r){return{instance:t,listener:n,currentTarget:r}}function gc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,r),h!=null&&l.unshift(po(t,h,f)),h=ui(t,n),h!=null&&l.push(po(t,h,f))),t.tag===3)return l;t=t.return}return[]}function eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a_(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=ui(r,f),j!=null&&p.unshift(po(r,j,C))):h||(j=ui(r,f),j!=null&&p.push(po(r,j,C)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(tb,`
`).replace(nb,"")}function o_(t,n){return n=l_(n),l_(t)===n}function dt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,r,l);break;case"style":Ml(t,l,f);break;case"data":if(n!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ya(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&dt(t,n,"name",h.name,h,null),dt(t,n,"formEncType",h.formEncType,h,null),dt(t,n,"formMethod",h.formMethod,h,null),dt(t,n,"formTarget",h.formTarget,h,null)):(dt(t,n,"encType",h.encType,h,null),dt(t,n,"method",h.method,h,null),dt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ya(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),ma(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=gu.get(r)||r,ma(t,r,l))}}function md(t,n,r,l,h,f){switch(r){case"style":Ml(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Kt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ma(t,r,l)}}}function sn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:dt(t,n,f,p,r,null)}}h&&dt(t,n,"srcSet",r.srcSet,r,null),l&&dt(t,n,"src",r.src,r,null);return;case"input":Le("invalid",t);var E=f=p=h=null,C=null,j=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:dt(t,n,l,F,r,null)}}du(t,f,E,C,j,p,h,!1);return;case"select":Le("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:dt(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Cs(t,!!l,n,!1):r!=null&&Cs(t,!!l,r,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:dt(t,n,p,E,r,null)}xs(t,l,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":dt(t,n,C,l,r,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<mo.length;l++)Le(mo[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:dt(t,n,j,l,r,null)}return;default:if(ga(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&md(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&dt(t,n,E,l,r,null))}function ib(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,j=null,F=null;for(H in r){var K=r[H];if(r.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=K;default:l.hasOwnProperty(H)||dt(t,n,H,null,l,K)}}for(var z in l){var H=l[z];if(K=r[z],l.hasOwnProperty(z)&&(H!=null||K!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&dt(t,n,z,H,l,K)}}pa(t,p,E,C,j,F,f,h);return;case"select":H=p=E=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||dt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&dt(t,n,h,f,l,C)}n=E,r=p,l=H,z!=null?Cs(t,!!r,z,!1):!!l!=!!r&&(n!=null?Cs(t,!!r,n,!0):Cs(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:dt(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&dt(t,n,p,h,l,f)}mu(t,z,H);return;case"option":for(var fe in r)z=r[fe],r.hasOwnProperty(fe)&&z!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:dt(t,n,fe,null,l,z));for(C in l)z=l[C],H=r[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":dt(t,n,C,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in r)z=r[Ae],r.hasOwnProperty(Ae)&&z!=null&&!l.hasOwnProperty(Ae)&&dt(t,n,Ae,null,l,z);for(j in l)if(z=l[j],H=r[j],l.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:dt(t,n,j,z,l,H)}return;default:if(ga(n)){for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!==void 0&&!l.hasOwnProperty(mt)&&md(t,n,mt,void 0,l,z);for(F in l)z=l[F],H=r[F],!l.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||md(t,n,F,z,l,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&dt(t,n,k,null,l,z);for(K in l)z=l[K],H=r[K],!l.hasOwnProperty(K)||z===H||z==null&&H==null||dt(t,n,K,z,l,H)}function u_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&u_(p)){for(p=0,E=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],j=C.startTime;if(j>E)break;var F=C.transferSize,K=C.initiatorType;F&&u_(K)&&(C=C.responseEnd,p+=F*(C<E?1:(E-j)/(C-j)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function c_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function rb(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(ob)}:f_;function ob(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function m_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Za(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")go(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,go(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&go(t.ownerDocument.body);r=h}while(r);Za(n)}function p_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),da(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ub(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function cb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Wn(t.nextSibling),t===null))return null;return t}function g_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wn(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bd=null;function y_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Wn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function __(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function v_(t,n,r){switch(n=yc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function go(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);da(t)}var ei=new Map,E_=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ae.d;ae.d={f:fb,r:db,D:mb,C:pb,L:gb,m:yb,X:vb,S:_b,M:Eb};function fb(){var t=gs.f(),n=uc();return t||n}function db(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?Lg(n):gs.r(t)}var Ka=typeof document>"u"?null:document;function T_(t,n,r){var l=Ka;if(l&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),E_.has(h)||(E_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),sn(n,"link",t),Ut(n),l.head.appendChild(n)))}}function mb(t){gs.D(t),T_("dns-prefetch",t,null)}function pb(t,n){gs.C(t,n),T_("preconnect",t,n)}function gb(t,n,r){gs.L(t,n,r);var l=Ka;if(l&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+vn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+vn(r.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(n){case"style":f=Xa(t);break;case"script":f=$a(t)}ei.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ei.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(yo(f))||n==="script"&&l.querySelector(_o(f))||(n=l.createElement("link"),sn(n,"link",t),Ut(n),l.head.appendChild(n)))}}function yb(t,n){gs.m(t,n);var r=Ka;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(t)}if(!ei.has(f)&&(t=w({rel:"modulepreload",href:t},n),ei.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(_o(f)))return}l=r.createElement("link"),sn(l,"link",t),Ut(l),r.head.appendChild(l)}}}function _b(t,n,r){gs.S(t,n,r);var l=Ka;if(l&&t){var h=Ri(l).hoistableStyles,f=Xa(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(yo(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ei.get(f))&&Ad(t,r);var C=p=l.createElement("link");Ut(C),sn(C,"link",t),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function vb(t,n){gs.X(t,n);var r=Ka;if(r&&t){var l=Ri(r).hoistableScripts,h=$a(t),f=l.get(h);f||(f=r.querySelector(_o(h)),f||(t=w({src:t,async:!0},n),(n=ei.get(h))&&Sd(t,n),f=r.createElement("script"),Ut(f),sn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Eb(t,n){gs.M(t,n);var r=Ka;if(r&&t){var l=Ri(r).hoistableScripts,h=$a(t),f=l.get(h);f||(f=r.querySelector(_o(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ei.get(h))&&Sd(t,n),f=r.createElement("script"),Ut(f),sn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function b_(t,n,r,l){var h=(h=De.current)?_c(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Xa(r.href),r=Ri(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Xa(r.href);var f=Ri(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(yo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ei.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ei.set(t,r),f||Tb(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(r),r=Ri(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xa(t){return'href="'+vn(t)+'"'}function yo(t){return'link[rel="stylesheet"]['+t+"]"}function A_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Tb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),sn(n,"link",r),Ut(n),t.head.appendChild(n))}function $a(t){return'[src="'+vn(t)+'"]'}function _o(t){return"script[async]"+t}function S_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+vn(r.href)+'"]');if(l)return n.instance=l,Ut(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ut(l),sn(l,"style",h),vc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Xa(r.href);var f=t.querySelector(yo(h));if(f)return n.state.loading|=4,n.instance=f,Ut(f),f;l=A_(r),(h=ei.get(h))&&Ad(l,h),f=(t.ownerDocument||t).createElement("link"),Ut(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),sn(f,"link",l),n.state.loading|=4,vc(f,r.precedence,t),n.instance=f;case"script":return f=$a(r.src),(h=t.querySelector(_o(f)))?(n.instance=h,Ut(h),h):(l=r,(h=ei.get(f))&&(l=w({},r),Sd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ut(h),sn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vc(l,r.precedence,t));return n.instance}function vc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function w_(t,n,r){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(r,l)}else h=Ec,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Si]||f[kt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function R_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function bb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function I_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ab(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xa(l.href),f=n.querySelector(yo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Tc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ut(f);return}f=n.ownerDocument||n,l=A_(l),(h=ei.get(h))&&Ad(l,h),f=f.createElement("link"),Ut(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),sn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Tc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function Sb(t,n){return t.stylesheets&&t.count===0&&Ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*sb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(wb,t),bc=null,Tc.call(t))}function wb(t,n){if(!(n.state.loading&4)){var r=bc.get(t);if(r)var l=r.get(null);else{r=new Map,bc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var vo={$$typeof:Te,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Rb(t,n,r,l,h,f,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function C_(t,n,r,l,h,f,p,E,C,j,F,K){return t=new Rb(t,n,r,p,C,j,F,K,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},of(f),t}function x_(t){return t?(t=Ia,t):Ia}function N_(t,n,r,l,h,f){h=x_(h),l.context===null?l.context=h:l.pendingContext=h,l=Bs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Hs(t,l,n),r!==null&&(wn(r,t,n),$l(r,t,n))}function D_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rd(t,n){D_(t,n),(t=t.alternate)&&D_(t,n)}function O_(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&wn(n,t,67108864),Rd(t,67108864)}}function M_(t){if(t.tag===13||t.tag===31){var n=Pn();n=xr(n);var r=Br(t,n);r!==null&&wn(r,t,n),Rd(t,n)}}var Sc=!0;function Ib(t,n,r,l){var h=G.T;G.T=null;var f=ae.p;try{ae.p=2,Id(t,n,r,l)}finally{ae.p=f,G.T=h}}function Cb(t,n,r,l){var h=G.T;G.T=null;var f=ae.p;try{ae.p=8,Id(t,n,r,l)}finally{ae.p=f,G.T=h}}function Id(t,n,r,l){if(Sc){var h=Cd(l);if(h===null)dd(t,n,l,wc,r),k_(t,l);else if(Nb(h,t,n,r,l))l.stopPropagation();else if(k_(t,l),n&4&&-1<xb.indexOf(t)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-xt(p);E.entanglements[1]|=C,p&=~C}ji(f),(tt&6)===0&&(lc=nt()+500,fo(0))}}break;case 31:case 13:E=Br(f,2),E!==null&&wn(E,f,2),uc(),Rd(f,2)}if(f=Cd(l),f===null&&dd(t,n,l,wc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(t,n,l,null,r)}}function Cd(t){return t=Gn(t),xd(t)}var wc=null;function xd(t){if(wc=null,t=wi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wc=t,null}function V_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($()){case ge:return 2;case Ye:return 8;case at:case Ct:return 32;case _n:return 268435456;default:return 32}default:return 32}}var Nd=!1,Ws=null,er=null,tr=null,Eo=new Map,To=new Map,nr=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Eo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(n.pointerId)}}function bo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&O_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Nb(t,n,r,l,h){switch(n){case"focusin":return Ws=bo(Ws,t,n,r,l,h),!0;case"dragenter":return er=bo(er,t,n,r,l,h),!0;case"mouseover":return tr=bo(tr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Eo.set(f,bo(Eo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,To.set(f,bo(To.get(f)||null,t,n,r,l,h)),!0}return!1}function U_(t){var n=wi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ai(t.priority,function(){M_(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ai(t.priority,function(){M_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Cd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Vl=l,r.target.dispatchEvent(l),Vl=null}else return n=qn(r),n!==null&&O_(n),t.blockedOn=r,!1;n.shift()}return!0}function L_(t,n,r){Rc(t)&&r.delete(n)}function Db(){Nd=!1,Ws!==null&&Rc(Ws)&&(Ws=null),er!==null&&Rc(er)&&(er=null),tr!==null&&Rc(tr)&&(tr=null),Eo.forEach(L_),To.forEach(L_)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Db)))}var Cc=null;function P_(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(xd(l||r)===null)continue;break}var f=qn(r);f!==null&&(t.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Za(t){function n(C){return Ic(C,t)}Ws!==null&&Ic(Ws,t),er!==null&&Ic(er,t),tr!==null&&Ic(tr,t),Eo.forEach(n),To.forEach(n);for(var r=0;r<nr.length;r++){var l=nr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)U_(r),r.blockedOn===null&&nr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Kt]||null;if(typeof f=="function")p||P_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Kt]||null)E=p.formAction;else if(xd(h)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),P_(r)}}}function j_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}xc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Pn();N_(r,l,t,n,null,null)},xc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;N_(t.current,2,null,t,null,null),uc(),n[Ai]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<nr.length&&n!==0&&n<nr[r].priority;r++);nr.splice(r,0,t),r===0&&U_(t)}};var z_=e.version;if(z_!=="19.2.3")throw Error(a(527,z_,"19.2.3"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Ob={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{si=Nc.inject(Ob),Jt=Nc}catch{}}return So.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Yg,f=Kg,p=Xg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=C_(t,1,!1,null,null,r,l,null,h,f,p,j_),t[Ai]=n.current,fd(t),new Dd(n)},So.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Yg,p=Kg,E=Xg,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=C_(t,1,!0,n,r??null,l,h,C,f,p,E,j_),n.context=x_(null),r=n.current,l=Pn(),l=xr(l),h=Bs(l),h.callback=null,Hs(r,h,l),r=l,n.current.lanes=r,Ir(n,r),ji(n),t[Ai]=n.current,fd(t),new xc(n)},So.version="19.2.3",So}var $_;function qb(){if($_)return Vd.exports;$_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=Hb(),Vd.exports}var Gb=qb();const Fb=()=>{};var Z_={};const Cv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Qb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,q=_&63;y||(q=64,d||(M=64)),a.push(i[T],i[w],i[M],i[q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Cv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Qb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||w==null)throw new Yb;const M=c<<2|g>>4;if(a.push(M),_!==64){const q=g<<4&240|_>>2;if(a.push(q),w!==64){const te=_<<6&192|w;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kb=function(s){const e=Cv(s);return xv.encodeByteArray(e,!0)},Kc=function(s){return Kb(s).replace(/\./g,"")},Nv=function(s){try{return xv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $b=()=>Xb().__FIREBASE_DEFAULTS__,Zb=()=>{if(typeof process>"u"||typeof Z_>"u")return;const s=Z_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Jb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Nv(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return Fb()||$b()||Zb()||Jb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Dv=s=>mh()?.emulatorHosts?.[s],Wb=s=>{const e=Dv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Ov=()=>mh()?.config,Mv=s=>mh()?.[`_${s}`];class eA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function gl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vv(s){return(await fetch(s,{credentials:"include"})).ok}function tA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const No={};function nA(){const s={prod:[],emulator:[]};for(const e of Object.keys(No))No[e]?s.emulator.push(e):s.prod.push(e);return s}function iA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let J_=!1;function kv(s,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||No[s]===e||No[s]||J_)return;No[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=nA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{J_=!0,d()},M}function T(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=iA(a),q=i("text"),te=document.getElementById(q)||document.createElement("span"),se=i("learnmore"),W=document.getElementById(se)||document.createElement("a"),Ee=i("preprendIcon"),Ie=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Te=M.element;g(Te),T(W,se);const We=_();y(Ie,Ee),Te.append(Ie,te,W,We),document.body.appendChild(Te)}c?(te.innerText="Preview backend disconnected.",Ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function rA(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function oA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uA(){const s=fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cA(){return!rA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hA(){try{return typeof indexedDB=="object"}catch{return!1}}function fA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const dA="FirebaseError";class Rs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=dA,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?mA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,g,a)}}function mA(s,e){return s.replace(pA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const pA=/\{\$([^}]+)}/g;function gA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function yr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(W_(c)&&W_(d)){if(!yr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function W_(s){return s!==null&&typeof s=="object"}function Qo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yA(s,e){const i=new _A(s,e);return i.subscribe.bind(i)}class _A{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function yn(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class EA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new eA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bA(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TA(s){return s===ea?void 0:s}function bA(s){return s.instantiationMode==="EAGER"}class AA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new EA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const SA={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},wA=He.INFO,RA={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},IA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=RA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=wA,this._logHandler=IA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const CA=(s,e)=>e.some(i=>s instanceof i);let e0,t0;function xA(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NA(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,Jd=new WeakMap,Lv=new WeakMap,jd=new WeakMap,Dm=new WeakMap;function DA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(fr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Dm.set(e,s),e}function OA(s){if(Jd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Jd.set(s,e)}let Wd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Jd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Lv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function MA(s){Wd=s(Wd)}function VA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(zd(this),e,...i);return Lv.set(a,e.sort?e.sort():[e]),fr(a)}:NA().includes(s)?function(...e){return s.apply(zd(this),e),fr(Uv.get(this))}:function(...e){return fr(s.apply(zd(this),e))}}function kA(s){return typeof s=="function"?VA(s):(s instanceof IDBTransaction&&OA(s),CA(s,xA())?new Proxy(s,Wd):s)}function fr(s){if(s instanceof IDBRequest)return DA(s);if(jd.has(s))return jd.get(s);const e=kA(s);return e!==s&&(jd.set(s,e),Dm.set(e,s)),e}const zd=s=>Dm.get(s);function UA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=fr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(fr(d.result),y.oldVersion,y.newVersion,fr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const LA=["get","getKey","getAll","getAllKeys","count"],PA=["put","add","delete","clear"],Bd=new Map;function n0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=PA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||LA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Bd.set(e,c),c}MA(s=>({...s,get:(e,i,a)=>n0(e,i)||s.get(e,i,a),has:(e,i)=>!!n0(e,i)||s.has(e,i)}));class jA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function zA(s){return s.getComponent()?.type==="VERSION"}const em="@firebase/app",i0="0.14.6";const Es=new Nm("@firebase/app"),BA="@firebase/app-compat",HA="@firebase/analytics-compat",qA="@firebase/analytics",GA="@firebase/app-check-compat",FA="@firebase/app-check",QA="@firebase/auth",YA="@firebase/auth-compat",KA="@firebase/database",XA="@firebase/data-connect",$A="@firebase/database-compat",ZA="@firebase/functions",JA="@firebase/functions-compat",WA="@firebase/installations",eS="@firebase/installations-compat",tS="@firebase/messaging",nS="@firebase/messaging-compat",iS="@firebase/performance",sS="@firebase/performance-compat",rS="@firebase/remote-config",aS="@firebase/remote-config-compat",lS="@firebase/storage",oS="@firebase/storage-compat",uS="@firebase/firestore",cS="@firebase/ai",hS="@firebase/firestore-compat",fS="firebase",dS="12.6.0";const tm="[DEFAULT]",mS={[em]:"fire-core",[BA]:"fire-core-compat",[qA]:"fire-analytics",[HA]:"fire-analytics-compat",[FA]:"fire-app-check",[GA]:"fire-app-check-compat",[QA]:"fire-auth",[YA]:"fire-auth-compat",[KA]:"fire-rtdb",[XA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[ZA]:"fire-fn",[JA]:"fire-fn-compat",[WA]:"fire-iid",[eS]:"fire-iid-compat",[tS]:"fire-fcm",[nS]:"fire-fcm-compat",[iS]:"fire-perf",[sS]:"fire-perf-compat",[rS]:"fire-rc",[aS]:"fire-rc-compat",[lS]:"fire-gcs",[oS]:"fire-gcs-compat",[uS]:"fire-fst",[hS]:"fire-fst-compat",[cS]:"fire-vertex","fire-js":"fire-js",[fS]:"fire-js-all"};const Xc=new Map,pS=new Map,nm=new Map;function s0(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ol(s){const e=s.name;if(nm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,s);for(const i of Xc.values())s0(i,s);for(const i of pS.values())s0(i,s);return!0}function Om(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ni(s){return s==null?!1:s.settings!==void 0}const gS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Fo("app","Firebase",gS);class yS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const yl=dS;function Pv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:tm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(i||(i=Ov()),!i)throw dr.create("no-options");const c=Xc.get(o);if(c){if(yr(i,c.options)&&yr(a,c.config))return c;throw dr.create("duplicate-app",{appName:o})}const d=new AA(o);for(const y of nm.values())d.addComponent(y);const g=new yS(i,a,d);return Xc.set(o,g),g}function jv(s=tm){const e=Xc.get(s);if(!e&&s===tm&&Ov())return Pv();if(!e)throw dr.create("no-app",{appName:s});return e}function mr(s,e,i){let a=mS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}ol(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const _S="firebase-heartbeat-database",vS=1,Uo="firebase-heartbeat-store";let Hd=null;function zv(){return Hd||(Hd=UA(_S,vS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Uo)}catch(i){console.warn(i)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function ES(s){try{const i=(await zv()).transaction(Uo),a=await i.objectStore(Uo).get(Bv(s));return await i.done,a}catch(e){if(e instanceof Rs)Es.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function r0(s,e){try{const a=(await zv()).transaction(Uo,"readwrite");await a.objectStore(Uo).put(e,Bv(s)),await a.done}catch(i){if(i instanceof Rs)Es.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function Bv(s){return`${s.name}!${s.options.appId}`}const TS=1024,bS=30;class AS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>bS){const o=RS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a0(),{heartbeatsToSend:i,unsentEntries:a}=SS(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Es.warn(e),""}}}function a0(){return new Date().toISOString().substring(0,10)}function SS(s,e=TS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),l0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),l0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hA()?fA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ES(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function l0(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function RS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function IS(s){ol(new sa("platform-logger",e=>new jA(e),"PRIVATE")),ol(new sa("heartbeat",e=>new AS(e),"PRIVATE")),mr(em,i0,s),mr(em,i0,"esm2020"),mr("fire-js","")}IS("");var CS="firebase",xS="12.7.0";mr(CS,xS,"app");function Hv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NS=Hv,qv=new Fo("auth","Firebase",Hv());const $c=new Nm("@firebase/auth");function DS(s,...e){$c.logLevel<=He.WARN&&$c.warn(`Auth (${yl}): ${s}`,...e)}function Lc(s,...e){$c.logLevel<=He.ERROR&&$c.error(`Auth (${yl}): ${s}`,...e)}function Ts(s,...e){throw Mm(s,...e)}function Bi(s,...e){return Mm(s,...e)}function Gv(s,e,i){const a={...NS(),[e]:i};return new Fo("auth","Firebase",a).create(e,{appName:s.name})}function vs(s){return Gv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return qv.create(s,...e)}function Re(s,e,...i){if(!s)throw Mm(e,...i)}function ys(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Lc(e),new Error(e)}function bs(s,e){s||ys(e)}function im(){return typeof self<"u"&&self.location?.href||""}function OS(){return o0()==="http:"||o0()==="https:"}function o0(){return typeof self<"u"&&self.location?.protocol||null}function MS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OS()||lA()||"connection"in navigator)?navigator.onLine:!0}function VS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Yo{constructor(e,i){this.shortDelay=e,this.longDelay=i,bs(i>e,"Short delay should be less than long delay!"),this.isMobile=sA()||oA()}get(){return MS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(s,e){bs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Fv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const US=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LS=new Yo(3e4,6e4);function Ko(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function _l(s,e,i,a,o={}){return Qv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Qo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return aA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&gl(s.emulatorConfig.host)&&(_.credentials="include"),Fv.fetch()(await Yv(s,s.config.apiHost,i,g),_)})}async function Qv(s,e,i){s._canInitEmulator=!1;const a={...kS,...e};try{const o=new PS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Dc(s,"user-disabled",d);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Gv(s,T,_);Ts(s,T)}}catch(o){if(o instanceof Rs)throw o;Ts(s,"network-request-failed",{message:String(o)})}}async function km(s,e,i,a,o={}){const c=await _l(s,e,i,a,o);return"mfaPendingCredential"in c&&Ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Vm(s.config,o):`${s.config.apiScheme}://${o}`;return US.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class PS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),LS.get())})}}function Dc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Bi(s,e,a);return o.customData._tokenResponse=i,o}async function jS(s,e){return _l(s,"POST","/v1/accounts:delete",e)}async function Zc(s,e){return _l(s,"POST","/v1/accounts:lookup",e)}function Do(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zS(s,e=!1){const i=yn(s),a=await i.getIdToken(e),o=Um(a);Re(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Do(qd(o.auth_time)),issuedAtTime:Do(qd(o.iat)),expirationTime:Do(qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function Um(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nv(i);return o?JSON.parse(o):(Lc("Failed to decode base64 JWT payload"),null)}catch(o){return Lc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function u0(s){const e=Um(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Rs&&BS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function BS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class HS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(s){const e=s.auth,i=await s.getIdToken(),a=await Lo(s,Zc(e,{idToken:i}));Re(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Kv(o.providerUserInfo):[],d=GS(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=g?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function qS(s){const e=yn(s);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Kv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function FS(s,e){const i=await Qv(s,{},async()=>{const a=Qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Yv(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&gl(s.emulatorConfig.host)&&(y.credentials="include"),Fv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QS(s,e){return _l(s,"POST","/v2/accounts:revokeToken",Ko(s,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const i=u0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await FS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new il;return a&&(Re(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Re(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Re(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return ys("not implemented")}}function sr(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new HS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return Re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return zS(this,e)}reload(){return qS(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Lo(this,jS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:q,providerData:te,stsTokenManager:se}=i;Re(w&&se,e,"internal-error");const W=il.fromJSON(this.name,se);Re(typeof w=="string",e,"internal-error"),sr(a,e.name),sr(o,e.name),Re(typeof M=="boolean",e,"internal-error"),Re(typeof q=="boolean",e,"internal-error"),sr(c,e.name),sr(d,e.name),sr(g,e.name),sr(y,e.name),sr(_,e.name),sr(T,e.name);const Ee=new gi({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:T});return te&&Array.isArray(te)&&(Ee.providerData=te.map(Ie=>({...Ie}))),y&&(Ee._redirectEventId=y),Ee}static async _fromIdTokenResponse(e,i,a=!1){const o=new il;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Re(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Kv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new il;g.updateFromIdToken(a);const y=new gi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const c0=new Map;function _s(s){bs(s instanceof Function,"Expected a class definition");let e=c0.get(s);return e?(bs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,c0.set(s,e),e)}class Xv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Xv.type="NONE";const h0=Xv;function Pc(s,e,i){return`firebase:${s}:${e}:${i}`}class sl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Pc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new sl(_s(h0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||_s(h0);const d=Pc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let w;if(typeof T=="string"){const M=await Zc(e,{idToken:T}).catch(()=>{});if(!M)break;w=await gi._fromGetAccountInfoResponse(e,M,T)}else w=gi._fromJSON(e,T);_!==c&&(g=w),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new sl(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new sl(c,e,a))}}function f0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($v(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tE(e))return"Blackberry";if(nE(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||Jv(e))&&!e.includes("edge/"))return"Chrome";if(eE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function $v(s=fn()){return/firefox\//i.test(s)}function Zv(s=fn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jv(s=fn()){return/crios\//i.test(s)}function Wv(s=fn()){return/iemobile/i.test(s)}function eE(s=fn()){return/android/i.test(s)}function tE(s=fn()){return/blackberry/i.test(s)}function nE(s=fn()){return/webos/i.test(s)}function Lm(s=fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function YS(s=fn()){return Lm(s)&&!!window.navigator?.standalone}function KS(){return uA()&&document.documentMode===10}function iE(s=fn()){return Lm(s)||eE(s)||nE(s)||tE(s)||/windows phone/i.test(s)||Wv(s)}function sE(s,e=[]){let i;switch(s){case"Browser":i=f0(fn());break;case"Worker":i=`${f0(fn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${yl}/${a}`}class XS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $S(s,e={}){return _l(s,"GET","/v2/passwordPolicy",Ko(s,e))}const ZS=6;class JS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ZS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class WS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new XS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=_s(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(vs(this));const i=e?yn(e):null;return i&&Re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $S(this),i=new JS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await QS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&_s(e)||this._popupRedirectResolver;Re(i,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[_s(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xo(s){return yn(s)}class d0{constructor(e){this.auth=e,this.observer=null,this.addObserver=yA(i=>this.observer=i)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ew(s){Pm=s}function tw(s){return Pm.loadJS(s)}function nw(){return Pm.gapiScript}function iw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function sw(s,e){const i=Om(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(yr(c,e??{}))return o;Ts(o,"already-initialized")}return i.initialize({options:e})}function rw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(_s);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function aw(s,e,i){const a=Xo(s);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=rE(e),{host:d,port:g}=lw(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(yr(_,a.config.emulator)&&yr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,gl(d)?(Vv(`${c}//${d}${y}`),kv("Auth",!0)):ow()}function rE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lw(s){const e=rE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:m0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:m0(d)}}}function m0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function ow(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class aE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,i){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function rl(s,e){return km(s,"POST","/v1/accounts:signInWithIdp",Ko(s,e))}const uw="http://localhost";class ra extends aE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ra(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return rl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,rl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,rl(e,i)}buildRequest(){const e={requestUri:uw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Qo(i)}return e}}class lE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $o extends lE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends $o{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class or extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return or.credential(i,a)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class ur extends $o{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends $o{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function cw(s,e){return km(s,"POST","/v1/accounts:signUp",Ko(s,e))}class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await gi._fromIdTokenResponse(e,a,o),d=p0(a);return new As({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=p0(a);return new As({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function p0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function hw(s){if(ni(s.app))return Promise.reject(vs(s));const e=Xo(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new As({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await cw(e,{returnSecureToken:!0}),a=await As._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Wc extends Rs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Wc(e,i,a,o)}}function oE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(s,c,e,a):c})}async function fw(s,e,i=!1){const a=await Lo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return As._forOperation(s,"link",a)}async function dw(s,e,i=!1){const{auth:a}=s;if(ni(a.app))return Promise.reject(vs(a));const o="reauthenticate";try{const c=await Lo(s,oE(a,o,e,s),i);Re(c.idToken,a,"internal-error");const d=Um(c.idToken);Re(d,a,"internal-error");const{sub:g}=d;return Re(s.uid===g,a,"user-mismatch"),As._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ts(a,"user-mismatch"),c}}async function mw(s,e,i=!1){if(ni(s.app))return Promise.reject(vs(s));const a="signIn",o=await oE(s,a,e),c=await As._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function pw(s,e){return km(s,"POST","/v1/accounts:signInWithCustomToken",Ko(s,e))}async function gw(s,e){if(ni(s.app))return Promise.reject(vs(s));const i=Xo(s),a=await pw(i,{token:e,returnSecureToken:!0}),o=await As._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function yw(s,e,i,a){return yn(s).onIdTokenChanged(e,i,a)}function _w(s,e,i){return yn(s).beforeAuthStateChanged(e,i)}function vw(s,e,i,a){return yn(s).onAuthStateChanged(e,i,a)}const eh="__sak";class uE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ew=1e3,Tw=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);KS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Tw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}cE.type="LOCAL";const bw=cE;class hE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}hE.type="SESSION";const fE=hE;function Aw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await Aw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function jm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Sw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=jm("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function ww(s){Hi().location.href=s}function dE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function Rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Iw(){return navigator?.serviceWorker?.controller||null}function Cw(){return dE()?self:null}const mE="firebaseLocalStorageDb",xw=1,th="firebaseLocalStorage",pE="fbase_key";class Zo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(s,e){return s.transaction([th],e?"readwrite":"readonly").objectStore(th)}function Nw(){const s=indexedDB.deleteDatabase(mE);return new Zo(s).toPromise()}function rm(){const s=indexedDB.open(mE,xw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(th,{keyPath:pE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await Nw(),e(await rm()))})})}async function g0(s,e,i){const a=gh(s,!0).put({[pE]:e,value:i});return new Zo(a).toPromise()}async function Dw(s,e){const i=gh(s,!1).get(e),a=await new Zo(i).toPromise();return a===void 0?null:a.value}function y0(s,e){const i=gh(s,!0).delete(e);return new Zo(i).toPromise()}const Ow=800,Mw=3;class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Mw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(Cw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rw(),!this.activeServiceWorker)return;this.sender=new Sw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Iw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await g0(e,eh,"1"),await y0(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>g0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Dw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>y0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=gh(o,!1).getAll();return new Zo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gE.type="LOCAL";const Vw=gE;new Yo(3e4,6e4);function kw(s,e){return e?_s(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zm extends aE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return rl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Uw(s){return mw(s.auth,new zm(s),s.bypassAuthState)}function Lw(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),dw(i,new zm(s),s.bypassAuthState)}async function Pw(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),fw(i,new zm(s),s.bypassAuthState)}class yE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return Pw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:Ts(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jw=new Yo(2e3,1e4);class nl extends yE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jw.get())};e()}}nl.currentPopupAction=null;const zw="pendingRedirect",jc=new Map;class Bw extends yE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await Hw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hw(s,e){const i=Fw(e),a=Gw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function qw(s,e){jc.set(s._key(),e)}function Gw(s){return _s(s._redirectPersistence)}function Fw(s){return Pc(zw,s.config.apiKey,s.name)}async function Qw(s,e,i=!1){if(ni(s.app))return Promise.reject(vs(s));const a=Xo(s),o=kw(a,e),d=await new Bw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Yw=600*1e3;class Kw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!_E(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yw&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function _E({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Xw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(s);default:return!1}}async function $w(s,e={}){return _l(s,"GET","/v1/projects",e)}const Zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jw=/^https?/;async function Ww(s){if(s.config.emulator)return;const{authorizedDomains:e}=await $w(s);for(const i of e)try{if(e2(i))return}catch{}Ts(s,"unauthorized-domain")}function e2(s){const e=im(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Jw.test(i))return!1;if(Zw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const t2=new Yo(3e4,6e4);function v0(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function n2(s){return new Promise((e,i)=>{function a(){v0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v0(),i(Bi(s,"network-request-failed"))},timeout:t2.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const o=iw("iframefcb");return Hi()[o]=()=>{gapi.load?a():i(Bi(s,"network-request-failed"))},tw(`${nw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw zc=null,e})}let zc=null;function i2(s){return zc=zc||n2(s),zc}const s2=new Yo(5e3,15e3),r2="__/auth/iframe",a2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u2(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Vm(e,a2):`https://${s.config.authDomain}/${r2}`,a={apiKey:e.apiKey,appName:s.name,v:yl},o=o2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Qo(a).slice(1)}`}async function c2(s){const e=await i2(s),i=Hi().gapi;return Re(i,s,"internal-error"),e.open({where:document.body,url:u2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),g=Hi().setTimeout(()=>{c(d)},s2.get());function y(){Hi().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const h2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,d2=600,m2="_blank",p2="http://localhost";class E0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g2(s,e,i,a=f2,o=d2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...h2,width:a.toString(),height:o.toString(),top:c,left:d},_=fn().toLowerCase();i&&(g=Jv(_)?m2:i),$v(_)&&(e=e||p2,y.scrollbars="yes");const T=Object.entries(y).reduce((M,[q,te])=>`${M}${q}=${te},`,"");if(YS(_)&&g!=="_self")return y2(e||"",g),new E0(null);const w=window.open(e||"",g,T);Re(w,s,"popup-blocked");try{w.focus()}catch{}return new E0(w)}function y2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const _2="__/auth/handler",v2="emulator/auth/handler",E2=encodeURIComponent("fac");async function T0(s,e,i,a,o,c){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:yl,eventId:o};if(e instanceof lE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",gA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof $o){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await s._getAppCheckToken(),_=y?`#${E2}=${encodeURIComponent(y)}`:"";return`${T2(s)}?${Qo(g).slice(1)}${_}`}function T2({config:s}){return s.emulator?Vm(s,v2):`https://${s.authDomain}/${_2}`}const Gd="webStorageSupport";class b2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fE,this._completeRedirectFn=Qw,this._overrideRedirectResult=qw}async _openPopup(e,i,a,o){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T0(e,i,a,im(),o);return g2(e,c,jm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await T0(e,i,a,im(),o);return ww(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await c2(e),a=new Kw(e);return i.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},o=>{const c=o?.[0]?.[Gd];c!==void 0&&i(!!c),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ww(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return iE()||Zv()||Lm()}}const A2=b2;var b0="@firebase/auth",A0="1.12.0";class S2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function w2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R2(s){ol(new sa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(s)},_=new WS(a,o,c,y);return rw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ol(new sa("auth-internal",e=>{const i=Xo(e.getProvider("auth").getImmediate());return(a=>new S2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(b0,A0,w2(s)),mr(b0,A0,"esm2020")}const I2=300,C2=Mv("authIdTokenMaxAge")||I2;let S0=null;const x2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>C2)return;const o=i?.token;S0!==o&&(S0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function N2(s=jv()){const e=Om(s,"auth");if(e.isInitialized())return e.getImmediate();const i=sw(s,{popupRedirectResolver:A2,persistence:[Vw,bw,fE]}),a=Mv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=x2(c.toString());_w(i,d,()=>d(i.currentUser)),yw(i,g=>d(g))}}const o=Dv("auth");return o&&aw(i,`http://${o}`),i}function D2(){return document.getElementsByTagName("head")?.[0]??document}ew({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Bi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",D2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R2("Browser");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,vE;(function(){var s;function e(x,S){function I(){}I.prototype=S.prototype,x.F=S.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,D,U){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=x.g[0],I=x.g[1],D=x.g[2];let U=x.g[3],R;R=S+(U^I&(D^U))+V[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+V[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+V[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+V[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(D^U&(I^D))+V[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+V[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+V[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+V[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(I^D^U)+V[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+V[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+V[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+V[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(D^(I|~U))+V[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+V[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+V[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+V[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.v=function(x,S){S===void 0&&(S=x.length);const I=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=I;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(V[D++]=x.charCodeAt(U++),D==this.blockSize){o(this,V),D=0;break}}else for(;U<S;)if(V[D++]=x[U++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[S++]=this.g[I]>>>V&255;return x};function c(x,S){var I=g;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=S(x)}function d(x,S){this.h=S;const I=[];let V=!0;for(let D=x.length-1;D>=0;D--){const U=x[D]|0;V&&U==S||(I[D]=U,V=!1)}this.g=I}var g={};function y(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return W(_(-x));const S=[];let I=1;for(let V=0;x>=I;V++)S[V]=x/I|0,I*=4294967296;return new d(S,0)}function T(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return W(T(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let V=w;for(let U=0;U<x.length;U+=8){var D=Math.min(8,x.length-U);const R=parseInt(x.substring(U,U+D),S);D<8?(D=_(Math.pow(S,D)),V=V.j(D).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var w=y(0),M=y(1),q=y(16777216);s=d.prototype,s.m=function(){if(se(this))return-W(this).m();let x=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(te(this))return"0";if(se(this))return"-"+W(this).toString(x);const S=_(Math.pow(x,6));var I=this;let V="";for(;;){const D=We(I,S).g;I=Ee(I,D.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,te(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function te(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function se(x){return x.h==-1}s.l=function(x){return x=Ee(this,x),se(x)?-1:te(x)?0:1};function W(x){const S=x.g.length,I=[];for(let V=0;V<S;V++)I[V]=~x.g[V];return new d(I,~x.h).add(M)}s.abs=function(){return se(this)?W(this):this},s.add=function(x){const S=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(x.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=R>>>16,U&=65535,R&=65535,I[D]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function Ee(x,S){return x.add(W(S))}s.j=function(x){if(te(this)||te(x))return w;if(se(this))return se(x)?W(this).j(W(x)):W(W(this).j(x));if(se(x))return W(this.j(W(x)));if(this.l(q)<0&&x.l(q)<0)return _(this.m()*x.m());const S=this.g.length+x.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const U=this.i(V)>>>16,R=this.i(V)&65535,rt=x.i(D)>>>16,pt=x.i(D)&65535;I[2*V+2*D]+=R*pt,Ie(I,2*V+2*D),I[2*V+2*D+1]+=U*pt,Ie(I,2*V+2*D+1),I[2*V+2*D+1]+=R*rt,Ie(I,2*V+2*D+1),I[2*V+2*D+2]+=U*rt,Ie(I,2*V+2*D+2)}for(x=0;x<S;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=S;x<2*S;x++)I[x]=0;return new d(I,0)};function Ie(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function Te(x,S){this.g=x,this.h=S}function We(x,S){if(te(S))throw Error("division by zero");if(te(x))return new Te(w,w);if(se(x))return S=We(W(x),S),new Te(W(S.g),W(S.h));if(se(S))return S=We(x,W(S)),new Te(W(S.g),S.h);if(x.g.length>30){if(se(x)||se(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(x)<=0;)I=ct(I),V=ct(V);var D=Fe(I,1),U=Fe(V,1);for(V=Fe(V,2),I=Fe(I,2);!te(V);){var R=U.add(V);R.l(x)<=0&&(D=D.add(I),U=R),V=Fe(V,1),I=Fe(I,1)}return S=Ee(x,D.j(S)),new Te(D,S)}for(D=w;x.l(S)>=0;){for(I=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),R=U.j(S);se(R)||R.l(x)>0;)I-=V,U=_(I),R=U.j(S);te(U)&&(U=M),D=D.add(U),x=Ee(x,R)}return new Te(D,x)}s.B=function(x){return We(this,x).h},s.and=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},s.or=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},s.xor=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function ct(x){const S=x.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Fe(x,S){const I=S>>5;S%=32;const V=x.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=S>0?x.i(U+I)>>>S|x.i(U+I+1)<<32-S:x.i(U+I);return new d(D,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,vE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,pr=d}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EE,Ro,TE,Bc,am,bE,AE,SE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var ie=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ie[Oe-2]=arguments[Oe];return m.prototype[L].apply(b,ie)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function te(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ie=0;ie<B;ie++)u[v+ie]=L[ie]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function Ee(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,v){const b=Te.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Te=new se(()=>new We,u=>u.reset());class We{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,Fe=!1,x=new Ie,S=()=>{const u=Promise.resolve(void 0);ct=()=>{u.then(I)}};function I(){for(var u;u=Ee();){try{u.h.call(u.g)}catch(v){W(v)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(rt,D),rt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ae(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ie=De(u,m,b,L);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new ae(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function we(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ye(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function De(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),wt={};function yt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)yt(u,m[B],v,b,L);return null}return v=he(v),u&&u[pt]?u.J(m,v,g(b)?!!b.capture:!1,L):Bn(u,m,v,!1,b,L)}function Bn(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const ie=g(L)?!!L.capture:!!L;let Oe=J(u);if(Oe||(u[ke]=Oe=new ue(u)),v=Oe.add(m,v,b,ie,B),v.proxy)return v;if(b=Xi(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=ie),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(xn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xi(){function u(v){return m.call(u.src,u.listener,v)}const m=ee;return u}function $i(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)$i(u,m[B],v,b,L);else b=g(b)?!!b.capture:!!b,v=he(v),u&&u[pt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=De(m,v,b,L),v>-1&&(ye(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=J(u))&&(m=u.g[m.toString()],u=-1,m&&(u=De(m,v,b,L)),(v=u>-1?m[u]:null)&&Zi(v))}function Zi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pt])we(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(xn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=J(m))?(we(v,u),v.h==0&&(v.src=null,m[ke]=null)):ye(u)}}}function xn(u){return u in wt?wt[u]:wt[u]="on"+u}function ee(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Zi(u),u=v.call(b,m)}return u}function J(u){return u=u[ke],u instanceof ue?u:null}var re="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(u){return typeof u=="function"?u:(u[re]||(u[re]=function(m){return u.handleEvent(m)}),u[re])}function oe(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}w(oe,V),oe.prototype[pt]=!0,oe.prototype.removeEventListener=function(u,m,v,b){$i(this,u,m,v,b)};function me(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(b,u),le(m,L)}L=!0;let B,ie;if(v)for(ie=v.length-1;ie>=0;ie--)B=m.g=v[ie],L=ne(B,b,!0,m)&&L;if(B=m.g=u,L=ne(B,b,!0,m)&&L,L=ne(B,b,!1,m)&&L,v)for(ie=0;ie<v.length;ie++)B=m.g=v[ie],L=ne(B,b,!1,m)&&L}oe.prototype.N=function(){if(oe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ye(v[b]);delete u.g[m],u.h--}}this.G=null},oe.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},oe.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function ne(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ie=m[B];if(ie&&!ie.da&&ie.capture==v){const Oe=ie.listener,Nt=ie.ha||ie.src;ie.fa&&we(u.i,ie),L=Oe.call(Nt,b)!==!1&&L}}return L&&!b.defaultPrevented}function ve(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function je(u){u.g=ve(()=>{u.g=null,u.i&&(u.i=!1,je(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $(u){V.call(this),this.h=u,this.g={}}w($,V);var ge=[];function Ye(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zi(m)},u),u.g={}}$.prototype.N=function(){$.Z.N.call(this),Ye(this)},$.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var at=d.JSON.stringify,Ct=d.JSON.parse,_n=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function su(){}function ru(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){D.call(this,"d")}w(Jt,D);function Hn(){D.call(this,"c")}w(Hn,D);var xt={},au=null;function ha(){return au=au||new oe}xt.Ia="serverreachability";function lu(u){D.call(this,xt.Ia,u)}w(lu,D);function vi(u){const m=ha();me(m,new lu(m))}xt.STAT_EVENT="statevent";function Rr(u,m){D.call(this,xt.STAT_EVENT,u),this.stat=m}w(Rr,D);function Vt(u){const m=ha();me(m,new Rr(m,u))}xt.Ja="timingevent";function Ei(u,m){D.call(this,xt.Ja,u),this.size=m}w(Ei,D);function Ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function kh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var ie="",Oe=B.split("&");for(let et=0;et<Oe.length;et++){var Nt=Oe[et].split("=");if(Nt.length>1){const Tt=Nt[0];Nt=Nt[1];const Qn=Tt.split("_");ie=Qn.length>=2&&Qn[1]=="type"?ie+(Tt+"="+Nt+"&"):ie+(Tt+"=redacted&")}}}else ie=null;else ie=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+ie})}function ou(u,m,v,b,L,B,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ie})}function bi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(b?" "+b:"")})}function Ir(u,m){u.info(function(){return"TIMEOUT: "+m})}ri.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<b.length;ie++)b[ie]=""}}}}return at(B)}catch{return m}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function xr(){}w(xr,su),xr.prototype.g=function(){return new XMLHttpRequest},Sl=new xr;function Ji(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new $(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var kt={},Kt={};function Ai(u,m,v){u.M=1,u.A=Nr(Lt(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),Si(u),u.B=Lt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ga(v.i,"t",b),u.C=0,v=u.j.L,u.h=new li,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ge[0]=L.toString()),L=ge);for(let B=0;B<L.length;B++){const ie=yt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vi(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=ci(this.g),Nt=this.g.ya(),et=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Oe!=4||Nt==7||(Nt==8||et<=0?vi(3):vi(2)),wi(this);var m=this.g.ca();this.X=m;var v=Lh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,u);else{this.o=!1,this.m=3,Vt(12),Nn(this),qn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=hu(this,v),Tt==Kt){Oe==4&&(this.m=4,Vt(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==kt){this.m=4,Vt(15),bi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,Tt,null),Ri(this,Tt);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,Vt(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jl(ie),ie.P=!0,Vt(11))}}else bi(this.i,this.l,v,null),Ri(this,v);Oe==4&&Nn(this),this.o&&!this.K&&(Oe==4?Eu(this.j,this):(this.o=!1,Si(this)))}else es(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Nn(this),qn(this)}}}catch{}};function Lh(u){if(!cu(u))return u.g.la();const m=Wt(u.g);if(m==="")return"";let v="";const b=m.length,L=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),qn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Kt:(v=Number(m.substring(v,b)),isNaN(v)?kt:(b+=1,b+v>m.length?Kt:(m=m.slice(b,b+v),u.C=b+v,m)))}ai.prototype.cancel=function(){this.K=!0,Nn(this)};function Si(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ti(_(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ir(this.i,this.B),this.M!=2&&(vi(),Vt(17)),Nn(this),this.m=2,qn(this)):da(this,this.T-u)};function qn(u){u.j.I==0||u.K||Eu(u.j,u)}function Nn(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ye(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ci(v.h,u))){if(!u.L&&Ci(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Vs(v);else break e;Lr(v),Vt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ti(_(v.Va,v),6e3));Ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else Vi(v,11)}else if((u.L||v.g==u)&&Ta(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let et=L[m];const Tt=et[0];if(!(Tt<=v.K))if(v.K=Tt,et=et[1],v.I==2)if(et[0]=="c"){v.M=et[1],v.ba=et[2];const Qn=et[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const ki=et[4];ki!=null&&(v.za=ki,v.j.info("SVER="+v.za));const hi=et[5];hi!=null&&typeof hi=="number"&&hi>0&&(b=1.5*hi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const fi=u.g;if(fi){const Pr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var B=b.h;B.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Il(B,B.h),B.h=null))}if(b.G){const ba=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(b.wa=ba,lt(b.J,b.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ie=u;if(b.na=Au(b,b.L?b.ba:null,b.W),ie.L){Cl(b.h,ie);var Oe=ie,Nt=b.O;Nt&&(Oe.H=Nt),Oe.D&&(wi(Oe),Si(Oe)),b.g=ie}else _u(b);v.i.length>0&&Mi(v)}else et[0]!="stop"&&et[0]!="close"||Vi(v,7);else v.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Vi(v,7):Ll(v):et[0]!="noop"&&v.l&&v.l.qa(et),v.A=0)}}vi(4)}catch{}}var Ut=class{constructor(u,m){this.g=u,this.map=m}};function wl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ii(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Il(u,m){u.g?u.g.add(m):u.h=m}function Cl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Xt(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,Nl(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,Xt(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),Is(this,m[4]),this.h=xi(m[5]||"",!0),Nl(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,pa,!0),"@"),u.push(Ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Dr(v,v.charAt(0)=="/"?Dl:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Dr(v,mu)),u.join("")},Dn.prototype.resolve=function(u){const m=Lt(this);let v=!!u.j;v?Xt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Is(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ie=0;ie<L.length;){const Oe=L[ie++];Oe=="."?b&&ie==L.length&&B.push(""):Oe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ie==L.length&&B.push("")):(B.push(Oe),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Nl(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Lt(u){return new Dn(u)}function Xt(u,m,v){u.j=v?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Nl(u,m,v){m instanceof xs?(u.i=m,ya(u.i,u.l)):(v||(m=Dr(m,Cs)),u.i=new xs(m,u.l))}function lt(u,m,v){u.i.set(m,v)}function Nr(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,du=/[#\?:]/g,Dl=/[#\?]/g,Cs=/[#\?@]/g,mu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=xs.prototype,s.add=function(u,m){En(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){En(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ol(u,m){return En(u),m=Ns(u,m),u.g.has(m)}s.forEach=function(u,m){En(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Ml(u,m){En(u);let v=[];if(typeof m=="string")Ol(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return En(this),this.i=null,u=Ns(this,u),Ol(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ml(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ji(v);v=Ml(this,v);for(let B=0;B<v.length;B++){let ie=L;v[B]!==""&&(ie+="="+Ji(v[B])),u.push(ie)}}return this.i=u.join("&")};function gu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(pu(this,b),ga(this,L,v))},u)),u.j=m}function oi(u,m){const v=new ri;if(d.Image){const b=new Image;b.onload=T(Gn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Gn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Gn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Gn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Vl(u,m){const v=new ri,b=new AbortController,L=setTimeout(()=>{b.abort(),Gn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Gn(v,"TestPingServer: ok",!0,m):Gn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Gn(v,"TestPingServer: error",!1,m)})}function Gn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ds(){this.g=new _n}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ni,su),Ni.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){oe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Or,oe),s=Or.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Os(this):ui(this),this.readyState==3&&_a(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Os(this))},s.Na=function(u){this.g&&(this.response=u,Os(this))},s.ga=function(){this.g&&Os(this)};function Os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fn(u){let m="";return Pe(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Mr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Fn(v),typeof u=="string"?v!=null&&Ji(v):lt(u,m,v))}function ht(u){oe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ht,oe);var Di=/^https?$/i,kl=["POST","PUT"];s=ht.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Vr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(kl,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of v)this.g.setRequestHeader(B,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Vr(this,B)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ul(u),Wi(u)}function Ul(u){u.A||(u.A=!0,me(u,"complete"),me(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,me(this,"complete"),me(this,"abort"),Wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ht.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(me(u,"readystatechange"),ci(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ie=String(u.D).match(fu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),b=!Di.test(ie?ie.toLowerCase():"")}v=b}if(v)me(u,"complete"),me(u,"success");else{u.o=6;try{var L=ci(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ul(u)}}finally{Wi(u)}}}}function Wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||me(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ct(m)}};function Wt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=uu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Xe(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wl(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Vt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Au(this,null,this.W),Mi(this)};function Ll(u){if(va(u),u.I==3){var m=u.V++,v=Lt(u.J);if(lt(v,"SID",u.M),lt(v,"RID",m),lt(v,"TYPE","terminate"),Ur(u,v),m=new ai(u,u.j,m),m.M=2,m.A=Nr(Lt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}bu(u)}function Vs(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function va(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Rl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ct||S(),Fe||(ct(),Fe=!0),x.add(m,u),u.D=0}}function Ea(u,m){return Ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ti(_(u.Ea,u,m),Tu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ai(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),le(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yu(this,L,m),v=Lt(this.J),lt(v,"RID",u),lt(v,"CVER",22),this.G&&lt(v,"X-HTTP-Session-Id",this.G),Ur(this,v),B&&(this.R?m="headers="+Ji(Fn(B))+"&"+m:this.u&&Mr(v,this.u,B)),Il(this.h,L),this.Ra&&lt(v,"TYPE","init"),this.S?(lt(v,"$req",m),lt(v,"SID","null"),L.U=!0,Ai(L,v,null)):Ai(L,v,m),this.I=2}}else this.I==3&&(u?Pl(this,u):this.i.length==0||Rl(this.h)||Pl(this))};function Pl(u,m){var v;m?v=m.l:v=u.V++;const b=Lt(u.J);lt(b,"SID",u.M),lt(b,"RID",v),lt(b,"AID",u.K),Ur(u,b),u.u&&u.o&&Mr(b,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Il(u.h,v),Ai(v,b,m)}function Ur(u,m){u.H&&Pe(u.H,function(v,b){lt(m,b,v)}),u.l&&Pe({},function(v,b){lt(m,b,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Oe=-1;for(;;){const Nt=["count="+v];Oe==-1?v>0?(Oe=L[0].g,Nt.push("ofs="+Oe)):Oe=0:Nt.push("ofs="+Oe);let et=!0;for(let Tt=0;Tt<v;Tt++){var B=L[Tt].g;const Qn=L[Tt].map;if(B-=Oe,B<0)Oe=Math.max(0,L[Tt].g-100),et=!1;else try{B="req"+B+"_"||"";try{var ie=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ki,hi]of ie){let fi=hi;g(hi)&&(fi=at(hi)),Nt.push(B+ki+"="+encodeURIComponent(fi))}}catch(ki){throw Nt.push(B+"type="+encodeURIComponent("_badmap")),ki}}catch{b&&b(Qn)}}if(et){ie=Nt.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ct||S(),Fe||(ct(),Fe=!0),x.add(m,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ti(_(u.Da,u),Tu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ti(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Vs(this),vu(this))};function jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Lt(u.na);lt(m,"RID","rpc"),lt(m,"SID",u.M),lt(m,"AID",u.K),lt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(m,"TO",u.ia),lt(m,"TYPE","xmlhttp"),Ur(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Nr(Lt(m)),v.u=null,v.R=!0,fa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Vs(this),Lr(this),Vt(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var v=null;if(u.g==m){Ta(u),jl(u),u.g=null;var b=2}else if(Ci(u.h,m))v=m.G,Cl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ha(),me(b,new Ei(b,v)),Mi(u)}else _u(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ea(u,m)||b==2&&Lr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function Tu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new Dn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xt(b,"https"),Nr(b),L?oi(b.toString(),v):Vl(b.toString(),v)}else Vt(2);u.I=0,u.l&&u.l.pa(m),bu(u),va(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=xl(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,v){var b=v instanceof Dn?Lt(v):new Dn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Is(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Dn(null);b&&Xt(B,b),m&&(B.g=m),L&&Is(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&lt(b,v,m),lt(b,"VER",u.ka),Ur(u,b),b}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ht(new Ni({ab:v})):new ht(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){oe.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}w(dn,oe),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ll(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=at(u),u=v);m.i.push(new Ut(m.Ya++,u)),m.I==3&&Mi(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,dn.Z.N.call(this)};function Ru(u){Jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Ru,Jt);function Iu(){Hn.call(this),this.status=1}w(Iu,Hn);function ts(u){this.g=u}w(ts,wu),ts.prototype.ra=function(){me(this.g,"a")},ts.prototype.qa=function(u){me(this.g,new Ru(u))},ts.prototype.pa=function(u){me(this.g,new Iu)},ts.prototype.oa=function(){me(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,SE=function(){return new ks},AE=function(){return ha()},bE=xt,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,Bc=Cr,Al.COMPLETE="complete",TE=Al,ru.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",oe.prototype.listen=oe.prototype.J,Ro=ru,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,EE=ht}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const R0="@firebase/firestore",I0="4.9.3";let cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let vl="12.7.0";const aa=new Nm("@firebase/firestore");function Ja(){return aa.logLevel}function ce(s,...e){if(aa.logLevel<=He.DEBUG){const i=e.map(Bm);aa.debug(`Firestore (${vl}): ${s}`,...i)}}function Ss(s,...e){if(aa.logLevel<=He.ERROR){const i=e.map(Bm);aa.error(`Firestore (${vl}): ${s}`,...i)}}function ul(s,...e){if(aa.logLevel<=He.WARN){const i=e.map(Bm);aa.warn(`Firestore (${vl}): ${s}`,...i)}}function Bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Se(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,wE(s,a,i)}function wE(s,e,i){let a=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ss(a),new Error(a)}function st(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||wE(e,o,a)}function Ne(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class RE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class M2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class V2{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){st(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(st(typeof a.accessToken=="string",31837,{l:a}),new RE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class k2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new k2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){st(this.o===void 0,3512);const a=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(st(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new C0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function P2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=P2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function qe(s,e){return s<e?-1:s>e?1:0}function lm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Fd(o)===Fd(c)?qe(o,c):Fd(o)?1:-1}return qe(s.length,e.length)}const j2=55296,z2=57343;function Fd(s){const e=s.charCodeAt(0);return e>=j2&&e<=z2}function cl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const x0="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Se(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Se(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),o=zi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):lm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class At extends zi{construct(e,i,a){return new At(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new At(i)}static emptyPath(){return new At([])}}const B2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends zi{construct(e,i,a){return new an(e,i,a)}static isValidIdentifier(e){return B2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new an([x0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(At.fromString(e))}static fromName(e){return new be(At.fromString(e).popFirst(5))}static empty(){return new be(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return At.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new At(e.slice()))}}function H2(s,e,i){if(!i)throw new pe(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function q2(s,e,i,a){if(e===!0&&a===!0)throw new pe(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function N0(s){if(!be.isDocumentKey(s))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function IE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function yi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(s);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function qt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Jo(s,e){if(!IE(s))throw new pe(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new pe(Z.INVALID_ARGUMENT,i);return!0}const D0=-62135596800,O0=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*O0);return new Et(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<D0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jo(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:qt("string",Et._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Et(0,0))}static max(){return new Ce(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Po=-1;function G2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(a===1e9?new Et(i+1,0):new Et(i,a));return new _r(o,be.empty(),e)}function F2(s){return new _r(s.readTime,s.key,Po)}class _r{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new _r(Ce.min(),be.empty(),Po)}static max(){return new _r(Ce.max(),be.empty(),Po)}}function Q2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=be.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function El(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==Y2)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((T=>{d[_]=T,++g,g===c&&a(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function X2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Tl(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Gm=-1;function _h(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function $2(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const CE="";function Z2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=M0(e)),e=J2(s.get(i),e);return M0(e)}function J2(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case CE:i+="";break;default:i+=c}}return i}function M0(s){return s+CE+""}function V0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Sr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function xE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||rn.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new rn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new rn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Yt(this.comparator);return i.data=e,i}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new zn([])}unionWith(e){let i=new Yt(an.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new NE("Invalid base64 string: "+c):c}})(e);return new ln(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new ln(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const W2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const i=W2.exec(s);if(st(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Mt(s.seconds),nanos:Mt(s.nanos)}}function Mt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?ln.fromBase64String(s):ln.fromUint8Array(s)}const DE="server_timestamp",OE="__type__",ME="__previous_value__",VE="__local_write_time__";function Fm(s){return(s?.mapValue?.fields||{})[OE]?.stringValue===DE}function vh(s){const e=s.mapValue.fields[ME];return Fm(e)?vh(e):e}function jo(s){const e=vr(s.mapValue.fields[VE].timestampValue);return new Et(e.seconds,e.nanos)}class eR{constructor(e,i,a,o,c,d,g,y,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const ih="(default)";class zo{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}const kE="__type__",tR="__max__",Vc={mapValue:{}},UE="__vector__",sh="value";function Tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Fm(s)?4:iR(s)?9007199254740991:nR(s)?10:11:Se(28295,{value:s})}function Yi(s,e){if(s===e)return!0;const i=Tr(s);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jo(s).isEqual(jo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=vr(o.timestampValue),g=vr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Er(o.bytesValue).isEqual(Er(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Mt(o.geoPointValue.latitude)===Mt(c.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Mt(o.integerValue)===Mt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Mt(o.doubleValue),g=Mt(c.doubleValue);return d===g?nh(d)===nh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return cl(s.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(V0(d)!==V0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Yi(d[y],g[y])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function Bo(s,e){return(s.values||[]).find((i=>Yi(i,e)))!==void 0}function hl(s,e){if(s===e)return 0;const i=Tr(s),a=Tr(e);if(i!==a)return qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Mt(c.integerValue||c.doubleValue),y=Mt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return U0(s.timestampValue,e.timestampValue);case 4:return U0(jo(s),jo(e));case 5:return lm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Er(c),y=Er(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const T=qe(g[_],y[_]);if(T!==0)return T}return qe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=qe(Mt(c.latitude),Mt(d.latitude));return g!==0?g:qe(Mt(c.longitude),Mt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return L0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[sh]?.arrayValue,T=y[sh]?.arrayValue,w=qe(_?.values?.length||0,T?.values?.length||0);return w!==0?w:L0(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Vc.mapValue&&d===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const M=lm(y[w],T[w]);if(M!==0)return M;const q=hl(g[y[w]],_[T[w]]);if(q!==0)return q}return qe(y.length,T.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:i})}}function U0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=vr(s),a=vr(e),o=qe(i.seconds,a.seconds);return o!==0?o:qe(i.nanos,a.nanos)}function L0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=hl(i[o],a[o]);if(c)return c}return qe(i.length,a.length)}function fl(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=vr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return be.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=om(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${om(i.fields[d])}`;return o+"}"})(s.mapValue):Se(61005,{value:s})}function Hc(s){switch(Tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(s);return e?16+Hc(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Hc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Sr(a.fields,((c,d)=>{o+=c.length+Hc(d)})),o})(s.mapValue);default:throw Se(13486,{value:s})}}function um(s){return!!s&&"integerValue"in s}function Qm(s){return!!s&&"arrayValue"in s}function P0(s){return!!s&&"nullValue"in s}function j0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function nR(s){return(s?.mapValue?.fields||{})[kE]?.stringValue===UE}function Oo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Oo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Oo(s.arrayValue.values[i]);return e}return{...s}}function iR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tR}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oo(i)}setAll(e){let i=an.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Oo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Sr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Cn(Oo(this.value))}}function LE(s){const e=[];return Sr(s.fields,((i,a)=>{const o=new an([i]);if(qc(a)){const c=LE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new zn(e)}class hn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new hn(e,0,Ce.min(),Ce.min(),Ce.min(),Cn.empty(),0)}static newFoundDocument(e,i,a,o){return new hn(e,1,i,Ce.min(),a,o,0)}static newNoDocument(e,i){return new hn(e,2,i,Ce.min(),Ce.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,Ce.min(),Ce.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,i){this.position=e,this.inclusive=i}}function z0(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=be.comparator(be.fromName(d.referenceValue),i.key):a=hl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function B0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Yi(s.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function sR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class PE{}class Qt extends PE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new aR(e,i,a):i==="array-contains"?new uR(e,a):i==="in"?new cR(e,a):i==="not-in"?new hR(e,a):i==="array-contains-any"?new fR(e,a):new Qt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new lR(e,a):new oR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(hl(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(hl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends PE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ki(e,i)}matches(e){return jE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jE(s){return s.op==="and"}function zE(s){return rR(s)&&jE(s)}function rR(s){for(const e of s.filters)if(e instanceof Ki)return!1;return!0}function cm(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+fl(s.value);if(zE(s))return s.filters.map((e=>cm(e))).join(",");{const e=s.filters.map((i=>cm(i))).join(",");return`${s.op}(${e})`}}function BE(s,e){return s instanceof Qt?(function(a,o){return o instanceof Qt&&a.op===o.op&&a.field.isEqual(o.field)&&Yi(a.value,o.value)})(s,e):s instanceof Ki?(function(a,o){return o instanceof Ki&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&BE(d,o.filters[g])),!0):!1})(s,e):void Se(19439)}function HE(s){return s instanceof Qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${fl(i.value)}`})(s):s instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(HE).join(" ,")+"}"})(s):"Filter"}class aR extends Qt{constructor(e,i,a){super(e,i,a),this.key=be.fromName(a.referenceValue)}matches(e){const i=be.comparator(e.key,this.key);return this.matchesComparison(i)}}class lR extends Qt{constructor(e,i){super(e,"in",i),this.keys=qE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class oR extends Qt{constructor(e,i){super(e,"not-in",i),this.keys=qE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function qE(s,e){return(e.arrayValue?.values||[]).map((i=>be.fromName(i.referenceValue)))}class uR extends Qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Qm(i)&&Bo(i.arrayValue,this.value)}}class cR extends Qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bo(this.value.arrayValue,i)}}class hR extends Qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bo(this.value.arrayValue,i)}}class fR extends Qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bo(this.value.arrayValue,a)))}}class dR{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function H0(s,e=null,i=[],a=[],o=null,c=null,d=null){return new dR(s,e,i,a,o,c,d)}function Ym(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>fl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>fl(a))).join(",")),e.Te=i}return e.Te}function Km(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!sR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!BE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!B0(s.startAt,e.startAt)&&B0(s.endAt,e.endAt)}function hm(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mR(s,e,i,a,o,c,d,g){return new Eh(s,e,i,a,o,c,d,g)}function Th(s){return new Eh(s)}function q0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function pR(s){return s.collectionGroup!==null}function Mo(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Yt(an.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(an.keyField().canonicalString())||e.Ie.push(new ah(an.keyField(),a))}return e.Ie}function qi(s){const e=Ne(s);return e.Ee||(e.Ee=gR(e,Mo(s))),e.Ee}function gR(s,e){if(s.limitType==="F")return H0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)}));const i=s.endAt?new rh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rh(s.startAt.position,s.startAt.inclusive):null;return H0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function fm(s,e,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function bh(s,e){return Km(qi(s),qi(e))&&s.limitType===e.limitType}function GE(s){return`${Ym(qi(s))}|lt:${s.limitType}`}function Wa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>HE(o))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>fl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>fl(o))).join(",")),`Target(${a})`})(qi(s))}; limitType=${s.limitType})`}function Ah(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):be.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Mo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=z0(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Mo(a),o)||a.endAt&&!(function(d,g,y){const _=z0(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Mo(a),o))})(s,e)}function yR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function FE(s){return(e,i)=>{let a=!1;for(const o of Mo(s)){const c=_R(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function _R(s,e,i){const a=s.field.isKeyField()?be.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?hl(y,_):Se(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}const vR=new St(be.comparator);function ws(){return vR}const QE=new St(be.comparator);function Io(...s){let e=QE;for(const i of s)e=e.insert(i.key,i);return e}function YE(s){let e=QE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function na(){return Vo()}function KE(){return Vo()}function Vo(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const ER=new St(be.comparator),TR=new Yt(be.comparator);function Ge(...s){let e=TR;for(const i of s)e=e.add(i);return e}const bR=new Yt(qe);function AR(){return bR}function Xm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function XE(s){return{integerValue:""+s}}function SR(s,e){return $2(e)?XE(e):Xm(s,e)}class Sh{constructor(){this._=void 0}}function wR(s,e,i){return s instanceof lh?(function(o,c){const d={fields:{[OE]:{stringValue:DE},[VE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Fm(c)&&(c=vh(c)),c&&(d.fields[ME]=c),{mapValue:d}})(i,e):s instanceof dl?ZE(s,e):s instanceof Ho?JE(s,e):(function(o,c){const d=$E(o,c),g=G0(d)+G0(o.Ae);return um(d)&&um(o.Ae)?XE(g):Xm(o.serializer,g)})(s,e)}function RR(s,e,i){return s instanceof dl?ZE(s,e):s instanceof Ho?JE(s,e):i}function $E(s,e){return s instanceof oh?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class lh extends Sh{}class dl extends Sh{constructor(e){super(),this.elements=e}}function ZE(s,e){const i=WE(e);for(const a of s.elements)i.some((o=>Yi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ho extends Sh{constructor(e){super(),this.elements=e}}function JE(s,e){let i=WE(e);for(const a of s.elements)i=i.filter((o=>!Yi(o,a)));return{arrayValue:{values:i}}}class oh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function G0(s){return Mt(s.integerValue||s.doubleValue)}function WE(s){return Qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class IR{constructor(e,i){this.field=e,this.transform=i}}function CR(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof dl&&o instanceof dl||a instanceof Ho&&o instanceof Ho?cl(a.elements,o.elements,Yi):a instanceof oh&&o instanceof oh?Yi(a.Ae,o.Ae):a instanceof lh&&o instanceof lh})(s.transform,e.transform)}class xR{constructor(e,i){this.version=e,this.transformResults=i}}class _i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class wh{}function e1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new $m(s.key,_i.none()):new Wo(s.key,s.data,_i.none());{const i=s.data,a=Cn.empty();let o=new Yt(an.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new wr(s.key,a,new zn(o.toArray()),_i.none())}}function NR(s,e,i){s instanceof Wo?(function(o,c,d){const g=o.value.clone(),y=Q0(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof wr?(function(o,c,d){if(!Gc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Q0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(t1(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ko(s,e,i,a){return s instanceof Wo?(function(c,d,g,y){if(!Gc(c.precondition,d))return g;const _=c.value.clone(),T=Y0(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof wr?(function(c,d,g,y){if(!Gc(c.precondition,d))return g;const _=Y0(c.fieldTransforms,y,d),T=d.data;return T.setAll(t1(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,g){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function DR(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=$E(a.transform,o||null);c!=null&&(i===null&&(i=Cn.empty()),i.set(a.field,c))}return i||null}function F0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&cl(a,o,((c,d)=>CR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Wo extends wh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wr extends wh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function t1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Q0(s,e,i){const a=new Map;st(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,RR(d,g,i[o]))}return a}function Y0(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,wR(c,d,e))}return a}class $m extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OR extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&NR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ko(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ko(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=KE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=e1(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ce.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((i,a)=>F0(i,a)))&&cl(this.baseMutations,e.baseMutations,((i,a)=>F0(i,a)))}}class Zm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){st(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return ER})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Zm(e,i,a,o)}}class VR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Ke;function UR(s){switch(s){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function n1(s){if(s===void 0)return Ss("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Ht.OK:return Z.OK;case Ht.CANCELLED:return Z.CANCELLED;case Ht.UNKNOWN:return Z.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return Z.INTERNAL;case Ht.UNAVAILABLE:return Z.UNAVAILABLE;case Ht.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ht.NOT_FOUND:return Z.NOT_FOUND;case Ht.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ht.ABORTED:return Z.ABORTED;case Ht.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ht.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:s})}}(Ke=Ht||(Ht={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function LR(){return new TextEncoder}const PR=new pr([4294967295,4294967295],0);function K0(s){const e=LR().encode(s),i=new vE;return i.update(e),new Uint8Array(i.digest())}function X0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,a],0),new pr([o,c],0)]}class Jm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Co(`Invalid padding: ${i}`);if(a<0)throw new Co(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Co(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Co(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(pr.fromNumber(a)));return o.compare(PR)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=K0(e),[a,o]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=K0(e),[a,o]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(Ce.min(),o,new St(qe),ws(),Ge())}}class eu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new eu(a,i,Ge(),Ge(),Ge())}}class Fc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class i1{constructor(e,i){this.targetId=e,this.Ce=i}}class s1{constructor(e,i,a=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class $0{constructor(){this.ve=0,this.Fe=Z0(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),a=Ge();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Se(38017,{changeType:c})}})),new eu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Z0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.Je=kc(),this.He=kc(),this.Ye=new St(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(hm(c))if(a===0){const d=new be(c.path);this.et(i,d,hn.newNoDocument(d,Ce.min()))}else st(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Er(a).toUint8Array()}catch(y){if(y instanceof NE)return ul("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Jm(d,o,c)}catch(y){return ul(y instanceof Co?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&hm(g.target)){const y=new be(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,hn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ge();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Rh(e,i,this.Ye,this.je,a);return this.je=ws(),this.Je=kc(),this.He=kc(),this.Ye=new St(qe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Yt(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Yt(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new St(be.comparator)}function Z0(){return new St(be.comparator)}const zR={asc:"ASCENDING",desc:"DESCENDING"},BR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HR={and:"AND",or:"OR"};class qR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dm(s,e){return s.useProto3Json||_h(e)?e:{value:e}}function uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function GR(s,e){return uh(s,e.toTimestamp())}function Gi(s){return st(!!s,49232),Ce.fromTimestamp((function(i){const a=vr(i);return new Et(a.seconds,a.nanos)})(s))}function Wm(s,e){return mm(s,e).canonicalString()}function mm(s,e){const i=(function(o){return new At(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function a1(s){const e=At.fromString(s);return st(h1(e),10190,{key:e.toString()}),e}function pm(s,e){return Wm(s.databaseId,e.path)}function Qd(s,e){const i=a1(e);if(i.get(1)!==s.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new be(o1(i))}function l1(s,e){return Wm(s.databaseId,e)}function FR(s){const e=a1(s);return e.length===4?At.emptyPath():o1(e)}function gm(s){return new At(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function o1(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function J0(s,e,i){return{name:pm(s,e),fields:i.value.mapValue.fields}}function QR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(st(T===void 0||typeof T=="string",58123),ln.fromBase64String(T||"")):(st(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),ln.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?Z.UNKNOWN:n1(_.code);return new pe(T,_.message||"")})(d);i=new s1(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Qd(s,a.document.name),c=Gi(a.document.updateTime),d=a.document.createTime?Gi(a.document.createTime):Ce.min(),g=new Cn({mapValue:{fields:a.document.fields}}),y=hn.newFoundDocument(o,c,d,g),_=a.targetIds||[],T=a.removedTargetIds||[];i=new Fc(_,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Qd(s,a.document),c=a.readTime?Gi(a.readTime):Ce.min(),d=hn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Fc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Qd(s,a.document),c=a.removedTargetIds||[];i=new Fc([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new kR(o,c),g=a.targetId;i=new i1(g,d)}}return i}function YR(s,e){let i;if(e instanceof Wo)i={update:J0(s,e.key,e.value)};else if(e instanceof $m)i={delete:pm(s,e.key)};else if(e instanceof wr)i={update:J0(s,e.key,e.data),updateMask:nI(e.fieldMask)};else{if(!(e instanceof OR))return Se(16599,{Vt:e.type});i={verify:pm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof oh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:GR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),i}function KR(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Gi(o.updateTime):Gi(c);return d.isEqual(Ce.min())&&(d=Gi(c)),new xR(d,o.transformResults||[])})(i,e)))):[]}function XR(s,e){return{documents:[l1(s,e.path)]}}function $R(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=l1(s,o);const c=(function(_){if(_.length!==0)return c1(Ki.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(M){return{field:el(M.field),direction:WR(M.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=dm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function ZR(s){let e=FR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){st(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(w){const M=u1(w);return M instanceof Ki&&zE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(te){return new ah(tl(te.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,_h(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,q=w.values||[];return new rh(q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,q=w.values||[];return new rh(q,M)})(i.endAt)),mR(e,o,d,c,g,"F",y,_)}function JR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function u1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=tl(i.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=tl(i.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=tl(i.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=tl(i.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Qt.create(tl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((a=>u1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(i.compositeFilter.op))})(s):Se(30097,{filter:s})}function WR(s){return zR[s]}function eI(s){return BR[s]}function tI(s){return HR[s]}function el(s){return{fieldPath:s.canonicalString()}}function tl(s){return an.fromServerFormat(s.fieldPath)}function c1(s){return s instanceof Qt?(function(i){if(i.op==="=="){if(j0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NAN"}};if(P0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NAN"}};if(P0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(i.field),op:eI(i.op),value:i.value}}})(s):s instanceof Ki?(function(i){const a=i.getFilters().map((o=>c1(o)));return a.length===1?a[0]:{compositeFilter:{op:tI(i.op),filters:a}}})(s):Se(54877,{filter:s})}function nI(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function h1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class hr{constructor(e,i,a,o,c=Ce.min(),d=Ce.min(),g=ln.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iI{constructor(e){this.yt=e}}function sI(s){const e=ZR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fm(e,e.limit,"L"):e}class rI{constructor(){this.Cn=new aI}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(_r.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class aI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Yt(At.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Yt(At.comparator)).toArray()}}const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f1=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(f1,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}const ev="LruGarbageCollector",lI=1048576;function tv([s,e],[i,a]){const o=qe(s,i);return o===0?qe(e,a):o}class oI{constructor(e){this.Ir=e,this.buffer=new Yt(tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uI{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Tl(i)?ce(ev,"Ignoring IndexedDB error during garbage collection: ",i):await El(i)}await this.Vr(3e5)}))}}class cI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(yh.ce);const a=new oI(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(W0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,y,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),Ja()<=He.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function hI(s,e){return new cI(s,e)}class fI{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class mI{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&ko(a.mutation,o,zn.empty(),Et.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ge()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ge()){const o=na();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Io();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=na();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ge())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=ws();const d=Vo(),g=(function(){return Vo()})();return i.forEach(((y,_)=>{const T=a.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof wr)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),ko(T.mutation,_,T.mutation.getFieldMask(),Et.now())):d.set(_.key,zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new dI(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Vo();let o=new St(((d,g)=>d-g)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=a.get(y)||zn.empty();T=g.applyToLocalView(_,T),a.set(y,T);const w=(o.get(g.batchId)||Ge()).add(y);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,T=y.value,w=KE();T.forEach((M=>{if(!c.has(M)){const q=e1(i.get(M),a.get(M));q!==null&&w.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):pR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(na());let g=Po,y=c;return d.next((_=>X.forEach(_,((T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(e,T).next((M=>{y=y.insert(T,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Ge()))).next((T=>({batchId:g,changes:YE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new be(i)).next((a=>{let o=Io();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Io();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(y=>{const _=(function(w,M){return new Eh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((T=>{T.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,hn.newInvalidDocument(T)))}));let g=Io();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&ko(T.mutation,_,zn.empty(),Et.now()),Ah(i,_)&&(g=g.insert(y,_))})),g}))}}class pI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Gi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:sI(o.bundledQuery),readTime:Gi(o.readTime)}})(i)),X.resolve()}}class gI{constructor(){this.overlays=new St(be.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=na();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=na(),c=i.length+1,d=new be(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new St(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let T=c.get(_.largestBatchId);T===null&&(T=na(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=o)););return X.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new VR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ge(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class yI{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class ep{constructor(){this.Qr=new Yt(Zt.$r),this.Ur=new Yt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Zt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Zt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new be(new At([])),a=new Zt(i,e),o=new Zt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new be(new At([])),a=new Zt(i,e),o=new Zt(i,e+1);let c=Ge();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Zt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return be.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||be.comparator(e.key,i.key)}}class _I{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Zt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Zt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Gm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Zt(i,0),o=new Zt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Yt(qe);return i.forEach((o=>{const c=new Zt(o,0),d=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;be.isDocumentKey(c)||(c=c.child(""));const d=new Zt(new be(c),0);let g=new Yt(qe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){st(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Zt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Zt(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class vI{constructor(e){this.ri=e,this.docs=(function(){return new St(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let a=ws();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():hn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ws();const d=i.path,g=new be(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Q2(F2(T),a)<=0||(o.has(T.key)||Ah(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Se(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new EI(this)}getSize(e){return X.resolve(this.size)}}class EI extends fI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class TI{constructor(e){this.persistence=e,this.si=new ua((i=>Ym(i)),Km),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new ep,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ml(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class d1{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new yI,this.referenceDelegate=e(this),this.Pi=new TI(this),this.indexManager=new rI,this.remoteDocumentCache=(function(o){return new vI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new iI(i),this.Ii=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new _I(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const o=new bI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class bI extends K2{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.Ri=new ep,this.Vi=null}static mi(e){return new tp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=be.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new ua((a=>Z2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=hI(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Ce.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class np{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ge(),o=Ge();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new np(e,i.fromCache,a,o)}}class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cA()?8:X2(fn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new AI;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ja()<=He.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ja()<=He.DEBUG&&ce("QueryEngine","Query:",Wa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ja()<=He.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):X.resolve())}ys(e,i){if(q0(i))return X.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=fm(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ge(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,fm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return q0(i)||o.isEqual(Ce.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Ja()<=He.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(i)),this.vs(e,d,i,G2(o,Po)).next((g=>g)))}))}Ds(e,i){let a=new Yt(FE(e));return i.forEach(((o,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ja()<=He.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.ps.getDocumentsMatchingQuery(e,i,_r.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ip="LocalStore",wI=3e8;class RI{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new St(qe),this.xs=new ua((c=>Ym(c)),Km),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function II(s,e,i,a){return new RI(s,e,i,a)}async function m1(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Ge();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function CI(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,T){const w=_.batch,M=w.keys();let q=X.resolve();return M.forEach((te=>{q=q.next((()=>T.getEntry(y,te))).next((se=>{const W=_.docVersions.get(te);st(W!==null,48541),se.version.compareTo(W)<0&&(w.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),T.addEntry(se)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Ge();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function p1(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function xI(s,e){const i=Ne(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((T,w)=>{const M=o.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,w))));let q=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(ln.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,a)),o=o.insert(w,q),(function(se,W,Ee){return se.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=wI?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0})(M,q,T)&&g.push(i.Pi.updateTargetData(c,q))}));let y=ws(),_=Ge();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(NI(c,d,e.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!a.isEqual(Ce.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function NI(s,e,i){let a=Ge(),o=Ge();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ws();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Ce.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ce(ip,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function DI(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function OI(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function ym(s,e,i){const a=Ne(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Tl(d))throw d;ce(ip,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function nv(s,e,i){const a=Ne(s);let o=Ce.min(),c=Ge();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const w=Ne(y),M=w.xs.get(T);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,T)})(a,d,qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Ce.min(),i?c:Ge()))).next((g=>(MI(a,yR(e),g),{documents:g,Qs:c})))))}function MI(s,e,i){let a=s.Os.get(e)||Ce.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class iv{constructor(){this.activeTargetIds=AR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VI{constructor(){this.Mo=new iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kI{Oo(e){}shutdown(){}}const sv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function _m(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const Yd="RestConnection",UI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=_m(),g=this.zo(e,i.toUriEncodedString());ce(Yd,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),T=gl(_);return this.Jo(e,g,y,a,T).then((w=>(ce(Yd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw ul(Yd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=UI[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class PI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class jI extends LI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=_m();return new Promise(((g,y)=>{const _=new EE;_.setWithCredentials(!0),_.listenOnce(TE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const w=_.getResponseJson();ce(un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Bc.TIMEOUT:ce(un,`RPC '${e}' ${d} timed out`),y(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=_.getStatus();if(ce(un,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const te=q?.error;if(te&&te.status&&te.message){const se=(function(Ee){const Ie=Ee.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Ie)>=0?Ie:Z.UNKNOWN})(te.status);y(new pe(se,te.message))}else y(new pe(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(un,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ce(un,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=SE(),g=AE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const T=c.join("");ce(un,`Creating RPC '${e}' stream ${o}: ${T}`,y);const w=d.createWebChannel(T,y);this.I_(w);let M=!1,q=!1;const te=new PI({Yo:W=>{q?ce(un,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(M||(ce(un,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),ce(un,`RPC '${e}' stream ${o} sending:`,W),w.send(W))},Zo:()=>w.close()}),se=(W,Ee,Ie)=>{W.listen(Ee,(Te=>{try{Ie(Te)}catch(We){setTimeout((()=>{throw We}),0)}}))};return se(w,Ro.EventType.OPEN,(()=>{q||(ce(un,`RPC '${e}' stream ${o} transport opened.`),te.o_())})),se(w,Ro.EventType.CLOSE,(()=>{q||(q=!0,ce(un,`RPC '${e}' stream ${o} transport closed`),te.a_(),this.E_(w))})),se(w,Ro.EventType.ERROR,(W=>{q||(q=!0,ul(un,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),te.a_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))})),se(w,Ro.EventType.MESSAGE,(W=>{if(!q){const Ee=W.data[0];st(!!Ee,16349);const Ie=Ee,Te=Ie?.error||Ie[0]?.error;if(Te){ce(un,`RPC '${e}' stream ${o} received error:`,Te);const We=Te.status;let ct=(function(S){const I=Ht[S];if(I!==void 0)return n1(I)})(We),Fe=Te.message;ct===void 0&&(ct=Z.INTERNAL,Fe="Unknown error status: "+We+" with message "+Te.message),q=!0,te.a_(new pe(ct,Fe)),w.close()}else ce(un,`RPC '${e}' stream ${o} received:`,Ee),te.u_(Ee)}})),se(g,bE.STAT_EVENT,(W=>{W.stat===am.PROXY?ce(un,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===am.NOPROXY&&ce(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Kd(){return typeof document<"u"?document:null}function Ih(s){return new qR(s,!0)}class g1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const av="PersistentStream";class y1{constructor(e,i,a,o,c,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ss(i.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new pe(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zI extends y1{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=QR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ce.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?Gi(d.readTime):Ce.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=gm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=hm(y)?{documents:XR(c,y)}:{query:$R(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=r1(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ce.min())>0){g.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=JR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=gm(this.serializer),i.removeTarget=e,this.q_(i)}}class BI extends y1{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=KR(e.writeResults,e.commitTime),a=Gi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=gm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>YR(this.serializer,a)))};this.q_(i)}}class HI{}class qI extends HI{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,mm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,mm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class FI{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ca(this)&&(ce(la,"Restarting streams for network reachability change."),await(async function(y){const _=Ne(y);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new GI(a,o)}}async function Ch(s){if(ca(s))for(const e of s.da)await e(!0)}async function tu(s){for(const e of s.da)await e(!1)}function _1(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),lp(i)?ap(i):bl(i).O_()&&rp(i,e))}function sp(s,e){const i=Ne(s),a=bl(i);i.Ia.delete(e),a.O_()&&v1(i,e),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Ra.set("Unknown"))}function rp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}bl(s).Y_(e)}function v1(s,e){s.Va.Ue(e),bl(s).Z_(e)}function ap(s){s.Va=new jR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),bl(s).start(),s.Ra.ua()}function lp(s){return ca(s)&&!bl(s).x_()&&s.Ia.size>0}function ca(s){return Ne(s).Ea.size===0}function E1(s){s.Va=void 0}async function QI(s){s.Ra.set("Online")}async function YI(s){s.Ia.forEach(((e,i)=>{rp(s,e)}))}async function KI(s,e){E1(s),lp(s)?(s.Ra.ha(e),ap(s)):s.Ra.set("Unknown")}async function XI(s,e,i){if(s.Ra.set("Online"),e instanceof s1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){ce(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(s,a)}else if(e instanceof Fc?s.Va.Ze(e):e instanceof i1?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ce.min()))try{const a=await p1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(ln.EMPTY_BYTE_STRING,T.snapshotVersion)),v1(c,y);const w=new hr(T.target,y,_,T.sequenceNumber);rp(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ce(la,"Failed to raise snapshot:",a),await hh(s,a)}}async function hh(s,e,i){if(!Tl(e))throw e;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>p1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(la,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function T1(s,e){return e().catch((i=>hh(s,i,e)))}async function xh(s){const e=Ne(s),i=br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;$I(e);)try{const o=await DI(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,ZI(e,o)}catch(o){await hh(e,o)}b1(e)&&A1(e)}function $I(s){return ca(s)&&s.Ta.length<10}function ZI(s,e){s.Ta.push(e);const i=br(s);i.O_()&&i.X_&&i.ea(e.mutations)}function b1(s){return ca(s)&&!br(s).x_()&&s.Ta.length>0}function A1(s){br(s).start()}async function JI(s){br(s).ra()}async function WI(s){const e=br(s);for(const i of s.Ta)e.ea(i.mutations)}async function eC(s,e,i){const a=s.Ta.shift(),o=Zm.from(a,e,i);await T1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await xh(s)}async function tC(s,e){e&&br(s).X_&&await(async function(a,o){if((function(d){return UR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();br(a).B_(),await T1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xh(a)}})(s,e),b1(s)&&A1(s)}async function lv(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),ce(la,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ch(i)}async function nC(s,e){const i=Ne(s);e?(i.Ea.delete(2),await Ch(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function bl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ne(i);return c.sa(),new zI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:QI.bind(null,s),t_:YI.bind(null,s),r_:KI.bind(null,s),H_:XI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),lp(s)?ap(s):s.Ra.set("Unknown")):(await s.ma.stop(),E1(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(i,a,o){const c=Ne(i);return c.sa(),new BI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:JI.bind(null,s),r_:tC.bind(null,s),ta:WI.bind(null,s),na:eC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class op{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new op(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(s,e){if(Ss("AsyncQueue",`${e}: ${s}`),Tl(s))return new pe(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||be.comparator(i.key,a.key):(i,a)=>be.comparator(i.key,a.key),this.keyedMap=Io(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new al;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class ov{constructor(){this.ga=new St(be.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class pl{constructor(e,i,a,o,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new pl(e,i,al.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class iC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sC{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ne(i),c=o.queries;o.queries=uv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function uv(){return new ua((s=>GE(s)),bh)}async function S1(s,e){const i=Ne(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new iC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=up(d,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&cp(i)}async function w1(s,e){const i=Ne(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function rC(s,e){const i=Ne(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&cp(i)}function aC(s,e,i){const a=Ne(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function cp(s){s.Ca.forEach((e=>{e.next()}))}var vm,cv;(cv=vm||(vm={})).Ma="default",cv.Cache="cache";class R1{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new pl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vm.Cache}}class I1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class lC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=FE(e),this.tu=new al(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new ov,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,w)=>{const M=o.get(T),q=Ah(this.query,w)?w:null,te=!!M&&this.mutatedKeys.has(M.key),se=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let W=!1;M&&q?M.data.isEqual(q.data)?te!==se&&(a.track({type:3,doc:q}),W=!0):this.su(M,q)||(a.track({type:2,doc:q}),W=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(g=!0)):!M&&q?(a.track({type:0,doc:q}),W=!0):M&&!q&&(a.track({type:1,doc:M}),W=!0,(y||_)&&(g=!0)),W&&(q?(d=d.add(q),c=se?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,w)=>(function(q,te){const se=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:W})}};return se(q)-se(te)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new pl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new C1(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new I1(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hp="SyncEngine";class oC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class uC{constructor(e){this.key=e,this.hu=!1}}class cC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>GE(g)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new St(be.comparator),this.Au=new Map,this.Ru=new ep,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hC(s,e,i=!0){const a=V1(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await x1(a,e,i,!0),o}async function fC(s,e){const i=V1(s);await x1(i,e,!0,!1)}async function x1(s,e,i,a){const o=await OI(s.localStore,qi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await dC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&_1(s.remoteStore,o),g}async function dC(s,e,i,a,o){s.pu=(w,M,q)=>(async function(se,W,Ee,Ie){let Te=W.view.ru(Ee);Te.Cs&&(Te=await nv(se.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,Te))));const We=Ie&&Ie.targetChanges.get(W.targetId),ct=Ie&&Ie.targetMismatches.get(W.targetId)!=null,Fe=W.view.applyChanges(Te,se.isPrimaryClient,We,ct);return fv(se,W.targetId,Fe.au),Fe.snapshot})(s,w,M,q);const c=await nv(s.localStore,e,!0),d=new lC(e,c.Qs),g=d.ru(c.documents),y=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);fv(s,i,_.au);const T=new oC(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function mC(s,e,i){const a=Ne(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!bh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&sp(a.remoteStore,o.targetId),Em(a,o.targetId)})).catch(El)):(Em(a,o.targetId),await ym(a.localStore,o.targetId,!0))}async function pC(s,e){const i=Ne(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),sp(i.remoteStore,a.targetId))}async function gC(s,e,i){const a=AC(s);try{const o=await(function(d,g){const y=Ne(d),_=Et.now(),T=g.reduce(((q,te)=>q.add(te.key)),Ge());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let te=ws(),se=Ge();return y.Ns.getEntries(q,T).next((W=>{te=W,te.forEach(((Ee,Ie)=>{Ie.isValidDocument()||(se=se.add(Ee))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,te))).next((W=>{w=W;const Ee=[];for(const Ie of g){const Te=DR(Ie,w.get(Ie.key).overlayedDocument);Te!=null&&Ee.push(new wr(Ie.key,Te,LE(Te.value.mapValue),_i.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,Ee,g)})).next((W=>{M=W;const Ee=W.applyToLocalDocumentSet(w,se);return y.documentOverlayCache.saveOverlays(q,W.batchId,Ee)}))})).then((()=>({batchId:M.batchId,changes:YE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new St(qe)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await nu(a,o.changes),await xh(a.remoteStore)}catch(o){const c=up(o,"Failed to persist write");i.reject(c)}}async function N1(s,e){const i=Ne(s);try{const a=await xI(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?st(d.hu,14607):o.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await nu(i,a,e)}catch(a){await El(a)}}function hv(s,e,i){const a=Ne(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Ne(d);y.onlineState=g;let _=!1;y.queries.forEach(((T,w)=>{for(const M of w.Sa)M.va(g)&&(_=!0)})),_&&cp(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function yC(s,e,i){const a=Ne(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new St(be.comparator);d=d.insert(c,hn.newNoDocument(c,Ce.min()));const g=Ge().add(c),y=new Rh(Ce.min(),new Map,new St(qe),d,g);await N1(a,y),a.du=a.du.remove(c),a.Au.delete(e),fp(a)}else await ym(a.localStore,e,!1).then((()=>Em(a,e,i))).catch(El)}async function _C(s,e){const i=Ne(s),a=e.batch.batchId;try{const o=await CI(i.localStore,e);O1(i,a,null),D1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,o)}catch(o){await El(o)}}async function vC(s,e,i){const a=Ne(s);try{const o=await(function(d,g){const y=Ne(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(st(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);O1(a,e,i),D1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await nu(a,o)}catch(o){await El(o)}}function D1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function O1(s,e,i){const a=Ne(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Em(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||M1(s,a)}))}function M1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(sp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),fp(s))}function fv(s,e,i){for(const a of i)a instanceof I1?(s.Ru.addReference(a.key,e),EC(s,a)):a instanceof C1?(ce(hp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||M1(s,a.key)):Se(19791,{wu:a})}function EC(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ce(hp,"New document in limbo: "+i),s.Eu.add(a),fp(s))}function fp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new be(At.fromString(e)),a=s.fu.next();s.Au.set(a,new uC(i)),s.du=s.du.insert(i,a),_1(s.remoteStore,new hr(qi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function nu(s,e,i){const a=Ne(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){o.push(_);const T=np.As(y.targetId,_);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const T=Ne(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(M=>X.forEach(M.Es,(q=>T.persistence.referenceDelegate.addReference(w,M.targetId,q))).next((()=>X.forEach(M.ds,(q=>T.persistence.referenceDelegate.removeReference(w,M.targetId,q)))))))))}catch(w){if(!Tl(w))throw w;ce(ip,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const q=T.Ms.get(M),te=q.snapshotVersion,se=q.withLastLimboFreeSnapshotVersion(te);T.Ms=T.Ms.insert(M,se)}}})(a.localStore,c))}async function TC(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){ce(hp,"User change. New user:",e.toKey());const a=await m1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new pe(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function bC(s,e){const i=Ne(s),a=i.Au.get(e);if(a&&a.hu)return Ge().add(a.key);{let o=Ge();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function V1(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yC.bind(null,e),e.Pu.H_=rC.bind(null,e.eventManager),e.Pu.yu=aC.bind(null,e.eventManager),e}function AC(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vC.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return II(this.persistence,new SI,e.initialUser,this.serializer)}Cu(e){return new d1(tp.mi,this.serializer)}Du(e){return new VI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class SC extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){st(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new uI(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new d1((a=>ch.mi(a,i)),this.serializer)}}class Tm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,this.syncEngine),await nC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sC})()}createDatastore(e){const i=Ih(e.databaseInfo.databaseId),a=(function(c){return new jI(c)})(e.databaseInfo);return(function(c,d,g,y){return new qI(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new FI(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new kI})())}createSyncEngine(e,i){return(function(o,c,d,g,y,_,T){const w=new cC(o,c,d,g,y,_);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);ce(la,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class k1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ar="FirestoreClient";class wC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ce(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=up(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(s,e){s.asyncQueue.verifyOperationInProgress(),ce(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await m1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function dv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await RC(s);ce(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>lv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>lv(e.remoteStore,o))),s._onlineComponents=e}async function RC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(Ar,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ul("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new fh)}}else ce(Ar,"Using default OfflineComponentProvider"),await Xd(s,new SC(void 0));return s._offlineComponents}async function U1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(Ar,"Using user provided OnlineComponentProvider"),await dv(s,s._uninitializedComponentsProvider._online)):(ce(Ar,"Using default OnlineComponentProvider"),await dv(s,new Tm))),s._onlineComponents}function IC(s){return U1(s).then((e=>e.syncEngine))}async function bm(s){const e=await U1(s),i=e.eventManager;return i.onListen=hC.bind(null,e.syncEngine),i.onUnlisten=mC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=fC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pC.bind(null,e.syncEngine),i}function CC(s,e,i={}){const a=new gr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const T=new k1({next:M=>{T.Nu(),d.enqueueAndForget((()=>w1(c,w)));const q=M.docs.has(g);!q&&M.fromCache?_.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&M.fromCache&&y&&y.source==="server"?_.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new R1(Th(g.path),T,{includeMetadataChanges:!0,qa:!0});return S1(c,w)})(await bm(s),s.asyncQueue,e,i,a))),a.promise}function L1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const mv=new Map;const P1="firestore.googleapis.com",pv=!0;class gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P1,this.ssl=pv}else this.host=e.host,this.ssl=e.ssl??pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lI)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new O2;switch(a.type){case"firstParty":return new U2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=mv.get(i);a&&(ce("ComponentProvider","Removing Datastore"),mv.delete(i),a.terminate())})(this),Promise.resolve()}}function xC(s,e,i,a={}){s=yi(s,dp);const o=gl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Vv(`https://${g}`),kv("Firestore",!0)),c.host!==P1&&c.host!==g&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!yr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=cn.MOCK_USER;else{_=tA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new cn(w)}s._authCredentials=new M2(new RE(_,T))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Gt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Jo(i,Gt._jsonSchema))return new Gt(e,a||null,new be(At.fromString(i.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:qt("string",Gt._jsonSchemaVersion),referencePath:qt("string")};class qo extends Nh{constructor(e,i,a){super(e,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new be(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function pn(s,e,...i){if(s=yn(s),arguments.length===1&&(e=Hm.newId()),H2("doc","path",e),s instanceof dp){const a=At.fromString(e,...i);return N0(a),new Gt(s,null,new be(a))}{if(!(s instanceof Gt||s instanceof qo))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(At.fromString(e,...i));return N0(a),new Gt(s.firestore,s instanceof qo?s.converter:null,new be(a))}}const yv="AsyncQueue";class _v{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g1(this,"async_queue_retry"),this._c=()=>{const a=Kd();a&&ce(yv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tl(e))throw e;ce(yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",vv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=op.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function vv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class oa extends dp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new _v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _v(e),this._firestoreClient=void 0,await e}}}function NC(s,e){const i=typeof s=="object"?s:jv(),a=typeof s=="string"?s:ih,o=Om(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Wb("firestore");c&&xC(o,...c)}return o}function mp(s){if(s._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||DC(s),s._firestoreClient}function DC(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new eR(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,L1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new wC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(ln.fromBase64String(e))}catch(i){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ii(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jo(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:qt("string",ii._jsonSchemaVersion),bytes:qt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Jo(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:qt("string",Fi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class Qi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jo(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Qi(e.vectorValues);throw new pe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:qt("string",Qi._jsonSchemaVersion),vectorValues:qt("object")};const OC=/^__.*__$/;class MC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wo(e,this.data,i,this.fieldTransforms)}}class j1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function z1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class Mh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(z1(this.Ac)&&OC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(e)}Cc(e,i,a,o=!1){return new Mh({Ac:e,methodName:i,Dc:a,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B1(s){const e=s._freezeSettings(),i=Ih(s._databaseId);return new VC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function kC(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);gp("Data must be an object, but it was:",d,a);const g=H1(a,d);let y,_;if(c.merge)y=new zn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const M=Am(e,w,i);if(!d.contains(M))throw new pe(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);G1(T,M)||T.push(M)}y=new zn(T),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new MC(new Cn(g),y,_)}class Vh extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function UC(s,e,i){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pp extends Oh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=UC(this,e,!0),a=this.vc.map((c=>iu(c,i))),o=new dl(a);return new IR(e.path,o)}isEqual(e){return e instanceof pp&&yr(this.vc,e.vc)}}function LC(s,e,i,a){const o=s.Cc(1,e,i);gp("Data must be an object, but it was:",o,a);const c=[],d=Cn.empty();Sr(a,((y,_)=>{const T=yp(e,y,i);_=yn(_);const w=o.yc(T);if(_ instanceof Vh)c.push(T);else{const M=iu(_,w);M!=null&&(c.push(T),d.set(T,M))}}));const g=new zn(c);return new j1(d,g,o.fieldTransforms)}function PC(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[Am(e,a,i)],y=[o];if(c.length%2!=0)throw new pe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Am(e,c[M])),y.push(c[M+1]);const _=[],T=Cn.empty();for(let M=g.length-1;M>=0;--M)if(!G1(_,g[M])){const q=g[M];let te=y[M];te=yn(te);const se=d.yc(q);if(te instanceof Vh)_.push(q);else{const W=iu(te,se);W!=null&&(_.push(q),T.set(q,W))}}const w=new zn(_);return new j1(T,w,d.fieldTransforms)}function iu(s,e){if(q1(s=yn(s)))return gp("Unsupported field value:",e,s),H1(s,e);if(s instanceof Oh)return(function(a,o){if(!z1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=iu(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=yn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return SR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Et.fromDate(a);return{timestampValue:uh(o.serializer,c)}}if(a instanceof Et){const c=new Et(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,c)}}if(a instanceof Fi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ii)return{bytesValue:r1(o.serializer,a._byteString)};if(a instanceof Gt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Qi)return(function(d,g){return{mapValue:{fields:{[kE]:{stringValue:UE},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Xm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${qm(a)}`)})(s,e)}function H1(s,e){const i={};return xE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,((a,o)=>{const c=iu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function q1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Et||s instanceof Fi||s instanceof ii||s instanceof Gt||s instanceof Oh||s instanceof Qi)}function gp(s,e,i){if(!q1(i)||!IE(i)){const a=qm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Am(s,e,i){if((e=yn(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return yp(s,e);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const jC=new RegExp("[~\\*/\\[\\]]");function yp(s,e,i){if(e.search(jC)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new pe(Z.INVALID_ARGUMENT,g+s+y)}function G1(s,e){return s.some((i=>i.isEqual(e)))}class F1{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Q1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zC extends F1{data(){return super.data()}}function Q1(s,e){return typeof e=="string"?yp(s,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function BC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HC{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Sr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>Mt(a.doubleValue)));return new Qi(i)}convertGeoPoint(e){return new Fi(Mt(e.latitude),Mt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const i=vr(e);return new Et(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=At.fromString(e);st(h1(a),9688,{name:e});const o=new zo(a.get(1),a.get(3)),c=new be(a.popFirst(5));return o.isEqual(i)||Ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function qC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class xo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends F1{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Q1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:qt("string",ia._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Qc extends ia{data(e={}){return super.data(e)}}class ll{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new xo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:GC(g.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}function FC(s){s=yi(s,Gt);const e=yi(s.firestore,oa);return CC(mp(e),s._key).then((i=>K1(e,s,i)))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:qt("string",ll._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class Y1 extends HC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,i)}}function QC(s,e,i){s=yi(s,Gt);const a=yi(s.firestore,oa),o=qC(s.converter,e);return _p(a,[kC(B1(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,_i.none())])}function ti(s,e,i,...a){s=yi(s,Gt);const o=yi(s.firestore,oa),c=B1(o);let d;return d=typeof(e=yn(e))=="string"||e instanceof Dh?PC(c,"updateDoc",s._key,e,i,a):LC(c,"updateDoc",s._key,e),_p(o,[d.toMutation(s._key,_i.exists(!0))])}function YC(s){return _p(yi(s.firestore,oa),[new $m(s._key,_i.none())])}function Tv(s,...e){s=yn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ev(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Gt)d=yi(s.firestore,oa),g=Th(s._key.path),c={next:y=>{e[a]&&e[a](K1(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=yi(s,Nh);d=yi(y.firestore,oa),g=y._query;const _=new Y1(d);c={next:T=>{e[a]&&e[a](new ll(d,_,y,T))},error:e[a+1],complete:e[a+2]},BC(s._query)}return(function(_,T,w,M){const q=new k1(M),te=new R1(T,q,w);return _.asyncQueue.enqueueAndForget((async()=>S1(await bm(_),te))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>w1(await bm(_),te)))}})(mp(d),g,o,c)}function _p(s,e){return(function(a,o){const c=new gr;return a.asyncQueue.enqueueAndForget((async()=>gC(await IC(a),o,c))),c.promise})(mp(s),e)}function K1(s,e,i){const a=i.docs.get(e._key),o=new Y1(s);return new ia(s,o,e._key,a,new xo(i.hasPendingWrites,i.fromCache),e.converter)}function rr(...s){return new pp("arrayUnion",s)}(function(e,i=!0){(function(o){vl=o})(yl),ol(new sa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new oa(new V2(a.getProvider("auth-internal")),new L2(d,a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(_.options.projectId,T)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),mr(R0,I0,e),mr(R0,I0,"esm2020")})();const KC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),bv=s=>{const e=XC(s);return e.charAt(0).toUpperCase()+e.slice(1)},X1=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),$C=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JC=it.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>it.createElement("svg",{ref:y,...ZC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:X1("lucide",o),...!c&&!$C(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>it.createElement(_,T)),...Array.isArray(c)?c:[c]]));const Je=(s,e)=>{const i=it.forwardRef(({className:a,...o},c)=>it.createElement(JC,{ref:c,iconNode:e,className:X1(`lucide-${KC(bv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=bv(s),i};const WC=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],ex=Je("arrow-left-right",WC);const tx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nx=Je("arrow-right",tx);const ix=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sm=Je("book-open",ix);const sx=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],vp=Je("bug",sx);const rx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yc=Je("circle-check-big",rx);const ax=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Av=Je("circle-question-mark",ax);const lx=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ox=Je("code",lx);const ux=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],wm=Je("cpu",ux);const cx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Rm=Je("crown",cx);const hx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],fx=Je("database",hx);const dx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mx=Je("eye",dx);const px=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],gx=Je("ghost",px);const yx=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],_x=Je("hammer",yx);const vx=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Ex=Je("hard-drive",vx);const Tx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],bx=Je("history",Tx);const Ax=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Sx=Je("house",Ax);const wx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$1=Je("lock",wx);const Rx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sv=Je("log-out",Rx);const Ix=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Cx=Je("rotate-ccw",Ix);const xx=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],Nx=Je("scan-eye",xx);const Dx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ox=Je("search",Dx);const Mx=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Vx=Je("server",Mx);const kx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ep=Je("shield",kx);const Ux=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Z1=Je("skull",Ux);const Lx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wv=Je("sparkles",Lx);const Px=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],J1=Je("terminal",Px);const jx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zx=Je("trash-2",jx);const Bx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Im=Je("triangle-alert",Bx);const Hx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],W1=Je("user",Hx);const qx=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],eT=Je("wifi",qx);const Gx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Go=Je("x",Gx);const Fx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Cm=Je("zap",Fx),Qx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:9afd57573258c43a6aa637"},tT=Pv(Qx),$d=N2(tT),gn=NC(tT),Rn=typeof __app_id<"u"?__app_id:"masquerade-protocol",Yx="17",jn={FIREWALL:{id:"FIREWALL",name:"Firewall",icon:Ep,color:"text-orange-500",bg:"bg-orange-950/50",border:"border-orange-600",passive:"Immune to Virus cards.",glitch:"Decrypt: Convert all VIRUS cards in your hand into INTEL cards."},SEARCH_ENGINE:{id:"SEARCH_ENGINE",name:"Search Engine",icon:Ox,color:"text-blue-400",bg:"bg-blue-950/50",border:"border-blue-600",passive:"Scan: Peek at 1 random card from a player's hand once per turn.",glitch:"Index: Look at ALL cards in target player's hand (Private)."},MINER:{id:"MINER",name:"Data Miner",icon:Ex,color:"text-emerald-400",bg:"bg-emerald-950/50",border:"border-emerald-600",passive:"Draw 2 cards instead of 1 at start of turn.",glitch:"Jackpot: Draw 5 cards immediately."},GHOST:{id:"GHOST",name:"Ghost Process",icon:gx,color:"text-purple-400",bg:"bg-purple-950/50",border:"border-purple-600",passive:"Cannot be targeted by Glitch effects.",glitch:"Haunt: Swap your entire hand with target player."},ADMIN:{id:"ADMIN",name:"Sys Admin",icon:J1,color:"text-red-500",bg:"bg-red-950/50",border:"border-red-600",passive:"Hand Limit increased by 2.",glitch:"Sudo: Force target player to discard 2 random cards."}},ar={COLLECTOR:{id:"COLLECTOR",name:"The Collector",desc:"Win if you have 5 INTEL cards in hand.",icon:fx,color:"text-cyan-400"},SABOTEUR:{id:"SABOTEUR",name:"The Saboteur",desc:"Win if you hold at least 1 of each card type: INTEL, VIRUS, PING, PATCH.",icon:vp,color:"text-lime-400"},ANARCHIST:{id:"ANARCHIST",name:"The Anarchist",desc:"Win if every living player has at least 1 VIRUS card.",icon:Im,color:"text-yellow-400"},SURVIVOR:{id:"SURVIVOR",name:"The Survivor",desc:"Win if you are the last player standing.",icon:Ep,color:"text-orange-400"},CORRUPTOR:{id:"CORRUPTOR",name:"The Corruptor",desc:"Win if you have 4 VIRUS cards. (Overrides Elimination).",icon:Z1,color:"text-fuchsia-400"}},Kx={name:"Encrypted Signal",desc:"This player's objective is hidden. It will be revealed if they activate their Glitch.",icon:$1,color:"text-slate-500"},nT={INTEL:{id:"INTEL",name:"Intel Packet",type:"RESOURCE",desc:"Collect these. Trade to swap data.",icon:ox,color:"text-cyan-300"},VIRUS:{id:"VIRUS",name:"Corrupt File",type:"HAZARD",desc:"3 Viruses = Crash. Trade to pass the bomb.",icon:vp,color:"text-lime-400"},PING:{id:"PING",name:"Ping",type:"ACTION",desc:"Target player reveals 1 random card.",icon:eT,color:"text-yellow-400"},PATCH:{id:"PATCH",name:"Patch",type:"ACTION",desc:"Discard this to remove 1 Virus from your hand.",icon:Yc,color:"text-blue-400"}},Xx=[...Array(15).fill("INTEL"),...Array(10).fill("VIRUS"),...Array(5).fill("PING"),...Array(5).fill("PATCH")],wo=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},Zd=()=>A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),A.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"})]}),Rv=()=>A.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none",children:[A.jsx(wm,{size:16,className:"text-cyan-500 animate-pulse"}),A.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase font-mono shadow-cyan-500/50 drop-shadow-md",children:"MASQUERADE PROTOCOL"})]}),$x=({players:s,onSelect:e,onSkip:i})=>A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[190] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:A.jsxs("div",{className:"bg-slate-900 border-2 border-blue-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(59,130,246,0.3)] text-center relative",children:[A.jsxs("h3",{className:"text-xl font-black text-blue-400 mb-4 uppercase tracking-widest flex items-center justify-center gap-2",children:[A.jsx(Nx,{size:24})," Passive Scan"]}),A.jsx("p",{className:"text-slate-400 text-xs mb-6",children:"Search Engine Protocol: Select a target to reveal one random data packet from their hand."}),A.jsx("div",{className:"grid gap-2 mb-4",children:s.map(a=>A.jsxs("button",{onClick:()=>e(a.id),className:"w-full p-3 bg-slate-800 hover:bg-blue-900/30 border border-slate-700 hover:border-blue-500 rounded flex items-center justify-between group transition-all",children:[A.jsx("span",{className:"font-bold text-slate-200 group-hover:text-blue-300",children:a.name}),A.jsxs("div",{className:"text-[10px] bg-slate-950 px-2 py-1 rounded text-slate-500",children:[a.hand.length," Cards"]})]},a.id))}),A.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Skip Scan"})]})}),Zx=({item:s,onClose:e,onActivateGlitch:i,canGlitch:a})=>{if(!s)return null;const o=s.passive!==void 0;return A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[170] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",onClick:e,children:A.jsxs("div",{className:"bg-slate-900 border border-cyan-500/50 p-6 rounded-xl max-w-sm w-full shadow-2xl relative",onClick:c=>c.stopPropagation(),children:[A.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:A.jsx(Go,{})}),A.jsxs("div",{className:"flex flex-col items-center text-center",children:[A.jsx("div",{className:"p-4 rounded-full bg-slate-800 mb-4 border border-slate-600",children:ta.createElement(s.icon,{size:48,className:s.color||"text-white"})}),A.jsx("h3",{className:"text-2xl font-bold text-white mb-1 uppercase tracking-widest",children:s.name}),A.jsx("div",{className:"text-xs text-slate-500 mb-6 uppercase tracking-wider",children:o?"Public Identity":"Hidden Agenda"}),A.jsx("div",{className:"space-y-4 w-full text-left bg-slate-950/50 p-4 rounded border border-slate-800",children:o?A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("span",{className:"text-cyan-400 font-bold block text-xs uppercase mb-1",children:"Passive Ability"}),A.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.passive})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Glitch (Ultimate)"}),A.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.glitch})]})]}):A.jsxs("div",{children:[A.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Win Condition"}),A.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.desc})]})}),i&&A.jsx("div",{className:"mt-6 w-full",children:a?A.jsxs("button",{onClick:i,className:"w-full py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded flex items-center justify-center gap-2 animate-pulse shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:[A.jsx(Cm,{size:18})," ACTIVATE GLITCH"]}):A.jsx("div",{className:"w-full py-3 bg-slate-800 text-slate-500 font-bold rounded flex items-center justify-center gap-2 cursor-not-allowed",children:"GLITCH UNAVAILABLE"})})]})]})})},Jx=({data:s,onClose:e})=>s?A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[180] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:A.jsxs("div",{className:"bg-slate-900 border-2 border-yellow-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(234,179,8,0.3)] text-center relative",children:[A.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:A.jsx(Go,{})}),A.jsx("h3",{className:"text-xl font-black text-yellow-400 mb-2 uppercase tracking-widest",children:s.title}),A.jsx("p",{className:"text-slate-300 mb-6 font-bold",children:s.message}),s.cards&&s.cards.length>0&&A.jsx("div",{className:"flex justify-center gap-4 flex-wrap mb-6",children:s.cards.map((i,a)=>A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("div",{className:"mb-1 text-[10px] text-slate-500 uppercase tracking-wider",children:i.label}),A.jsx("div",{className:"scale-90 origin-top",children:A.jsx(iT,{type:i.type})})]},a))}),A.jsx("button",{onClick:e,className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded uppercase tracking-wider",children:"Dismiss"})]})}):null,Wx=({type:s,message:e,subtext:i,icon:a})=>A.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:A.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-xl relative overflow-hidden
      ${s==="glitch"?"bg-fuchsia-900/80 border-fuchsia-500 text-fuchsia-100":s==="success"?"bg-green-900/80 border-green-500 text-green-100":s==="failure"?"bg-red-900/80 border-red-500 text-red-100":"bg-cyan-900/80 border-cyan-500 text-cyan-100"}
    `,children:[s==="glitch"&&A.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,#fff_3px)]"}),a&&A.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border border-white/10",children:A.jsx(a,{size:64,className:"animate-pulse"})}),A.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-md mb-2 font-mono",children:e}),i&&A.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center font-mono",children:i})]})}),iT=({type:s,onClick:e,disabled:i,highlight:a,small:o,tiny:c})=>{const d=nT[s];if(!d)return A.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return A.jsx("div",{className:"w-5 h-7 rounded flex items-center justify-center bg-slate-800 border border-slate-600 shadow-sm",title:d.name,children:A.jsx(d.icon,{size:12,className:d.color})});const g=o?"w-16 h-24 p-1":"w-24 h-32 md:w-28 md:h-40 p-2";return A.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-lg border border-slate-600 bg-slate-900 shadow-lg transition-all flex flex-col items-center justify-between
        ${g}
        ${a?"ring-2 ring-cyan-400 scale-105 z-10":""}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 cursor-pointer hover:border-slate-400"}
      `,children:[A.jsx("div",{className:"w-full text-right",children:A.jsx("div",{className:`w-2 h-2 rounded-full ${d.color.replace("text","bg")} ml-auto`})}),A.jsx(d.icon,{size:o?20:32,className:d.color}),A.jsxs("div",{className:"text-center w-full",children:[A.jsx("div",{className:"text-[10px] md:text-xs font-bold text-white leading-none mb-1 font-mono",children:d.name}),!o&&A.jsx("div",{className:"text-[8px] text-slate-400 leading-tight",children:d.type})]})]})},Iv=({onClose:s})=>A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col shadow-[0_0_50px_rgba(6,182,212,0.2)] overflow-hidden font-mono",children:[A.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[A.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 flex items-center gap-2 tracking-wider",children:[A.jsx(Sm,{className:"text-cyan-500"})," SYSTEM MANUAL"]}),A.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:A.jsx(Go,{})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-slate-300",children:[A.jsxs("section",{children:[A.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2",children:[A.jsx(Rm,{size:20,className:"text-fuchsia-400"})," Objective"]}),A.jsxs("p",{className:"mb-4",children:["You are a rogue AI. You have a public"," ",A.jsx("strong",{className:"text-cyan-400",children:"Avatar"})," and a hidden"," ",A.jsx("strong",{className:"text-fuchsia-400",children:"Directive"}),". Complete your Directive to win."]})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2",children:[A.jsx(W1,{size:20,className:"text-cyan-400"})," Public Avatars"]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.values(jn).map(e=>A.jsxs("div",{className:`p-3 rounded border bg-slate-800/50 ${e.border.replace("border-","border-l-4 border-l-")}`,children:[A.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ta.createElement(e.icon,{size:16,className:e.color}),A.jsx("strong",{className:`text-sm uppercase ${e.color}`,children:e.name})]}),A.jsxs("div",{className:"text-xs space-y-1",children:[A.jsxs("div",{children:[A.jsx("span",{className:"text-slate-500 font-bold",children:"PASSIVE:"})," ",e.passive]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-fuchsia-500 font-bold",children:"GLITCH:"})," ",e.glitch]})]})]},e.id))})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2",children:[A.jsx(mx,{size:20,className:"text-fuchsia-400"})," Hidden Directives"]}),A.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Each player has one secret win condition. It is revealed only if they activate their Glitch."}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.values(ar).map(e=>A.jsxs("div",{className:"p-3 rounded border border-l-4 border-l-fuchsia-500 border-slate-700 bg-slate-800/50",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ta.createElement(e.icon,{size:16,className:e.color}),A.jsx("strong",{className:`text-sm uppercase ${e.color}`,children:e.name})]}),A.jsx("div",{className:"text-xs text-slate-300",children:e.desc})]},e.id))})]}),A.jsxs("section",{children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Turn Cycle"}),A.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm text-slate-400",children:[A.jsxs("li",{children:[A.jsx("strong",{className:"text-white",children:"Draw Phase:"})," Draw 1 Card (Miners draw 2). If deck is empty, discard pile shuffles."]}),A.jsxs("li",{children:[A.jsx("strong",{className:"text-white",children:"Action Phase:"})," Play 1 Action Card (Ping/Patch) OR"," ",A.jsx("strong",{className:"text-cyan-400",children:"Trade"})," a resource (Intel/Virus) with another player."]}),A.jsxs("li",{children:[A.jsx("strong",{className:"text-white",children:"End Phase:"})," Check for Virus Overload (3 Viruses = Crash). Discard down to Hand Limit (Default 5, Admin 7)."]})]})]}),A.jsxs("section",{children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Actions"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-400",children:[A.jsxs("li",{children:[A.jsx("strong",{className:"text-yellow-400",children:"PING:"})," Reveal 1 random card from an opponent's hand."]}),A.jsxs("li",{children:[A.jsx("strong",{className:"text-blue-400",children:"PATCH:"})," Remove 1 Virus from your hand."]}),A.jsxs("li",{children:[A.jsx("strong",{className:"text-cyan-400",children:"TRADE (Intel/Virus):"})," ","Select an Intel/Virus card, then click a player. You give them your card, you get a random card from them."]})]})]})]}),A.jsx("div",{className:"p-4 bg-slate-950 border-t border-slate-800",children:A.jsx("button",{onClick:s,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 py-3 rounded font-bold transition-all",children:"ACKNOWLEDGE"})})]})});function eN(){const[s,e]=it.useState(null),[i,a]=it.useState("menu"),[o,c]=it.useState(""),[d,g]=it.useState(""),[y,_]=it.useState(localStorage.getItem("masquerade_room_id")||""),[T,w]=it.useState(null),[M,q]=it.useState(""),[te,se]=it.useState(!1),[W,Ee]=it.useState(!1),[Ie,Te]=it.useState(!1),[We,ct]=it.useState(!1),[Fe,x]=it.useState(!1),[S,I]=it.useState(null),[V,D]=it.useState(null),[U,R]=it.useState(!1),[rt,pt]=it.useState(null),[G,ae]=it.useState([]),[ye,Pe]=it.useState(!1),Xe=it.useRef(0);it.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await gw($d,__initial_auth_token):await hw($d))();const J=vw($d,e);return()=>J()},[]),it.useEffect(()=>{const ee=J=>{if(y)return J.preventDefault(),J.returnValue="",""};return window.addEventListener("beforeunload",ee),()=>window.removeEventListener("beforeunload",ee)},[y]);const N=ee=>{ae(J=>[...J,ee])};it.useEffect(()=>{if(!y)return;const ee=Tv(pn(gn,"artifacts",Rn,"public","data","rooms",y),J=>{if(J.exists()){const re=J.data(),he=re.players.find(ne=>ne.id===s?.uid);if(s&&!he){_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),q("Disconnected from server.");return}w(re),re.status==="lobby"?a("lobby"):(re.status==="playing"||re.status==="finished")&&a("game");const oe=re.players.find(ne=>ne.id===s.uid),me=re.players.findIndex(ne=>ne.id===s.uid);if(oe&&re.turnIndex===me&&oe.avatar==="SEARCH_ENGINE"&&!oe.passiveUsed?Pe(!0):Pe(!1),re.lastEvent&&re.lastEvent.id>Xe.current){const ne=re.lastEvent;if(Xe.current=ne.id,s&&ne.targetId===s.uid){let ve=null;ne.type==="PING"?ve={title:"SYSTEM ALERT: PINGED",message:`${ne.initiatorName} revealed your data:`,cards:[{type:ne.payload.revealedCard,label:"Revealed"}]}:ne.type==="TRADE"?ve={title:"DATA TRANSFER",message:`${ne.initiatorName} traded with you.`,cards:[{type:ne.payload.given,label:"You Received"},{type:ne.payload.received,label:"You Gave"}]}:ne.type==="GLITCH_ADMIN"?ve={title:"SYSTEM BREACH: SUDO",message:`${ne.initiatorName} forced deletion of data.`,cards:ne.payload.deleted.map(je=>({type:je,label:"Lost"}))}:ne.type==="GLITCH_GHOST"?ve={title:"SYSTEM BREACH: HAUNT",message:`${ne.initiatorName} swapped hands with you.`,cards:[]}:ne.type==="GLITCH_SEARCH"?ve={title:"SECURITY ALERT",message:`${ne.initiatorName} indexed (viewed) your entire hand.`,cards:[]}:ne.type==="SYSTEM_DISCARD"&&(ve={title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:ne.payload.discards.map(je=>({type:je,label:"Purged"}))}),ve&&ne.payload&&ne.payload.discards&&ne.type!=="SYSTEM_DISCARD"&&(ve.message+=" (Memory Overflow Purge)",ve.cards.push(...ne.payload.discards.map(je=>({type:je,label:"Purged"})))),ve&&N(ve)}}}else a("menu"),_(""),localStorage.removeItem("masquerade_room_id"),q("Connection Terminated (Room Closed).")});return()=>ee()},[y,s]),it.useEffect(()=>{const ee=Tv(pn(gn,"game_hub_settings","config"),J=>{J.exists()&&J.data()[Yx]?.maintenance?Ee(!0):Ee(!1)});return()=>ee()},[]);const Y=(ee,J,re,he)=>{D({type:ee,message:J,subtext:re,icon:he}),setTimeout(()=>D(null),2500)},le=async()=>{if(!o)return q("Identify yourself.");se(!0);const ee=Math.random().toString(36).substring(2,7).toUpperCase(),J={roomId:ee,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1}],deck:[],discardPile:[],turnIndex:0,logs:[],winnerId:null};await QC(pn(gn,"artifacts",Rn,"public","data","rooms",ee),J),_(ee),localStorage.setItem("masquerade_room_id",ee),se(!1)},ue=async()=>{if(!d||!o)return q("Input credentials.");se(!0);const ee=pn(gn,"artifacts",Rn,"public","data","rooms",d),J=await FC(ee);if(!J.exists()){q("Server not found."),se(!1);return}const re=J.data();if(re.status!=="lobby"){q("Session locked."),se(!1);return}if(re.players.length>=8){q("Server full."),se(!1);return}if(!re.players.find(oe=>oe.id===s.uid)){const oe=[...re.players,{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1}];await ti(ee,{players:oe})}_(d),localStorage.setItem("masquerade_room_id",d),se(!1)},we=async ee=>{if(!y)return;const J=pn(gn,"artifacts",Rn,"public","data","rooms",y),re=T.players.filter(he=>he.id!==ee);await ti(J,{players:re,logs:rr({text:"A player was removed from the session.",type:"danger",id:Date.now(),viewerId:"all"})})},De=async()=>{if(T.hostId!==s.uid)return;const ee=wo(Object.keys(jn)),J=wo(Object.keys(ar)),re=wo([...Xx]),he=T.players.map((oe,me)=>{const ne=[re.pop(),re.pop(),re.pop()];return{...oe,avatar:ee[me%ee.length],directive:J[me%J.length],hand:ne,ready:!1,passiveUsed:!1}});await ti(pn(gn,"artifacts",Rn,"public","data","rooms",y),{status:"playing",players:he,deck:re,discardPile:[],turnIndex:0,logs:[{text:"System Initialized. Masquerade Protocol Active.",type:"neutral",id:Date.now(),viewerId:"all"}]})},ke=async()=>{if(!y)return;const ee=pn(gn,"artifacts",Rn,"public","data","rooms",y);if(T.hostId===s.uid)await YC(ee);else{let re={players:T.players.filter(he=>he.id!==s.uid)};re.logs=rr({text:`${T.players.find(he=>he.id===s.uid)?.name||"User"} disconnected.`,type:"danger",id:Date.now(),viewerId:"all"}),await ti(ee,re)}_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),x(!1)},wt=async()=>{if(T.hostId!==s.uid)return;const ee=T.players.map(J=>({...J,hand:[],avatar:null,directive:null,revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1}));await ti(pn(gn,"artifacts",Rn,"public","data","rooms",y),{status:"lobby",players:ee,deck:[],discardPile:[],winnerId:null,logs:[],lastEvent:null}),x(!1)},yt=async()=>{if(!y)return;const ee=pn(gn,"artifacts",Rn,"public","data","rooms",y),J=T.players.findIndex(he=>he.id===s.uid);if(J===-1)return;const re=[...T.players];re[J].ready=!0,await ti(ee,{players:re})},Bn=async(ee,J)=>{for(const re of ee){if(re.isEliminated)continue;const he=re.directive,oe=re.hand;let me=!1;if(he==="COLLECTOR")oe.filter(ne=>ne==="INTEL").length>=5&&(me=!0);else if(he==="CORRUPTOR")oe.filter(ne=>ne==="VIRUS").length>=4&&(me=!0);else if(he==="ANARCHIST"){const ne=ee.filter(ve=>!ve.isEliminated);ne.every(ve=>ve.hand.includes("VIRUS"))&&ne.length>1&&(me=!0)}else if(he==="SABOTEUR"){const ne=oe.includes("INTEL"),ve=oe.includes("VIRUS"),je=oe.includes("PING"),nt=oe.includes("PATCH");ne&&ve&&je&&nt&&(me=!0)}else if(he==="SURVIVOR"){const ne=ee.filter(ve=>!ve.isEliminated);ne.length===1&&ne[0].id===re.id&&(me=!0)}if(me)return re.id}return null},Xi=async(ee,J,re,he,oe=null)=>{const me=ee[T.turnIndex];let ne=[];if(!me.isEliminated){const at=me.avatar==="ADMIN"?7:5;for(;me.hand.length>at;){const Ct=Math.floor(Math.random()*me.hand.length),_n=me.hand.splice(Ct,1)[0];re.push(_n),ne.push(_n),he.push({text:`${me.name} discarded excess data (${_n}).`,type:"neutral",id:Date.now()+ne.length,viewerId:"all"})}}ne.length>0&&N({title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:ne.map(at=>({type:at,label:"Purged"}))});let ve=await Bn(ee);if(ve){const Ct={players:ee.map(_n=>({..._n,ready:!1})),status:"finished",winnerId:ve,discardPile:re,logs:rr(...he,{text:"Runtime Complete. Winner found.",type:"success",id:Date.now()+2,viewerId:"all"})};oe&&(Ct.lastEvent=oe),await ti(pn(gn,"artifacts",Rn,"public","data","rooms",y),Ct);return}!me.isEliminated&&me.avatar!=="FIREWALL"&&me.hand.filter(Ct=>Ct==="VIRUS").length>=3&&(me.isEliminated=!0,re.push(...me.hand),me.hand=[],he.push({text:`SYSTEM CRASH: ${me.name} overloaded by Viruses!`,type:"danger",id:Date.now()+1,viewerId:"all"}),Y("failure","SYSTEM CRASH","Eliminated by Virus",vp));let je=(T.turnIndex+1)%ee.length,nt=0;for(;ee[je].isEliminated&&nt<ee.length;)je=(je+1)%ee.length,nt++;const $=ee[je];$.passiveUsed=!1;let ge=1;$.avatar==="MINER"&&(ge=2);for(let at=0;at<ge;at++){if(J.length===0)if(re.length>0)J=wo([...re]),re=[],he.push({text:"Deck rebooted (Reshuffled discard pile).",type:"neutral",id:Date.now()+3,viewerId:"all"});else break;J.length>0&&$.hand.push(J.pop())}if(ve=await Bn(ee),ve){const Ct={players:ee.map(_n=>({..._n,ready:!1})),status:"finished",winnerId:ve,discardPile:re,logs:rr(...he,{text:"Runtime Complete. Winner found.",type:"success",id:Date.now()+4,viewerId:"all"})};oe&&(Ct.lastEvent=oe),await ti(pn(gn,"artifacts",Rn,"public","data","rooms",y),Ct);return}he.push({text:`Processing cycle: ${$.name}`,type:"neutral",id:Date.now()+5,viewerId:"all"});const Ye={players:ee,deck:J,discardPile:re,turnIndex:je,logs:rr(...he)};oe&&(Ye.lastEvent=oe),await ti(pn(gn,"artifacts",Rn,"public","data","rooms",y),Ye)},$i=async ee=>{if(!y)return;const J=T.players.findIndex(ne=>ne.id===s.uid),re=T.players[J];if(re.passiveUsed)return;const he=pn(gn,"artifacts",Rn,"public","data","rooms",y),oe=[...T.players];oe[J].passiveUsed=!0;const me={players:oe,logs:rr({text:`${re.name} ${ee?"ran a passive background scan.":"skipped passive scan."}`,type:"neutral",id:Date.now(),viewerId:"all"})};if(ee){const ne=T.players.find(ve=>ve.id===ee);if(ne&&ne.hand.length>0){const ve=Math.floor(Math.random()*ne.hand.length),je=ne.hand[ve];N({title:"PASSIVE SCAN RESULT",message:`Scanner intercepted ${ne.name}'s packet:`,cards:[{type:je,label:"Intercepted"}]})}}await ti(he,me)},Zi=async(ee=null)=>{if(S===null)return;const J=T.players.findIndex($=>$.id===s.uid),re=T.players[J],he=re.hand[S],oe=JSON.parse(JSON.stringify(T.players));let me=[...T.deck],ne=[...T.discardPile||[]];const ve=[];let je=null;if(oe[J].hand.splice(S,1),he==="PATCH"){ne.push("PATCH");const $=oe[J].hand.indexOf("VIRUS");$>-1?(oe[J].hand.splice($,1),ne.push("VIRUS"),ve.push({text:`${re.name} ran a Patch. Virus purged.`,type:"success",id:Date.now(),viewerId:"all"})):ve.push({text:`${re.name} ran a Patch but had no Virus.`,type:"neutral",id:Date.now(),viewerId:"all"})}else if(he==="PING"){if(ne.push("PING"),!ee)return;const $=oe.find(ge=>ge.id===ee);if($.hand.length>0){const ge=Math.floor(Math.random()*$.hand.length),Ye=$.hand[ge];je={id:Date.now(),type:"PING",initiatorId:s.uid,initiatorName:re.name,targetId:ee,payload:{revealedCard:Ye}},N({title:"PING RESULT",message:`You revealed ${$.name}'s data:`,cards:[{type:Ye,label:"Revealed"}]}),ve.push({text:`PING: ${$.name} has a ${Ye}.`,type:"warning",id:Date.now(),viewerId:"all"})}}else if(!ee)ne.push(he),ve.push({text:`${re.name} discarded ${he}.`,type:"neutral",id:Date.now(),viewerId:"all"});else{const $=oe.findIndex(Ye=>Ye.id===ee),ge=oe[$];if(ge.hand.length>0){const Ye=Math.floor(Math.random()*ge.hand.length),at=ge.hand.splice(Ye,1)[0];ge.hand.push(he),oe[J].hand.push(at),je={id:Date.now(),type:"TRADE",initiatorId:s.uid,initiatorName:re.name,targetId:ee,payload:{given:he,received:at}},N({title:"TRADE COMPLETE",message:`Exchange with ${ge.name} successful.`,cards:[{type:he,label:"You Gave"},{type:at,label:"You Received"}]}),ve.push({text:`${re.name} traded data with ${ge.name}.`,type:"warning",id:Date.now(),viewerId:"all"})}else ge.hand.push(he),ve.push({text:`${re.name} transferred data to ${ge.name} (Empty hand).`,type:"neutral",id:Date.now(),viewerId:"all"})}I(null);const nt=await Bn(oe);if(nt){const ge={players:oe.map(Ye=>({...Ye,ready:!1})),status:"finished",winnerId:nt,discardPile:ne,logs:rr(...ve,{text:"Runtime Complete. Winner found.",type:"success",id:Date.now(),viewerId:"all"})};je&&(ge.lastEvent=je),await ti(pn(gn,"artifacts",Rn,"public","data","rooms",y),ge);return}await Xi(oe,me,ne,ve,je)},xn=async(ee=null)=>{const J=T.players.findIndex($=>$.id===s.uid),re=T.players[J];if(re.glitchUsed)return;if(ee){const $=T.players.find(ge=>ge.id===ee);if($&&$.avatar==="GHOST"){R(!1),Y("failure","TARGET IMMUNE","Ghost Process blocks Glitch effects.",Ep);return}}const he=JSON.parse(JSON.stringify(T.players)),oe=[...T.deck];let me=[...T.discardPile||[]];const ne=[];let ve=null;he[J].glitchUsed=!0,he[J].revealed=!0,ne.push({text:` GLITCH DETECTED: ${re.name} is ${ar[re.directive].name}!`,type:"glitch",id:Date.now(),viewerId:"all"}),Y("glitch","GLITCH ACTIVATED","Directive Revealed!",Cm);const je=re.avatar;if(je==="FIREWALL"){let $=0;he[J].hand=he[J].hand.map(ge=>ge==="VIRUS"?($++,"INTEL"):ge),N({title:"SYSTEM DECRYPTION",message:`${$} Virus(es) decrypted into Intel.`,cards:[]}),ne.push({text:"Firewall Decryption complete. Malicious code converted to valuable data.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(je==="MINER"){let $=0;for(let ge=0;ge<5;ge++){if(oe.length===0&&me.length>0){const Ye=wo([...me]);me=[],oe.push(...Ye)}oe.length>0&&(he[J].hand.push(oe.pop()),$++)}N({title:"JACKPOT",message:`You mined ${$} new data packets.`,cards:[]}),ne.push({text:"Miner hit the Jackpot. 5 Cards drawn.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(je==="GHOST"){if(!ee)return;const $=he.findIndex(Ye=>Ye.id===ee),ge=[...he[J].hand];he[J].hand=[...he[$].hand],he[$].hand=ge,ve={id:Date.now(),type:"GLITCH_GHOST",initiatorId:s.uid,initiatorName:re.name,targetId:ee,payload:{}},N({title:"GHOST HAUNT",message:`Swapped hands with ${he[$].name}.`,cards:[]}),ne.push({text:`Ghost Process Haunt. Hands swapped with ${he[$].name}.`,type:"warning",id:Date.now()+1,viewerId:"all"})}else if(je==="ADMIN"){if(!ee)return;const $=he.findIndex(at=>at.id===ee),ge=he[$];let Ye=[];if(ge.hand.length>=2){const at=ge.hand.splice(0,1)[0],Ct=ge.hand.splice(0,1)[0];me.push(at,Ct),Ye=[at,Ct]}else Ye=[...ge.hand],me.push(...ge.hand),ge.hand=[];ve={id:Date.now(),type:"GLITCH_ADMIN",initiatorId:s.uid,initiatorName:re.name,targetId:ee,payload:{deleted:Ye}},N({title:"SUDO COMMAND",message:`Forced ${ge.name} to delete ${Ye.length} data packets.`,cards:[]}),ne.push({text:`Admin Sudo command. ${ge.name} forced to delete data.`,type:"danger",id:Date.now()+1,viewerId:"all"})}else if(je==="SEARCH_ENGINE"){if(!ee)return;const $=he.find(ge=>ge.id===ee);ve={id:Date.now(),type:"GLITCH_SEARCH",initiatorId:s.uid,initiatorName:re.name,targetId:ee,payload:{}},N({title:"INDEX RESULTS",message:`${$.name}'s current database:`,cards:$.hand.map(ge=>({type:ge,label:"Held"}))}),ne.push({text:`INDEX RESULTS (${$.name}): ${$.hand.join(", ")}`,type:"glitch",id:Date.now()+1,viewerId:s.uid}),ne.push({text:`${re.name} Indexed ${$.name}'s data.`,type:"warning",id:Date.now()+2,viewerId:"all"})}R(!1);const nt=await Bn(he);if(nt){const ge={players:he.map(Ye=>({...Ye,ready:!1})),status:"finished",winnerId:nt,discardPile:me,logs:rr(...ne,{text:"Runtime Complete. Winner found.",type:"success",id:Date.now(),viewerId:"all"})};ve&&(ge.lastEvent=ve),await ti(pn(gn,"artifacts",Rn,"public","data","rooms",y),ge);return}await Xi(he,oe,me,ne,ve)};if(W)return A.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[A.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[A.jsx(_x,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),A.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),A.jsx("p",{className:"text-gray-400",children:"The AI is glitched. Wait for replaceet hardware."})]}),A.jsx("div",{className:"h-8"}),A.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:A.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:A.jsx("div",{className:"text-center pb-12 animate-pulse",children:A.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[A.jsx(wv,{size:16})," Visit Gamehub...Try our other releases..."," ",A.jsx(wv,{size:16})]})})})})]});if(i==="menu")return A.jsxs("div",{style:{overscrollBehavior:"none"},className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-4 relative overflow-hidden font-mono",children:[A.jsx(Zd,{}),Ie&&A.jsx(Iv,{onClose:()=>Te(!1)}),A.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[A.jsx(wm,{size:64,className:"text-cyan-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]"}),A.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:["MASQUERADE",A.jsx("br",{}),"PROTOCOL"]}),A.jsx("p",{className:"text-cyan-400/60 tracking-[0.2em] uppercase mt-2",children:"Social Hacking Simulation"})]}),A.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-lg w-full max-w-md shadow-2xl z-10",children:[M&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),A.jsx("input",{className:"w-full bg-black/50 border border-slate-700 p-3 rounded mb-4 text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none transition-colors",placeholder:"USER_ID",value:o,onChange:ee=>c(ee.target.value)}),A.jsxs("button",{onClick:le,disabled:te,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 transition-all hover:shadow-[0_0_15px_rgba(6,182,212,0.3)]",children:[A.jsx(Vx,{size:20})," INITIALIZE_SERVER"]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[A.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-700 p-3 rounded text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none text-center tracking-widest uppercase",placeholder:"ACCESS_CODE",value:d,onChange:ee=>g(ee.target.value.toUpperCase())}),A.jsx("button",{onClick:ue,disabled:te,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors text-slate-300",children:"CONNECT"})]}),A.jsxs("button",{onClick:()=>Te(!0),className:"w-full text-sm text-slate-500 hover:text-cyan-400 flex items-center justify-center gap-2 py-2",children:[A.jsx(Sm,{size:16})," READ_MANUAL.txt"]})]}),A.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",A.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",A.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&T){const ee=T.hostId===s.uid;return A.jsxs("div",{style:{overscrollBehavior:"none"},className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-6 relative font-mono",children:[A.jsx(Zd,{}),A.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-lg border border-cyan-500/30 shadow-2xl",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-800 pb-4",children:[A.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[A.jsx(J1,{size:20})," LOBBY:"," ",A.jsx("span",{className:"text-white",children:y})]}),A.jsx("button",{onClick:ke,className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:A.jsx(Sv,{size:16})})]}),A.jsxs("div",{className:"bg-black/40 rounded p-4 mb-8 border border-slate-800",children:[A.jsxs("h3",{className:"text-slate-500 text-xs uppercase tracking-widest mb-4",children:["Connected Clients (",T.players.length,"/8)"]}),A.jsx("div",{className:"space-y-2",children:T.players.map(J=>A.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700",children:[A.jsxs("span",{className:`font-bold flex items-center gap-2 ${J.id===s.uid?"text-cyan-400":"text-slate-400"}`,children:[A.jsx(W1,{size:14})," ",J.name,J.id===T.hostId&&A.jsx(Rm,{size:14,className:"text-yellow-500"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[A.jsx(Yc,{size:12})," ONLINE"]}),ee&&J.id!==s.uid&&A.jsx("button",{onClick:()=>we(J.id),className:"text-red-500 hover:text-red-400 p-1 hover:bg-red-900/30 rounded",title:"Kick Player",children:A.jsx(zx,{size:14})})]})]},J.id))})]}),ee?A.jsx("button",{onClick:De,disabled:T.players.length<3,className:`w-full py-4 rounded font-bold text-lg transition-all flex items-center justify-center gap-2 ${T.players.length>=3?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-[0_0_20px_rgba(6,182,212,0.4)]":"bg-slate-800 cursor-not-allowed text-slate-600"}`,children:T.players.length<3?"WAITING_FOR_USERS (Min 3)":"EXECUTE_PROTOCOL"}):A.jsx("div",{className:"text-center text-cyan-500/60 animate-pulse italic",children:"Waiting for Host execution..."})]}),A.jsx(Rv,{})]})}if(i==="game"&&T){const ee=T.players.findIndex($=>$.id===s.uid),J=T.players[ee],re=T.turnIndex===ee,he=T.hostId===s.uid,oe=S!==null?J.hand[S]:null,me=oe==="PING",ne=oe==="INTEL"||oe==="VIRUS",ve=me||ne,je=tN(J.avatar),nt=T.players.filter($=>$.id!==T.hostId).every($=>$.ready);return A.jsxs("div",{style:{overscrollBehavior:"none"},className:"min-h-screen bg-slate-950 text-cyan-100 overflow-hidden flex flex-col relative font-mono",children:[A.jsx(Zd,{}),V&&A.jsx(Wx,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),Ie&&A.jsx(Iv,{onClose:()=>Te(!1)}),rt&&A.jsx(Zx,{item:rt,canGlitch:rt.canGlitch,onClose:()=>pt(null),onActivateGlitch:rt.canGlitch?()=>{pt(null),R(!0)}:null}),G.length>0&&A.jsx(Jx,{data:G[0],onClose:()=>ae($=>$.slice(1))}),ye&&A.jsx($x,{players:T.players.filter($=>$.id!==s.uid&&!$.isEliminated),onSelect:$=>$i($),onSkip:()=>$i(null)}),A.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(wm,{size:18,className:"text-cyan-500"}),A.jsxs("span",{className:"font-bold tracking-wider hidden md:block text-cyan-100",children:["MASQUERADE://",T.roomId]}),A.jsxs("span",{className:"text-xs text-slate-500",children:["Deck: ",T.deck.length," | Bin:"," ",T.discardPile?.length||0]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>Te(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:A.jsx(Sm,{size:18})}),A.jsx("button",{onClick:()=>ct(!We),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:A.jsx(bx,{size:18})}),A.jsx("button",{onClick:()=>x(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:A.jsx(Sv,{size:18})})]})]}),A.jsxs("div",{className:"flex-1 flex flex-col p-4 max-w-6xl mx-auto w-full relative z-10",children:[A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:T.players.map(($,ge)=>{if($.id===s.uid)return null;const Ye=T.turnIndex===ge,at=re&&ve||U&&je;return A.jsxs("div",{onClick:()=>{re&&ve&&Zi($.id),U&&je&&xn($.id)},className:`
                    relative bg-slate-900/80 p-3 rounded border transition-all cursor-default
                    ${Ye?"border-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.3)]":"border-slate-700"}
                    ${at?"ring-2 ring-red-500 cursor-pointer animate-pulse bg-red-900/10":""}
                    ${$.isEliminated?"opacity-50 grayscale border-red-900":""}
                  `,children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("span",{className:"font-bold text-xs truncate flex items-center gap-1",children:[$.revealed&&A.jsx(Im,{size:12,className:"text-red-500"}),$.name]}),A.jsxs("div",{className:"flex items-center gap-1",children:[$.ready&&T.status==="finished"&&A.jsx(Yc,{size:14,className:"text-green-500"}),$.isEliminated&&A.jsx(Z1,{size:14,className:"text-red-500"})]})]}),A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx("div",{onClick:Ct=>{Ct.stopPropagation(),pt(jn[$.avatar])},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${jn[$.avatar].border} ${jn[$.avatar].bg}`,children:ta.createElement(jn[$.avatar].icon,{size:16,className:jn[$.avatar].color})}),A.jsx("div",{onClick:Ct=>{Ct.stopPropagation(),$.revealed?pt(ar[$.directive]):pt(Kx)},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${$.revealed?"border-red-500 bg-red-950":"border-slate-700 bg-slate-800"}`,children:$.revealed?ta.createElement(ar[$.directive].icon,{size:16,className:"text-red-400"}):A.jsx($1,{size:14,className:"text-slate-600"})})]}),A.jsx("div",{className:"flex gap-0.5 justify-center",children:$.hand.map((Ct,_n)=>A.jsx("div",{className:"w-2 h-4 bg-slate-700 rounded-sm"},_n))})]},$.id)})}),A.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:T.status==="finished"?A.jsxs("div",{className:"bg-slate-900/95 p-8 rounded-xl border border-cyan-500 shadow-2xl z-50 animate-in fade-in zoom-in",children:[A.jsx(Rm,{size:48,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),A.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"SIMULATION ENDED"}),A.jsxs("div",{className:"text-xl text-cyan-400 mb-6",children:["VICTOR:"," ",T.players.find($=>$.id===T.winnerId)?.name]}),he?A.jsxs("div",{className:"space-y-2",children:[A.jsxs("button",{onClick:wt,disabled:!nt,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${nt?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[A.jsx(Cx,{size:18})," SYSTEM_RESET"]}),!nt&&A.jsx("div",{className:"text-xs text-yellow-500 animate-pulse",children:"Waiting for guests to ready up..."})]}):A.jsxs("button",{onClick:yt,disabled:J.ready,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${J.ready?"bg-green-800 text-green-200 cursor-default":"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg animate-pulse"}`,children:[J.ready?A.jsx(Yc,{size:18}):A.jsx(Cm,{size:18}),J.ready?"WAITING FOR HOST":"READY FOR REBOOT"]})]}):A.jsx("div",{className:"w-full max-w-md space-y-2 pointer-events-none",children:T.logs.filter($=>$.viewerId==="all"||$.viewerId===s.uid).slice(-3).reverse().map(($,ge)=>A.jsx("div",{className:`text-xs p-2 rounded bg-black/60 border border-slate-800 ${$.type==="danger"?"text-red-400 border-red-900":$.type==="glitch"?"text-fuchsia-300 border-fuchsia-900":"text-slate-400"}`,style:{opacity:1-ge*.3},children:`> ${$.text}`},$.id))})}),A.jsxs("div",{className:"mt-auto bg-slate-900/90 border-t border-cyan-900/30 p-4 -mx-4 md:rounded-t-2xl md:mx-0 backdrop-blur-md relative z-20",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{onClick:()=>{pt({...jn[J.avatar],canGlitch:!J.glitchUsed&&!J.isEliminated})},className:`
                    flex items-center gap-3 p-2 rounded border cursor-pointer hover:bg-slate-800 transition-colors relative
                    ${jn[J.avatar].border} ${jn[J.avatar].bg}
                  `,children:[!J.glitchUsed&&!J.isEliminated&&A.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[A.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),A.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),ta.createElement(jn[J.avatar].icon,{size:32,className:jn[J.avatar].color}),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-bold text-white uppercase",children:jn[J.avatar].name}),A.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[J.glitchUsed?"Glitch Offline":"Tap for Info",A.jsx(Av,{size:8})]})]})]}),A.jsxs("div",{onClick:()=>{pt(ar[J.directive])},className:`
                  flex items-center gap-3 p-2 rounded border border-slate-700 bg-slate-800 relative cursor-pointer hover:bg-slate-700
                  ${J.revealed?"border-red-500 bg-red-900/20":""}
                `,children:[ta.createElement(ar[J.directive].icon,{size:32,className:J.revealed?"text-red-400":"text-fuchsia-400"}),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-bold text-white uppercase",children:ar[J.directive].name}),A.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[J.revealed?"REVEALED":"Tap for Info",A.jsx(Av,{size:8})]})]})]})]}),re&&A.jsx("div",{className:"flex items-center gap-4",children:A.jsx("div",{className:"text-xs text-green-400 font-bold animate-pulse",children:"AWAITING_INPUT..."})})]}),A.jsx("div",{className:"w-full overflow-x-auto pb-4 pt-6 px-4",children:A.jsx("div",{className:"flex gap-2 w-fit mx-auto",children:J.hand.map(($,ge)=>{const Ye=S===ge;return A.jsx("div",{className:`transition-all duration-200 ${Ye?"-translate-y-4":"hover:-translate-y-2"}`,children:A.jsx(iT,{type:$,onClick:()=>re?I(ge):null,highlight:Ye,disabled:!re||J.isEliminated})},ge)})})}),re&&oe&&A.jsxs("div",{className:"absolute top-0 left-0 right-0 -mt-16 flex justify-center gap-2",children:[ve?A.jsxs("div",{className:"bg-yellow-600 text-black px-4 py-2 rounded font-bold animate-bounce shadow-lg border border-yellow-400 flex items-center gap-2",children:[ne?A.jsx(ex,{size:16}):A.jsx(eT,{size:16}),"Select Target to ",ne?"Trade":"Ping"]}):A.jsxs("button",{onClick:()=>Zi(),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2",children:[A.jsx(nN,{size:16})," Execute ",nT[oe].name]}),A.jsx("button",{onClick:()=>I(null),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded",children:A.jsx(Go,{size:20})})]}),U&&A.jsxs("div",{className:"absolute inset-0 bg-slate-950/95 z-50 flex flex-col items-center justify-center rounded-t-2xl animate-in slide-in-from-bottom-10",children:[A.jsx(Im,{size:48,className:"text-red-500 mb-2 animate-pulse"}),A.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"WARNING: GLITCH DETECTED"}),A.jsxs("p",{className:"text-xs text-red-400 mb-4 max-w-xs text-center",children:["Activating your glitch will"," ",A.jsx("strong",{className:"text-white",children:"REVEAL YOUR DIRECTIVE"})," ","to all players. This cannot be undone."]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 rounded border border-slate-600 text-slate-300 hover:bg-slate-800",children:"CANCEL"}),je?A.jsx("div",{className:"px-4 py-2 rounded bg-fuchsia-900/50 text-fuchsia-200 border border-fuchsia-500 animate-pulse",children:"Select Target Player"}):A.jsx("button",{onClick:()=>xn(),className:"px-4 py-2 rounded bg-red-600 hover:bg-red-500 text-white font-bold shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"CONFIRM EXECUTION"})]})]})]})]}),We&&A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-slate-900 rounded-lg w-full max-w-md h-[60vh] flex flex-col border border-slate-700",children:[A.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between",children:[A.jsx("h3",{className:"text-white font-bold",children:"System Logs"}),A.jsx("button",{onClick:()=>ct(!1),children:A.jsx(Go,{className:"text-slate-400"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 font-mono text-xs",children:[...T.logs].filter($=>$.viewerId==="all"||$.viewerId===s.uid).reverse().map($=>A.jsxs("div",{className:`p-2 border-l-2 ${$.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":$.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,children:[A.jsxs("span",{className:"opacity-50 mr-2",children:["[",new Date($.id).toLocaleTimeString(),"]"]}),$.text]},$.id))})]})}),Fe&&A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-slate-900 rounded border border-slate-700 p-6 text-center",children:[A.jsx("h3",{className:"text-white font-bold mb-4",children:"Disconnect from Server?"}),A.jsxs("div",{className:"flex gap-4 justify-center",children:[A.jsx("button",{onClick:()=>x(!1),className:"bg-slate-700 px-4 py-2 rounded text-white",children:"Cancel"}),A.jsx("button",{onClick:ke,className:"bg-red-600 px-4 py-2 rounded text-white",children:"Disconnect"}),he&&A.jsxs("button",{onClick:wt,className:"bg-orange-600 px-4 py-2 rounded text-white flex items-center gap-1",children:[A.jsx(Sx,{size:16})," Lobby"]})]})]})}),A.jsx(Rv,{})]})}return null}function tN(s){return["GHOST","ADMIN","SEARCH_ENGINE"].includes(s)}const nN=nx;Gb.createRoot(document.getElementById("root")).render(A.jsx(it.StrictMode,{children:A.jsx(eN,{})}));
