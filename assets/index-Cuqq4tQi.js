(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Kb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Bd={exports:{}},Mo={};var J0;function Qb(){if(J0)return Mo;J0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Mo.Fragment=e,Mo.jsx=i,Mo.jsxs=i,Mo}var Z0;function Xb(){return Z0||(Z0=1,Bd.exports=Qb()),Bd.exports}var E=Xb(),Hd={exports:{}},Me={};var W0;function $b(){if(W0)return Me;W0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var re={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,oe={};function Se(O,X,le){this.props=O,this.context=X,this.refs=oe,this.updater=le||re}Se.prototype.isReactComponent={},Se.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},Se.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Oe(){}Oe.prototype=Se.prototype;function Ce(O,X,le){this.props=O,this.context=X,this.refs=oe,this.updater=le||re}var ht=Ce.prototype=new Oe;ht.constructor=Ce,ue(ht,Se.prototype),ht.isPureReactComponent=!0;var yt=Array.isArray;function Pe(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,X,le){var he=le.ref;return{$$typeof:s,type:O,key:X,ref:he!==void 0?he:null,props:le}}function V(O,X){return I(O.type,X,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return X[le]})}var x=/\/+/g;function ft(O,X){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):X.toString(36)}function xt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Pe,Pe):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,le,he,we){var Ne=typeof O;(Ne==="undefined"||Ne==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(Ne){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case s:case e:ke=!0;break;case S:return ke=O._init,F(ke(O._payload),X,le,he,we)}}if(ke)return we=we(O),ke=he===""?"."+ft(O,0):he,yt(we)?(le="",ke!=null&&(le=ke.replace(x,"$&/")+"/"),F(we,X,le,"",function(Tn){return Tn})):we!=null&&(N(we)&&(we=V(we,le+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(x,"$&/")+"/")+ke)),X.push(we)),1;ke=0;var Nt=he===""?".":he+":";if(yt(O))for(var nt=0;nt<O.length;nt++)he=O[nt],Ne=Nt+ft(he,nt),ke+=F(he,X,le,Ne,we);else if(nt=K(O),typeof nt=="function")for(O=nt.call(O),nt=0;!(he=O.next()).done;)he=he.value,Ne=Nt+ft(he,nt++),ke+=F(he,X,le,Ne,we);else if(Ne==="object"){if(typeof O.then=="function")return F(xt(O),X,le,he,we);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ae(O,X,le){if(O==null)return O;var he=[],we=0;return F(O,he,"","",function(Ne){return X.call(le,Ne,we++)}),he}function Ee(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Je=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},tt={map:ae,forEach:function(O,X,le){ae(O,function(){X.apply(this,arguments)},le)},count:function(O){var X=0;return ae(O,function(){X++}),X},toArray:function(O){return ae(O,function(X){return X})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Me.Activity=w,Me.Children=tt,Me.Component=Se,Me.Fragment=i,Me.Profiler=o,Me.PureComponent=Ce,Me.StrictMode=a,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Me.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Me.cache=function(O){return function(){return O.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(O,X,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=ue({},O.props),we=O.key;if(X!=null)for(Ne in X.key!==void 0&&(we=""+X.key),X)!A.call(X,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&X.ref===void 0||(he[Ne]=X[Ne]);var Ne=arguments.length-2;if(Ne===1)he.children=le;else if(1<Ne){for(var ke=Array(Ne),Nt=0;Nt<Ne;Nt++)ke[Nt]=arguments[Nt+2];he.children=ke}return I(O.type,we,he)},Me.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Me.createElement=function(O,X,le){var he,we={},Ne=null;if(X!=null)for(he in X.key!==void 0&&(Ne=""+X.key),X)A.call(X,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=X[he]);var ke=arguments.length-2;if(ke===1)we.children=le;else if(1<ke){for(var Nt=Array(ke),nt=0;nt<ke;nt++)Nt[nt]=arguments[nt+2];we.children=Nt}if(O&&O.defaultProps)for(he in ke=O.defaultProps,ke)we[he]===void 0&&(we[he]=ke[he]);return I(O,Ne,we)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(O){return{$$typeof:y,render:O}},Me.isValidElement=N,Me.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:Ee}},Me.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},Me.startTransition=function(O){var X=C.T,le={};C.T=le;try{var he=O(),we=C.S;we!==null&&we(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Pe,Je)}catch(Ne){Je(Ne)}finally{X!==null&&le.types!==null&&(X.types=le.types),C.T=X}},Me.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Me.use=function(O){return C.H.use(O)},Me.useActionState=function(O,X,le){return C.H.useActionState(O,X,le)},Me.useCallback=function(O,X){return C.H.useCallback(O,X)},Me.useContext=function(O){return C.H.useContext(O)},Me.useDebugValue=function(){},Me.useDeferredValue=function(O,X){return C.H.useDeferredValue(O,X)},Me.useEffect=function(O,X){return C.H.useEffect(O,X)},Me.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Me.useId=function(){return C.H.useId()},Me.useImperativeHandle=function(O,X,le){return C.H.useImperativeHandle(O,X,le)},Me.useInsertionEffect=function(O,X){return C.H.useInsertionEffect(O,X)},Me.useLayoutEffect=function(O,X){return C.H.useLayoutEffect(O,X)},Me.useMemo=function(O,X){return C.H.useMemo(O,X)},Me.useOptimistic=function(O,X){return C.H.useOptimistic(O,X)},Me.useReducer=function(O,X,le){return C.H.useReducer(O,X,le)},Me.useRef=function(O){return C.H.useRef(O)},Me.useState=function(O){return C.H.useState(O)},Me.useSyncExternalStore=function(O,X,le){return C.H.useSyncExternalStore(O,X,le)},Me.useTransition=function(){return C.H.useTransition()},Me.version="19.2.3",Me}var e_;function jm(){return e_||(e_=1,Hd.exports=$b()),Hd.exports}var We=jm();const oa=Kb(We);var qd={exports:{}},Vo={},Gd={exports:{}},Fd={};var t_;function Jb(){return t_||(t_=1,(function(s){function e(F,ae){var Ee=F.length;F.push(ae);e:for(;0<Ee;){var Je=Ee-1>>>1,tt=F[Je];if(0<o(tt,ae))F[Je]=ae,F[Ee]=tt,Ee=Je;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ae=F[0],Ee=F.pop();if(Ee!==ae){F[0]=Ee;e:for(var Je=0,tt=F.length,O=tt>>>1;Je<O;){var X=2*(Je+1)-1,le=F[X],he=X+1,we=F[he];if(0>o(le,Ee))he<tt&&0>o(we,le)?(F[Je]=we,F[he]=Ee,Je=he):(F[Je]=le,F[X]=Ee,Je=X);else if(he<tt&&0>o(we,Ee))F[Je]=we,F[he]=Ee,Je=he;else break e}}return ae}function o(F,ae){var Ee=F.sortIndex-ae.sortIndex;return Ee!==0?Ee:F.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var p=[],_=[],S=1,w=null,M=3,K=!1,re=!1,ue=!1,oe=!1,Se=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,Ce=typeof setImmediate<"u"?setImmediate:null;function ht(F){for(var ae=i(_);ae!==null;){if(ae.callback===null)a(_);else if(ae.startTime<=F)a(_),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=i(_)}}function yt(F){if(ue=!1,ht(F),!re)if(i(p)!==null)re=!0,Pe||(Pe=!0,U());else{var ae=i(_);ae!==null&&xt(yt,ae.startTime-F)}}var Pe=!1,C=-1,A=5,I=-1;function V(){return oe?!0:!(s.unstable_now()-I<A)}function N(){if(oe=!1,Pe){var F=s.unstable_now();I=F;var ae=!0;try{e:{re=!1,ue&&(ue=!1,Oe(C),C=-1),K=!0;var Ee=M;try{t:{for(ht(F),w=i(p);w!==null&&!(w.expirationTime>F&&V());){var Je=w.callback;if(typeof Je=="function"){w.callback=null,M=w.priorityLevel;var tt=Je(w.expirationTime<=F);if(F=s.unstable_now(),typeof tt=="function"){w.callback=tt,ht(F),ae=!0;break t}w===i(p)&&a(p),ht(F)}else a(p);w=i(p)}if(w!==null)ae=!0;else{var O=i(_);O!==null&&xt(yt,O.startTime-F),ae=!1}}break e}finally{w=null,M=Ee,K=!1}ae=void 0}}finally{ae?U():Pe=!1}}}var U;if(typeof Ce=="function")U=function(){Ce(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ft=x.port2;x.port1.onmessage=N,U=function(){ft.postMessage(null)}}else U=function(){Se(N,0)};function xt(F,ae){C=Se(function(){F(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var ae=3;break;default:ae=M}var Ee=M;M=ae;try{return F()}finally{M=Ee}},s.unstable_requestPaint=function(){oe=!0},s.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Ee=M;M=F;try{return ae()}finally{M=Ee}},s.unstable_scheduleCallback=function(F,ae,Ee){var Je=s.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Je+Ee:Je):Ee=Je,F){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=Ee+tt,F={id:S++,callback:ae,priorityLevel:F,startTime:Ee,expirationTime:tt,sortIndex:-1},Ee>Je?(F.sortIndex=Ee,e(_,F),i(p)===null&&F===i(_)&&(ue?(Oe(C),C=-1):ue=!0,xt(yt,Ee-Je))):(F.sortIndex=tt,e(p,F),re||K||(re=!0,Pe||(Pe=!0,U()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var ae=M;return function(){var Ee=M;M=ae;try{return F.apply(this,arguments)}finally{M=Ee}}}})(Fd)),Fd}var n_;function Zb(){return n_||(n_=1,Gd.exports=Jb()),Gd.exports}var Yd={exports:{}},dn={};var i_;function Wb(){if(i_)return dn;i_=1;var s=jm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dn.createPortal=function(p,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,S)},dn.flushSync=function(p){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=S,a.d.f()}},dn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},dn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},dn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:K}):S==="script"&&a.d.X(p,{crossOrigin:w,integrity:M,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},dn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},dn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin);a.d.L(p,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},dn.preloadModule=function(p,_){if(typeof p=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},dn.requestFormReset=function(p){a.d.r(p)},dn.unstable_batchedUpdates=function(p,_){return p(_)},dn.useFormState=function(p,_,S){return d.H.useFormState(p,_,S)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.2.3",dn}var s_;function eS(){if(s_)return Yd.exports;s_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=Wb(),Yd.exports}var r_;function tS(){if(r_)return Vo;r_=1;var s=Zb(),e=jm(),i=eS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,l=f;break}if(T===l){g=!0,l=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=h;break}if(T===l){g=!0,l=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),re=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),Oe=Symbol.for("react.consumer"),Ce=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ue:return"Fragment";case Se:return"Profiler";case oe:return"StrictMode";case yt:return"Suspense";case Pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case re:return"Portal";case Ce:return t.displayName||"Context";case Oe:return(t._context.displayName||"Context")+".Consumer";case ht:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:ft(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ft(t(n))}catch{}}return null}var xt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Je=[],tt=-1;function O(t){return{current:t}}function X(t){0>tt||(t.current=Je[tt],Je[tt]=null,tt--)}function le(t,n){tt++,Je[tt]=t.current,t.current=n}var he=O(null),we=O(null),Ne=O(null),ke=O(null);function Nt(t,n){switch(le(Ne,n),le(we,t),le(he,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?E0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=E0(n),t=T0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(he),le(he,t)}function nt(){X(he),X(we),X(Ne)}function Tn(t){t.memoizedState!==null&&le(ke,t);var n=he.current,r=T0(n,t.type);n!==r&&(le(we,t),le(he,r))}function ri(t){we.current===t&&(X(he),X(we)),ke.current===t&&(X(ke),Co._currentValue=Ee)}var Is,Cs;function Gn(t){if(Is===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Is=n&&n[1]||"",Cs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+t+Cs}var Or=!1;function Xi(t,n){if(!t||Or)return"";Or=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var z=q}Reflect.construct(t,[],J)}else{try{J.call()}catch(q){z=q}t.call(J.prototype)}}else{try{throw Error()}catch(q){z=q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var Y=`
`+R[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Or=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Gn(r):""}function Ns(t,n){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return t.child!==n&&n!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Xi(t.type,!1);case 11:return Xi(t.type.render,!1);case 1:return Xi(t.type,!0);case 31:return Gn("Activity");default:return""}}function Ds(t){try{var n="",r=null;do n+=Ns(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Rt=Object.prototype.hasOwnProperty,Dt=s.unstable_scheduleCallback,bn=s.unstable_cancelCallback,Ol=s.unstable_shouldYield,Os=s.unstable_requestPaint,Qt=s.unstable_now,Ti=s.unstable_getCurrentPriorityLevel,Mr=s.unstable_ImmediatePriority,Ms=s.unstable_UserBlockingPriority,bi=s.unstable_NormalPriority,_a=s.unstable_LowPriority,W=s.unstable_IdlePriority,G=s.log,ie=s.unstable_setDisableYieldValue,ne=null,ee=null;function _e(t){if(typeof G=="function"&&ie(t),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(ne,t)}catch{}}var $=Math.clz32?Math.clz32:ze,ce=Math.log,ve=Math.LN2;function ze(t){return t>>>=0,t===0?32:31-(ce(t)/ve|0)|0}var Be=256,me=262144,B=4194304;function ge(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Te(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ge(l):(g&=T,g!==0?h=ge(g):r||(r=T&~t,r!==0&&(h=ge(r))))):(T=l&~f,T!==0?h=ge(T):g!==0?h=ge(g):r||(r=l&~t,r!==0&&(h=ge(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ge(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var t=B;return B<<=1,(B&62914560)===0&&(B=4194304),t}function Si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Vr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var Y=31-$(r),J=1<<Y;T[Y]=0,R[Y]=-1;var z=P[Y];if(z!==null)for(P[Y]=null,Y=0;Y<z.length;Y++){var q=z[Y];q!==null&&(q.lane&=-536870913)}r&=~J}l!==0&&kr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function kr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-$(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Ml(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-$(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Vl(t,n){var r=n&-n;return r=(r&42)!==0?1:Ur(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ur(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:G0(t.type))}function ai(t,n){var r=ae.p;try{return ae.p=t,n()}finally{ae.p=r}}var li=Math.random().toString(36).slice(2),Ut="__reactFiber$"+li,Wt="__reactProps$"+li,Ai="__reactContainer$"+li,va="__reactEvents$"+li,Yh="__reactListeners$"+li,vu="__reactHandles$"+li,Eu="__reactResources$"+li,wi="__reactMarker$"+li;function Ea(t){delete t[Ut],delete t[Wt],delete t[va],delete t[Yh],delete t[vu]}function xi(t){var n=t[Ut];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ai]||r[Ut]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=I0(t);t!==null;){if(r=t[Ut])return r;t=I0(t)}return n}t=r,r=t.parentNode}return null}function Fn(t){if(t=t[Ut]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ri(t){var n=t[Eu];return n||(n=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[wi]=!0}var kl=new Set,Ul={};function Ii(t,n){Ci(t,n),Ci(t+"Capture",n)}function Ci(t,n){for(Ul[t]=n,t=0;t<n.length;t++)kl.add(n[t])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},Pl={};function Tu(t){return Rt.call(Pl,t)?!0:Rt.call(jl,t)?!1:Ll.test(t)?Pl[t]=!0:(jl[t]=!0,!1)}function Ta(t,n,r){if(Tu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function jt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ot(t){if(!t._valueTracker){var n=ks(t)?"checked":"value";t._valueTracker=zl(t,n,""+t[n])}}function Lr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function An(t){return t.replace(jr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ba(t,n,r,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Bl(t,g,en(n)):r!=null?Bl(t,g,en(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function bu(t,n,r,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ot(t);return}r=r!=null?""+en(r):"",n=n!=null?""+en(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ot(t)}function Bl(t,n,r){n==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Us(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+en(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Su(t,n,r){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+en(r):""}function Ls(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(xt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=en(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),ot(t)}function wn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Au.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ql(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Hl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Hl(t,f,n[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return js.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var Gl=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,Di=null;function Pr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var r=t[Wt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ba(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Wt]||null;if(!h)throw Error(a(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Lr(l)}break e;case"textarea":Su(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Us(t,!!r.multiple,n,!1)}}}var wa=!1;function zs(t,n,r){if(wa)return t(n,r);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Ps!==null||Di!==null)&&(_c(),Ps&&(n=Ps,t=Di,Di=Ps=null,Pr(n),t)))for(n=0;n<t.length;n++)Pr(t[n])}}function ui(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Wt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Kn)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){zr=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{zr=!1}var Oi=null,Fl=null,Br=null;function Yl(){if(Br)return Br;var t,n=Fl,r=n.length,l,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return Br=h.slice(t,1<l?1-l:void 0)}function Hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function ci(){return!1}function sn(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:ci,this.isPropagationStopped=ci,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=sn(Zi),Bs=w({},Zi,{view:0,detail:0}),Kl=sn(Bs),Hs,xa,Vi,Ra=w({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Hs=t.screenX-Vi.screenX,xa=t.screenY-Vi.screenY):xa=Hs=0,Vi=t),Hs)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Ql=sn(Ra),qr=w({},Ra,{dataTransfer:0}),xu=sn(qr),Ru=w({},Bs,{relatedTarget:0}),Gr=sn(Ru),Xl=w({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=sn(Xl),Ia=w({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=sn(Ia),Nu=w({},Zi,{data:0}),ki=sn(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mu[t])?!!n[t]:!1}function qs(){return Vu}var _n=w({},Bs,{key:function(t){if(t.key){var n=Du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=sn(_n),Uu=w({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=sn(Uu),u=w({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),m=sn(u),v=w({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=sn(v),L=w({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=sn(L),se=w({},Zi,{newState:0,oldState:0}),Ue=sn(se),Ot=[9,13,27,32],rt=Kn&&"CompositionEvent"in window,bt=null;Kn&&"documentMode"in document&&(bt=document.documentMode);var Qn=Kn&&"TextEvent"in window&&!bt,Ui=Kn&&(!rt||bt&&8<bt&&11>=bt),hi=" ",fi=!1;function Fr(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function yT(t,n){switch(t){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return t=n.data,t===hi&&fi?null:t;default:return null}}function _T(t,n){if(Na)return t==="compositionend"||!rt&&Fr(t,n)?(t=Yl(),Br=Fl=Oi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!vT[t.type]:n==="textarea"}function Op(t,n,r,l){Ps?Di?Di.push(l):Di=[l]:Ps=l,n=wc(n,"onChange"),0<n.length&&(r=new Mi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var $l=null,Jl=null;function ET(t){m0(t,0)}function Lu(t){var n=Vn(t);if(Lr(n))return t}function Mp(t,n){if(t==="change")return n}var Vp=!1;if(Kn){var Kh;if(Kn){var Qh="oninput"in document;if(!Qh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Qh=typeof kp.oninput=="function"}Kh=Qh}else Kh=!1;Vp=Kh&&(!document.documentMode||9<document.documentMode)}function Up(){$l&&($l.detachEvent("onpropertychange",Lp),Jl=$l=null)}function Lp(t){if(t.propertyName==="value"&&Lu(Jl)){var n=[];Op(n,Jl,t,Yn(t)),zs(ET,n)}}function TT(t,n,r){t==="focusin"?(Up(),$l=n,Jl=r,$l.attachEvent("onpropertychange",Lp)):t==="focusout"&&Up()}function bT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Jl)}function ST(t,n){if(t==="click")return Lu(n)}function AT(t,n){if(t==="input"||t==="change")return Lu(n)}function wT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:wT;function Zl(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Rt.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,n){var r=jp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jp(r)}}function zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ni(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ni(t.document)}return n}function Xh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var xT=Kn&&"documentMode"in document&&11>=document.documentMode,Da=null,$h=null,Wl=null,Jh=!1;function Hp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jh||Da==null||Da!==Ni(l)||(l=Da,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wl&&Zl(Wl,l)||(Wl=l,l=wc($h,"onSelect"),0<l.length&&(n=new Mi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Zh={},qp={};Kn&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Kr(t){if(Zh[t])return Zh[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in qp)return Zh[t]=n[r];return t}var Gp=Kr("animationend"),Fp=Kr("animationiteration"),Yp=Kr("animationstart"),RT=Kr("transitionrun"),IT=Kr("transitionstart"),CT=Kr("transitioncancel"),Kp=Kr("transitionend"),Qp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function di(t,n){Qp.set(t,n),Ii(n,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Ma=0,ef=0;function Pu(){for(var t=Ma,n=ef=Ma=0;n<t;){var r=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Xp(r,h,f)}}function zu(t,n,r,l){Xn[Ma++]=t,Xn[Ma++]=n,Xn[Ma++]=r,Xn[Ma++]=l,ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function tf(t,n,r,l){return zu(t,n,r,l),Bu(t)}function Qr(t,n){return zu(t,null,null,n),Bu(t)}function Xp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-$(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Bu(t){if(50<bo)throw bo=0,hd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function NT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,r,l){return new NT(t,n,r,l)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,n){var r=t.alternate;return r===null?(r=Ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function $p(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Hu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")nf(t)&&(g=1);else if(typeof t=="string")g=kb(t,r,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Ln(31,r,n,h),t.elementType=I,t.lanes=f,t;case ue:return Xr(r.children,h,f,n);case oe:g=8,h|=24;break;case Se:return t=Ln(12,r,n,h|2),t.elementType=Se,t.lanes=f,t;case yt:return t=Ln(13,r,n,h),t.elementType=yt,t.lanes=f,t;case Pe:return t=Ln(19,r,n,h),t.elementType=Pe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ce:g=10;break e;case Oe:g=9;break e;case ht:g=11;break e;case C:g=14;break e;case A:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Ln(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Xr(t,n,r,l){return t=Ln(7,t,l,n),t.lanes=r,t}function sf(t,n,r){return t=Ln(6,t,null,n),t.lanes=r,t}function Jp(t){var n=Ln(18,null,null,0);return n.stateNode=t,n}function rf(t,n,r){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Zp=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var r=Zp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ds(n)},Zp.set(t,n),n)}return{value:t,source:n,stack:Ds(n)}}var ka=[],Ua=0,qu=null,eo=0,Jn=[],Zn=0,Gs=null,Li=1,ji="";function ts(t,n){ka[Ua++]=eo,ka[Ua++]=qu,qu=t,eo=n}function Wp(t,n,r){Jn[Zn++]=Li,Jn[Zn++]=ji,Jn[Zn++]=Gs,Gs=t;var l=Li;t=ji;var h=32-$(l)-1;l&=~(1<<h),r+=1;var f=32-$(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Li=1<<32-$(n)+h|r<<h|l,ji=f+t}else Li=1<<f|r<<h|l,ji=t}function af(t){t.return!==null&&(ts(t,1),Wp(t,1,0))}function lf(t){for(;t===qu;)qu=ka[--Ua],ka[Ua]=null,eo=ka[--Ua],ka[Ua]=null;for(;t===Gs;)Gs=Jn[--Zn],Jn[Zn]=null,ji=Jn[--Zn],Jn[Zn]=null,Li=Jn[--Zn],Jn[Zn]=null}function eg(t,n){Jn[Zn++]=Li,Jn[Zn++]=ji,Jn[Zn++]=Gs,Li=n.id,ji=n.overflow,Gs=t}var rn=null,vt=null,Ze=!1,Fs=null,Wn=!1,of=Error(a(519));function Ys(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to($n(n,t)),of}function tg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ut]=t,n[Wt]=l,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(r=0;r<Ao.length;r++)qe(Ao[r],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":qe("invalid",n),bu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",n);break;case"textarea":qe("invalid",n),Ls(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||_0(n.textContent,r)?(l.popover!=null&&(qe("beforetoggle",n),qe("toggle",n)),l.onScroll!=null&&qe("scroll",n),l.onScrollEnd!=null&&qe("scrollend",n),l.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||Ys(t,!0)}function ng(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:rn=rn.return}}function La(t){if(t!==rn)return!1;if(!Ze)return ng(t),Ze=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||xd(t.type,t.memoizedProps)),r=!r),r&&vt&&Ys(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=R0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=R0(t)}else n===27?(n=vt,ar(t.type)?(t=Dd,Dd=null,vt=t):vt=n):vt=rn?ti(t.stateNode.nextSibling):null;return!0}function $r(){vt=rn=null,Ze=!1}function uf(){var t=Fs;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),Fs=null),t}function to(t){Fs===null?Fs=[t]:Fs.push(t)}var cf=O(null),Jr=null,ns=null;function Ks(t,n,r){le(cf,n._currentValue),n._currentValue=r}function is(t){t._currentValue=cf.current,X(cf)}function hf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ff(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),hf(f.return,r,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),hf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ja(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Un(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Co):t=[Co])}h=h.return}t!==null&&ff(n,t,r,l),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Jr=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return ig(Jr,t)}function Fu(t,n){return Jr===null&&Zr(t),ig(t,n)}function ig(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ns===null){if(t===null)throw Error(a(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return r}var DT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},OT=s.unstable_scheduleCallback,MT=s.unstable_NormalPriority,Pt={$$typeof:Ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new DT,data:new Map,refCount:0}}function no(t){t.refCount--,t.refCount===0&&OT(MT,function(){t.controller.abort()})}var io=null,mf=0,Pa=0,za=null;function VT(t,n){if(io===null){var r=io=[];mf=0,Pa=yd(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return mf++,n.then(sg,sg),n}function sg(){if(--mf===0&&io!==null){za!==null&&(za.status="fulfilled");var t=io;io=null,Pa=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function kT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var rg=F.S;F.S=function(t,n){Hy=Qt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&VT(t,n),rg!==null&&rg(t,n)};var Wr=O(null);function pf(){var t=Wr.current;return t!==null?t:_t.pooledCache}function Yu(t,n){n===null?le(Wr,Wr.current):le(Wr,n.pool)}function ag(){var t=pf();return t===null?null:{parent:Pt._currentValue,pool:t}}var Ba=Error(a(460)),gf=Error(a(474)),Ku=Error(a(542)),Qu={then:function(){}};function lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function og(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(oi,oi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw ta=n,Ba}}function ea(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ta=r,Ba):r}}var ta=null;function ug(){if(ta===null)throw Error(a(459));var t=ta;return ta=null,t}function cg(t){if(t===Ba||t===Ku)throw Error(a(483))}var Ha=null,so=0;function Xu(t){var n=so;return so+=1,Ha===null&&(Ha=[]),og(Ha,t,n)}function ro(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=es(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,j,Q){return D===null||D.tag!==6?(D=sf(j,k.mode,Q),D.return=k,D):(D=h(D,j),D.return=k,D)}function R(k,D,j,Q){var be=j.type;return be===ue?Y(k,D,j.props.children,Q,j.key):D!==null&&(D.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&ea(be)===D.type)?(D=h(D,j.props),ro(D,j),D.return=k,D):(D=Hu(j.type,j.key,j.props,null,k.mode,Q),ro(D,j),D.return=k,D)}function P(k,D,j,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=rf(j,k.mode,Q),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function Y(k,D,j,Q,be){return D===null||D.tag!==7?(D=Xr(j,k.mode,Q,be),D.return=k,D):(D=h(D,j),D.return=k,D)}function J(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=sf(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return j=Hu(D.type,D.key,D.props,null,k.mode,j),ro(j,D),j.return=k,j;case re:return D=rf(D,k.mode,j),D.return=k,D;case A:return D=ea(D),J(k,D,j)}if(xt(D)||U(D))return D=Xr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return J(k,Xu(D),j);if(D.$$typeof===Ce)return J(k,Fu(k,D),j);$u(k,D)}return null}function z(k,D,j,Q){var be=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return be!==null?null:T(k,D,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case K:return j.key===be?R(k,D,j,Q):null;case re:return j.key===be?P(k,D,j,Q):null;case A:return j=ea(j),z(k,D,j,Q)}if(xt(j)||U(j))return be!==null?null:Y(k,D,j,Q,null);if(typeof j.then=="function")return z(k,D,Xu(j),Q);if(j.$$typeof===Ce)return z(k,D,Fu(k,j),Q);$u(k,j)}return null}function q(k,D,j,Q,be){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(j)||null,T(D,k,""+Q,be);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return k=k.get(Q.key===null?j:Q.key)||null,R(D,k,Q,be);case re:return k=k.get(Q.key===null?j:Q.key)||null,P(D,k,Q,be);case A:return Q=ea(Q),q(k,D,j,Q,be)}if(xt(Q)||U(Q))return k=k.get(j)||null,Y(D,k,Q,be,null);if(typeof Q.then=="function")return q(k,D,j,Xu(Q),be);if(Q.$$typeof===Ce)return q(k,D,j,Fu(D,Q),be);$u(D,Q)}return null}function de(k,D,j,Q){for(var be=null,it=null,pe=D,je=D=0,Ye=null;pe!==null&&je<j.length;je++){pe.index>je?(Ye=pe,pe=null):Ye=pe.sibling;var st=z(k,pe,j[je],Q);if(st===null){pe===null&&(pe=Ye);break}t&&pe&&st.alternate===null&&n(k,pe),D=f(st,D,je),it===null?be=st:it.sibling=st,it=st,pe=Ye}if(je===j.length)return r(k,pe),Ze&&ts(k,je),be;if(pe===null){for(;je<j.length;je++)pe=J(k,j[je],Q),pe!==null&&(D=f(pe,D,je),it===null?be=pe:it.sibling=pe,it=pe);return Ze&&ts(k,je),be}for(pe=l(pe);je<j.length;je++)Ye=q(pe,k,je,j[je],Q),Ye!==null&&(t&&Ye.alternate!==null&&pe.delete(Ye.key===null?je:Ye.key),D=f(Ye,D,je),it===null?be=Ye:it.sibling=Ye,it=Ye);return t&&pe.forEach(function(hr){return n(k,hr)}),Ze&&ts(k,je),be}function xe(k,D,j,Q){if(j==null)throw Error(a(151));for(var be=null,it=null,pe=D,je=D=0,Ye=null,st=j.next();pe!==null&&!st.done;je++,st=j.next()){pe.index>je?(Ye=pe,pe=null):Ye=pe.sibling;var hr=z(k,pe,st.value,Q);if(hr===null){pe===null&&(pe=Ye);break}t&&pe&&hr.alternate===null&&n(k,pe),D=f(hr,D,je),it===null?be=hr:it.sibling=hr,it=hr,pe=Ye}if(st.done)return r(k,pe),Ze&&ts(k,je),be;if(pe===null){for(;!st.done;je++,st=j.next())st=J(k,st.value,Q),st!==null&&(D=f(st,D,je),it===null?be=st:it.sibling=st,it=st);return Ze&&ts(k,je),be}for(pe=l(pe);!st.done;je++,st=j.next())st=q(pe,k,je,st.value,Q),st!==null&&(t&&st.alternate!==null&&pe.delete(st.key===null?je:st.key),D=f(st,D,je),it===null?be=st:it.sibling=st,it=st);return t&&pe.forEach(function(Yb){return n(k,Yb)}),Ze&&ts(k,je),be}function gt(k,D,j,Q){if(typeof j=="object"&&j!==null&&j.type===ue&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case K:e:{for(var be=j.key;D!==null;){if(D.key===be){if(be=j.type,be===ue){if(D.tag===7){r(k,D.sibling),Q=h(D,j.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&ea(be)===D.type){r(k,D.sibling),Q=h(D,j.props),ro(Q,j),Q.return=k,k=Q;break e}r(k,D);break}else n(k,D);D=D.sibling}j.type===ue?(Q=Xr(j.props.children,k.mode,Q,j.key),Q.return=k,k=Q):(Q=Hu(j.type,j.key,j.props,null,k.mode,Q),ro(Q,j),Q.return=k,k=Q)}return g(k);case re:e:{for(be=j.key;D!==null;){if(D.key===be)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){r(k,D.sibling),Q=h(D,j.children||[]),Q.return=k,k=Q;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Q=rf(j,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return j=ea(j),gt(k,D,j,Q)}if(xt(j))return de(k,D,j,Q);if(U(j)){if(be=U(j),typeof be!="function")throw Error(a(150));return j=be.call(j),xe(k,D,j,Q)}if(typeof j.then=="function")return gt(k,D,Xu(j),Q);if(j.$$typeof===Ce)return gt(k,D,Fu(k,j),Q);$u(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,j),Q.return=k,k=Q):(r(k,D),Q=sf(j,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,D)}return function(k,D,j,Q){try{so=0;var be=gt(k,D,j,Q);return Ha=null,be}catch(pe){if(pe===Ba||pe===Ku)throw pe;var it=Ln(29,pe,null,k.mode);return it.lanes=Q,it.return=k,it}}}var na=hg(!0),fg=hg(!1),Qs=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Bu(t),Xp(t,null,r),n}return zu(t,l,n,r),Bu(t)}function ao(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ml(t,r)}}function vf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ef=!1;function lo(){if(Ef){var t=za;if(t!==null)throw t}}function oo(t,n,r,l){Ef=!1;var h=t.updateQueue;Qs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==g&&(T===null?Y.firstBaseUpdate=P:T.next=P,Y.lastBaseUpdate=R))}if(f!==null){var J=h.baseState;g=0,Y=P=R=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Fe&z)===z:(l&z)===z){z!==0&&z===Pa&&(Ef=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,xe=T;z=n;var gt=r;switch(xe.tag){case 1:if(de=xe.payload,typeof de=="function"){J=de.call(gt,J,z);break e}J=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=xe.payload,z=typeof de=="function"?de.call(gt,J,z):de,z==null)break e;J=w({},J,z);break e;case 2:Qs=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(P=Y=q,R=J):Y=Y.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(R=J),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),tr|=g,t.lanes=g,t.memoizedState=J}}function dg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function mg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)dg(r[t],n)}var qa=O(null),Ju=O(0);function pg(t,n){t=fs,le(Ju,t),le(qa,n),fs=t|n.baseLanes}function Tf(){le(Ju,fs),le(qa,qa.current)}function bf(){fs=Ju.current,X(qa),X(Ju)}var jn=O(null),ei=null;function Js(t){var n=t.alternate;le(Mt,Mt.current&1),le(jn,t),ei===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ei=t)}function Sf(t){le(Mt,Mt.current),le(jn,t),ei===null&&(ei=t)}function gg(t){t.tag===22?(le(Mt,Mt.current),le(jn,t),ei===null&&(ei=t)):Zs()}function Zs(){le(Mt,Mt.current),le(jn,jn.current)}function Pn(t){X(jn),ei===t&&(ei=null),X(Mt)}var Mt=O(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Cd(r)||Nd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,Le=null,mt=null,zt=null,Wu=!1,Ga=!1,ia=!1,ec=0,uo=0,Fa=null,UT=0;function It(){throw Error(a(321))}function Af(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Un(t[r],n[r]))return!1;return!0}function wf(t,n,r,l,h,f){return ss=f,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Wg:zf,ia=!1,f=r(l,h),ia=!1,Ga&&(f=_g(n,r,l,h)),yg(t),f}function yg(t){F.H=fo;var n=mt!==null&&mt.next!==null;if(ss=0,zt=mt=Le=null,Wu=!1,uo=0,Fa=null,n)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&Gu(t)&&(Bt=!0))}function _g(t,n,r,l){Le=t;var h=0;do{if(Ga&&(Fa=null),uo=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,zt=mt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ey,f=n(r,l)}while(Ga);return f}function LT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?co(n):n,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(Le.flags|=1024),n}function xf(){var t=ec!==0;return ec=0,t}function Rf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function If(t){if(Wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wu=!1}ss=0,zt=mt=Le=null,Ga=!1,uo=ec=0,Fa=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Le.memoizedState=zt=t:zt=zt.next=t,zt}function Vt(){if(mt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var n=zt===null?Le.memoizedState:zt.next;if(n!==null)zt=n,mt=t;else{if(t===null)throw Le.alternate===null?Error(a(467)):Error(a(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},zt===null?Le.memoizedState=zt=t:zt=zt.next=t}return zt}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(t){var n=uo;return uo+=1,Fa===null&&(Fa=[]),t=og(Fa,t,n),n=Le,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Wg:zf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return co(t);if(t.$$typeof===Ce)return an(t)}throw Error(a(438,String(t)))}function Cf(t){var n=null,r=Le.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=tc(),Le.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function rs(t,n){return typeof n=="function"?n(t):n}function ic(t){var n=Vt();return Nf(n,mt,t)}function Nf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,Y=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(Fe&J)===J:(ss&J)===J){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===Pa&&(Y=!0);else if((ss&z)===z){P=P.next,z===Pa&&(Y=!0);continue}else J={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=J,g=f):R=R.next=J,Le.lanes|=z,tr|=z;J=P.action,ia&&r(f,J),f=P.hasEagerState?P.eagerState:r(f,J)}else z={lane:J,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,g=f):R=R.next=z,Le.lanes|=J,tr|=J;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!Un(f,t.memoizedState)&&(Bt=!0,Y&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Df(t){var n=Vt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Un(f,n.memoizedState)||(Bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function vg(t,n,r){var l=Le,h=Vt(),f=Ze;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Un((mt||h).memoizedState,r);if(g&&(h.memoizedState=r,Bt=!0),h=h.queue,Vf(bg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},Tg.bind(null,l,h,r,n),null),_t===null)throw Error(a(349));f||(ss&127)!==0||Eg(l,n,r)}return r}function Eg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Le.updateQueue,n===null?(n=tc(),Le.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Tg(t,n,r,l){n.value=r,n.getSnapshot=l,Sg(n)&&Ag(t)}function bg(t,n,r){return r(function(){Sg(n)&&Ag(t)})}function Sg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Un(t,r)}catch{return!0}}function Ag(t){var n=Qr(t,2);n!==null&&Nn(n,t,2)}function Of(t){var n=vn();if(typeof t=="function"){var r=t;if(t=r(),ia){_e(!0);try{r()}finally{_e(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function wg(t,n,r,l){return t.baseState=r,Nf(t,mt,typeof l=="function"?l:rs)}function jT(t,n,r,l,h){if(ac(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,xg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function xg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var T=r(h,l),R=F.S;R!==null&&R(g,T),Rg(t,n,T)}catch(P){Mf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,l),Rg(t,n,f)}catch(P){Mf(t,n,P)}}function Rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ig(t,n,l)},function(l){return Mf(t,n,l)}):Ig(t,n,r)}function Ig(t,n,r){n.status="fulfilled",n.value=r,Cg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,xg(t,r)))}function Mf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Cg(n),n=n.next;while(n!==l)}t.action=null}function Cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ng(t,n){return n}function Dg(t,n){if(Ze){var r=_t.formState;if(r!==null){e:{var l=Le;if(Ze){if(vt){t:{for(var h=vt,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=ti(h.nextSibling),l=h.data==="F!";break e}}Ys(l)}l=!1}l&&(n=r[0])}}return r=vn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},r.queue=l,r=$g.bind(null,Le,l),l.dispatch=r,l=Of(!1),f=Pf.bind(null,Le,!1,l.queue),l=vn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=jT.bind(null,Le,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Og(t){var n=Vt();return Mg(n,mt,t)}function Mg(t,n,r){if(n=Nf(t,n,Ng)[0],t=ic(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=co(n)}catch(g){throw g===Ba?Ku:g}else l=n;n=Vt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Le.flags|=2048,Ya(9,{destroy:void 0},PT.bind(null,h,r),null)),[l,f,t]}function PT(t,n){t.action=n}function Vg(t){var n=Vt(),r=mt;if(r!==null)return Mg(n,r,t);Vt(),n=n.memoizedState,r=Vt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Le.updateQueue,n===null&&(n=tc(),Le.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function kg(){return Vt().memoizedState}function sc(t,n,r,l){var h=vn();Le.flags|=t,h.memoizedState=Ya(1|n,{destroy:void 0},r,l===void 0?null:l)}function rc(t,n,r,l){var h=Vt();l=l===void 0?null:l;var f=h.memoizedState.inst;mt!==null&&l!==null&&Af(l,mt.memoizedState.deps)?h.memoizedState=Ya(n,f,r,l):(Le.flags|=t,h.memoizedState=Ya(1|n,f,r,l))}function Ug(t,n){sc(8390656,8,t,n)}function Vf(t,n){rc(2048,8,t,n)}function zT(t){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=tc(),Le.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Lg(t){var n=Vt().memoizedState;return zT({ref:n,nextImpl:t}),function(){if((at&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function jg(t,n){return rc(4,2,t,n)}function Pg(t,n){return rc(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bg(t,n,r){r=r!=null?r.concat([t]):null,rc(4,4,zg.bind(null,n,t),r)}function kf(){}function Hg(t,n){var r=Vt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Af(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function qg(t,n){var r=Vt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Af(n,l[1]))return l[0];if(l=t(),ia){_e(!0);try{t()}finally{_e(!1)}}return r.memoizedState=[l,n],l}function Uf(t,n,r){return r===void 0||(ss&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Gy(),Le.lanes|=t,tr|=t,r)}function Gg(t,n,r,l){return Un(r,n)?r:qa.current!==null?(t=Uf(t,r,l),Un(t,n)||(Bt=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(Fe&261930)===0?(Bt=!0,t.memoizedState=r):(t=Gy(),Le.lanes|=t,tr|=t,n)}function Fg(t,n,r,l,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var g=F.T,T={};F.T=T,Pf(t,!1,n,r);try{var R=h(),P=F.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=kT(R,l);ho(t,n,Y,Hn(t))}else ho(t,n,l,Hn(t))}catch(J){ho(t,n,{then:function(){},status:"rejected",reason:J},Hn())}finally{ae.p=f,g!==null&&T.types!==null&&(g.types=T.types),F.T=g}}function BT(){}function Lf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Yg(t).queue;Fg(t,h,n,Ee,r===null?BT:function(){return Kg(t),r(l)})}function Yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:Ee},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kg(t){var n=Yg(t);n.next===null&&(n=t.alternate.memoizedState),ho(t,n.next.queue,{},Hn())}function jf(){return an(Co)}function Qg(){return Vt().memoizedState}function Xg(){return Vt().memoizedState}function HT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Hn();t=Xs(r);var l=$s(n,t,r);l!==null&&(Nn(l,n,r),ao(l,n,r)),n={cache:df()},t.payload=n;return}n=n.return}}function qT(t,n,r){var l=Hn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ac(t)?Jg(n,r):(r=tf(t,n,r,l),r!==null&&(Nn(r,t,l),Zg(r,n,l)))}function $g(t,n,r){var l=Hn();ho(t,n,r,l)}function ho(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ac(t))Jg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,Un(T,g))return zu(t,n,h,0),_t===null&&Pu(),!1}catch{}if(r=tf(t,n,h,l),r!==null)return Nn(r,t,l),Zg(r,n,l),!0}return!1}function Pf(t,n,r,l){if(l={lane:2,revertLane:yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(n)throw Error(a(479))}else n=tf(t,r,l,2),n!==null&&Nn(n,t,2)}function ac(t){var n=t.alternate;return t===Le||n!==null&&n===Le}function Jg(t,n){Ga=Wu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Zg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ml(t,r)}}var fo={readContext:an,use:nc,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};fo.useEffectEvent=It;var Wg={readContext:an,use:nc,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:Ug,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,sc(4194308,4,zg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return sc(4194308,4,t,n)},useInsertionEffect:function(t,n){sc(4,2,t,n)},useMemo:function(t,n){var r=vn();n=n===void 0?null:n;var l=t();if(ia){_e(!0);try{t()}finally{_e(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=vn();if(r!==void 0){var h=r(n);if(ia){_e(!0);try{r(n)}finally{_e(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=qT.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:function(t){t=Of(t);var n=t.queue,r=$g.bind(null,Le,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:kf,useDeferredValue:function(t,n){var r=vn();return Uf(r,t,n)},useTransition:function(){var t=Of(!1);return t=Fg.bind(null,Le,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Le,h=vn();if(Ze){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),_t===null)throw Error(a(349));(Fe&127)!==0||Eg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ug(bg.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},Tg.bind(null,l,f,r,n),null),r},useId:function(){var t=vn(),n=_t.identifierPrefix;if(Ze){var r=ji,l=Li;r=(l&~(1<<32-$(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ec++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=UT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var n=vn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Pf.bind(null,Le,!0,r),r.dispatch=n,[t,n]},useMemoCache:Cf,useCacheRefresh:function(){return vn().memoizedState=HT.bind(null,Le)},useEffectEvent:function(t){var n=vn(),r={impl:t};return n.memoizedState=r,function(){if((at&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},zf={readContext:an,use:nc,useCallback:Hg,useContext:an,useEffect:Vf,useImperativeHandle:Bg,useInsertionEffect:jg,useLayoutEffect:Pg,useMemo:qg,useReducer:ic,useRef:kg,useState:function(){return ic(rs)},useDebugValue:kf,useDeferredValue:function(t,n){var r=Vt();return Gg(r,mt.memoizedState,t,n)},useTransition:function(){var t=ic(rs)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:vg,useId:Qg,useHostTransitionStatus:jf,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var r=Vt();return wg(r,mt,t,n)},useMemoCache:Cf,useCacheRefresh:Xg};zf.useEffectEvent=Lg;var ey={readContext:an,use:nc,useCallback:Hg,useContext:an,useEffect:Vf,useImperativeHandle:Bg,useInsertionEffect:jg,useLayoutEffect:Pg,useMemo:qg,useReducer:Df,useRef:kg,useState:function(){return Df(rs)},useDebugValue:kf,useDeferredValue:function(t,n){var r=Vt();return mt===null?Uf(r,t,n):Gg(r,mt.memoizedState,t,n)},useTransition:function(){var t=Df(rs)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:vg,useId:Qg,useHostTransitionStatus:jf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var r=Vt();return mt!==null?wg(r,mt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Xg};ey.useEffectEvent=Lg;function Bf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Hn(),h=Xs(l);h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,l),n!==null&&(Nn(n,t,l),ao(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Hn(),h=Xs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,l),n!==null&&(Nn(n,t,l),ao(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Hn(),l=Xs(r);l.tag=2,n!=null&&(l.callback=n),n=$s(t,l,r),n!==null&&(Nn(n,t,r),ao(n,t,r))}};function ty(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zl(r,l)||!Zl(h,f):!0}function ny(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Hf.enqueueReplaceState(n,n.state,null)}function sa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function iy(t){ju(t)}function sy(t){console.error(t)}function ry(t){ju(t)}function lc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ay(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(t,n,r){return r=Xs(r),r.tag=3,r.payload={element:null},r.callback=function(){lc(t,n)},r}function ly(t){return t=Xs(t),t.tag=3,t}function oy(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ay(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){ay(n,r,l),typeof h!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function GT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ja(n,r,h,!0),r=jn.current,r!==null){switch(r.tag){case 31:case 13:return ei===null?vc():r.alternate===null&&Ct===0&&(Ct=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),md(t,l,h)),!1;case 22:return r.flags|=65536,l===Qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),md(t,l,h)),!1}throw Error(a(435,r.tag))}return md(t,l,h),vc(),!1}if(Ze)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==of&&(t=Error(a(422),{cause:l}),to($n(t,r)))):(l!==of&&(n=Error(a(423),{cause:l}),to($n(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$n(l,r),h=qf(t.stateNode,l,h),vf(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:l});if(f=$n(f,r),To===null?To=[f]:To.push(f),Ct!==4&&(Ct=2),n===null)return!0;l=$n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=qf(r.stateNode,l,t),vf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ly(h),oy(h,t,r,l),vf(r,h),!1}r=r.return}while(r!==null);return!1}var Gf=Error(a(461)),Bt=!1;function ln(t,n,r,l){n.child=t===null?fg(n,null,r,l):na(n,t.child,r,l)}function uy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Zr(n),l=wf(t,n,r,g,f,h),T=xf(),t!==null&&!Bt?(Rf(t,n,h),as(t,n,h)):(Ze&&T&&af(n),n.flags|=1,ln(t,n,l,h),n.child)}function cy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,hy(t,n,f,l,h)):(t=Hu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(g,l)&&t.ref===n.ref)return as(t,n,h)}return n.flags|=1,t=es(f,l),t.ref=n.ref,t.return=n,n.child=t}function hy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Zl(f,l)&&t.ref===n.ref)if(Bt=!1,n.pendingProps=l=f,Zf(t,h))(t.flags&131072)!==0&&(Bt=!0);else return n.lanes=t.lanes,as(t,n,h)}return Ff(t,n,r,l,h)}function fy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return dy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?pg(n,f):Tf(),gg(n);else return l=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Yu(n,f.cachePool),pg(n,f),Zs(),n.memoizedState=null):(t!==null&&Yu(n,null),Tf(),Zs());return ln(t,n,h,r),n.child}function mo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,r,l,h){var f=pf();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Yu(n,null),Tf(),gg(n),t!==null&&ja(t,n,l,!0),n.childLanes=h,null}function oc(t,n){return n=cc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,r){return na(n,t.child,null,r),t=oc(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function FT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ze){if(l.mode==="hidden")return t=oc(n,l),n.lanes=536870912,mo(null,t);if(Sf(n),(t=vt)?(t=x0(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Li,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=Jp(t),r.return=n,n.child=r,rn=n,vt=null)):t=null,t===null)throw Ys(n);return n.lanes=536870912,null}return oc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Sf(n),h)if(n.flags&256)n.flags&=-257,n=my(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Bt||ja(t,n,r,!1),h=(r&t.childLanes)!==0,Bt||h){if(l=_t,l!==null&&(g=Vl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Qr(t,g),Nn(l,t,g),Gf;vc(),n=my(t,n,r)}else t=f.treeContext,vt=ti(g.nextSibling),rn=n,Ze=!0,Fs=null,Wn=!1,t!==null&&eg(n,t),n=oc(n,l),n.flags|=4096;return n}return t=es(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ff(t,n,r,l,h){return Zr(n),r=wf(t,n,r,l,void 0,h),l=xf(),t!==null&&!Bt?(Rf(t,n,h),as(t,n,h)):(Ze&&l&&af(n),n.flags|=1,ln(t,n,r,h),n.child)}function py(t,n,r,l,h,f){return Zr(n),n.updateQueue=null,r=_g(n,l,r,h),yg(t),l=xf(),t!==null&&!Bt?(Rf(t,n,f),as(t,n,f)):(Ze&&l&&af(n),n.flags|=1,ln(t,n,r,f),n.child)}function gy(t,n,r,l,h){if(Zr(n),n.stateNode===null){var f=Va,g=r.contextType;typeof g=="object"&&g!==null&&(f=an(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},yf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?an(g):Va,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Bf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Hf.enqueueReplaceState(f,f.state,null),oo(n,l,f,h),lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=sa(r,T);f.props=R;var P=f.context,Y=r.contextType;g=Va,typeof Y=="object"&&Y!==null&&(g=an(Y));var J=r.getDerivedStateFromProps;Y=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&ny(n,f,l,g),Qs=!1;var z=n.memoizedState;f.state=z,oo(n,l,f,h),lo(),P=n.memoizedState,T||z!==P||Qs?(typeof J=="function"&&(Bf(n,r,J,l),P=n.memoizedState),(R=Qs||ty(n,r,R,l,z,P,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,_f(t,n),g=n.memoizedProps,Y=sa(r,g),f.props=Y,J=n.pendingProps,z=f.context,P=r.contextType,R=Va,typeof P=="object"&&P!==null&&(R=an(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||z!==R)&&ny(n,f,l,R),Qs=!1,z=n.memoizedState,f.state=z,oo(n,l,f,h),lo();var q=n.memoizedState;g!==J||z!==q||Qs||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof T=="function"&&(Bf(n,r,T,l),q=n.memoizedState),(Y=Qs||ty(n,r,Y,l,z,q,R)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=Y):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=na(n,t.child,null,h),n.child=na(n,null,r,h)):ln(t,n,r,h),n.memoizedState=f.state,t=n.child):t=as(t,n,h),t}function yy(t,n,r,l){return $r(),n.flags|=256,ln(t,n,r,l),n.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:ag()}}function Qf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Bn),t}function _y(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ze){if(h?Js(n):Zs(),(t=vt)?(t=x0(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Li,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=Jp(t),r.return=n,n.child=r,rn=n,vt=null)):t=null,t===null)throw Ys(n);return Nd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Zs(),h=n.mode,T=cc({mode:"hidden",children:T},h),l=Xr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Kf(r),l.childLanes=Qf(t,g,r),n.memoizedState=Yf,mo(null,l)):(Js(n),Xf(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Js(n),n.flags&=-257,n=$f(t,n,r)):n.memoizedState!==null?(Zs(),n.child=t.child,n.flags|=128,n=null):(Zs(),T=l.fallback,h=n.mode,l=cc({mode:"visible",children:l.children},h),T=Xr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,na(n,t.child,null,r),l=n.child,l.memoizedState=Kf(r),l.childLanes=Qf(t,g,r),n.memoizedState=Yf,n=mo(null,l));else if(Js(n),Nd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,to({value:l,source:null,stack:null}),n=$f(t,n,r)}else if(Bt||ja(t,n,r,!1),g=(r&t.childLanes)!==0,Bt||g){if(g=_t,g!==null&&(l=Vl(g,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Qr(t,l),Nn(g,t,l),Gf;Cd(T)||vc(),n=$f(t,n,r)}else Cd(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,vt=ti(T.nextSibling),rn=n,Ze=!0,Fs=null,Wn=!1,t!==null&&eg(n,t),n=Xf(n,l.children),n.flags|=4096);return n}return h?(Zs(),T=l.fallback,h=n.mode,R=t.child,P=R.sibling,l=es(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=es(P,T):(T=Xr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,mo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Kf(r):(h=T.cachePool,h!==null?(R=Pt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ag(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Qf(t,g,r),n.memoizedState=Yf,mo(t.child,l)):(Js(n),r=t.child,t=r.sibling,r=es(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Xf(t,n){return n=cc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cc(t,n){return t=Ln(22,t,null,n),t.lanes=0,t}function $f(t,n,r){return na(n,t.child,null,r),t=Xf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),hf(t.return,n,r)}function Jf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Ey(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Mt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,le(Mt,g),ln(t,n,l,r),l=Ze?eo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,r,n);else if(t.tag===19)vy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Jf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Jf(n,!0,r,null,f,l);break;case"together":Jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function as(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ja(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=es(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=es(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Zf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function YT(t,n,r){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),Ks(n,Pt,t.memoizedState.cache),$r();break;case 27:case 5:Tn(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:Ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Js(n),n.flags|=128,null):(r&n.child.childLanes)!==0?_y(t,n,r):(Js(n),t=as(t,n,r),t!==null?t.sibling:null);Js(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ja(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Ey(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Mt,Mt.current),l)break;return null;case 22:return n.lanes=0,fy(t,n,r,n.pendingProps);case 24:Ks(n,Pt,t.memoizedState.cache)}return as(t,n,r)}function Ty(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Bt=!0;else{if(!Zf(t,r)&&(n.flags&128)===0)return Bt=!1,YT(t,n,r);Bt=(t.flags&131072)!==0}else Bt=!1,Ze&&(n.flags&1048576)!==0&&Wp(n,eo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ea(n.elementType),n.type=t,typeof t=="function")nf(t)?(l=sa(t,l),n.tag=1,n=gy(null,n,t,l,r)):(n.tag=0,n=Ff(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ht){n.tag=11,n=uy(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=cy(null,n,t,l,r);break e}}throw n=ft(t)||t,Error(a(306,n,""))}}return n;case 0:return Ff(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=sa(l,n.pendingProps),gy(t,n,l,h,r);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,_f(t,n),oo(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Ks(n,Pt,l),l!==f.cache&&ff(n,[Pt],r,!0),lo(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(t,n,l,r);break e}else if(l!==h){h=$n(Error(a(424)),n),to(h),n=yy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,vt=ti(t.firstChild),rn=n,Ze=!0,Fs=null,Wn=!0,r=fg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($r(),l===h){n=as(t,n,r);break e}ln(t,n,l,r)}n=n.child}return n;case 26:return uc(t,n),t===null?(r=O0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ze||(r=n.type,t=n.pendingProps,l=xc(Ne.current).createElement(r),l[Ut]=n,l[Wt]=t,on(l,r,t),Lt(l),n.stateNode=l):n.memoizedState=O0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Tn(n),t===null&&Ze&&(l=n.stateNode=C0(n.type,n.pendingProps,Ne.current),rn=n,Wn=!0,h=vt,ar(n.type)?(Dd=h,vt=ti(l.firstChild)):vt=h),ln(t,n,n.pendingProps.children,r),uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ze&&((h=l=vt)&&(l=bb(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,rn=n,vt=ti(l.firstChild),Wn=!1,h=!0):h=!1),h||Ys(n)),Tn(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,xd(h,f)?l=null:g!==null&&xd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=wf(t,n,LT,null,null,r),Co._currentValue=h),uc(t,n),ln(t,n,l,r),n.child;case 6:return t===null&&Ze&&((t=r=vt)&&(r=Sb(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,rn=n,vt=null,t=!0):t=!1),t||Ys(n)),null;case 13:return _y(t,n,r);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=na(n,null,l,r):ln(t,n,l,r),n.child;case 11:return uy(t,n,n.type,n.pendingProps,r);case 7:return ln(t,n,n.pendingProps,r),n.child;case 8:return ln(t,n,n.pendingProps.children,r),n.child;case 12:return ln(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ks(n,n.type,l.value),ln(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Zr(n),h=an(h),l=l(h),n.flags|=1,ln(t,n,l,r),n.child;case 14:return cy(t,n,n.type,n.pendingProps,r);case 15:return hy(t,n,n.type,n.pendingProps,r);case 19:return Ey(t,n,r);case 31:return FT(t,n,r);case 22:return fy(t,n,r,n.pendingProps);case 24:return Zr(n),l=an(Pt),t===null?(h=pf(),h===null&&(h=_t,f=df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},yf(n),Ks(n,Pt,h)):((t.lanes&r)!==0&&(_f(t,n),oo(n,null,null,r),lo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ks(n,Pt,l)):(l=f.cache,Ks(n,Pt,l),l!==h.cache&&ff(n,[Pt],r,!0))),ln(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ls(t){t.flags|=4}function Wf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw ta=Qu,gf}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L0(n))if(Qy())t.flags|=8192;else throw ta=Qu,gf}function hc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Vs():536870912,t.lanes|=n,$a|=n)}function po(t,n){if(!Ze)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Et(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function KT(t,n,r){var l=n.pendingProps;switch(lf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(n),null;case 1:return Et(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),is(Pt),nt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(La(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),Et(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ls(n),f!==null?(Et(n),by(n,f)):(Et(n),Wf(n,h,null,l,r))):f?f!==t.memoizedState?(ls(n),Et(n),by(n,f)):(Et(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ls(n),Et(n),Wf(n,h,t,l,r)),null;case 27:if(ri(n),r=Ne.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Et(n),null}t=he.current,La(n)?tg(n):(t=C0(h,l,r),n.stateNode=t,ls(n))}return Et(n),null;case 5:if(ri(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Et(n),null}if(f=he.current,La(n))tg(n);else{var g=xc(Ne.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ut]=n,f[Wt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(on(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ls(n)}}return Et(n),Wf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ne.current,La(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ut]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||_0(t.nodeValue,r)),t||Ys(n,!0)}else t=xc(t).createTextNode(l),t[Ut]=n,n.stateNode=t}return Et(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=La(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ut]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),t=!1}else r=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Et(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ut]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),hc(n,n.updateQueue),Et(n),null);case 4:return nt(),t===null&&Td(n.stateNode.containerInfo),Et(n),null;case 10:return is(n.type),Et(n),null;case 19:if(X(Mt),l=n.memoizedState,l===null)return Et(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)po(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,po(l,!1),t=f.updateQueue,n.updateQueue=t,hc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)$p(r,t),r=r.sibling;return le(Mt,Mt.current&1|2),Ze&&ts(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Qt()>gc&&(n.flags|=128,h=!0,po(l,!1),n.lanes=4194304)}else{if(!h)if(t=Zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,hc(n,t),po(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ze)return Et(n),null}else 2*Qt()-l.renderingStartTime>gc&&r!==536870912&&(n.flags|=128,h=!0,po(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Qt(),t.sibling=null,r=Mt.current,le(Mt,h?r&1|2:r&1),Ze&&ts(n,l.treeForkCount),t):(Et(n),null);case 22:case 23:return Pn(n),bf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Et(n),n.subtreeFlags&6&&(n.flags|=8192)):Et(n),r=n.updateQueue,r!==null&&hc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&X(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),is(Pt),Et(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function QT(t,n){switch(lf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return is(Pt),nt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(Mt),null;case 4:return nt(),null;case 10:return is(n.type),null;case 22:case 23:return Pn(n),bf(),t!==null&&X(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return is(Pt),null;case 25:return null;default:return null}}function Sy(t,n){switch(lf(n),n.tag){case 3:is(Pt),nt();break;case 26:case 27:case 5:ri(n);break;case 4:nt();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:X(Mt);break;case 10:is(n.type);break;case 22:case 23:Pn(n),bf(),t!==null&&X(Wr);break;case 24:is(Pt)}}function go(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(T){ct(n,n.return,T)}}function Ws(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=r,P=T;try{P()}catch(Y){ct(h,R,Y)}}}l=l.next}while(l!==f)}}catch(Y){ct(n,n.return,Y)}}function Ay(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{mg(n,r)}catch(l){ct(t,t.return,l)}}}function wy(t,n,r){r.props=sa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ct(t,n,l)}}function yo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){ct(t,n,h)}}function Pi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){ct(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ct(t,n,h)}else r.current=null}function xy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){ct(t,t.return,h)}}function ed(t,n,r){try{var l=t.stateNode;gb(l,t.type,r,n),l[Wt]=n}catch(h){ct(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oi));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(nd(t,n,r),t=t.sibling;t!==null;)nd(t,n,r),t=t.sibling}function fc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(fc(t,n,r),t=t.sibling;t!==null;)fc(t,n,r),t=t.sibling}function Iy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,l,r),n[Ut]=t,n[Wt]=r}catch(f){ct(t,t.return,f)}}var os=!1,Ht=!1,id=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,tn=null;function XT(t,n){if(t=t.containerInfo,Ad=Mc,t=Bp(t),Xh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,R=-1,P=0,Y=0,J=t,z=null;t:for(;;){for(var q;J!==r||h!==0&&J.nodeType!==3||(T=g+h),J!==f||l!==0&&J.nodeType!==3||(R=g+l),J.nodeType===3&&(g+=J.nodeValue.length),(q=J.firstChild)!==null;)z=J,J=q;for(;;){if(J===t)break t;if(z===r&&++P===h&&(T=g),z===f&&++Y===l&&(R=g),(q=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=q}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(wd={focusedElem:t,selectionRange:r},Mc=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var de=sa(r.type,h);t=l.getSnapshotBeforeUpdate(de,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){ct(r,r.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Id(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function Ny(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:cs(t,r),l&4&&go(5,r);break;case 1:if(cs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){ct(r,r.return,g)}else{var h=sa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ct(r,r.return,g)}}l&64&&Ay(r),l&512&&yo(r,r.return);break;case 3:if(cs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{mg(t,n)}catch(g){ct(r,r.return,g)}}break;case 27:n===null&&l&4&&Iy(r);case 26:case 5:cs(t,r),n===null&&l&4&&xy(r),l&512&&yo(r,r.return);break;case 12:cs(t,r);break;case 31:cs(t,r),l&4&&My(t,r);break;case 13:cs(t,r),l&4&&Vy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=sb.bind(null,r),Ab(t,r))));break;case 22:if(l=r.memoizedState!==null||os,!l){n=n!==null&&n.memoizedState!==null||Ht,h=os;var f=Ht;os=l,(Ht=n)&&!f?hs(t,r,(r.subtreeFlags&8772)!==0):cs(t,r),os=h,Ht=f}break;case 30:break;default:cs(t,r)}}function Dy(t){var n=t.alternate;n!==null&&(t.alternate=null,Dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,xn=!1;function us(t,n,r){for(r=r.child;r!==null;)Oy(t,n,r),r=r.sibling}function Oy(t,n,r){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(ne,r)}catch{}switch(r.tag){case 26:Ht||Pi(r,n),us(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ht||Pi(r,n);var l=St,h=xn;ar(r.type)&&(St=r.stateNode,xn=!1),us(t,n,r),xo(r.stateNode),St=l,xn=h;break;case 5:Ht||Pi(r,n);case 6:if(l=St,h=xn,St=null,us(t,n,r),St=l,xn=h,St!==null)if(xn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(r.stateNode)}catch(f){ct(r,n,f)}else try{St.removeChild(r.stateNode)}catch(f){ct(r,n,f)}break;case 18:St!==null&&(xn?(t=St,A0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),sl(t)):A0(St,r.stateNode));break;case 4:l=St,h=xn,St=r.stateNode.containerInfo,xn=!0,us(t,n,r),St=l,xn=h;break;case 0:case 11:case 14:case 15:Ws(2,r,n),Ht||Ws(4,r,n),us(t,n,r);break;case 1:Ht||(Pi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&wy(r,n,l)),us(t,n,r);break;case 21:us(t,n,r);break;case 22:Ht=(l=Ht)||r.memoizedState!==null,us(t,n,r),Ht=l;break;default:us(t,n,r)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(r){ct(n,n.return,r)}}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(r){ct(n,n.return,r)}}function $T(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cy),n;default:throw Error(a(435,t.tag))}}function dc(t,n){var r=$T(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=rb.bind(null,t,l);l.then(h,h)}})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(ar(T.type)){St=T.stateNode,xn=!1;break e}break;case 5:St=T.stateNode,xn=!1;break e;case 3:case 4:St=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(St===null)throw Error(a(160));Oy(f,g,h),St=null,xn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var mi=null;function ky(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),In(t),l&4&&(Ws(3,t,t.return),go(3,t),Ws(5,t,t.return));break;case 1:Rn(n,t),In(t),l&512&&(Ht||r===null||Pi(r,r.return)),l&64&&os&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=mi;if(Rn(n,t),In(t),l&512&&(Ht||r===null||Pi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,l,r),f[Ut]=t,Lt(f),l=f;break e;case"link":var g=k0("link","href",h).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;case"meta":if(g=k0("meta","content",h).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ut]=t,Lt(f),l=f}t.stateNode=l}else U0(h,t.type,t.stateNode);else t.stateNode=V0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?U0(h,t.type,t.stateNode):V0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ed(t,t.memoizedProps,r.memoizedProps)}break;case 27:Rn(n,t),In(t),l&512&&(Ht||r===null||Pi(r,r.return)),r!==null&&l&4&&ed(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Rn(n,t),In(t),l&512&&(Ht||r===null||Pi(r,r.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(de){ct(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,r!==null?r.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(Rn(n,t),In(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(de){ct(t,t.return,de)}}break;case 3:if(Cc=null,h=mi,mi=Rc(n.containerInfo),Rn(n,t),mi=h,In(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(de){ct(t,t.return,de)}id&&(id=!1,Uy(t));break;case 4:l=mi,mi=Rc(t.stateNode.containerInfo),Rn(n,t),In(t),mi=l;break;case 12:Rn(n,t),In(t);break;case 31:Rn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:Rn(n,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(pc=Qt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=os,Y=Ht;if(os=P||h,Ht=Y||R,Rn(n,t),Ht=Y,os=P,In(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||os||Ht||ra(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var J=R.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(de){ct(R,R.return,de)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(de){ct(R,R.return,de)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?w0(q,!0):w0(R.stateNode,!1)}catch(de){ct(R,R.return,de)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,dc(t,r))));break;case 19:Rn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:Rn(n,t),In(t)}}function In(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ry(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=td(t);fc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(wn(g,""),r.flags&=-33);var T=td(t);fc(t,T,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=td(t);nd(t,P,R);break;default:throw Error(a(161))}}catch(Y){ct(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),ra(n);break;case 1:Pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&wy(n,n.return,r),ra(n);break;case 27:xo(n.stateNode);case 26:case 5:Pi(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function hs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,r),go(4,f);break;case 1:if(hs(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){ct(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)dg(R[h],T)}catch(P){ct(l,l.return,P)}}r&&g&64&&Ay(f),yo(f,f.return);break;case 27:Iy(f);case 26:case 5:hs(h,f,r),r&&l===null&&g&4&&xy(f),yo(f,f.return);break;case 12:hs(h,f,r);break;case 31:hs(h,f,r),r&&g&4&&My(h,f);break;case 13:hs(h,f,r),r&&g&4&&Vy(h,f);break;case 22:f.memoizedState===null&&hs(h,f,r),yo(f,f.return);break;case 30:break;default:hs(h,f,r)}n=n.sibling}}function sd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&no(r))}function rd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t))}function pi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,r,l),n=n.sibling}function Ly(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,r,l),h&2048&&go(9,n);break;case 1:pi(t,n,r,l);break;case 3:pi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t)));break;case 12:if(h&2048){pi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){ct(n,n.return,R)}}else pi(t,n,r,l);break;case 31:pi(t,n,r,l);break;case 13:pi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,r,l):_o(t,n):f._visibility&2?pi(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(g,n);break;case 24:pi(t,n,r,l),h&2048&&rd(n.alternate,n);break;default:pi(t,n,r,l)}}function Ka(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ka(f,g,T,R,h),go(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Ka(f,g,T,R,h):_o(f,g):(Y._visibility|=2,Ka(f,g,T,R,h)),h&&P&2048&&sd(g.alternate,g);break;case 24:Ka(f,g,T,R,h),h&&P&2048&&rd(g.alternate,g);break;default:Ka(f,g,T,R,h)}n=n.sibling}}function _o(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:_o(r,l),h&2048&&sd(l.alternate,l);break;case 24:_o(r,l),h&2048&&rd(l.alternate,l);break;default:_o(r,l)}n=n.sibling}}var vo=8192;function Qa(t,n,r){if(t.subtreeFlags&vo)for(t=t.child;t!==null;)jy(t,n,r),t=t.sibling}function jy(t,n,r){switch(t.tag){case 26:Qa(t,n,r),t.flags&vo&&t.memoizedState!==null&&Ub(r,mi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,r);break;case 3:case 4:var l=mi;mi=Rc(t.stateNode.containerInfo),Qa(t,n,r),mi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vo,vo=16777216,Qa(t,n,r),vo=l):Qa(t,n,r));break;default:Qa(t,n,r)}}function Py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tn=l,By(l,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:Eo(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:Eo(t);break;case 12:Eo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mc(t)):Eo(t);break;default:Eo(t)}}function mc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tn=l,By(l,t)}Py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),mc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,mc(n));break;default:mc(n)}t=t.sibling}}function By(t,n){for(;tn!==null;){var r=tn;switch(r.tag){case 0:case 11:case 15:Ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:no(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,tn=l;else e:for(r=t;tn!==null;){l=tn;var h=l.sibling,f=l.return;if(Dy(l),l===r){tn=null;break e}if(h!==null){h.return=f,tn=h;break e}tn=f}}}var JT={getCacheForType:function(t){var n=an(Pt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return an(Pt).controller.signal}},ZT=typeof WeakMap=="function"?WeakMap:Map,at=0,_t=null,He=null,Fe=0,ut=0,zn=null,er=!1,Xa=!1,ad=!1,fs=0,Ct=0,tr=0,aa=0,ld=0,Bn=0,$a=0,To=null,Cn=null,od=!1,pc=0,Hy=0,gc=1/0,yc=null,nr=null,Xt=0,ir=null,Ja=null,ds=0,ud=0,cd=null,qy=null,bo=0,hd=null;function Hn(){return(at&2)!==0&&Fe!==0?Fe&-Fe:F.T!==null?yd():_u()}function Gy(){if(Bn===0)if((Fe&536870912)===0||Ze){var t=me;me<<=1,(me&3932160)===0&&(me=262144),Bn=t}else Bn=536870912;return t=jn.current,t!==null&&(t.flags|=32),Bn}function Nn(t,n,r){(t===_t&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&(Za(t,0),sr(t,Fe,Bn,!1)),Vr(t,r),((at&2)===0||t!==_t)&&(t===_t&&((at&2)===0&&(aa|=r),Ct===4&&sr(t,Fe,Bn,!1)),zi(t))}function Fy(t,n,r){if((at&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Ge(t,n),h=l?tb(t,n):dd(t,n,!0),f=l;do{if(h===0){Xa&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!WT(r)){h=dd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=To;var R=T.current.memoizedState.isDehydrated;if(R&&(Za(T,g).flags|=256),g=dd(T,g,!1),g!==2){if(ad&&!R){T.errorRecoveryDisabledLanes|=f,aa|=f,h=4;break e}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),sr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,Bn,!er);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=pc+300-Qt(),10<h)){if(sr(l,n,Bn,!er),Te(l,0,!0)!==0)break e;ds=n,l.timeoutHandle=b0(Yy.bind(null,l,r,Cn,yc,od,n,Bn,aa,$a,er,f,"Throttled",-0,0),h);break e}Yy(l,r,Cn,yc,od,n,Bn,aa,$a,er,f,null,-0,0)}}break}while(!0);zi(t)}function Yy(t,n,r,l,h,f,g,T,R,P,Y,J,z,q){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},jy(n,f,J);var de=(f&62914560)===f?pc-Qt():(f&4194048)===f?Hy-Qt():0;if(de=Lb(J,de),de!==null){ds=f,t.cancelPendingCommit=de(e0.bind(null,t,n,f,r,l,h,g,T,R,Y,J,null,z,q)),sr(t,f,g,!P);return}}e0(t,n,f,r,l,h,g,T,R)}function WT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~ld,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-$(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&kr(t,r,n)}function _c(){return(at&6)===0?(So(0),!1):!0}function fd(){if(He!==null){if(ut===0)var t=He.return;else t=He,ns=Jr=null,If(t),Ha=null,so=0,t=He;for(;t!==null;)Sy(t.alternate,t),t=t.return;He=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,vb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ds=0,fd(),_t=t,He=r=es(t.current,null),Fe=n,ut=0,zn=null,er=!1,Xa=Ge(t,n),ad=!1,$a=Bn=ld=aa=tr=Ct=0,Cn=To=null,od=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-$(l),f=1<<h;n|=t[h],l&=~f}return fs=n,Pu(),r}function Ky(t,n){Le=null,F.H=fo,n===Ba||n===Ku?(n=ug(),ut=3):n===gf?(n=ug(),ut=4):ut=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,He===null&&(Ct=1,lc(t,$n(n,t.current)))}function Qy(){var t=jn.current;return t===null?!0:(Fe&4194048)===Fe?ei===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===ei:!1}function Xy(){var t=F.H;return F.H=fo,t===null?fo:t}function $y(){var t=F.A;return F.A=JT,t}function vc(){Ct=4,er||(Fe&4194048)!==Fe&&jn.current!==null||(Xa=!0),(tr&134217727)===0&&(aa&134217727)===0||_t===null||sr(_t,Fe,Bn,!1)}function dd(t,n,r){var l=at;at|=2;var h=Xy(),f=$y();(_t!==t||Fe!==n)&&(yc=null,Za(t,n)),n=!1;var g=Ct;e:do try{if(ut!==0&&He!==null){var T=He,R=zn;switch(ut){case 8:fd(),g=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var P=ut;if(ut=0,zn=null,Wa(t,T,R,P),r&&Xa){g=0;break e}break;default:P=ut,ut=0,zn=null,Wa(t,T,R,P)}}eb(),g=Ct;break}catch(Y){Ky(t,Y)}while(!0);return n&&t.shellSuspendCounter++,ns=Jr=null,at=l,F.H=h,F.A=f,He===null&&(_t=null,Fe=0,Pu()),g}function eb(){for(;He!==null;)Jy(He)}function tb(t,n){var r=at;at|=2;var l=Xy(),h=$y();_t!==t||Fe!==n?(yc=null,gc=Qt()+500,Za(t,n)):Xa=Ge(t,n);e:do try{if(ut!==0&&He!==null){n=He;var f=zn;t:switch(ut){case 1:ut=0,zn=null,Wa(t,n,f,1);break;case 2:case 9:if(lg(f)){ut=0,zn=null,Zy(n);break}n=function(){ut!==2&&ut!==9||_t!==t||(ut=7),zi(t)},f.then(n,n);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:lg(f)?(ut=0,zn=null,Zy(n)):(ut=0,zn=null,Wa(t,n,f,7));break;case 5:var g=null;switch(He.tag){case 26:g=He.memoizedState;case 5:case 27:var T=He;if(g?L0(g):T.stateNode.complete){ut=0,zn=null;var R=T.sibling;if(R!==null)He=R;else{var P=T.return;P!==null?(He=P,Ec(P)):He=null}break t}}ut=0,zn=null,Wa(t,n,f,5);break;case 6:ut=0,zn=null,Wa(t,n,f,6);break;case 8:fd(),Ct=6;break e;default:throw Error(a(462))}}nb();break}catch(Y){Ky(t,Y)}while(!0);return ns=Jr=null,F.H=l,F.A=h,at=r,He!==null?0:(_t=null,Fe=0,Pu(),Ct)}function nb(){for(;He!==null&&!Ol();)Jy(He)}function Jy(t){var n=Ty(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?Ec(t):He=n}function Zy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=py(r,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=py(r,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:If(n);default:Sy(r,n),n=He=$p(n,fs),n=Ty(r,n,fs)}t.memoizedProps=t.pendingProps,n===null?Ec(t):He=n}function Wa(t,n,r,l){ns=Jr=null,If(n),Ha=null,so=0;var h=n.return;try{if(GT(t,h,n,r,Fe)){Ct=1,lc(t,$n(r,t.current)),He=null;return}}catch(f){if(h!==null)throw He=h,f;Ct=1,lc(t,$n(r,t.current)),He=null;return}n.flags&32768?(Ze||l===1?t=!0:Xa||(Fe&536870912)!==0?t=!1:(er=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wy(n,t)):Ec(n)}function Ec(t){var n=t;do{if((n.flags&32768)!==0){Wy(n,er);return}t=n.return;var r=KT(n.alternate,n,fs);if(r!==null){He=r;return}if(n=n.sibling,n!==null){He=n;return}He=n=t}while(n!==null);Ct===0&&(Ct=5)}function Wy(t,n){do{var r=QT(t.alternate,t);if(r!==null){r.flags&=32767,He=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){He=t;return}He=t=r}while(t!==null);Ct=6,He=null}function e0(t,n,r,l,h,f,g,T,R){t.cancelPendingCommit=null;do Tc();while(Xt!==0);if((at&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=ef,Fh(t,r,f,g,T,R),t===_t&&(He=_t=null,Fe=0),Ja=n,ir=t,ds=r,ud=f,cd=h,qy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ab(bi,function(){return r0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ae.p,ae.p=2,g=at,at|=4;try{XT(t,n,r)}finally{at=g,ae.p=h,F.T=l}}Xt=1,t0(),n0(),i0()}}function t0(){if(Xt===1){Xt=0;var t=ir,n=Ja,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=ae.p;ae.p=2;var h=at;at|=4;try{ky(n,t);var f=wd,g=Bp(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&zp(T.ownerDocument.documentElement,T)){if(R!==null&&Xh(T)){var P=R.start,Y=R.end;if(Y===void 0&&(Y=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(Y,T.value.length);else{var J=T.ownerDocument||document,z=J&&J.defaultView||window;if(z.getSelection){var q=z.getSelection(),de=T.textContent.length,xe=Math.min(R.start,de),gt=R.end===void 0?xe:Math.min(R.end,de);!q.extend&&xe>gt&&(g=gt,gt=xe,xe=g);var k=Pp(T,xe),D=Pp(T,gt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=J.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),xe>gt?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for(J=[],q=T;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Q=J[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Mc=!!Ad,wd=Ad=null}finally{at=h,ae.p=l,F.T=r}}t.current=n,Xt=2}}function n0(){if(Xt===2){Xt=0;var t=ir,n=Ja,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=ae.p;ae.p=2;var h=at;at|=4;try{Ny(t,n.alternate,n)}finally{at=h,ae.p=l,F.T=r}}Xt=3}}function i0(){if(Xt===4||Xt===3){Xt=0,Os();var t=ir,n=Ja,r=ds,l=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,Ja=ir=null,s0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(nr=null),$i(r),n=n.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(ne,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ae.p,ae.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{F.T=n,ae.p=h}}(ds&3)!==0&&Tc(),zi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===hd?bo++:(bo=0,hd=t):bo=0,So(0)}}function s0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,no(n)))}function Tc(){return t0(),n0(),i0(),r0()}function r0(){if(Xt!==5)return!1;var t=ir,n=ud;ud=0;var r=$i(ds),l=F.T,h=ae.p;try{ae.p=32>r?32:r,F.T=null,r=cd,cd=null;var f=ir,g=ds;if(Xt=0,Ja=ir=null,ds=0,(at&6)!==0)throw Error(a(331));var T=at;if(at|=4,zy(f.current),Ly(f,f.current,g,r),at=T,So(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(ne,f)}catch{}return!0}finally{ae.p=h,F.T=l,s0(t,n)}}function a0(t,n,r){n=$n(r,n),n=qf(t.stateNode,n,2),t=$s(t,n,2),t!==null&&(Vr(t,2),zi(t))}function ct(t,n,r){if(t.tag===3)a0(t,t,r);else for(;n!==null;){if(n.tag===3){a0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=$n(r,t),r=ly(2),l=$s(n,r,2),l!==null&&(oy(r,l,n,t),Vr(l,2),zi(l));break}}n=n.return}}function md(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new ZT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(ad=!0,h.add(r),t=ib.bind(null,t,n,r),n.then(t,t))}function ib(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,_t===t&&(Fe&r)===r&&(Ct===4||Ct===3&&(Fe&62914560)===Fe&&300>Qt()-pc?(at&2)===0&&Za(t,0):ld|=r,$a===Fe&&($a=0)),zi(t)}function l0(t,n){n===0&&(n=Vs()),t=Qr(t,n),t!==null&&(Vr(t,n),zi(t))}function sb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),l0(t,r)}function rb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),l0(t,r)}function ab(t,n){return Dt(t,n)}var bc=null,el=null,pd=!1,Sc=!1,gd=!1,rr=0;function zi(t){t!==el&&t.next===null&&(el===null?bc=el=t:el=el.next=t),Sc=!0,pd||(pd=!0,ob())}function So(t,n){if(!gd&&Sc){gd=!0;do for(var r=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-$(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,h0(l,f))}else f=Fe,f=Te(l,l===_t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ge(l,f)||(r=!0,h0(l,f));l=l.next}while(r);gd=!1}}function lb(){o0()}function o0(){Sc=pd=!1;var t=0;rr!==0&&_b()&&(t=rr);for(var n=Qt(),r=null,l=bc;l!==null;){var h=l.next,f=u0(l,n);f===0?(l.next=null,r===null?bc=h:r.next=h,h===null&&(el=r)):(r=l,(t!==0||(f&3)!==0)&&(Sc=!0)),l=h}Xt!==0&&Xt!==5||So(t),rr!==0&&(rr=0)}function u0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-$(f),T=1<<g,R=h[g];R===-1?((T&r)===0||(T&l)!==0)&&(h[g]=Sn(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=_t,r=Fe,r=Te(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bn(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ge(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&bn(l),$i(r)){case 2:case 8:r=Ms;break;case 32:r=bi;break;case 268435456:r=W;break;default:r=bi}return l=c0.bind(null,t),r=Dt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&bn(l),t.callbackPriority=2,t.callbackNode=null,2}function c0(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Tc()&&t.callbackNode!==r)return null;var l=Fe;return l=Te(t,t===_t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Fy(t,l,n),u0(t,Qt()),t.callbackNode!=null&&t.callbackNode===r?c0.bind(null,t):null)}function h0(t,n){if(Tc())return null;Fy(t,n,!0)}function ob(){Eb(function(){(at&6)!==0?Dt(Mr,lb):o0()})}function yd(){if(rr===0){var t=Pa;t===0&&(t=Be,Be<<=1,(Be&261888)===0&&(Be=256)),rr=t}return rr}function f0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function d0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ub(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=f0((h[Wt]||null).action),g=l.submitter;g&&(n=(n=g[Wt]||null)?f0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Mi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rr!==0){var R=g?d0(h,g):new FormData(h);Lf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?d0(h,g):new FormData(h),Lf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],cb=vd.toLowerCase(),hb=vd[0].toUpperCase()+vd.slice(1);di(cb,"on"+hb)}di(Gp,"onAnimationEnd"),di(Fp,"onAnimationIteration"),di(Yp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(RT,"onTransitionRun"),di(IT,"onTransitionStart"),di(CT,"onTransitionCancel"),di(Kp,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ao));function m0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Y){ju(Y)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Y){ju(Y)}h.currentTarget=null,f=R}}}}function qe(t,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var l=t+"__bubble";r.has(l)||(p0(n,t,2,!1),r.add(l))}function Ed(t,n,r){var l=0;n&&(l|=4),p0(r,t,l,n)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[Ac]){t[Ac]=!0,kl.forEach(function(r){r!=="selectionchange"&&(fb.has(r)||Ed(r,!1,t),Ed(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ac]||(n[Ac]=!0,Ed("selectionchange",!1,n))}}function p0(t,n,r,l){switch(G0(n)){case 2:var h=zb;break;case 8:h=Bb;break;default:h=Ud}r=h.bind(null,n,r,t),h=void 0,!zr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function bd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=xi(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue e}T=T.parentNode}}l=l.return}zs(function(){var P=f,Y=Yn(r),J=[];e:{var z=Qp.get(t);if(z!==void 0){var q=Mi,de=t;switch(t){case"keypress":if(Hr(r)===0)break e;case"keydown":case"keyup":q=ku;break;case"focusin":de="focus",q=Gr;break;case"focusout":de="blur",q=Gr;break;case"beforeblur":case"afterblur":q=Gr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Gp:case Fp:case Yp:q=Iu;break;case Kp:q=b;break;case"scroll":case"scrollend":q=Kl;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Wi;break;case"toggle":case"beforetoggle":q=Ue}var xe=(n&4)!==0,gt=!xe&&(t==="scroll"||t==="scrollend"),k=xe?z!==null?z+"Capture":null:z;xe=[];for(var D=P,j;D!==null;){var Q=D;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||k===null||(Q=ui(D,k),Q!=null&&xe.push(wo(D,Q,j))),gt)break;D=D.return}0<xe.length&&(z=new q(z,de,null,r,Y),J.push({event:z,listeners:xe}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Gl&&(de=r.relatedTarget||r.fromElement)&&(xi(de)||de[Ai]))break e;if((q||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,q?(de=r.relatedTarget||r.toElement,q=P,de=de?xi(de):null,de!==null&&(gt=c(de),xe=de.tag,de!==gt||xe!==5&&xe!==27&&xe!==6)&&(de=null)):(q=null,de=P),q!==de)){if(xe=Ql,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Wi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),gt=q==null?z:Vn(q),j=de==null?z:Vn(de),z=new xe(Q,D+"leave",q,r,Y),z.target=gt,z.relatedTarget=j,Q=null,xi(Y)===P&&(xe=new xe(k,D+"enter",de,r,Y),xe.target=j,xe.relatedTarget=gt,Q=xe),gt=Q,q&&de)t:{for(xe=db,k=q,D=de,j=0,Q=k;Q;Q=xe(Q))j++;Q=0;for(var be=D;be;be=xe(be))Q++;for(;0<j-Q;)k=xe(k),j--;for(;0<Q-j;)D=xe(D),Q--;for(;j--;){if(k===D||D!==null&&k===D.alternate){xe=k;break t}k=xe(k),D=xe(D)}xe=null}else xe=null;q!==null&&g0(J,z,q,xe,!1),de!==null&&gt!==null&&g0(J,gt,de,xe,!0)}}e:{if(z=P?Vn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var it=Mp;else if(Dp(z))if(Vp)it=AT;else{it=bT;var pe=TT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Sa(P.elementType)&&(it=Mp):it=ST;if(it&&(it=it(t,P))){Op(J,it,r,Y);break e}pe&&pe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Bl(z,"number",z.value)}switch(pe=P?Vn(P):window,t){case"focusin":(Dp(pe)||pe.contentEditable==="true")&&(Da=pe,$h=P,Wl=null);break;case"focusout":Wl=$h=Da=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Hp(J,r,Y);break;case"selectionchange":if(xT)break;case"keydown":case"keyup":Hp(J,r,Y)}var je;if(rt)e:{switch(t){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Na?Fr(t,r)&&(Ye="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ye="onCompositionStart");Ye&&(Ui&&r.locale!=="ko"&&(Na||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Na&&(je=Yl()):(Oi=Y,Fl="value"in Oi?Oi.value:Oi.textContent,Na=!0)),pe=wc(P,Ye),0<pe.length&&(Ye=new ki(Ye,t,null,r,Y),J.push({event:Ye,listeners:pe}),je?Ye.data=je:(je=Ca(r),je!==null&&(Ye.data=je)))),(je=Qn?yT(t,r):_T(t,r))&&(Ye=wc(P,"onBeforeInput"),0<Ye.length&&(pe=new ki("onBeforeInput","beforeinput",null,r,Y),J.push({event:pe,listeners:Ye}),pe.data=je)),ub(J,t,P,r,Y)}m0(J,n)})}function wo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function wc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,r),h!=null&&l.unshift(wo(t,h,f)),h=ui(t,n),h!=null&&l.push(wo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function db(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g0(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=ui(r,f),P!=null&&g.unshift(wo(r,P,R))):h||(P=ui(r,f),P!=null&&g.push(wo(r,P,R)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var mb=/\r\n?/g,pb=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(mb,`
`).replace(pb,"")}function _0(t,n){return n=y0(n),y0(t)===n}function pt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":ql(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&pt(t,n,"name",h.name,h,null),pt(t,n,"formEncType",h.formEncType,h,null),pt(t,n,"formMethod",h.formMethod,h,null),pt(t,n,"formTarget",h.formTarget,h,null)):(pt(t,n,"encType",h.encType,h,null),pt(t,n,"method",h.method,h,null),pt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=wu.get(r)||r,Ta(t,r,l))}}function Sd(t,n,r,l,h,f){switch(r){case"style":ql(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Wt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ta(t,r,l)}}}function on(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pt(t,n,f,g,r,null)}}h&&pt(t,n,"srcSet",r.srcSet,r,null),l&&pt(t,n,"src",r.src,r,null);return;case"input":qe("invalid",t);var T=f=g=h=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":g=Y;break;case"checked":R=Y;break;case"defaultChecked":P=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:pt(t,n,l,Y,r,null)}}bu(t,f,T,R,P,g,h,!1);return;case"select":qe("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:pt(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Us(t,!!l,n,!1):r!=null&&Us(t,!!l,r,!0);return;case"textarea":qe("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:pt(t,n,g,T,r,null)}Ls(t,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":pt(t,n,R,l,r,null));return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<Ao.length;l++)qe(Ao[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pt(t,n,P,l,r,null)}return;default:if(Sa(n)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&Sd(t,n,Y,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&pt(t,n,T,l,r,null))}function gb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,Y=null;for(q in r){var J=r[q];if(r.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=J;default:l.hasOwnProperty(q)||pt(t,n,q,null,l,J)}}for(var z in l){var q=l[z];if(J=r[z],l.hasOwnProperty(z)&&(q!=null||J!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":Y=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==J&&pt(t,n,z,q,l,J)}}ba(t,g,T,R,P,Y,f,h);return;case"select":q=g=T=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||pt(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&pt(t,n,h,f,l,R)}n=T,r=g,l=q,z!=null?Us(t,!!r,z,!1):!!l!=!!r&&(n!=null?Us(t,!!r,n,!0):Us(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:pt(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&pt(t,n,g,h,l,f)}Su(t,z,q);return;case"option":for(var de in r)z=r[de],r.hasOwnProperty(de)&&z!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:pt(t,n,de,null,l,z));for(R in l)z=l[R],q=r[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":pt(t,n,R,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in r)z=r[xe],r.hasOwnProperty(xe)&&z!=null&&!l.hasOwnProperty(xe)&&pt(t,n,xe,null,l,z);for(P in l)if(z=l[P],q=r[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:pt(t,n,P,z,l,q)}return;default:if(Sa(n)){for(var gt in r)z=r[gt],r.hasOwnProperty(gt)&&z!==void 0&&!l.hasOwnProperty(gt)&&Sd(t,n,gt,void 0,l,z);for(Y in l)z=l[Y],q=r[Y],!l.hasOwnProperty(Y)||z===q||z===void 0&&q===void 0||Sd(t,n,Y,z,l,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&pt(t,n,k,null,l,z);for(J in l)z=l[J],q=r[J],!l.hasOwnProperty(J)||z===q||z==null&&q==null||pt(t,n,J,z,l,q)}function v0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&v0(g)){for(g=0,T=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],P=R.startTime;if(P>T)break;var Y=R.transferSize,J=R.initiatorType;Y&&v0(J)&&(R=R.responseEnd,g+=Y*(R<T?1:(T-P)/(R-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ad=null,wd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function E0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rd=null;function _b(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(t){return S0.resolve(null).then(t).catch(Tb)}:b0;function Tb(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function A0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")xo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,xo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&xo(t.ownerDocument.body);r=h}while(r);sl(n)}function w0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Id(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Id(r),Ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function bb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function Sb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ti(t.nextSibling),t===null))return null;return t}function x0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function Cd(t){return t.data==="$?"||t.data==="$~"}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ab(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Dd=null;function R0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ti(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function I0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function C0(t,n,r){switch(n=xc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var ni=new Map,N0=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=ae.d;ae.d={f:wb,r:xb,D:Rb,C:Ib,L:Cb,m:Nb,X:Ob,S:Db,M:Mb};function wb(){var t=ms.f(),n=_c();return t||n}function xb(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Kg(n):ms.r(t)}var tl=typeof document>"u"?null:document;function D0(t,n,r){var l=tl;if(l&&typeof n=="string"&&n){var h=An(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),N0.has(h)||(N0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),on(n,"link",t),Lt(n),l.head.appendChild(n)))}}function Rb(t){ms.D(t),D0("dns-prefetch",t,null)}function Ib(t,n){ms.C(t,n),D0("preconnect",t,n)}function Cb(t,n,r){ms.L(t,n,r);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+An(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+An(r.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}ni.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ni.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ro(f))||n==="script"&&l.querySelector(Io(f))||(n=l.createElement("link"),on(n,"link",t),Lt(n),l.head.appendChild(n)))}}function Nb(t,n){ms.m(t,n);var r=tl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ni.has(f)&&(t=w({rel:"modulepreload",href:t},n),ni.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Io(f)))return}l=r.createElement("link"),on(l,"link",t),Lt(l),r.head.appendChild(l)}}}function Db(t,n,r){ms.S(t,n,r);var l=tl;if(l&&t){var h=Ri(l).hoistableStyles,f=nl(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Ro(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ni.get(f))&&Od(t,r);var R=g=l.createElement("link");Lt(R),on(R,"link",t),R._p=new Promise(function(P,Y){R.onload=P,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function Ob(t,n){ms.X(t,n);var r=tl;if(r&&t){var l=Ri(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Io(h)),f||(t=w({src:t,async:!0},n),(n=ni.get(h))&&Md(t,n),f=r.createElement("script"),Lt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Mb(t,n){ms.M(t,n);var r=tl;if(r&&t){var l=Ri(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Io(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&Md(t,n),f=r.createElement("script"),Lt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function O0(t,n,r,l){var h=(h=Ne.current)?Rc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nl(r.href),r=Ri(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=nl(r.href);var f=Ri(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ro(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ni.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ni.set(t,r),f||Vb(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=Ri(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+An(t)+'"'}function Ro(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Vb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",r),Lt(n),t.head.appendChild(n))}function il(t){return'[src="'+An(t)+'"]'}function Io(t){return"script[async]"+t}function V0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+An(r.href)+'"]');if(l)return n.instance=l,Lt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),on(l,"style",h),Ic(l,r.precedence,t),n.instance=l;case"stylesheet":h=nl(r.href);var f=t.querySelector(Ro(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;l=M0(r),(h=ni.get(h))&&Od(l,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),on(f,"link",l),n.state.loading|=4,Ic(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(h=t.querySelector(Io(f)))?(n.instance=h,Lt(h),h):(l=r,(h=ni.get(f))&&(l=w({},r),Md(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),on(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ic(l,r.precedence,t));return n.instance}function Ic(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cc=null;function k0(t,n,r){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(r,l)}else h=Cc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[wi]||f[Ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function U0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function kb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ub(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=nl(l.href),f=n.querySelector(Ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Nc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Lt(f);return}f=n.ownerDocument||n,l=M0(l),(h=ni.get(h))&&Od(l,h),f=f.createElement("link"),Lt(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),on(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Nc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Vd=0;function Lb(t,n){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Vd===0&&(Vd=62500*yb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,n.forEach(jb,t),Dc=null,Nc.call(t))}function jb(t,n){if(!(n.state.loading&4)){var r=Dc.get(t);if(r)var l=r.get(null);else{r=new Map,Dc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Co={$$typeof:Ce,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function Pb(t,n,r,l,h,f,g,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function j0(t,n,r,l,h,f,g,T,R,P,Y,J){return t=new Pb(t,n,r,g,R,P,Y,J,T),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),t.current=f,f.stateNode=t,n=df(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},yf(f),t}function P0(t){return t?(t=Va,t):Va}function z0(t,n,r,l,h,f){h=P0(h),l.context===null?l.context=h:l.pendingContext=h,l=Xs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=$s(t,l,n),r!==null&&(Nn(r,t,n),ao(r,t,n))}function B0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function kd(t,n){B0(t,n),(t=t.alternate)&&B0(t,n)}function H0(t){if(t.tag===13||t.tag===31){var n=Qr(t,67108864);n!==null&&Nn(n,t,67108864),kd(t,67108864)}}function q0(t){if(t.tag===13||t.tag===31){var n=Hn();n=Ur(n);var r=Qr(t,n);r!==null&&Nn(r,t,n),kd(t,n)}}var Mc=!0;function zb(t,n,r,l){var h=F.T;F.T=null;var f=ae.p;try{ae.p=2,Ud(t,n,r,l)}finally{ae.p=f,F.T=h}}function Bb(t,n,r,l){var h=F.T;F.T=null;var f=ae.p;try{ae.p=8,Ud(t,n,r,l)}finally{ae.p=f,F.T=h}}function Ud(t,n,r,l){if(Mc){var h=Ld(l);if(h===null)bd(t,n,l,Vc,r),F0(t,l);else if(qb(h,t,n,r,l))l.stopPropagation();else if(F0(t,l),n&4&&-1<Hb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ge(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-$(g);T.entanglements[1]|=R,g&=~R}zi(f),(at&6)===0&&(gc=Qt()+500,So(0))}}break;case 31:case 13:T=Qr(f,2),T!==null&&Nn(T,f,2),_c(),kd(f,2)}if(f=Ld(l),f===null&&bd(t,n,l,Vc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else bd(t,n,l,null,r)}}function Ld(t){return t=Yn(t),jd(t)}var Vc=null;function jd(t){if(Vc=null,t=xi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vc=t,null}function G0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ti()){case Mr:return 2;case Ms:return 8;case bi:case _a:return 32;case W:return 268435456;default:return 32}default:return 32}}var Pd=!1,lr=null,or=null,ur=null,No=new Map,Do=new Map,cr=[],Hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":No.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(n.pointerId)}}function Oo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&H0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function qb(t,n,r,l,h){switch(n){case"focusin":return lr=Oo(lr,t,n,r,l,h),!0;case"dragenter":return or=Oo(or,t,n,r,l,h),!0;case"mouseover":return ur=Oo(ur,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return No.set(f,Oo(No.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Do.set(f,Oo(Do.get(f)||null,t,n,r,l,h)),!0}return!1}function Y0(t){var n=xi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ai(t.priority,function(){q0(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,ai(t.priority,function(){q0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ld(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Gl=l,r.target.dispatchEvent(l),Gl=null}else return n=Fn(r),n!==null&&H0(n),t.blockedOn=r,!1;n.shift()}return!0}function K0(t,n,r){kc(t)&&r.delete(n)}function Gb(){Pd=!1,lr!==null&&kc(lr)&&(lr=null),or!==null&&kc(or)&&(or=null),ur!==null&&kc(ur)&&(ur=null),No.forEach(K0),Do.forEach(K0)}function Uc(t,n){t.blockedOn===n&&(t.blockedOn=null,Pd||(Pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Gb)))}var Lc=null;function Q0(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(jd(l||r)===null)continue;break}var f=Fn(r);f!==null&&(t.splice(n,3),n-=3,Lf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function sl(t){function n(R){return Uc(R,t)}lr!==null&&Uc(lr,t),or!==null&&Uc(or,t),ur!==null&&Uc(ur,t),No.forEach(n),Do.forEach(n);for(var r=0;r<cr.length;r++){var l=cr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)Y0(r),r.blockedOn===null&&cr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Wt]||null;if(typeof f=="function")g||Q0(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Wt]||null)T=g.formAction;else if(jd(h)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Q0(r)}}}function X0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function zd(t){this._internalRoot=t}jc.prototype.render=zd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Hn();z0(r,l,t,n,null,null)},jc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;z0(t.current,2,null,t,null,null),_c(),n[Ai]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var n=_u();t={blockedOn:null,target:t,priority:n};for(var r=0;r<cr.length&&n!==0&&n<cr[r].priority;r++);cr.splice(r,0,t),r===0&&Y0(t)}};var $0=e.version;if($0!=="19.2.3")throw Error(a(527,$0,"19.2.3"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Fb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{ne=Pc.inject(Fb),ee=Pc}catch{}}return Vo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=iy,f=sy,g=ry;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=j0(t,1,!1,null,null,r,l,null,h,f,g,X0),t[Ai]=n.current,Td(t),new zd(n)},Vo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=iy,g=sy,T=ry,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=j0(t,1,!0,n,r??null,l,h,R,f,g,T,X0),n.context=P0(null),r=n.current,l=Hn(),l=Ur(l),h=Xs(l),h.callback=null,$s(r,h,l),r=l,n.current.lanes=r,Vr(n,r),zi(n),t[Ai]=n.current,Td(t),new jc(n)},Vo.version="19.2.3",Vo}var a_;function nS(){if(a_)return qd.exports;a_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=tS(),qd.exports}var iS=nS();const sS=()=>{};var l_={};const Pv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},rS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,p=o+2<s.length,_=p?s[o+2]:0,S=c>>2,w=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,K=_&63;p||(K=64,d||(M=64)),a.push(i[S],i[w],i[M],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Pv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):rS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||w==null)throw new aS;const M=c<<2|y>>4;if(a.push(M),_!==64){const K=y<<4&240|_>>2;if(a.push(K),w!==64){const re=_<<6&192|w;a.push(re)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class aS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lS=function(s){const e=Pv(s);return zv.encodeByteArray(e,!0)},ih=function(s){return lS(s).replace(/\./g,"")},Bv=function(s){try{return zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uS=()=>oS().__FIREBASE_DEFAULTS__,cS=()=>{if(typeof process>"u"||typeof l_>"u")return;const s=l_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},hS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Bv(s[1]);return e&&JSON.parse(e)},wh=()=>{try{return sS()||uS()||cS()||hS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Hv=s=>wh()?.emulatorHosts?.[s],fS=s=>{const e=Hv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},qv=()=>wh()?.config,Gv=s=>wh()?.[`_${s}`];class dS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function wl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fv(s){return(await fetch(s,{credentials:"include"})).ok}function mS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ih(JSON.stringify(i)),ih(JSON.stringify(d)),""].join(".")}const zo={};function pS(){const s={prod:[],emulator:[]};for(const e of Object.keys(zo))zo[e]?s.emulator.push(e):s.prod.push(e);return s}function gS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let o_=!1;function Yv(s,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||zo[s]===e||zo[s]||o_)return;zo[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=pS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{o_=!0,d()},M}function S(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=gS(a),K=i("text"),re=document.getElementById(K)||document.createElement("span"),ue=i("learnmore"),oe=document.getElementById(ue)||document.createElement("a"),Se=i("preprendIcon"),Oe=document.getElementById(Se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ce=M.element;y(Ce),S(oe,ue);const ht=_();p(Oe,Se),Ce.append(Oe,re,oe,ht),document.body.appendChild(Ce)}c?(re.innerText="Preview backend disconnected.",Oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,re.innerText="Preview backend running in this workspace."),re.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function _S(){const s=wh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ES(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function TS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){const s=yn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function SS(){return!_S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const xS="FirebaseError";class Rs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=xS,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?RS(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,y,a)}}function RS(s,e){return s.replace(IS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const IS=/\{\$([^}]+)}/g;function CS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Sr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(u_(c)&&u_(d)){if(!Sr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function u_(s){return s!==null&&typeof s=="object"}function ru(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function NS(s,e){const i=new DS(s,e);return i.subscribe.bind(i)}class DS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");OS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Kd(){}function En(s){return s&&s._delegate?s._delegate:s}class ha{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class MS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new dS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kS(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:VS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VS(s){return s===la?void 0:s}function kS(s){return s.instantiationMode==="EAGER"}class US{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new MS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ke||(Ke={}));const LS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},jS=Ke.INFO,PS={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},zS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=PS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=jS,this._logHandler=zS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const BS=(s,e)=>e.some(i=>s instanceof i);let c_,h_;function HS(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qS(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,om=new WeakMap,Qv=new WeakMap,Qd=new WeakMap,zm=new WeakMap;function GS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(_r(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,s)}).catch(()=>{}),zm.set(e,s),e}function FS(s){if(om.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let um={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Qv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function YS(s){um=s(um)}function KS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Xd(this),e,...i);return Qv.set(a,e.sort?e.sort():[e]),_r(a)}:qS().includes(s)?function(...e){return s.apply(Xd(this),e),_r(Kv.get(this))}:function(...e){return _r(s.apply(Xd(this),e))}}function QS(s){return typeof s=="function"?KS(s):(s instanceof IDBTransaction&&FS(s),BS(s,HS())?new Proxy(s,um):s)}function _r(s){if(s instanceof IDBRequest)return GS(s);if(Qd.has(s))return Qd.get(s);const e=QS(s);return e!==s&&(Qd.set(s,e),zm.set(e,s)),e}const Xd=s=>zm.get(s);function XS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=_r(d);return a&&d.addEventListener("upgradeneeded",p=>{a(_r(d.result),p.oldVersion,p.newVersion,_r(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const $S=["get","getKey","getAll","getAllKeys","count"],JS=["put","add","delete","clear"],$d=new Map;function f_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=JS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||$S.includes(i)))return;const c=async function(d,...y){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&p.done]))[0]};return $d.set(e,c),c}YS(s=>({...s,get:(e,i,a)=>f_(e,i)||s.get(e,i,a),has:(e,i)=>!!f_(e,i)||s.has(e,i)}));class ZS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(WS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function WS(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",d_="0.14.7";const Ts=new Pm("@firebase/app"),eA="@firebase/app-compat",tA="@firebase/analytics-compat",nA="@firebase/analytics",iA="@firebase/app-check-compat",sA="@firebase/app-check",rA="@firebase/auth",aA="@firebase/auth-compat",lA="@firebase/database",oA="@firebase/data-connect",uA="@firebase/database-compat",cA="@firebase/functions",hA="@firebase/functions-compat",fA="@firebase/installations",dA="@firebase/installations-compat",mA="@firebase/messaging",pA="@firebase/messaging-compat",gA="@firebase/performance",yA="@firebase/performance-compat",_A="@firebase/remote-config",vA="@firebase/remote-config-compat",EA="@firebase/storage",TA="@firebase/storage-compat",bA="@firebase/firestore",SA="@firebase/ai",AA="@firebase/firestore-compat",wA="firebase",xA="12.8.0";const hm="[DEFAULT]",RA={[cm]:"fire-core",[eA]:"fire-core-compat",[nA]:"fire-analytics",[tA]:"fire-analytics-compat",[sA]:"fire-app-check",[iA]:"fire-app-check-compat",[rA]:"fire-auth",[aA]:"fire-auth-compat",[lA]:"fire-rtdb",[oA]:"fire-data-connect",[uA]:"fire-rtdb-compat",[cA]:"fire-fn",[hA]:"fire-fn-compat",[fA]:"fire-iid",[dA]:"fire-iid-compat",[mA]:"fire-fcm",[pA]:"fire-fcm-compat",[gA]:"fire-perf",[yA]:"fire-perf-compat",[_A]:"fire-rc",[vA]:"fire-rc-compat",[EA]:"fire-gcs",[TA]:"fire-gcs-compat",[bA]:"fire-fst",[AA]:"fire-fst-compat",[SA]:"fire-vertex","fire-js":"fire-js",[wA]:"fire-js-all"};const sh=new Map,IA=new Map,fm=new Map;function m_(s,e){try{s.container.addComponent(e)}catch(i){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function yl(s){const e=s.name;if(fm.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,s);for(const i of sh.values())m_(i,s);for(const i of IA.values())m_(i,s);return!0}function Bm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ii(s){return s==null?!1:s.settings!==void 0}const CA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new su("app","Firebase",CA);class NA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const xl=xA;function Xv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:hm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=qv()),!i)throw vr.create("no-options");const c=sh.get(o);if(c){if(Sr(i,c.options)&&Sr(a,c.config))return c;throw vr.create("duplicate-app",{appName:o})}const d=new US(o);for(const p of fm.values())d.addComponent(p);const y=new NA(i,a,d);return sh.set(o,y),y}function $v(s=hm){const e=sh.get(s);if(!e&&s===hm&&qv())return Xv();if(!e)throw vr.create("no-app",{appName:s});return e}function Er(s,e,i){let a=RA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}yl(new ha(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const DA="firebase-heartbeat-database",OA=1,Yo="firebase-heartbeat-store";let Jd=null;function Jv(){return Jd||(Jd=XS(DA,OA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yo)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function MA(s){try{const i=(await Jv()).transaction(Yo),a=await i.objectStore(Yo).get(Zv(s));return await i.done,a}catch(e){if(e instanceof Rs)Ts.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(i.message)}}}async function p_(s,e){try{const a=(await Jv()).transaction(Yo,"readwrite");await a.objectStore(Yo).put(e,Zv(s)),await a.done}catch(i){if(i instanceof Rs)Ts.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i?.message});Ts.warn(a.message)}}}function Zv(s){return`${s.name}!${s.options.appId}`}const VA=1024,kA=30;class UA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kA){const o=PA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=g_(),{heartbeatsToSend:i,unsentEntries:a}=LA(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ts.warn(e),""}}}function g_(){return new Date().toISOString().substring(0,10)}function LA(s,e=VA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),y_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),y_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class jA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AS()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await MA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function y_(s){return ih(JSON.stringify({version:2,heartbeats:s})).length}function PA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function zA(s){yl(new ha("platform-logger",e=>new ZS(e),"PRIVATE")),yl(new ha("heartbeat",e=>new UA(e),"PRIVATE")),Er(cm,d_,s),Er(cm,d_,"esm2020"),Er("fire-js","")}zA("");var BA="firebase",HA="12.8.0";Er(BA,HA,"app");function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qA=Wv,e1=new su("auth","Firebase",Wv());const rh=new Pm("@firebase/auth");function GA(s,...e){rh.logLevel<=Ke.WARN&&rh.warn(`Auth (${xl}): ${s}`,...e)}function Kc(s,...e){rh.logLevel<=Ke.ERROR&&rh.error(`Auth (${xl}): ${s}`,...e)}function bs(s,...e){throw Hm(s,...e)}function Hi(s,...e){return Hm(s,...e)}function t1(s,e,i){const a={...qA(),[e]:i};return new su("auth","Firebase",a).create(e,{appName:s.name})}function Es(s){return t1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return e1.create(s,...e)}function Ie(s,e,...i){if(!s)throw Hm(e,...i)}function _s(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Kc(e),new Error(e)}function Ss(s,e){s||_s(e)}function dm(){return typeof self<"u"&&self.location?.href||""}function FA(){return __()==="http:"||__()==="https:"}function __(){return typeof self<"u"&&self.location?.protocol||null}function YA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FA()||ES()||"connection"in navigator)?navigator.onLine:!0}function KA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class au{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=yS()||TS()}get(){return YA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qm(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class n1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$A=new au(3e4,6e4);function lu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rl(s,e,i,a,o={}){return i1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=ru({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:p,...c};return vS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&wl(s.emulatorConfig.host)&&(_.credentials="include"),n1.fetch()(await s1(s,s.config.apiHost,i,y),_)})}async function i1(s,e,i){s._canInitEmulator=!1;const a={...QA,...e};try{const o=new JA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw zc(s,"user-disabled",d);const S=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw t1(s,S,_);bs(s,S)}}catch(o){if(o instanceof Rs)throw o;bs(s,"network-request-failed",{message:String(o)})}}async function Gm(s,e,i,a,o={}){const c=await Rl(s,e,i,a,o);return"mfaPendingCredential"in c&&bs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function s1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?qm(s.config,o):`${s.config.apiScheme}://${o}`;return XA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class JA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Hi(this.auth,"network-request-failed")),$A.get())})}}function zc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Hi(s,e,a);return o.customData._tokenResponse=i,o}async function ZA(s,e){return Rl(s,"POST","/v1/accounts:delete",e)}async function ah(s,e){return Rl(s,"POST","/v1/accounts:lookup",e)}function Bo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WA(s,e=!1){const i=En(s),a=await i.getIdToken(e),o=Fm(a);Ie(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Bo(Zd(o.auth_time)),issuedAtTime:Bo(Zd(o.iat)),expirationTime:Bo(Zd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Zd(s){return Number(s)*1e3}function Fm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bv(i);return o?JSON.parse(o):(Kc("Failed to decode base64 JWT payload"),null)}catch(o){return Kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function v_(s){const e=Fm(s);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ko(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Rs&&ew(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function ew({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class tw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bo(this.lastLoginAt),this.creationTime=Bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,i=await s.getIdToken(),a=await Ko(s,ah(e,{idToken:i}));Ie(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?r1(o.providerUserInfo):[],d=iw(s.providerData,c),y=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!d?.length,_=y?p:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function nw(s){const e=En(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iw(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function r1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function sw(s,e){const i=await i1(s,{},async()=>{const a=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await s1(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return s.emulatorConfig&&wl(s.emulatorConfig.host)&&(p.credentials="include"),n1.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rw(s,e){return Rl(s,"POST","/v2/accounts:revokeToken",lu(s,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const i=v_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await sw(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new hl;return a&&(Ie(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ie(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return _s("not implemented")}}function fr(s,e){Ie(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return Ie(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return WA(this,e)}reload(){return nw(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Ko(this,ZA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:K,providerData:re,stsTokenManager:ue}=i;Ie(w&&ue,e,"internal-error");const oe=hl.fromJSON(this.name,ue);Ie(typeof w=="string",e,"internal-error"),fr(a,e.name),fr(o,e.name),Ie(typeof M=="boolean",e,"internal-error"),Ie(typeof K=="boolean",e,"internal-error"),fr(c,e.name),fr(d,e.name),fr(y,e.name),fr(p,e.name),fr(_,e.name),fr(S,e.name);const Se=new yi({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:oe,createdAt:_,lastLoginAt:S});return re&&Array.isArray(re)&&(Se.providerData=re.map(Oe=>({...Oe}))),p&&(Se._redirectEventId=p),Se}static async _fromIdTokenResponse(e,i,a=!1){const o=new hl;o.updateFromServerResponse(i);const c=new yi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await lh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?r1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new hl;y.updateFromIdToken(a);const p=new yi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const E_=new Map;function vs(s){Ss(s instanceof Function,"Expected a class definition");let e=E_.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,E_.set(s,e),e)}class a1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}a1.type="NONE";const T_=a1;function Qc(s,e,i){return`firebase:${s}:${e}:${i}`}class fl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ah(this.auth,{idToken:e}).catch(()=>{});return i?yi._fromGetAccountInfoResponse(this.auth,i,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fl(vs(T_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||vs(T_);const d=Qc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const M=await ah(e,{idToken:S}).catch(()=>{});if(!M)break;w=await yi._fromGetAccountInfoResponse(e,M,S)}else w=yi._fromJSON(e,S);_!==c&&(y=w),c=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new fl(c,e,a):(c=p[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new fl(c,e,a))}}function b_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f1(e))return"Blackberry";if(d1(e))return"Webos";if(o1(e))return"Safari";if((e.includes("chrome/")||u1(e))&&!e.includes("edge/"))return"Chrome";if(h1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function l1(s=yn()){return/firefox\//i.test(s)}function o1(s=yn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u1(s=yn()){return/crios\//i.test(s)}function c1(s=yn()){return/iemobile/i.test(s)}function h1(s=yn()){return/android/i.test(s)}function f1(s=yn()){return/blackberry/i.test(s)}function d1(s=yn()){return/webos/i.test(s)}function Ym(s=yn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aw(s=yn()){return Ym(s)&&!!window.navigator?.standalone}function lw(){return bS()&&document.documentMode===10}function m1(s=yn()){return Ym(s)||h1(s)||d1(s)||f1(s)||/windows phone/i.test(s)||c1(s)}function p1(s,e=[]){let i;switch(s){case"Browser":i=b_(yn());break;case"Worker":i=`${b_(yn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${xl}/${a}`}class ow{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const p=e(c);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function uw(s,e={}){return Rl(s,"GET","/v2/passwordPolicy",lu(s,e))}const cw=6;class hw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??cw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class fw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ah(this,{idToken:e}),a=await yi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Es(this));const i=e?En(e):null;return i&&Ie(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uw(this),i=new hw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await rw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&vs(e)||this._popupRedirectResolver;Ie(i,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ou(s){return En(s)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=NS(i=>this.observer=i)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dw(s){Km=s}function mw(s){return Km.loadJS(s)}function pw(){return Km.gapiScript}function gw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function yw(s,e){const i=Bm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Sr(c,e??{}))return o;bs(o,"already-initialized")}return i.initialize({options:e})}function _w(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function vw(s,e,i){const a=ou(s);Ie(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=g1(e),{host:d,port:y}=Ew(e),p=y===null?"":`:${y}`,_={url:`${c}//${d}${p}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ie(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ie(Sr(_,a.config.emulator)&&Sr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,wl(d)?(Fv(`${c}//${d}${p}`),Yv("Auth",!0)):Tw()}function g1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Ew(s){const e=g1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:A_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:A_(d)}}}function A_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Tw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class y1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,i){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function dl(s,e){return Gm(s,"POST","/v1/accounts:signInWithIdp",lu(s,e))}const bw="http://localhost";class fa extends y1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):bs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new fa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return dl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,dl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dl(e,i)}buildRequest(){const e={requestUri:bw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ru(i)}return e}}class _1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uu extends _1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dr extends uu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";class mr extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return fa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return mr.credential(i,a)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";class pr extends uu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";class gr extends uu{constructor(){super("twitter.com")}static credential(e,i){return fa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return gr.credential(i,a)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";async function Sw(s,e){return Gm(s,"POST","/v1/accounts:signUp",lu(s,e))}class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await yi._fromIdTokenResponse(e,a,o),d=w_(a);return new As({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=w_(a);return new As({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function w_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Aw(s){if(ii(s.app))return Promise.reject(Es(s));const e=ou(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new As({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await Sw(e,{returnSecureToken:!0}),a=await As._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class oh extends Rs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new oh(e,i,a,o)}}function v1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,c,e,a):c})}async function ww(s,e,i=!1){const a=await Ko(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return As._forOperation(s,"link",a)}async function xw(s,e,i=!1){const{auth:a}=s;if(ii(a.app))return Promise.reject(Es(a));const o="reauthenticate";try{const c=await Ko(s,v1(a,o,e,s),i);Ie(c.idToken,a,"internal-error");const d=Fm(c.idToken);Ie(d,a,"internal-error");const{sub:y}=d;return Ie(s.uid===y,a,"user-mismatch"),As._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&bs(a,"user-mismatch"),c}}async function Rw(s,e,i=!1){if(ii(s.app))return Promise.reject(Es(s));const a="signIn",o=await v1(s,a,e),c=await As._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function Iw(s,e){return Gm(s,"POST","/v1/accounts:signInWithCustomToken",lu(s,e))}async function Cw(s,e){if(ii(s.app))return Promise.reject(Es(s));const i=ou(s),a=await Iw(i,{token:e,returnSecureToken:!0}),o=await As._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function Nw(s,e,i,a){return En(s).onIdTokenChanged(e,i,a)}function Dw(s,e,i){return En(s).beforeAuthStateChanged(e,i)}function Ow(s,e,i,a){return En(s).onAuthStateChanged(e,i,a)}const uh="__sak";class E1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mw=1e3,Vw=10;class T1 extends E1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);lw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Vw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}T1.type="LOCAL";const kw=T1;class b1 extends E1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}b1.type="SESSION";const S1=b1;function Uw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new xh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),p=await Uw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function Qm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Lw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,p)=>{const _=Qm("",20);o.port1.start();const S=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function jw(s){qi().location.href=s}function A1(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function Pw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zw(){return navigator?.serviceWorker?.controller||null}function Bw(){return A1()?self:null}const w1="firebaseLocalStorageDb",Hw=1,ch="firebaseLocalStorage",x1="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(s,e){return s.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function qw(){const s=indexedDB.deleteDatabase(w1);return new cu(s).toPromise()}function pm(){const s=indexedDB.open(w1,Hw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ch,{keyPath:x1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ch)?e(a):(a.close(),await qw(),e(await pm()))})})}async function x_(s,e,i){const a=Rh(s,!0).put({[x1]:e,value:i});return new cu(a).toPromise()}async function Gw(s,e){const i=Rh(s,!1).get(e),a=await new cu(i).toPromise();return a===void 0?null:a.value}function R_(s,e){const i=Rh(s,!0).delete(e);return new cu(i).toPromise()}const Fw=800,Yw=3;class R1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Yw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(Bw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Pw(),!this.activeServiceWorker)return;this.sender=new Lw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await x_(e,uh,"1"),await R_(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>x_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Gw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>R_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Rh(o,!1).getAll();return new cu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R1.type="LOCAL";const Kw=R1;new au(3e4,6e4);function Qw(s,e){return e?vs(e):(Ie(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Xm extends y1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Xw(s){return Rw(s.auth,new Xm(s),s.bypassAuthState)}function $w(s){const{auth:e,user:i}=s;return Ie(i,e,"internal-error"),xw(i,new Xm(s),s.bypassAuthState)}async function Jw(s){const{auth:e,user:i}=s;return Ie(i,e,"internal-error"),ww(i,new Xm(s),s.bypassAuthState)}class I1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xw;case"linkViaPopup":case"linkViaRedirect":return Jw;case"reauthViaPopup":case"reauthViaRedirect":return $w;default:bs(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zw=new au(2e3,1e4);class cl extends I1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zw.get())};e()}}cl.currentPopupAction=null;const Ww="pendingRedirect",Xc=new Map;class e2 extends I1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const a=await t2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(s,e){const i=s2(e),a=i2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function n2(s,e){Xc.set(s._key(),e)}function i2(s){return vs(s._redirectPersistence)}function s2(s){return Qc(Ww,s.config.apiKey,s.name)}async function r2(s,e,i=!1){if(ii(s.app))return Promise.reject(Es(s));const a=ou(s),o=Qw(a,e),d=await new e2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const a2=600*1e3;class l2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!C1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Hi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a2&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function C1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function o2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C1(s);default:return!1}}async function u2(s,e={}){return Rl(s,"GET","/v1/projects",e)}const c2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h2=/^https?/;async function f2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await u2(s);for(const i of e)try{if(d2(i))return}catch{}bs(s,"unauthorized-domain")}function d2(s){const e=dm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!h2.test(i))return!1;if(c2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const m2=new au(3e4,6e4);function C_(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function p2(s){return new Promise((e,i)=>{function a(){C_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C_(),i(Hi(s,"network-request-failed"))},timeout:m2.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)a();else{const o=gw("iframefcb");return qi()[o]=()=>{gapi.load?a():i(Hi(s,"network-request-failed"))},mw(`${pw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw $c=null,e})}let $c=null;function g2(s){return $c=$c||p2(s),$c}const y2=new au(5e3,15e3),_2="__/auth/iframe",v2="emulator/auth/iframe",E2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b2(s){const e=s.config;Ie(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?qm(e,v2):`https://${s.config.authDomain}/${_2}`,a={apiKey:e.apiKey,appName:s.name,v:xl},o=T2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ru(a).slice(1)}`}async function S2(s){const e=await g2(s),i=qi().gapi;return Ie(i,s,"internal-error"),e.open({where:document.body,url:b2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Hi(s,"network-request-failed"),y=qi().setTimeout(()=>{c(d)},y2.get());function p(){qi().clearTimeout(y),o(a)}a.ping(p).then(p,()=>{c(d)})}))}const A2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w2=500,x2=600,R2="_blank",I2="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(s,e,i,a=w2,o=x2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const p={...A2,width:a.toString(),height:o.toString(),top:c,left:d},_=yn().toLowerCase();i&&(y=u1(_)?R2:i),l1(_)&&(e=e||I2,p.scrollbars="yes");const S=Object.entries(p).reduce((M,[K,re])=>`${M}${K}=${re},`,"");if(aw(_)&&y!=="_self")return N2(e||"",y),new N_(null);const w=window.open(e||"",y,S);Ie(w,s,"popup-blocked");try{w.focus()}catch{}return new N_(w)}function N2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const D2="__/auth/handler",O2="emulator/auth/handler",M2=encodeURIComponent("fac");async function D_(s,e,i,a,o,c){Ie(s.config.authDomain,s,"auth-domain-config-required"),Ie(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:xl,eventId:o};if(e instanceof _1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",CS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof uu){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const p=await s._getAppCheckToken(),_=p?`#${M2}=${encodeURIComponent(p)}`:"";return`${V2(s)}?${ru(y).slice(1)}${_}`}function V2({config:s}){return s.emulator?qm(s,O2):`https://${s.authDomain}/${D2}`}const Wd="webStorageSupport";class k2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S1,this._completeRedirectFn=r2,this._overrideRedirectResult=n2}async _openPopup(e,i,a,o){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await D_(e,i,a,dm(),o);return C2(e,c,Qm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await D_(e,i,a,dm(),o);return jw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await S2(e),a=new l2(e);return i.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wd,{type:Wd},o=>{const c=o?.[0]?.[Wd];c!==void 0&&i(!!c),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=f2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return m1()||o1()||Ym()}}const U2=k2;var O_="@firebase/auth",M_="1.12.0";class L2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P2(s){yl(new ha("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Ie(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p1(s)},_=new fw(a,o,c,p);return _w(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),yl(new ha("auth-internal",e=>{const i=ou(e.getProvider("auth").getImmediate());return(a=>new L2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(O_,M_,j2(s)),Er(O_,M_,"esm2020")}const z2=300,B2=Gv("authIdTokenMaxAge")||z2;let V_=null;const H2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>B2)return;const o=i?.token;V_!==o&&(V_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function q2(s=$v()){const e=Bm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=yw(s,{popupRedirectResolver:U2,persistence:[Kw,kw,S1]}),a=Gv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=H2(c.toString());Dw(i,d,()=>d(i.currentUser)),Nw(i,y=>d(y))}}const o=Hv("auth");return o&&vw(i,`http://${o}`),i}function G2(){return document.getElementsByTagName("head")?.[0]??document}dw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Hi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",G2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P2("Browser");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tr,N1;(function(){var s;function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,U){for(var x=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)x[ft-2]=arguments[ft];return A.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],x;x=A+(U^I&(N^U))+V[0]+3614090360&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(N^A&(I^N))+V[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(I^U&(A^I))+V[2]+606105819&4294967295,N=U+(x<<17&4294967295|x>>>15),x=I+(A^N&(U^A))+V[3]+3250441966&4294967295,I=N+(x<<22&4294967295|x>>>10),x=A+(U^I&(N^U))+V[4]+4118548399&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(N^A&(I^N))+V[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(I^U&(A^I))+V[6]+2821735955&4294967295,N=U+(x<<17&4294967295|x>>>15),x=I+(A^N&(U^A))+V[7]+4249261313&4294967295,I=N+(x<<22&4294967295|x>>>10),x=A+(U^I&(N^U))+V[8]+1770035416&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(N^A&(I^N))+V[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(I^U&(A^I))+V[10]+4294925233&4294967295,N=U+(x<<17&4294967295|x>>>15),x=I+(A^N&(U^A))+V[11]+2304563134&4294967295,I=N+(x<<22&4294967295|x>>>10),x=A+(U^I&(N^U))+V[12]+1804603682&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(N^A&(I^N))+V[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(I^U&(A^I))+V[14]+2792965006&4294967295,N=U+(x<<17&4294967295|x>>>15),x=I+(A^N&(U^A))+V[15]+1236535329&4294967295,I=N+(x<<22&4294967295|x>>>10),x=A+(N^U&(I^N))+V[1]+4129170786&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^N&(A^I))+V[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^I&(U^A))+V[11]+643717713&4294967295,N=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(N^U))+V[0]+3921069994&4294967295,I=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(I^N))+V[5]+3593408605&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^N&(A^I))+V[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^I&(U^A))+V[15]+3634488961&4294967295,N=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(N^U))+V[4]+3889429448&4294967295,I=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(I^N))+V[9]+568446438&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^N&(A^I))+V[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^I&(U^A))+V[3]+4107603335&4294967295,N=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(N^U))+V[8]+1163531501&4294967295,I=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(I^N))+V[13]+2850285829&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^N&(A^I))+V[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^I&(U^A))+V[7]+1735328473&4294967295,N=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(N^U))+V[12]+2368359562&4294967295,I=N+(x<<20&4294967295|x>>>12),x=A+(I^N^U)+V[5]+4294588738&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^N)+V[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^I)+V[11]+1839030562&4294967295,N=U+(x<<16&4294967295|x>>>16),x=I+(N^U^A)+V[14]+4259657740&4294967295,I=N+(x<<23&4294967295|x>>>9),x=A+(I^N^U)+V[1]+2763975236&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^N)+V[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^I)+V[7]+4139469664&4294967295,N=U+(x<<16&4294967295|x>>>16),x=I+(N^U^A)+V[10]+3200236656&4294967295,I=N+(x<<23&4294967295|x>>>9),x=A+(I^N^U)+V[13]+681279174&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^N)+V[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^I)+V[3]+3572445317&4294967295,N=U+(x<<16&4294967295|x>>>16),x=I+(N^U^A)+V[6]+76029189&4294967295,I=N+(x<<23&4294967295|x>>>9),x=A+(I^N^U)+V[9]+3654602809&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^N)+V[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^I)+V[15]+530742520&4294967295,N=U+(x<<16&4294967295|x>>>16),x=I+(N^U^A)+V[2]+3299628645&4294967295,I=N+(x<<23&4294967295|x>>>9),x=A+(N^(I|~U))+V[0]+4096336452&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~N))+V[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~I))+V[14]+2878612391&4294967295,N=U+(x<<15&4294967295|x>>>17),x=I+(U^(N|~A))+V[5]+4237533241&4294967295,I=N+(x<<21&4294967295|x>>>11),x=A+(N^(I|~U))+V[12]+1700485571&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~N))+V[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~I))+V[10]+4293915773&4294967295,N=U+(x<<15&4294967295|x>>>17),x=I+(U^(N|~A))+V[1]+2240044497&4294967295,I=N+(x<<21&4294967295|x>>>11),x=A+(N^(I|~U))+V[8]+1873313359&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~N))+V[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~I))+V[6]+2734768916&4294967295,N=U+(x<<15&4294967295|x>>>17),x=I+(U^(N|~A))+V[13]+1309151649&4294967295,I=N+(x<<21&4294967295|x>>>11),x=A+(N^(I|~U))+V[4]+4149444226&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~N))+V[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~I))+V[2]+718787259&4294967295,N=U+(x<<15&4294967295|x>>>17),x=I+(U^(N|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=C[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==A||(I[N]=U,V=!1)}this.g=I}var y={};function p(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return oe(_(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return oe(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let V=w;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const x=parseInt(C.substring(U,U+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(x))):(V=V.j(I),V=V.add(_(x)))}return V}var w=p(0),M=p(1),K=p(16777216);s=d.prototype,s.m=function(){if(ue(this))return-oe(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(re(this))return"0";if(ue(this))return"-"+oe(this).toString(C);const A=_(Math.pow(C,6));var I=this;let V="";for(;;){const N=ht(I,A).g;I=Se(I,N.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,re(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function re(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function ue(C){return C.h==-1}s.l=function(C){return C=Se(this,C),ue(C)?-1:re(C)?0:1};function oe(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return ue(this)?oe(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),x=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=x>>>16,U&=65535,x&=65535,I[N]=x<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function Se(C,A){return C.add(oe(A))}s.j=function(C){if(re(this)||re(C))return w;if(ue(this))return ue(C)?oe(this).j(oe(C)):oe(oe(this).j(C));if(ue(C))return oe(this.j(oe(C)));if(this.l(K)<0&&C.l(K)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,x=this.i(V)&65535,ft=C.i(N)>>>16,xt=C.i(N)&65535;I[2*V+2*N]+=x*xt,Oe(I,2*V+2*N),I[2*V+2*N+1]+=U*xt,Oe(I,2*V+2*N+1),I[2*V+2*N+1]+=x*ft,Oe(I,2*V+2*N+1),I[2*V+2*N+2]+=U*ft,Oe(I,2*V+2*N+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function Oe(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Ce(C,A){this.g=C,this.h=A}function ht(C,A){if(re(A))throw Error("division by zero");if(re(C))return new Ce(w,w);if(ue(C))return A=ht(oe(C),A),new Ce(oe(A.g),oe(A.h));if(ue(A))return A=ht(C,oe(A)),new Ce(oe(A.g),A.h);if(C.g.length>30){if(ue(C)||ue(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(C)<=0;)I=yt(I),V=yt(V);var N=Pe(I,1),U=Pe(V,1);for(V=Pe(V,2),I=Pe(I,2);!re(V);){var x=U.add(V);x.l(C)<=0&&(N=N.add(I),U=x),V=Pe(V,1),I=Pe(I,1)}return A=Se(C,N.j(A)),new Ce(N,A)}for(N=w;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),x=U.j(A);ue(x)||x.l(C)>0;)I-=V,U=_(I),x=U.j(A);re(U)&&(U=M),N=N.add(U),C=Se(C,x)}return new Ce(N,C)}s.B=function(C){return ht(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function yt(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Pe(C,A){const I=A>>5;A%=32;const V=C.g.length-I,N=[];for(let U=0;U<V;U++)N[U]=A>0?C.i(U+I)>>>A|C.i(U+I+1)<<32-A:C.i(U+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,N1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Tr=d}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var D1,Uo,O1,Jc,gm,M1,V1,k1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,H){for(var se=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)se[Ue-2]=arguments[Ue];return m.prototype[L].apply(b,se)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function re(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const H=L.length||0;u.length=v+H;for(let se=0;se<H;se++)u[v+se]=L[se]}else u.push(L)}}class ue{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function oe(u){d.setTimeout(()=>{throw u},0)}function Se(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,v){const b=Ce.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Ce=new ue(()=>new ht,u=>u.reset());class ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,Pe=!1,C=new Oe,A=()=>{const u=Promise.resolve(void 0);yt=()=>{u.then(I)}};function I(){for(var u;u=Se();){try{u.h.call(u.g)}catch(v){oe(v)}var m=Ce;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ft(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ft,N),ft.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),F=0;function ae(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function Ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Je(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function tt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let H=0;H<X.length;H++)v=X[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,m,v,b,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const se=Ne(u,m,b,L);return se>-1?(m=u[se],v||(m.fa=!1)):(m=new ae(m,this.src,H,!!b,L),m.fa=v,u.push(m)),m};function we(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(b,L,1),H&&(Ee(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ne(u,m,v,b){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return L}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Nt={};function nt(u,m,v,b,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)nt(u,m[H],v,b,L);return null}return v=Ds(v),u&&u[xt]?u.J(m,v,y(b)?!!b.capture:!1,L):Tn(u,m,v,!1,b,L)}function Tn(u,m,v,b,L,H){if(!m)throw Error("Invalid event type");const se=y(L)?!!L.capture:!!L;let Ue=Xi(u);if(Ue||(u[ke]=Ue=new he(u)),v=Ue.add(m,v,b,se,H),v.proxy)return v;if(b=ri(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=se),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Gn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ri(){function u(v){return m.call(u.src,u.listener,v)}const m=Or;return u}function Is(u,m,v,b,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Is(u,m[H],v,b,L);else b=y(b)?!!b.capture:!!b,v=Ds(v),u&&u[xt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ne(m,v,b,L),v>-1&&(Ee(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Xi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ne(m,v,b,L)),(v=u>-1?m[u]:null)&&Cs(v))}function Cs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])we(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Gn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Xi(m))?(we(v,u),v.h==0&&(v.src=null,m[ke]=null)):Ee(u)}}}function Gn(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function Or(u,m){if(u.da)u=!0;else{m=new ft(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Cs(u),u=v.call(b,m)}return u}function Xi(u){return u=u[ke],u instanceof he?u:null}var Ns="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(u){return typeof u=="function"?u:(u[Ns]||(u[Ns]=function(m){return u.handleEvent(m)}),u[Ns])}function Rt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}w(Rt,V),Rt.prototype[xt]=!0,Rt.prototype.removeEventListener=function(u,m,v,b){Is(this,u,m,v,b)};function Dt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),le(m,L)}L=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=m.g=v[se],L=bn(H,b,!0,m)&&L;if(H=m.g=u,L=bn(H,b,!0,m)&&L,L=bn(H,b,!1,m)&&L,v)for(se=0;se<v.length;se++)H=m.g=v[se],L=bn(H,b,!1,m)&&L}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)Ee(v[b]);delete u.g[m],u.h--}}this.G=null},Rt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Rt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function bn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const se=m[H];if(se&&!se.da&&se.capture==v){const Ue=se.listener,Ot=se.ha||se.src;se.fa&&we(u.i,se),L=Ue.call(Ot,b)!==!1&&L}}return L&&!b.defaultPrevented}function Ol(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Os(u){u.g=Ol(()=>{u.g=null,u.i&&(u.i=!1,Os(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Qt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(u){V.call(this),this.h=u,this.g={}}w(Ti,V);var Mr=[];function Ms(u){Je(u.g,function(m,v){this.g.hasOwnProperty(v)&&Cs(m)},u),u.g={}}Ti.prototype.N=function(){Ti.Z.N.call(this),Ms(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=d.JSON.stringify,_a=d.JSON.parse,W=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function G(){}function ie(){}var ne={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ee(){N.call(this,"d")}w(ee,N);function _e(){N.call(this,"c")}w(_e,N);var $={},ce=null;function ve(){return ce=ce||new Rt}$.Ia="serverreachability";function ze(u){N.call(this,$.Ia,u)}w(ze,N);function Be(u){const m=ve();Dt(m,new ze(m))}$.STAT_EVENT="statevent";function me(u,m){N.call(this,$.STAT_EVENT,u),this.stat=m}w(me,N);function B(u){const m=ve();Dt(m,new me(m,u))}$.Ja="timingevent";function ge(u,m){N.call(this,$.Ja,u),this.size=m}w(ge,N);function Te(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ge(){this.g=!0}Ge.prototype.ua=function(){this.g=!1};function Sn(u,m,v,b,L,H){u.info(function(){if(u.g)if(H){var se="",Ue=H.split("&");for(let rt=0;rt<Ue.length;rt++){var Ot=Ue[rt].split("=");if(Ot.length>1){const bt=Ot[0];Ot=Ot[1];const Qn=bt.split("_");se=Qn.length>=2&&Qn[1]=="type"?se+(bt+"="+Ot+"&"):se+(bt+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+se})}function Vs(u,m,v,b,L,H,se){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+se})}function Si(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fh(u,v)+(b?" "+b:"")})}function Vr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ge.prototype.info=function(){};function Fh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<b.length;se++)b[se]=""}}}}return bi(H)}catch{return m}}var kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vl;function Ur(){}w(Ur,G),Ur.prototype.g=function(){return new XMLHttpRequest},Vl=new Ur;function $i(u){return encodeURIComponent(String(u))}function _u(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Ut={},Wt={};function Ai(u,m,v){u.M=1,u.A=Lr(jt(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),wi(u),u.B=jt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Sa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new li,u.g=Mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Qt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Mr[0]=L.toString()),L=Mr);for(let H=0;H<L.length;H++){const se=nt(v,L[H],b||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Be(),Sn(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{const Ue=ci(this.g),Ot=this.g.ya(),rt=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ue!=4||Ot==7||(Ot==8||rt<=0?Be(3):Be(2)),xi(this);var m=this.g.ca();this.X=m;var v=Yh(this);if(this.o=m==200,Vs(this.i,this.v,this.B,this.l,this.S,Ue,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var H=b;break t}}H=null}if(u=H)Si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,u);else{this.o=!1,this.m=3,B(12),Vn(this),Fn(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<v.length;)if(bt=Eu(this,v),bt==Wt){Ue==4&&(this.m=4,B(14),u=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Ut){this.m=4,B(15),Si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Si(this.i,this.l,bt,null),Ri(this,bt);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||v.length!=0||this.h.h||(this.m=1,B(16),u=!1),this.o=this.o&&u,!u)Si(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xl(se),se.P=!0,B(11))}}else Si(this.i,this.l,v,null),Ri(this,v);Ue==4&&Vn(this),this.o&&!this.K&&(Ue==4?Cu(this.j,this):(this.o=!1,wi(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,B(12)):(this.m=0,B(13)),Vn(this),Fn(this)}}}catch{}};function Yh(u){if(!vu(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const b=m.length,L=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(L&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function vu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Eu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Wt:(v=Number(m.substring(v,b)),isNaN(v)?Ut:(b+=1,b+v>m.length?Wt:(m=m.slice(b,b+v),u.C=b+v,m)))}ai.prototype.cancel=function(){this.K=!0,Vn(this)};function wi(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Te(_(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Vr(this.i,this.B),this.M!=2&&(Be(),B(17)),Vn(this),this.m=2,Fn(this)):Ea(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Cu(u.j,u)}function Vn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ms(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ci(v.h,u))){if(!u.L&&Ci(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ia(v),Hs(v);else break e;Gr(v),B(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Te(_(v.Va,v),6e3));Ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&Ia(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let rt=L[m];const bt=rt[0];if(!(bt<=v.K))if(v.K=bt,rt=rt[1],v.I==2)if(rt[0]=="c"){v.M=rt[1],v.ba=rt[2];const Qn=rt[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const Ui=rt[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const hi=rt[5];hi!=null&&typeof hi=="number"&&hi>0&&(b=1.5*hi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const fi=u.g;if(fi){const Fr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var H=b.h;H.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ll(H,H.h),H.h=null))}if(b.G){const Ca=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(b.wa=Ca,ot(b.J,b.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var se=u;if(b.na=Ou(b,b.L?b.ba:null,b.W),se.L){jl(b.h,se);var Ue=se,Ot=b.O;Ot&&(Ue.H=Ot),Ue.D&&(xi(Ue),wi(Ue)),b.g=se}else Ru(b);v.i.length>0&&Vi(v)}else rt[0]!="stop"&&rt[0]!="close"||ki(v,7);else v.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ki(v,7):Kl(v):rt[0]!="noop"&&v.l&&v.l.qa(rt),v.A=0)}}Be(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function kl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ii(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ll(u,m){u.g?u.g.add(m):u.h=m}function jl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,H=null;b>=0?(L=u[v].substring(0,b),H=u[v].substring(b+1)):L=u[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.u),this.h=u.h,zl(this,wu(u.i)),this.m=u.m):u&&(m=String(u).match(Tu))?(this.l=!1,en(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),ks(this,m[4]),this.h=Ni(m[5]||"",!0),zl(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(jr(m,ba,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,ba,!0),"@"),u.push($i(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(jr(v,v.charAt(0)=="/"?Bl:bu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",jr(v,Su)),u.join("")},kn.prototype.resolve=function(u){const m=jt(this);let v=!!u.j;v?en(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ks(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let se=0;se<L.length;){const Ue=L[se++];Ue=="."?b&&se==L.length&&H.push(""):Ue==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&se==L.length&&H.push("")):(H.push(Ue),b=!0)}b=H.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?zl(m,wu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function jt(u){return new kn(u)}function en(u,m,v){u.j=v?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zl(u,m,v){m instanceof Ls?(u.i=m,Aa(u.i,u.l)):(v||(m=jr(m,Us)),u.i=new Ls(m,u.l))}function ot(u,m,v){u.i.set(m,v)}function Lr(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,An),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,bu=/[#\?:]/g,Bl=/[#\?]/g,Us=/[#\?@]/g,Su=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ls.prototype,s.add=function(u,m){wn(this),this.i=null,u=js(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Au(u,m){wn(u),m=js(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Hl(u,m){return wn(u),m=js(u,m),u.g.has(m)}s.forEach=function(u,m){wn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function ql(u,m){wn(u);let v=[];if(typeof m=="string")Hl(u,m)&&(v=v.concat(u.g.get(js(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return wn(this),this.i=null,u=js(this,u),Hl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=ql(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,v){Au(u,m),v.length>0&&(u.i=null,u.g.set(js(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=$i(v);v=ql(this,v);for(let H=0;H<v.length;H++){let se=L;v[H]!==""&&(se+="="+$i(v[H])),u.push(se)}}return this.i=u.join("&")};function wu(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function js(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(Au(this,b),Sa(this,L,v))},u)),u.j=m}function oi(u,m){const v=new Ge;if(d.Image){const b=new Image;b.onload=S(Yn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Yn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Yn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Yn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Gl(u,m){const v=new Ge,b=new AbortController,L=setTimeout(()=>{b.abort(),Yn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(L),H.ok?Yn(v,"TestPingServer: ok",!0,m):Yn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Yn(v,"TestPingServer: error",!1,m)})}function Yn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ps(){this.g=new W}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Di,G),Di.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(u,m){Rt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Pr,Rt),s=Pr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):ui(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},s.Na=function(u){this.g&&(this.response=u,zs(this))},s.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Je(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function zr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Kn(v),typeof u=="string"?v!=null&&$i(v):ot(u,m,v))}function dt(u){Rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(dt,Rt);var Oi=/^https?$/i,Fl=["POST","PUT"];s=dt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Br(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fl,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Br(this,H)}};function Br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yl(u),Ji(u)}function Yl(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),dt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},s.Xa=function(){Hr(this)};function Hr(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),ci(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let se=String(u.D).match(Tu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),b=!Oi.test(se?se.toLowerCase():"")}v=b}if(v)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var L=ci(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Yl(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Dt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_a(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=_u(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}tt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new Ge,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(u&&u.concurrentRequestLimit),this.Ba=new Ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){B(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ou(this,null,this.W),Vi(this)};function Kl(u){if(xa(u),u.I==3){var m=u.V++,v=jt(u.J);if(ot(v,"SID",u.M),ot(v,"RID",m),ot(v,"TYPE","terminate"),qr(u,v),m=new ai(u,u.j,m),m.M=2,m.A=Lr(jt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}Du(u)}function Hs(u){u.g&&(Xl(u),u.g.cancel(),u.g=null)}function xa(u){Hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!Ul(u.h)&&!u.m){u.m=!0;var m=u.Ea;yt||A(),Pe||(yt(),Pe=!0),C.add(m,u),u.D=0}}function Ra(u,m){return Ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Te(_(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ai(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),le(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=xu(this,L,m),v=jt(this.J),ot(v,"RID",u),ot(v,"CVER",22),this.G&&ot(v,"X-HTTP-Session-Id",this.G),qr(this,v),H&&(this.R?m="headers="+$i(Kn(H))+"&"+m:this.u&&zr(v,this.u,H)),Ll(this.h,L),this.Ra&&ot(v,"TYPE","init"),this.S?(ot(v,"$req",m),ot(v,"SID","null"),L.U=!0,Ai(L,v,null)):Ai(L,v,m),this.I=2}}else this.I==3&&(u?Ql(this,u):this.i.length==0||Ul(this.h)||Ql(this))};function Ql(u,m){var v;m?v=m.l:v=u.V++;const b=jt(u.J);ot(b,"SID",u.M),ot(b,"RID",v),ot(b,"AID",u.K),qr(u,b),u.u&&u.o&&zr(b,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=xu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ll(u.h,v),Ai(v,b,m)}function qr(u,m){u.H&&Je(u.H,function(v,b){ot(m,b,v)}),u.l&&Je({},function(v,b){ot(m,b,v)})}function xu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ue=-1;for(;;){const Ot=["count="+v];Ue==-1?v>0?(Ue=L[0].g,Ot.push("ofs="+Ue)):Ue=0:Ot.push("ofs="+Ue);let rt=!0;for(let bt=0;bt<v;bt++){var H=L[bt].g;const Qn=L[bt].map;if(H-=Ue,H<0)Ue=Math.max(0,L[bt].g-100),rt=!1;else try{H="req"+H+"_"||"";try{var se=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Ui,hi]of se){let fi=hi;y(hi)&&(fi=bi(hi)),Ot.push(H+Ui+"="+encodeURIComponent(fi))}}catch(Ui){throw Ot.push(H+"type="+encodeURIComponent("_badmap")),Ui}}catch{b&&b(Qn)}}if(rt){se=Ot.join("&");break e}}se=void 0}return u=u.i.splice(0,v),m.G=u,se}function Ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;yt||A(),Pe||(yt(),Pe=!0),C.add(m,u),u.A=0}}function Gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Te(_(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Te(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,B(10),Hs(this),Iu(this))};function Xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=jt(u.na);ot(m,"RID","rpc"),ot(m,"SID",u.M),ot(m,"AID",u.K),ot(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(m,"TO",u.ia),ot(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&zr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Lr(jt(m)),v.u=null,v.R=!0,va(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Hs(this),Gr(this),B(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Cu(u,m){var v=null;if(u.g==m){Ia(u),Xl(u),u.g=null;var b=2}else if(Ci(u.h,m))v=m.G,jl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ve(),Dt(b,new ge(b,v)),Vi(u)}else Ru(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ra(u,m)||b==2&&Gr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new kn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||en(b,"https"),Lr(b),L?oi(b.toString(),v):Gl(b.toString(),v)}else B(2);u.I=0,u.l&&u.l.pa(m),Du(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),B(2)):(this.j.info("Failed to ping google.com"),B(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=Pl(u.h);(m.length!=0||u.i.length!=0)&&(re(u.ja,m),re(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Ou(u,m,v){var b=v instanceof kn?jt(v):new kn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ks(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new kn(null);b&&en(H,b),m&&(H.g=m),L&&ks(H,L),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&ot(b,v,m),ot(b,"VER",u.ka),qr(u,b),b}function Mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new dt(new Di({ab:v})):new dt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}s=Vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function qs(){}qs.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){Rt.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}w(_n,Rt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Kl(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=bi(u),u=v);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Vi(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,_n.Z.N.call(this)};function ku(u){ee.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(ku,ee);function Uu(){_e.call(this),this.status=1}w(Uu,_e);function Wi(u){this.g=u}w(Wi,Vu),Wi.prototype.ra=function(){Dt(this.g,"a")},Wi.prototype.qa=function(u){Dt(this.g,new ku(u))},Wi.prototype.pa=function(u){Dt(this.g,new Uu)},Wi.prototype.oa=function(){Dt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,k1=function(){return new qs},V1=function(){return ve()},M1=$,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,Jc=kr,Ml.COMPLETE="complete",O1=Ml,ie.EventType=ne,ne.OPEN="a",ne.CLOSE="b",ne.ERROR="c",ne.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Uo=ie,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,D1=dt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Il="12.8.0";function F2(s){Il=s}const da=new Pm("@firebase/firestore");function rl(){return da.logLevel}function fe(s,...e){if(da.logLevel<=Ke.DEBUG){const i=e.map($m);da.debug(`Firestore (${Il}): ${s}`,...i)}}function ws(s,...e){if(da.logLevel<=Ke.ERROR){const i=e.map($m);da.error(`Firestore (${Il}): ${s}`,...i)}}function _l(s,...e){if(da.logLevel<=Ke.WARN){const i=e.map($m);da.warn(`Firestore (${Il}): ${s}`,...i)}}function $m(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Re(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,U1(s,a,i)}function U1(s,e,i){let a=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ws(a),new Error(a)}function lt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||U1(e,o,a)}function Ve(s,e){return s}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class L1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class K2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Q2{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){lt(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new br,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},y=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new br)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(lt(typeof a.accessToken=="string",31837,{l:a}),new L1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class X2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new X2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){lt(this.o===void 0,3512);const a=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new U_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Z2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Z2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Qe(s,e){return s<e?-1:s>e?1:0}function ym(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return em(o)===em(c)?Qe(o,c):em(o)?1:-1}return Qe(s.length,e.length)}const W2=55296,ex=57343;function em(s){const e=s.charCodeAt(0);return e>=W2&&e<=ex}function vl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const L_="__name__";class Bi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Re(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Re(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Bi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Qe(e.length,i.length)}static compareSegments(e,i){const a=Bi.isNumericId(e),o=Bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(i)):ym(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class At extends Bi{construct(e,i,a){return new At(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ye(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new At(i)}static emptyPath(){return new At([])}}const tx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Bi{construct(e,i,a){return new hn(e,i,a)}static isValidIdentifier(e){return tx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new hn([L_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ye(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new ye(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(i)}static emptyPath(){return new hn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(At.fromString(e))}static fromName(e){return new Ae(At.fromString(e).popFirst(5))}static empty(){return new Ae(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return At.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new At(e.slice()))}}function nx(s,e,i){if(!i)throw new ye(te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ix(s,e,i,a){if(e===!0&&a===!0)throw new ye(te.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function j_(s){if(!Ae.isDocumentKey(s))throw new ye(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function j1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Zm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re(12329,{type:typeof s})}function _i(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ye(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Zm(s);throw new ye(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Yt(s,e){const i={typeString:s};return e&&(i.value=e),i}function hu(s,e){if(!j1(s))throw new ye(te.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ye(te.INVALID_ARGUMENT,i);return!0}const P_=-62135596800,z_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*z_);return new Tt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<P_)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Yt("string",Tt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Tt(0,0))}static max(){return new De(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qo=-1;function sx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=De.fromTimestamp(a===1e9?new Tt(i+1,0):new Tt(i,a));return new Ar(o,Ae.empty(),e)}function rx(s){return new Ar(s.readTime,s.key,Qo)}class Ar{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ar(De.min(),Ae.empty(),Qo)}static max(){return new Ar(De.max(),Ae.empty(),Qo)}}function ax(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Ae.comparator(s.documentKey,e.documentKey),i!==0?i:Qe(s.largestBatchId,e.largestBatchId))}const lx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cl(s){if(s.code!==te.FAILED_PRECONDITION||s.message!==lx)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(p=>a(p)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let p=0;p<c;p++){const _=p;i(e[_]).next((S=>{d[_]=S,++y,y===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function ux(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nl(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const Wm=-1;function Ch(s){return s==null}function hh(s){return s===0&&1/s==-1/0}function cx(s){return typeof s=="number"&&Number.isInteger(s)&&!hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const P1="";function hx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=B_(e)),e=fx(s.get(i),e);return B_(e)}function fx(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case P1:i+="";break;default:i+=c}}return i}function B_(s){return s+P1+""}function H_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function z1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||cn.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??cn.RED,this.left=o??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new cn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new cn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Zt(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new qn([])}unionWith(e){let i=new Zt(hn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class B1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new B1("Invalid base64 string: "+c):c}})(e);return new fn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new fn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(lt(!!s,39018),typeof s=="string"){let e=0;const i=dx.exec(s);if(lt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(s.seconds),nanos:kt(s.nanos)}}function kt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xr(s){return typeof s=="string"?fn.fromBase64String(s):fn.fromUint8Array(s)}const H1="server_timestamp",q1="__type__",G1="__previous_value__",F1="__local_write_time__";function ep(s){return(s?.mapValue?.fields||{})[q1]?.stringValue===H1}function Nh(s){const e=s.mapValue.fields[G1];return ep(e)?Nh(e):e}function Xo(s){const e=wr(s.mapValue.fields[F1].timestampValue);return new Tt(e.seconds,e.nanos)}class mx{constructor(e,i,a,o,c,d,y,p,_,S,w){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=w}}const fh="(default)";class $o{constructor(e,i){this.projectId=e,this.database=i||fh}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}function px(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ye(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(s.options.projectId,e)}const Y1="__type__",gx="__max__",qc={mapValue:{}},K1="__vector__",dh="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ep(s)?4:_x(s)?9007199254740991:yx(s)?10:11:Re(28295,{value:s})}function Ki(s,e){if(s===e)return!0;const i=Rr(s);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xo(s).isEqual(Xo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=wr(o.timestampValue),y=wr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return xr(o.bytesValue).isEqual(xr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return kt(o.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return kt(o.integerValue)===kt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=kt(o.doubleValue),y=kt(c.doubleValue);return d===y?hh(d)===hh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return vl(s.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(H_(d)!==H_(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!Ki(d[p],y[p])))return!1;return!0})(s,e);default:return Re(52216,{left:s})}}function Jo(s,e){return(s.values||[]).find((i=>Ki(i,e)))!==void 0}function El(s,e){if(s===e)return 0;const i=Rr(s),a=Rr(e);if(i!==a)return Qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=kt(c.integerValue||c.doubleValue),p=kt(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(s,e);case 3:return G_(s.timestampValue,e.timestampValue);case 4:return G_(Xo(s),Xo(e));case 5:return ym(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=xr(c),p=xr(d);return y.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const S=Qe(y[_],p[_]);if(S!==0)return S}return Qe(y.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Qe(kt(c.latitude),kt(d.latitude));return y!==0?y:Qe(kt(c.longitude),kt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return F_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},p=d.fields||{},_=y[dh]?.arrayValue,S=p[dh]?.arrayValue,w=Qe(_?.values?.length||0,S?.values?.length||0);return w!==0?w:F_(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),_=d.fields||{},S=Object.keys(_);p.sort(),S.sort();for(let w=0;w<p.length&&w<S.length;++w){const M=ym(p[w],S[w]);if(M!==0)return M;const K=El(y[p[w]],_[S[w]]);if(K!==0)return K}return Qe(p.length,S.length)})(s.mapValue,e.mapValue);default:throw Re(23264,{he:i})}}function G_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const i=wr(s),a=wr(e),o=Qe(i.seconds,a.seconds);return o!==0?o:Qe(i.nanos,a.nanos)}function F_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=El(i[o],a[o]);if(c)return c}return Qe(i.length,a.length)}function Tl(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Ae.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=_m(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${_m(i.fields[d])}`;return o+"}"})(s.mapValue):Re(61005,{value:s})}function Zc(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+Zc(e):16;case 5:return 2*s.stringValue.length;case 6:return xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Nr(a.fields,((c,d)=>{o+=c.length+Zc(d)})),o})(s.mapValue);default:throw Re(13486,{value:s})}}function vm(s){return!!s&&"integerValue"in s}function tp(s){return!!s&&"arrayValue"in s}function Y_(s){return!!s&&"nullValue"in s}function K_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Wc(s){return!!s&&"mapValue"in s}function yx(s){return(s?.mapValue?.fields||{})[Y1]?.stringValue===K1}function Ho(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Nr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ho(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ho(s.arrayValue.values[i]);return e}return{...s}}function _x(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===gx}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Wc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(i)}setAll(e){let i=hn.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Ho(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Nr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Mn(Ho(this.value))}}function Q1(s){const e=[];return Nr(s.fields,((i,a)=>{const o=new hn([i]);if(Wc(a)){const c=Q1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new qn(e)}class gn{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new gn(e,0,De.min(),De.min(),De.min(),Mn.empty(),0)}static newFoundDocument(e,i,a,o){return new gn(e,1,i,De.min(),a,o,0)}static newNoDocument(e,i){return new gn(e,2,i,De.min(),De.min(),Mn.empty(),0)}static newUnknownDocument(e,i){return new gn(e,3,i,De.min(),De.min(),Mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,i){this.position=e,this.inclusive=i}}function Q_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=Ae.comparator(Ae.fromName(d.referenceValue),i.key):a=El(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function X_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ki(s.position[i],e.position[i]))return!1;return!0}class ph{constructor(e,i="asc"){this.field=e,this.dir=i}}function vx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class X1{}class Jt extends X1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Tx(e,i,a):i==="array-contains"?new Ax(e,a):i==="in"?new wx(e,a):i==="not-in"?new xx(e,a):i==="array-contains-any"?new Rx(e,a):new Jt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new bx(e,a):new Sx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(El(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(El(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends X1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qi(e,i)}matches(e){return $1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $1(s){return s.op==="and"}function J1(s){return Ex(s)&&$1(s)}function Ex(s){for(const e of s.filters)if(e instanceof Qi)return!1;return!0}function Em(s){if(s instanceof Jt)return s.field.canonicalString()+s.op.toString()+Tl(s.value);if(J1(s))return s.filters.map((e=>Em(e))).join(",");{const e=s.filters.map((i=>Em(i))).join(",");return`${s.op}(${e})`}}function Z1(s,e){return s instanceof Jt?(function(a,o){return o instanceof Jt&&a.op===o.op&&a.field.isEqual(o.field)&&Ki(a.value,o.value)})(s,e):s instanceof Qi?(function(a,o){return o instanceof Qi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&Z1(d,o.filters[y])),!0):!1})(s,e):void Re(19439)}function W1(s){return s instanceof Jt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Tl(i.value)}`})(s):s instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(W1).join(" ,")+"}"})(s):"Filter"}class Tx extends Jt{constructor(e,i,a){super(e,i,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const i=Ae.comparator(e.key,this.key);return this.matchesComparison(i)}}class bx extends Jt{constructor(e,i){super(e,"in",i),this.keys=eE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Sx extends Jt{constructor(e,i){super(e,"not-in",i),this.keys=eE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function eE(s,e){return(e.arrayValue?.values||[]).map((i=>Ae.fromName(i.referenceValue)))}class Ax extends Jt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tp(i)&&Jo(i.arrayValue,this.value)}}class wx extends Jt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jo(this.value.arrayValue,i)}}class xx extends Jt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jo(this.value.arrayValue,i)}}class Rx extends Jt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Jo(this.value.arrayValue,a)))}}class Ix{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function $_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new Ix(s,e,i,a,o,c,d)}function np(s){const e=Ve(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Em(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ch(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Tl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Tl(a))).join(",")),e.Te=i}return e.Te}function ip(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Z1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!X_(s.startAt,e.startAt)&&X_(s.endAt,e.endAt)}function Tm(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Dh{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Cx(s,e,i,a,o,c,d,y){return new Dh(s,e,i,a,o,c,d,y)}function Oh(s){return new Dh(s)}function J_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Nx(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Dx(s){return s.collectionGroup!==null}function qo(s){const e=Ve(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Zt(hn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ph(c,a))})),i.has(hn.keyField().canonicalString())||e.Ie.push(new ph(hn.keyField(),a))}return e.Ie}function Gi(s){const e=Ve(s);return e.Ee||(e.Ee=Ox(e,qo(s))),e.Ee}function Ox(s,e){if(s.limitType==="F")return $_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ph(o.field,c)}));const i=s.endAt?new mh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new mh(s.startAt.position,s.startAt.inclusive):null;return $_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function bm(s,e,i){return new Dh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Mh(s,e){return ip(Gi(s),Gi(e))&&s.limitType===e.limitType}function tE(s){return`${np(Gi(s))}|lt:${s.limitType}`}function al(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>W1(o))).join(", ")}]`),Ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Tl(o))).join(",")),`Target(${a})`})(Gi(s))}; limitType=${s.limitType})`}function Vh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Ae.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of qo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,p){const _=Q_(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,qo(a),o)||a.endAt&&!(function(d,y,p){const _=Q_(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,qo(a),o))})(s,e)}function Mx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function nE(s){return(e,i)=>{let a=!1;for(const o of qo(s)){const c=Vx(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Vx(s,e,i){const a=s.field.isKeyField()?Ae.comparator(e.key,i.key):(function(c,d,y){const p=d.data.field(c),_=y.data.field(c);return p!==null&&_!==null?El(p,_):Re(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Re(19790,{direction:s.dir})}}class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}const kx=new wt(Ae.comparator);function xs(){return kx}const iE=new wt(Ae.comparator);function Lo(...s){let e=iE;for(const i of s)e=e.insert(i.key,i);return e}function sE(s){let e=iE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ua(){return Go()}function rE(){return Go()}function Go(){return new ga((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Ux=new wt(Ae.comparator),Lx=new Zt(Ae.comparator);function Xe(...s){let e=Lx;for(const i of s)e=e.add(i);return e}const jx=new Zt(Qe);function Px(){return jx}function sp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function aE(s){return{integerValue:""+s}}function lE(s,e){return cx(e)?aE(e):sp(s,e)}class kh{constructor(){this._=void 0}}function zx(s,e,i){return s instanceof gh?(function(o,c){const d={fields:{[q1]:{stringValue:H1},[F1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&ep(c)&&(c=Nh(c)),c&&(d.fields[G1]=c),{mapValue:d}})(i,e):s instanceof bl?uE(s,e):s instanceof Zo?cE(s,e):(function(o,c){const d=oE(o,c),y=Z_(d)+Z_(o.Ae);return vm(d)&&vm(o.Ae)?aE(y):sp(o.serializer,y)})(s,e)}function Bx(s,e,i){return s instanceof bl?uE(s,e):s instanceof Zo?cE(s,e):i}function oE(s,e){return s instanceof Wo?(function(a){return vm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class gh extends kh{}class bl extends kh{constructor(e){super(),this.elements=e}}function uE(s,e){const i=hE(e);for(const a of s.elements)i.some((o=>Ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Zo extends kh{constructor(e){super(),this.elements=e}}function cE(s,e){let i=hE(e);for(const a of s.elements)i=i.filter((o=>!Ki(o,a)));return{arrayValue:{values:i}}}class Wo extends kh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z_(s){return kt(s.integerValue||s.doubleValue)}function hE(s){return tp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class fE{constructor(e,i){this.field=e,this.transform=i}}function Hx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof bl&&o instanceof bl||a instanceof Zo&&o instanceof Zo?vl(a.elements,o.elements,Ki):a instanceof Wo&&o instanceof Wo?Ki(a.Ae,o.Ae):a instanceof gh&&o instanceof gh})(s.transform,e.transform)}class qx{constructor(e,i){this.version=e,this.transformResults=i}}class vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Uh{}function dE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new rp(s.key,vi.none()):new fu(s.key,s.data,vi.none());{const i=s.data,a=Mn.empty();let o=new Zt(hn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Dr(s.key,a,new qn(o.toArray()),vi.none())}}function Gx(s,e,i){s instanceof fu?(function(o,c,d){const y=o.value.clone(),p=ev(o.fieldTransforms,c,d.transformResults);y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Dr?(function(o,c,d){if(!eh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=ev(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(mE(o)),p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fo(s,e,i,a){return s instanceof fu?(function(c,d,y,p){if(!eh(c.precondition,d))return y;const _=c.value.clone(),S=tv(c.fieldTransforms,p,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Dr?(function(c,d,y,p){if(!eh(c.precondition,d))return y;const _=tv(c.fieldTransforms,p,d),S=d.data;return S.setAll(mE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,y){return eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function Fx(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=oE(a.transform,o||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function W_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&vl(a,o,((c,d)=>Hx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class fu extends Uh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends Uh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function ev(s,e,i){const a=new Map;lt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,Bx(d,y,i[o]))}return a}function tv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,zx(c,d,e))}return a}class rp extends Uh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx extends Uh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Gx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=rE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const p=dE(d,y);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(De.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((i,a)=>W_(i,a)))&&vl(this.baseMutations,e.baseMutations,((i,a)=>W_(i,a)))}}class ap{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){lt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Ux})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new ap(e,i,a,o)}}class Qx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Xx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,et;function $x(s){switch(s){case te.OK:return Re(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Re(15467,{code:s})}}function pE(s){if(s===void 0)return ws("GRPC error has no .code"),te.UNKNOWN;switch(s){case Ft.OK:return te.OK;case Ft.CANCELLED:return te.CANCELLED;case Ft.UNKNOWN:return te.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return te.INTERNAL;case Ft.UNAVAILABLE:return te.UNAVAILABLE;case Ft.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ft.NOT_FOUND:return te.NOT_FOUND;case Ft.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ft.ABORTED:return te.ABORTED;case Ft.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ft.DATA_LOSS:return te.DATA_LOSS;default:return Re(39323,{code:s})}}(et=Ft||(Ft={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";function Jx(){return new TextEncoder}const Zx=new Tr([4294967295,4294967295],0);function nv(s){const e=Jx().encode(s),i=new N1;return i.update(e),new Uint8Array(i.digest())}function iv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([o,c],0)]}class lp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new jo(`Invalid padding: ${i}`);if(a<0)throw new jo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new jo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Tr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Tr.fromNumber(a)));return o.compare(Zx)===1&&(o=new Tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[a,o]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new lp(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=nv(e),[a,o]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Lh(De.min(),o,new wt(Qe),xs(),Xe())}}class du{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new du(a,i,Xe(),Xe(),Xe())}}class th{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class gE{constructor(e,i){this.targetId=e,this.Ce=i}}class yE{constructor(e,i,a=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class sv{constructor(){this.ve=0,this.Fe=rv(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),i=Xe(),a=Xe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Re(38017,{changeType:c})}})),new du(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=rv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Wx{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.He=Gc(),this.Je=Gc(),this.Ze=new wt(Qe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Tm(c))if(a===0){const d=new Ae(c.path);this.et(i,d,gn.newNoDocument(d,De.min()))}else lt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),p=y?this.ct(y,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=xr(a).toUint8Array()}catch(p){if(p instanceof B1)return _l("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new lp(d,o,c)}catch(p){return _l(p instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&Tm(y.target)){const p=new Ae(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,gn.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Xe();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Lh(e,i,this.Ze,this.je,a);return this.je=xs(),this.He=Gc(),this.Je=Gc(),this.Ze=new wt(Qe),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new sv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Zt(Qe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Zt(Qe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||fe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Gc(){return new wt(Ae.comparator)}function rv(){return new wt(Ae.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},tR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nR={and:"AND",or:"OR"};class iR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Sm(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _E(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function sR(s,e){return yh(s,e.toTimestamp())}function Fi(s){return lt(!!s,49232),De.fromTimestamp((function(i){const a=wr(i);return new Tt(a.seconds,a.nanos)})(s))}function op(s,e){return Am(s,e).canonicalString()}function Am(s,e){const i=(function(o){return new At(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function vE(s){const e=At.fromString(s);return lt(AE(e),10190,{key:e.toString()}),e}function wm(s,e){return op(s.databaseId,e.path)}function tm(s,e){const i=vE(e);if(i.get(1)!==s.databaseId.projectId)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ae(TE(i))}function EE(s,e){return op(s.databaseId,e)}function rR(s){const e=vE(s);return e.length===4?At.emptyPath():TE(e)}function xm(s){return new At(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function TE(s){return lt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function av(s,e,i){return{name:wm(s,e),fields:i.value.mapValue.fields}}function aR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Re(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(lt(S===void 0||typeof S=="string",58123),fn.fromBase64String(S||"")):(lt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),fn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?te.UNKNOWN:pE(_.code);return new ye(S,_.message||"")})(d);i=new yE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=tm(s,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):De.min(),y=new Mn({mapValue:{fields:a.document.fields}}),p=gn.newFoundDocument(o,c,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new th(_,S,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=tm(s,a.document),c=a.readTime?Fi(a.readTime):De.min(),d=gn.newNoDocument(o,c),y=a.removedTargetIds||[];i=new th([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=tm(s,a.document),c=a.removedTargetIds||[];i=new th([],c,o,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Xx(o,c),y=a.targetId;i=new gE(y,d)}}return i}function lR(s,e){let i;if(e instanceof fu)i={update:av(s,e.key,e.value)};else if(e instanceof rp)i={delete:wm(s,e.key)};else if(e instanceof Dr)i={update:av(s,e.key,e.data),updateMask:gR(e.fieldMask)};else{if(!(e instanceof Yx))return Re(16599,{dt:e.type});i={verify:wm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof gh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Wo)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Re(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:sR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)})(s,e.precondition)),i}function oR(s,e){return s&&s.length>0?(lt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(De.min())&&(d=Fi(c)),new qx(d,o.transformResults||[])})(i,e)))):[]}function uR(s,e){return{documents:[EE(s,e.path)]}}function cR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=EE(s,o);const c=(function(_){if(_.length!==0)return SE(Qi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:ll(M.field),direction:dR(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Sm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function hR(s){let e=rR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){lt(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const M=bE(w);return M instanceof Qi&&J1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(re){return new ph(ol(re.field),(function(oe){switch(oe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(re.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,Ch(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(w){const M=!!w.before,K=w.values||[];return new mh(K,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,K=w.values||[];return new mh(K,M)})(i.endAt)),Cx(e,o,d,c,y,"F",p,_)}function fR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function bE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ol(i.unaryFilter.field);return Jt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(i.unaryFilter.field);return Jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(i.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(i.unaryFilter.field);return Jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Jt.create(ol(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((a=>bE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(i.compositeFilter.op))})(s):Re(30097,{filter:s})}function dR(s){return eR[s]}function mR(s){return tR[s]}function pR(s){return nR[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return hn.fromServerFormat(s.fieldPath)}function SE(s){return s instanceof Jt?(function(i){if(i.op==="=="){if(K_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NAN"}};if(Y_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(K_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NAN"}};if(Y_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(i.field),op:mR(i.op),value:i.value}}})(s):s instanceof Qi?(function(i){const a=i.getFilters().map((o=>SE(o)));return a.length===1?a[0]:{compositeFilter:{op:pR(i.op),filters:a}}})(s):Re(54877,{filter:s})}function gR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function AE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function wE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class yr{constructor(e,i,a,o,c=De.min(),d=De.min(),y=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yR{constructor(e){this.yt=e}}function _R(s){const e=hR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(e,e.limit,"L"):e}class vR{constructor(){this.Sn=new ER}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ar.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class ER{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Zt(At.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Zt(At.comparator)).toArray()}}const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xE=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(xE,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Sl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Sl(0)}static ar(){return new Sl(-1)}}const ov="LruGarbageCollector",TR=1048576;function uv([s,e],[i,a]){const o=Qe(s,i);return o===0?Qe(e,a):o}class bR{constructor(e){this.Pr=e,this.buffer=new Zt(uv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();uv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Nl(i)?fe(ov,"Ignoring IndexedDB error during garbage collection: ",i):await Cl(i)}await this.Ar(3e5)}))}}class AR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ih.ce);const a=new bR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(lv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,y,p,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),rl()<=Ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function wR(s,e){return new AR(s,e)}class xR{constructor(){this.changes=new ga((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class IR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Fo(a.mutation,o,qn.empty(),Tt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Xe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Xe()){const o=ua();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Lo();return c.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ua();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Xe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=xs();const d=Go(),y=(function(){return Go()})();return i.forEach(((p,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Dr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Fo(S.mutation,_,S.mutation.getFieldMask(),Tt.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new RR(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Go();let o=new wt(((d,y)=>d-y)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let S=a.get(p)||qn.empty();S=y.applyToLocalView(_,S),a.set(p,S);const w=(o.get(y.batchId)||Xe()).add(p);o=o.insert(y.batchId,w)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,S=p.value,w=rE();S.forEach((M=>{if(!c.has(M)){const K=dE(i.get(M),a.get(M));K!==null&&w.set(M,K),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return Nx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Dx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(ua());let y=Qo,p=c;return d.next((_=>Z.forEach(_,((S,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{p=p.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,p,_,Xe()))).next((S=>({batchId:y,changes:sE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ae(i)).next((a=>{let o=Lo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Lo();return this.indexManager.getCollectionParents(e,c).next((y=>Z.forEach(y,(p=>{const _=(function(w,M){return new Dh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((S=>{S.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((p,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,gn.newInvalidDocument(S)))}));let y=Lo();return d.forEach(((p,_)=>{const S=c.get(p);S!==void 0&&Fo(S.mutation,_,qn.empty(),Tt.now()),Vh(i,_)&&(y=y.insert(p,_))})),y}))}}class CR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:_R(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),Z.resolve()}}class NR{constructor(){this.overlays=new wt(Ae.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ua();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=ua(),c=i.length+1,d=new Ae(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new wt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=ua(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=ua(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return Z.resolve(y)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Qx(i,a));let c=this.Lr.get(i);c===void 0&&(c=Xe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class DR{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class up{constructor(){this.kr=new Zt(nn.Kr),this.qr=new Zt(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new nn(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new nn(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new Ae(new At([])),a=new nn(i,e),o=new nn(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Ae(new At([])),a=new nn(i,e),o=new nn(i,e+1);let c=Xe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Ae.comparator(e.key,i.key)||Qe(e.Hr,i.Hr)}static Ur(e,i){return Qe(e.Hr,i.Hr)||Ae.comparator(e.key,i.key)}}class OR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Zt(nn.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Kx(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new nn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Wm:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const y=this.Zr(d.Hr);c.push(y)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Zt(Qe);return i.forEach((o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),Z.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;Ae.isDocumentKey(c)||(c=c.child(""));const d=new nn(new Ae(c),0);let y=new Zt(Qe);return this.Jr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(p.Hr)),!0)}),d),Z.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){lt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Z.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new nn(i,0),o=this.Jr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class MR{constructor(e){this.ti=e,this.docs=(function(){return new wt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(e,i){let a=xs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():gn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=xs();const d=i.path,y=new Ae(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:S}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ax(rx(S),a)<=0||(o.has(S.key)||Vh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Re(9500)}ni(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new VR(this)}getSize(e){return Z.resolve(this.size)}}class VR extends xR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class kR{constructor(e){this.persistence=e,this.ri=new ga((i=>np(i)),ip),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new up,this.targetCount=0,this.oi=Sl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Sl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class RE{constructor(e,i){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new DR,this.referenceDelegate=e(this),this.li=new kR(this),this.indexManager=new vR,this.remoteDocumentCache=(function(o){return new MR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new yR(i),this.Pi=new CR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new NR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new OR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){fe("MemoryPersistence","Starting transaction:",e);const o=new UR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return Z.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class UR extends ox{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Ri=new up,this.Ai=null}static Vi(e){return new cp(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(a=>{const o=Ae.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,De.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.fi=new ga((a=>hx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=wR(this,i)}static Vi(e,i){return new _h(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,De.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zc(e.data.value)),i}wr(e,i,a){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Xe(),o=Xe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hp(e,i.fromCache,a,o)}}class LR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return SS()?8:ux(yn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new LR;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(rl()<=Ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(rl()<=Ke.DEBUG&&fe("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(rl()<=Ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):Z.resolve())}gs(e,i){if(J_(i))return Z.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=bm(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Xe(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((p=>{const _=this.bs(i,y);return this.Ss(i,_,d,p.readTime)?this.gs(e,bm(i,null,"F")):this.Ds(e,_,i,p)}))))})))))}ps(e,i,a,o){return J_(i)||o.isEqual(De.min())?Z.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?Z.resolve(null):(rl()<=Ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(i)),this.Ds(e,d,i,sx(o,Qo)).next((y=>y)))}))}bs(e,i){let a=new Zt(nE(e));return i.forEach(((o,c)=>{Vh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return rl()<=Ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",al(i)),this.fs.getDocumentsMatchingQuery(e,i,Ar.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fp="LocalStore",PR=3e8;class zR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new wt(Qe),this.Fs=new ga((c=>np(c)),ip),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function BR(s,e,i,a){return new zR(s,e,i,a)}async function IE(s,e){const i=Ve(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let p=Xe();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)p=p.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)p=p.add(S.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function HR(s,e){const i=Ve(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,S){const w=_.batch,M=w.keys();let K=Z.resolve();return M.forEach((re=>{K=K.next((()=>S.getEntry(p,re))).next((ue=>{const oe=_.docVersions.get(re);lt(oe!==null,48541),ue.version.compareTo(oe)<0&&(w.applyToRemoteDocument(ue,_),ue.isValidDocument()&&(ue.setReadTime(_.commitVersion),S.addEntry(ue)))}))})),K.next((()=>y.mutationQueue.removeMutationBatch(p,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=Xe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function CE(s){const e=Ve(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function qR(s,e){const i=Ve(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((S,w)=>{const M=o.get(w);if(!M)return;y.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let K=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(fn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,a)),o=o.insert(w,K),(function(ue,oe,Se){return ue.resumeToken.approximateByteSize()===0||oe.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=PR?!0:Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0})(M,K,S)&&y.push(i.li.updateTargetData(c,K))}));let p=xs(),_=Xe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(GR(c,d,e.documentUpdates).next((S=>{p=S.Bs,_=S.Ls}))),!a.isEqual(De.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(S)}return Z.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.vs=o,c)))}function GR(s,e,i){let a=Xe(),o=Xe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=xs();return i.forEach(((y,p)=>{const _=c.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(y,p)):fe(fp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{Bs:d,Ls:o}}))}function FR(s,e){const i=Ve(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function YR(s,e){const i=Ve(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Rm(s,e,i){const a=Ve(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Nl(d))throw d;fe(fp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function cv(s,e,i){const a=Ve(s);let o=De.min(),c=Xe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,S){const w=Ve(p),M=w.Fs.get(S);return M!==void 0?Z.resolve(w.vs.get(M)):w.li.getTargetData(_,S)})(a,d,Gi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((p=>{c=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:De.min(),i?c:Xe()))).next((y=>(KR(a,Mx(e),y),{documents:y,ks:c})))))}function KR(s,e,i){let a=s.Ms.get(e)||De.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class hv{constructor(){this.activeTargetIds=Px()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QR{constructor(){this.vo=new hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XR{Mo(e){}shutdown(){}}const fv="ConnectivityMonitor";class dv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(fv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Im(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const nm="RestConnection",$R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class JR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===fh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=Im(),y=this.Qo(e,i.toUriEncodedString());fe(nm,`Sending RPC '${e}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:_}=new URL(y),S=wl(_);return this.zo(e,y,p,a,S).then((w=>(fe(nm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw _l(nm,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=$R[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class ZR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const mn="WebChannelConnection",ko=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ml extends JR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ml.c_){const e=V1();ko(e,M1.STAT_EVENT,(i=>{i.stat===gm.PROXY?fe(mn,"STAT_EVENT: detected buffering proxy"):i.stat===gm.NOPROXY&&fe(mn,"STAT_EVENT: detected no buffering proxy")})),ml.c_=!0}}zo(e,i,a,o,c){const d=Im();return new Promise(((y,p)=>{const _=new D1;_.setWithCredentials(!0),_.listenOnce(O1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Jc.NO_ERROR:const w=_.getResponseJson();fe(mn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Jc.TIMEOUT:fe(mn,`RPC '${e}' ${d} timed out`),p(new ye(te.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const M=_.getStatus();if(fe(mn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const re=K?.error;if(re&&re.status&&re.message){const ue=(function(Se){const Oe=Se.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Oe)>=0?Oe:te.UNKNOWN})(re.status);p(new ye(ue,re.message))}else p(new ye(te.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ye(te.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{fe(mn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);fe(mn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=Im(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");fe(mn,`Creating RPC '${e}' stream ${o}: ${_}`,y);const S=d.createWebChannel(_,y);this.I_(S);let w=!1,M=!1;const K=new ZR({Ho:re=>{M?fe(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,re):(w||(fe(mn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),fe(mn,`RPC '${e}' stream ${o} sending:`,re),S.send(re))},Jo:()=>S.close()});return ko(S,Uo.EventType.OPEN,(()=>{M||(fe(mn,`RPC '${e}' stream ${o} transport opened.`),K.i_())})),ko(S,Uo.EventType.CLOSE,(()=>{M||(M=!0,fe(mn,`RPC '${e}' stream ${o} transport closed`),K.o_(),this.E_(S))})),ko(S,Uo.EventType.ERROR,(re=>{M||(M=!0,_l(mn,`RPC '${e}' stream ${o} transport errored. Name:`,re.name,"Message:",re.message),K.o_(new ye(te.UNAVAILABLE,"The operation could not be completed")))})),ko(S,Uo.EventType.MESSAGE,(re=>{if(!M){const ue=re.data[0];lt(!!ue,16349);const oe=ue,Se=oe?.error||oe[0]?.error;if(Se){fe(mn,`RPC '${e}' stream ${o} received error:`,Se);const Oe=Se.status;let Ce=(function(Pe){const C=Ft[Pe];if(C!==void 0)return pE(C)})(Oe),ht=Se.message;Ce===void 0&&(Ce=te.INTERNAL,ht="Unknown error status: "+Oe+" with message "+Se.message),M=!0,K.o_(new ye(Ce,ht)),S.close()}else fe(mn,`RPC '${e}' stream ${o} received:`,ue),K.__(ue)}})),ml.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return k1()}}function WR(s){return new ml(s)}function im(){return typeof document<"u"?document:null}function jh(s){return new iR(s,!0)}ml.c_=!1;class NE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const mv="PersistentStream";class DE{constructor(e,i,a,o,c,d,y,p){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===te.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ye(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(fe(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eI extends DE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=aR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return De.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?De.min():d.readTime?Fi(d.readTime):De.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let y;const p=d.target;if(y=Tm(p)?{documents:uR(c,p)}:{query:cR(c,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=_E(c,d.resumeToken);const _=Sm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(De.min())>0){y.readTime=yh(c,d.snapshotVersion.toTimestamp());const _=Sm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=fR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.K_(i)}}class tI extends DE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=oR(e.writeResults,e.commitTime),a=Fi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>lR(this.serializer,a)))};this.K_(i)}}class nI{}class iI extends nI{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Am(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(te.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,Am(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ye(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function sI(s,e,i,a){return new iI(s,e,i,a)}class rI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):fe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class aI{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ya(this)&&(fe(ma,"Restarting streams for network reachability change."),await(async function(p){const _=Ve(p);_.Ea.add(4),await mu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ph(_)})(this))}))})),this.Va=new rI(a,o)}}async function Ph(s){if(ya(s))for(const e of s.Ra)await e(!0)}async function mu(s){for(const e of s.Ra)await e(!1)}function OE(s,e){const i=Ve(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),gp(i)?pp(i):Dl(i).O_()&&mp(i,e))}function dp(s,e){const i=Ve(s),a=Dl(i);i.Ia.delete(e),a.O_()&&ME(i,e),i.Ia.size===0&&(a.O_()?a.L_():ya(i)&&i.Va.set("Unknown"))}function mp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Dl(s).Z_(e)}function ME(s,e){s.da.$e(e),Dl(s).X_(e)}function pp(s){s.da=new Wx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Dl(s).start(),s.Va.ua()}function gp(s){return ya(s)&&!Dl(s).x_()&&s.Ia.size>0}function ya(s){return Ve(s).Ea.size===0}function VE(s){s.da=void 0}async function lI(s){s.Va.set("Online")}async function oI(s){s.Ia.forEach(((e,i)=>{mp(s,e)}))}async function uI(s,e){VE(s),gp(s)?(s.Va.ha(e),pp(s)):s.Va.set("Unknown")}async function cI(s,e,i){if(s.Va.set("Online"),e instanceof yE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(s,e)}catch(a){fe(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(s,a)}else if(e instanceof th?s.da.Xe(e):e instanceof gE?s.da.st(e):s.da.tt(e),!i.isEqual(De.min()))try{const a=await CE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const S=c.Ia.get(p);if(!S)return;c.Ia.set(p,S.withResumeToken(fn.EMPTY_BYTE_STRING,S.snapshotVersion)),ME(c,p);const w=new yr(S.target,p,_,S.sequenceNumber);mp(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){fe(ma,"Failed to raise snapshot:",a),await vh(s,a)}}async function vh(s,e,i){if(!Nl(e))throw e;s.Ea.add(1),await mu(s),s.Va.set("Offline"),i||(i=()=>CE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(ma,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ph(s)}))}function kE(s,e){return e().catch((i=>vh(s,i,e)))}async function zh(s){const e=Ve(s),i=Ir(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;hI(e);)try{const o=await FR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,fI(e,o)}catch(o){await vh(e,o)}UE(e)&&LE(e)}function hI(s){return ya(s)&&s.Ta.length<10}function fI(s,e){s.Ta.push(e);const i=Ir(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function UE(s){return ya(s)&&!Ir(s).x_()&&s.Ta.length>0}function LE(s){Ir(s).start()}async function dI(s){Ir(s).ra()}async function mI(s){const e=Ir(s);for(const i of s.Ta)e.ea(i.mutations)}async function pI(s,e,i){const a=s.Ta.shift(),o=ap.from(a,e,i);await kE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await zh(s)}async function gI(s,e){e&&Ir(s).Y_&&await(async function(a,o){if((function(d){return $x(d)&&d!==te.ABORTED})(o.code)){const c=a.Ta.shift();Ir(a).B_(),await kE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await zh(a)}})(s,e),UE(s)&&LE(s)}async function pv(s,e){const i=Ve(s);i.asyncQueue.verifyOperationInProgress(),fe(ma,"RemoteStore received new credentials");const a=ya(i);i.Ea.add(3),await mu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ph(i)}async function yI(s,e){const i=Ve(s);e?(i.Ea.delete(2),await Ph(i)):e||(i.Ea.add(2),await mu(i),i.Va.set("Unknown"))}function Dl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ve(i);return c.sa(),new eI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:lI.bind(null,s),Yo:oI.bind(null,s),t_:uI.bind(null,s),J_:cI.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),gp(s)?pp(s):s.Va.set("Unknown")):(await s.ma.stop(),VE(s))}))),s.ma}function Ir(s){return s.fa||(s.fa=(function(i,a,o){const c=Ve(i);return c.sa(),new tI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:dI.bind(null,s),t_:gI.bind(null,s),ta:mI.bind(null,s),na:pI.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(ma,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new yp(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(s,e){if(ws("AsyncQueue",`${e}: ${s}`),Nl(s))return new ye(te.UNAVAILABLE,`${e}: ${s}`);throw s}class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Ae.comparator(i.key,a.key):(i,a)=>Ae.comparator(i.key,a.key),this.keyedMap=Lo(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new pl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class gv{constructor(){this.ga=new wt(Ae.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Al{constructor(e,i,a,o,c,d,y,p,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Al(e,i,pl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class _I{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class vI{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ve(i),c=o.queries;o.queries=yv(),c.forEach(((d,y)=>{for(const p of y.ba)p.onError(a)}))})(this,new ye(te.ABORTED,"Firestore shutting down"))}}function yv(){return new ga((s=>tE(s)),Mh)}async function jE(s,e){const i=Ve(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new _I,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=_p(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&vp(i)}async function PE(s,e){const i=Ve(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function EI(s,e){const i=Ve(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(o)&&(a=!0);d.wa=o}}a&&vp(i)}function TI(s,e,i){const a=Ve(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function vp(s){s.Ca.forEach((e=>{e.next()}))}var Cm,_v;(_v=Cm||(Cm={})).Ma="default",_v.Cache="cache";class zE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Al(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class BE{constructor(e){this.key=e}}class HE{constructor(e){this.key=e}}class bI{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=nE(e),this.tu=new pl(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new gv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const M=o.get(S),K=Vh(this.query,w)?w:null,re=!!M&&this.mutatedKeys.has(M.key),ue=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let oe=!1;M&&K?M.data.isEqual(K.data)?re!==ue&&(a.track({type:3,doc:K}),oe=!0):this.su(M,K)||(a.track({type:2,doc:K}),oe=!0,(p&&this.eu(K,p)>0||_&&this.eu(K,_)<0)&&(y=!0)):!M&&K?(a.track({type:0,doc:K}),oe=!0):M&&!K&&(a.track({type:1,doc:M}),oe=!0,(p||_)&&(y=!0)),oe&&(K?(d=d.add(K),c=ue?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(K,re){const ue=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:oe})}};return ue(K)-ue(re)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,_=p!==this.Xa;return this.Xa=p,d.length!==0||_?{snapshot:new Al(this.query,e.tu,c,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new HE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new BE(a))})),i}cu(e){this.Za=e.ks,this.Ya=Xe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ep="SyncEngine";class SI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class AI{constructor(e){this.key=e,this.hu=!1}}class wI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga((y=>tE(y)),Mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(Ae.comparator),this.Au=new Map,this.Vu=new up,this.du={},this.mu=new Map,this.fu=Sl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xI(s,e,i=!0){const a=QE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await qE(a,e,i,!0),o}async function RI(s,e){const i=QE(s);await qE(i,e,!0,!1)}async function qE(s,e,i,a){const o=await YR(s.localStore,Gi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await II(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&OE(s.remoteStore,o),y}async function II(s,e,i,a,o){s.pu=(w,M,K)=>(async function(ue,oe,Se,Oe){let Ce=oe.view.ru(Se);Ce.Ss&&(Ce=await cv(ue.localStore,oe.query,!1).then((({documents:C})=>oe.view.ru(C,Ce))));const ht=Oe&&Oe.targetChanges.get(oe.targetId),yt=Oe&&Oe.targetMismatches.get(oe.targetId)!=null,Pe=oe.view.applyChanges(Ce,ue.isPrimaryClient,ht,yt);return Ev(ue,oe.targetId,Pe.au),Pe.snapshot})(s,w,M,K);const c=await cv(s.localStore,e,!0),d=new bI(e,c.ks),y=d.ru(c.documents),p=du.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,p);Ev(s,i,_.au);const S=new SI(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function CI(s,e,i){const a=Ve(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Mh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&dp(a.remoteStore,o.targetId),Nm(a,o.targetId)})).catch(Cl)):(Nm(a,o.targetId),await Rm(a.localStore,o.targetId,!0))}async function NI(s,e){const i=Ve(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dp(i.remoteStore,a.targetId))}async function DI(s,e,i){const a=jI(s);try{const o=await(function(d,y){const p=Ve(d),_=Tt.now(),S=y.reduce(((K,re)=>K.add(re.key)),Xe());let w,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let re=xs(),ue=Xe();return p.xs.getEntries(K,S).next((oe=>{re=oe,re.forEach(((Se,Oe)=>{Oe.isValidDocument()||(ue=ue.add(Se))}))})).next((()=>p.localDocuments.getOverlayedDocuments(K,re))).next((oe=>{w=oe;const Se=[];for(const Oe of y){const Ce=Fx(Oe,w.get(Oe.key).overlayedDocument);Ce!=null&&Se.push(new Dr(Oe.key,Ce,Q1(Ce.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(K,_,Se,y)})).next((oe=>{M=oe;const Se=oe.applyToLocalDocumentSet(w,ue);return p.documentOverlayCache.saveOverlays(K,oe.batchId,Se)}))})).then((()=>({batchId:M.batchId,changes:sE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,p){let _=d.du[d.currentUser.toKey()];_||(_=new wt(Qe)),_=_.insert(y,p),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await pu(a,o.changes),await zh(a.remoteStore)}catch(o){const c=_p(o,"Failed to persist write");i.reject(c)}}async function GE(s,e){const i=Ve(s);try{const a=await qR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?lt(d.hu,14607):o.removedDocuments.size>0&&(lt(d.hu,42227),d.hu=!1))})),await pu(i,a,e)}catch(a){await Cl(a)}}function vv(s,e,i){const a=Ve(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const p=Ve(d);p.onlineState=y;let _=!1;p.queries.forEach(((S,w)=>{for(const M of w.ba)M.va(y)&&(_=!0)})),_&&vp(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function OI(s,e,i){const a=Ve(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new wt(Ae.comparator);d=d.insert(c,gn.newNoDocument(c,De.min()));const y=Xe().add(c),p=new Lh(De.min(),new Map,new wt(Qe),d,y);await GE(a,p),a.Ru=a.Ru.remove(c),a.Au.delete(e),Tp(a)}else await Rm(a.localStore,e,!1).then((()=>Nm(a,e,i))).catch(Cl)}async function MI(s,e){const i=Ve(s),a=e.batch.batchId;try{const o=await HR(i.localStore,e);YE(i,a,null),FE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await pu(i,o)}catch(o){await Cl(o)}}async function VI(s,e,i){const a=Ve(s);try{const o=await(function(d,y){const p=Ve(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return p.mutationQueue.lookupMutationBatch(_,y).next((w=>(lt(w!==null,37113),S=w.keys(),p.mutationQueue.removeMutationBatch(_,w)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>p.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);YE(a,e,i),FE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await pu(a,o)}catch(o){await Cl(o)}}function FE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function YE(s,e,i){const a=Ve(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Nm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||KE(s,a)}))}function KE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(dp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Tp(s))}function Ev(s,e,i){for(const a of i)a instanceof BE?(s.Vu.addReference(a.key,e),kI(s,a)):a instanceof HE?(fe(Ep,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||KE(s,a.key)):Re(19791,{wu:a})}function kI(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(fe(Ep,"New document in limbo: "+i),s.Eu.add(a),Tp(s))}function Tp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Ae(At.fromString(e)),a=s.fu.next();s.Au.set(a,new AI(i)),s.Ru=s.Ru.insert(i,a),OE(s.remoteStore,new yr(Gi(Oh(i.path)),a,"TargetPurposeLimboResolution",Ih.ce))}}async function pu(s,e,i){const a=Ve(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=hp.Es(p.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(p,_){const S=Ve(p);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(M=>Z.forEach(M.Ts,(K=>S.persistence.referenceDelegate.addReference(w,M.targetId,K))).next((()=>Z.forEach(M.Is,(K=>S.persistence.referenceDelegate.removeReference(w,M.targetId,K)))))))))}catch(w){if(!Nl(w))throw w;fe(fp,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const K=S.vs.get(M),re=K.snapshotVersion,ue=K.withLastLimboFreeSnapshotVersion(re);S.vs=S.vs.insert(M,ue)}}})(a.localStore,c))}async function UI(s,e){const i=Ve(s);if(!i.currentUser.isEqual(e)){fe(Ep,"User change. New user:",e.toKey());const a=await IE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new ye(te.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await pu(i,a.Ns)}}function LI(s,e){const i=Ve(s),a=i.Au.get(e);if(a&&a.hu)return Xe().add(a.key);{let o=Xe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function QE(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OI.bind(null,e),e.Pu.J_=EI.bind(null,e.eventManager),e.Pu.yu=TI.bind(null,e.eventManager),e}function jI(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VI.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return BR(this.persistence,new jR,e.initialUser,this.serializer)}Cu(e){return new RE(cp.Vi,this.serializer)}Du(e){return new QR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class PI extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){lt(this.persistence.referenceDelegate instanceof _h,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new SR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new RE((a=>_h.Vi(a,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>vv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=UI.bind(null,this.syncEngine),await yI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vI})()}createDatastore(e){const i=jh(e.databaseInfo.databaseId),a=WR(e.databaseInfo);return sI(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new aI(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new XR})())}createSyncEngine(e,i){return(function(o,c,d,y,p,_,S){const w=new wI(o,c,d,y,p,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ve(i);fe(ma,"RemoteStore shutting down."),a.Ea.add(5),await mu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class XE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Cr="FirestoreClient";class zI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{fe(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(fe(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_p(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function sm(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Cr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await IE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Tv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await BI(s);fe(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>pv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>pv(e.remoteStore,o))),s._onlineComponents=e}async function BI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Cr,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;_l("Error using user provided cache. Falling back to memory cache: "+i),await sm(s,new Eh)}}else fe(Cr,"Using default OfflineComponentProvider"),await sm(s,new PI(void 0));return s._offlineComponents}async function $E(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Cr,"Using user provided OnlineComponentProvider"),await Tv(s,s._uninitializedComponentsProvider._online)):(fe(Cr,"Using default OnlineComponentProvider"),await Tv(s,new Dm))),s._onlineComponents}function HI(s){return $E(s).then((e=>e.syncEngine))}async function Om(s){const e=await $E(s),i=e.eventManager;return i.onListen=xI.bind(null,e.syncEngine),i.onUnlisten=CI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=RI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=NI.bind(null,e.syncEngine),i}function qI(s,e,i,a){const o=new XE(a),c=new zE(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>jE(await Om(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>PE(await Om(s),c)))}}function GI(s,e,i={}){const a=new br;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,p,_){const S=new XE({next:M=>{S.Nu(),d.enqueueAndForget((()=>PE(c,w)));const K=M.docs.has(y);!K&&M.fromCache?_.reject(new ye(te.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&M.fromCache&&p&&p.source==="server"?_.reject(new ye(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new zE(Oh(y.path),S,{includeMetadataChanges:!0,Ka:!0});return jE(c,w)})(await Om(s),s.asyncQueue,e,i,a))),a.promise}function FI(s,e){const i=new br;return s.asyncQueue.enqueueAndForget((async()=>DI(await HI(s),e,i))),i.promise}function JE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const YI="ComponentProvider",bv=new Map;function KI(s,e,i,a,o){return new mx(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,JE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const ZE="firestore.googleapis.com",Sv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=Sv}else this.host=e.host,this.ssl=e.ssl??Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TR)throw new ye(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ix("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Y2;switch(a.type){case"firstParty":return new $2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ye(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=bv.get(i);a&&(fe(YI,"Removing Datastore"),bv.delete(i),a.terminate())})(this),Promise.resolve()}}function QI(s,e,i,a={}){s=_i(s,bp);const o=wl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(Fv(`https://${y}`),Yv("Firestore",!0)),c.host!==ZE&&c.host!==y&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:o,emulatorOptions:a};if(!Sr(p,d)&&(s._setSettings(p),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=pn.MOCK_USER;else{_=mS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ye(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new pn(w)}s._authCredentials=new K2(new L1(_,S))}}class Bh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Bh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(hu(i,Kt._jsonSchema))return new Kt(e,a||null,new Ae(At.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Yt("string",Kt._jsonSchemaVersion),referencePath:Yt("string")};class eu extends Bh{constructor(e,i,a){super(e,i,Oh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Ae(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function qt(s,e,...i){if(s=En(s),arguments.length===1&&(e=Jm.newId()),nx("doc","path",e),s instanceof bp){const a=At.fromString(e,...i);return j_(a),new Kt(s,null,new Ae(a))}{if(!(s instanceof Kt||s instanceof eu))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(At.fromString(e,...i));return j_(a),new Kt(s.firestore,s instanceof eu?s.converter:null,new Ae(a))}}const wv="AsyncQueue";class xv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const a=im();a&&fe(wv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;fe(wv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",Rv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=yp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:Rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Rv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class pa extends bp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new xv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xv(e),this._firestoreClient=void 0,await e}}}function XI(s,e){const i=typeof s=="object"?s:$v(),a=typeof s=="string"?s:fh,o=Bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=fS("firestore");c&&QI(o,...c)}return o}function Sp(s){if(s._terminated)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||$I(s),s._firestoreClient}function $I(s){const e=s._freezeSettings(),i=KI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new zI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(fn.fromBase64String(e))}catch(i){throw new ye(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Yt("string",si._jsonSchemaVersion),bytes:Yt("string")};class Ap{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ye(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gu{constructor(e){this._methodName=e}}class Yi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ye(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ye(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Yt("string",Yi._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new ye(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Yt("string",Ei._jsonSchemaVersion),vectorValues:Yt("object")};const JI=/^__.*__$/;class ZI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new fu(e,this.data,i,this.fieldTransforms)}}class WE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function eT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:s})}}class Hh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eT(this.dataSource)&&JI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class WI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||jh(e)}createContext(e,i,a,o=!1){return new Hh({dataSource:e,methodName:i,targetDoc:a,path:hn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tT(s){const e=s._freezeSettings(),i=jh(s._databaseId);return new WI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function eC(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Rp("Data must be an object, but it was:",d,a);const y=nT(a,d);let p,_;if(c.merge)p=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const M=tu(e,w,i);if(!d.contains(M))throw new ye(te.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);rT(S,M)||S.push(M)}p=new qn(S),_=d.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,_=d.fieldTransforms;return new ZI(new Mn(y),p,_)}class qh extends gu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function tC(s,e,i){return new Hh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wp extends gu{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=tC(this,e,!0),a=this.Ac.map((c=>yu(c,i))),o=new bl(a);return new fE(e.path,o)}isEqual(e){return e instanceof wp&&Sr(this.Ac,e.Ac)}}class xp extends gu{constructor(e,i){super(e),this.Vc=i}_toFieldTransform(e){const i=new Wo(e.serializer,lE(e.serializer,this.Vc));return new fE(e.path,i)}isEqual(e){return e instanceof xp&&this.Vc===e.Vc}}function nC(s,e,i,a){const o=s.createContext(1,e,i);Rp("Data must be an object, but it was:",o,a);const c=[],d=Mn.empty();Nr(a,((p,_)=>{const S=sT(e,p,i);_=En(_);const w=o.childContextForFieldPath(S);if(_ instanceof qh)c.push(S);else{const M=yu(_,w);M!=null&&(c.push(S),d.set(S,M))}}));const y=new qn(c);return new WE(d,y,o.fieldTransforms)}function iC(s,e,i,a,o,c){const d=s.createContext(1,e,i),y=[tu(e,a,i)],p=[o];if(c.length%2!=0)throw new ye(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(tu(e,c[M])),p.push(c[M+1]);const _=[],S=Mn.empty();for(let M=y.length-1;M>=0;--M)if(!rT(_,y[M])){const K=y[M];let re=p[M];re=En(re);const ue=d.childContextForFieldPath(K);if(re instanceof qh)_.push(K);else{const oe=yu(re,ue);oe!=null&&(_.push(K),S.set(K,oe))}}const w=new qn(_);return new WE(S,w,d.fieldTransforms)}function yu(s,e){if(iT(s=En(s)))return Rp("Unsupported field value:",e,s),nT(s,e);if(s instanceof gu)return(function(a,o){if(!eT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let p=yu(y,o.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=En(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Tt.fromDate(a);return{timestampValue:yh(o.serializer,c)}}if(a instanceof Tt){const c=new Tt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(o.serializer,c)}}if(a instanceof Yi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:_E(o.serializer,a._byteString)};if(a instanceof Kt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:op(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ei)return(function(d,y){const p=d instanceof Ei?d.toArray():d;return{mapValue:{fields:{[Y1]:{stringValue:K1},[dh]:{arrayValue:{values:p.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return sp(y.serializer,S)}))}}}}}})(a,o);if(wE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Zm(a)}`)})(s,e)}function nT(s,e){const i={};return z1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(s,((a,o)=>{const c=yu(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function iT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Tt||s instanceof Yi||s instanceof si||s instanceof Kt||s instanceof gu||s instanceof Ei||wE(s))}function Rp(s,e,i){if(!iT(i)||!j1(i)){const a=Zm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function tu(s,e,i){if((e=En(e))instanceof Ap)return e._internalPath;if(typeof e=="string")return sT(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,i)}const sC=new RegExp("[~\\*/\\[\\]]");function sT(s,e,i){if(e.search(sC)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ap(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Th(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new ye(te.INVALID_ARGUMENT,y+s+p)}function rT(s,e){return s.some((i=>i.isEqual(e)))}class rC{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Nr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[dh].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new Yi(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Nh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Xo(e));default:return null}}convertTimestamp(e){const i=wr(e);return new Tt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=At.fromString(e);lt(AE(a),9688,{name:e});const o=new $o(a.get(1),a.get(3)),c=new Ae(a.popFirst(5));return o.isEqual(i)||ws(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class aT extends rC{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function ps(...s){return new wp("arrayUnion",s)}function gs(s){return new xp("increment",s)}const Iv="@firebase/firestore",Cv="4.10.0";function Nv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class lT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(tu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class aC extends lT{data(){return super.data()}}function lC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ye(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function oC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Po{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends lT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(tu("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Yt("string",ca._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class nh extends ca{data(e={}){return super.data(e)}}class gl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Po(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new nh(this._firestore,this._userDataWriter,a.key,a,new Po(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ye(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const p=new nh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Po(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new nh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Po(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:uC(y.type),doc:p,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:s})}}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Yt("string",gl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};function cC(s){s=_i(s,Kt);const e=_i(s.firestore,pa),i=Sp(e);return GI(i,s._key).then((a=>oT(e,s,a)))}function hC(s,e,i){s=_i(s,Kt);const a=_i(s.firestore,pa),o=oC(s.converter,e),c=tT(a);return Ip(a,[eC(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,vi.none())])}function un(s,e,i,...a){s=_i(s,Kt);const o=_i(s.firestore,pa),c=tT(o);let d;return d=typeof(e=En(e))=="string"||e instanceof Ap?iC(c,"updateDoc",s._key,e,i,a):nC(c,"updateDoc",s._key,e),Ip(o,[d.toMutation(s._key,vi.exists(!0))])}function fC(s){return Ip(_i(s.firestore,pa),[new rp(s._key,vi.none())])}function Dv(s,...e){s=En(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Nv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Nv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof Kt)d=_i(s.firestore,pa),y=Oh(s._key.path),c={next:_=>{e[a]&&e[a](oT(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=_i(s,Bh);d=_i(_.firestore,pa),y=_._query;const S=new aT(d);c={next:w=>{e[a]&&e[a](new gl(d,S,_,w))},error:e[a+1],complete:e[a+2]},lC(s._query)}const p=Sp(d);return qI(p,y,o,c)}function Ip(s,e){const i=Sp(s);return FI(i,e)}function oT(s,e,i){const a=i.docs.get(e._key),o=new aT(s);return new ca(s,o,e._key,a,new Po(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){F2(xl),yl(new ha("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new pa(new Q2(a.getProvider("auth-internal")),new J2(d,a.getProvider("app-check-internal")),px(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),Er(Iv,Cv,e),Er(Iv,Cv,"esm2020")})();const uT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const dC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const mC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Ov=s=>{const e=mC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var pC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const yC=We.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},p)=>We.createElement("svg",{ref:p,...pC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:uT("lucide",o),...!c&&!gC(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>We.createElement(_,S)),...Array.isArray(c)?c:[c]]));const $e=(s,e)=>{const i=We.forwardRef(({className:a,...o},c)=>We.createElement(yC,{ref:c,iconNode:e,className:uT(`lucide-${dC(Ov(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Ov(s),i};const _C=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],vC=$e("arrow-left-right",_C);const EC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],TC=$e("arrow-right",EC);const bC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Yc=$e("award",bC);const SC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Mm=$e("book-open",SC);const AC=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],cT=$e("bug",AC);const wC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ul=$e("circle-check-big",wC);const xC=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mv=$e("circle-play",xC);const RC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vv=$e("circle-question-mark",RC);const IC=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],CC=$e("code",IC);const NC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],DC=$e("copy",NC);const OC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],bh=$e("cpu",OC);const MC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Vm=$e("crown",MC);const VC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Cp=$e("database",VC);const kC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],UC=$e("ghost",kC);const LC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],jC=$e("hammer",LC);const PC=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],zC=$e("hard-drive",PC);const BC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],HC=$e("history",BC);const qC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],GC=$e("house",qC);const FC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Sh=$e("lock",FC);const YC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rm=$e("log-out",YC);const KC=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],QC=$e("radio",KC);const XC=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],$C=$e("scan-eye",XC);const JC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hT=$e("search",JC);const ZC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],WC=$e("server",ZC);const eN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Np=$e("shield",eN);const tN=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],nN=$e("skip-forward",tN);const iN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],fT=$e("skull",iN);const sN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kv=$e("sparkles",sN);const rN=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],dT=$e("syringe",rN);const aN=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],mT=$e("terminal",aN);const lN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],km=$e("trash-2",lN);const oN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ah=$e("triangle-alert",oN);const uN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pT=$e("user",uN);const cN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Um=$e("wifi",cN);const hN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nu=$e("x",hN);const fN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Lm=$e("zap",fN),dN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:9afd57573258c43a6aa637"},gT=Xv(dN),am=q2(gT),Gt=XI(gT),$t=typeof __app_id<"u"?__app_id:"masquerade-protocol-game",mN="17",Dn={FIREWALL:{id:"FIREWALL",name:"Firewall",icon:Np,color:"text-orange-500",bg:"bg-orange-950/50",border:"border-orange-600",passive:"Higher Tolerance: You are eliminated at 4 Viruses instead of 3.",glitch:"Purge: Discard all VIRUS cards in your hand and draw that many new cards."},SEARCH_ENGINE:{id:"SEARCH_ENGINE",name:"Search Engine",icon:hT,color:"text-blue-400",bg:"bg-blue-950/50",border:"border-blue-600",passive:"Scan: Peek at 1 random card from a player's hand once per turn.",glitch:"Index & Extract: Look at target's hand and steal 1 card of your choice."},MINER:{id:"MINER",name:"Data Miner",icon:zC,color:"text-emerald-400",bg:"bg-emerald-950/50",border:"border-emerald-600",passive:"Draw 2 cards instead of 1 at start of turn.",glitch:"Jackpot: Draw 3 cards immediately."},GHOST:{id:"GHOST",name:"Ghost Process",icon:UC,color:"text-purple-400",bg:"bg-purple-950/50",border:"border-purple-600",passive:"Cannot be targeted by Glitch effects.",glitch:"Haunt: Swap your entire hand with target player."},ADMIN:{id:"ADMIN",name:"Sys Admin",icon:mT,color:"text-red-500",bg:"bg-red-950/50",border:"border-red-600",passive:"Hand Limit increased by 2.",glitch:"Sudo: Force target player to discard 2 random cards."}},ys={COLLECTOR:{id:"COLLECTOR",name:"The Collector",desc:"Win if you have 5 INTEL cards in hand.",icon:Cp,color:"text-cyan-400"},SABOTEUR:{id:"SABOTEUR",name:"The Saboteur",desc:"Win if you hold at least 1 of each card type: INTEL, VIRUS, PING, PATCH.",icon:cT,color:"text-lime-400"},ANARCHIST:{id:"ANARCHIST",name:"The Anarchist",desc:"Win if at least 2 other living players are CRITICAL (holding 2+ VIRUS cards).",icon:Ah,color:"text-yellow-400"},SURVIVOR:{id:"SURVIVOR",name:"The Survivor",desc:"Win if you survive 1 System Crash (Global), or be the last player standing.",icon:Np,color:"text-orange-400"},CORRUPTOR:{id:"CORRUPTOR",name:"The Corruptor",desc:"Win if you hold 4 VIRUS cards. (Overrides Elimination).",icon:fT,color:"text-fuchsia-400"},HACKER:{id:"HACKER",name:"The Hacker",desc:"Win if you use the PING card 3 times.",icon:QC,color:"text-indigo-400"},ANTIVIRUS:{id:"ANTIVIRUS",name:"Antivirus",desc:"Win if you successfully use a PATCH to remove a VIRUS 2 times.",icon:dT,color:"text-teal-400"}},pN={name:"Encrypted Signal",desc:"This player's objective is hidden. It will be revealed if they activate their Glitch.",icon:Sh,color:"text-slate-500"},iu={INTEL:{id:"INTEL",name:"Intel Packet",type:"RESOURCE",desc:"Collect these. Trade to swap data.",icon:CC,color:"text-cyan-300"},VIRUS:{id:"VIRUS",name:"Corrupt File",type:"HAZARD",desc:"3 Viruses = Crash. Trade to pass the bomb.",icon:cT,color:"text-lime-400"},PING:{id:"PING",name:"Ping",type:"ACTION",desc:"Target player reveals 1 random card.",icon:Um,color:"text-yellow-400"},PATCH:{id:"PATCH",name:"Patch",type:"ACTION",desc:"Discard this to remove 1 Virus from your hand.",icon:ul,color:"text-blue-400"}},Uv=[...Array(18).fill("INTEL"),...Array(10).fill("VIRUS"),...Array(6).fill("PING"),...Array(6).fill("PATCH")],gi=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},lm=({isShaking:s})=>E.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(iu),o=iu[a[i%a.length]].icon;return E.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:E.jsx(o,{size:32})},i)})}),E.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),Lv=()=>E.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none",children:[E.jsx(bh,{size:16,className:"text-cyan-500 animate-pulse"}),E.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase font-mono shadow-cyan-500/50 drop-shadow-md",children:"MASQUERADE PROTOCOL"})]}),gN=()=>E.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none",children:[E.jsx(bh,{size:22,className:"text-cyan-500 animate-pulse"}),E.jsx("span",{className:"text-[20px] font-black tracking-[0.2em] text-cyan-500 uppercase font-mono shadow-cyan-500/50 drop-shadow-md",children:"MASQUERADE PROTOCOL"})]}),yN=({players:s,onSelect:e,onSkip:i})=>E.jsx("div",{className:"fixed inset-0 bg-black/30 z-190 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border-2 border-blue-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(59,130,246,0.3)] text-center relative",children:[E.jsxs("h3",{className:"text-xl font-black text-blue-400 mb-4 uppercase tracking-widest flex items-center justify-center gap-2",children:[E.jsx($C,{size:24})," Passive Scan"]}),E.jsx("p",{className:"text-slate-400 text-xs mb-6",children:"Search Engine Protocol: Select a target to reveal one random data packet from their hand."}),E.jsx("div",{className:"grid gap-2 mb-4",children:s.map(a=>E.jsxs("button",{onClick:()=>e(a.id),className:"w-full p-3 bg-slate-800 hover:bg-blue-900/30 border border-slate-700 hover:border-blue-500 rounded flex items-center justify-between group transition-all",children:[E.jsx("span",{className:"font-bold text-slate-200 group-hover:text-blue-300",children:a.name}),E.jsxs("div",{className:"text-[10px] bg-slate-950 px-2 py-1 rounded text-slate-500",children:[a.hand.length," Cards"]})]},a.id))}),E.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Skip Scan"})]})}),_N=({targetPlayer:s,onSelect:e,onCancel:i})=>E.jsx("div",{className:"fixed inset-0 bg-black/95 z-200 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border-2 border-fuchsia-500 p-6 rounded-xl max-w-lg w-full shadow-[0_0_30px_rgba(217,70,239,0.3)] text-center relative",children:[E.jsxs("h3",{className:"text-xl font-black text-fuchsia-400 mb-2 uppercase tracking-widest flex items-center justify-center gap-2",children:[E.jsx(Cp,{size:24})," INDEX & EXTRACT"]}),E.jsxs("p",{className:"text-slate-300 text-sm mb-6",children:["Viewing ",E.jsx("strong",{children:s.name}),"'s database. ",E.jsx("br",{}),E.jsx("span",{className:"text-white font-bold",children:"Select 1 packet to download (steal)."})]}),E.jsx("div",{className:"flex justify-center flex-wrap gap-4 mb-6",children:s.hand.map((a,o)=>E.jsxs("div",{className:"hover:scale-110 transition-transform cursor-pointer relative group",onClick:()=>e(a,o),children:[E.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-fuchsia-600 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"STEAL THIS"}),E.jsx(Gh,{type:a})]},o))}),E.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Cancel Glitch"})]})}),vN=({hand:s,limit:e,onConfirm:i,onCancel:a})=>{const[o,c]=We.useState([]),d=s.length-e,y=p=>{o.includes(p)?c(_=>_.filter(S=>S!==p)):o.length<d&&c(_=>[..._,p])};return E.jsx("div",{className:"fixed inset-0 bg-black/95 z-200 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border-2 border-red-500/50 p-6 rounded-xl max-w-lg w-full shadow-[0_0_30px_rgba(220,38,38,0.3)] text-center relative",children:[E.jsxs("h3",{className:"text-xl font-black text-red-400 mb-2 uppercase tracking-widest flex items-center justify-center gap-2",children:[E.jsx(Ah,{size:24})," Memory Overflow"]}),E.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:["Hand limit exceeded (",s.length,"/",e,")."]}),E.jsxs("p",{className:"text-white font-bold text-lg mb-6",children:["Select ",E.jsx("span",{className:"text-red-400",children:d})," data packet(s) to purge."]}),E.jsx("div",{className:"flex justify-center flex-wrap gap-4 mb-8",children:s.map((p,_)=>{const S=o.includes(_);return E.jsxs("div",{onClick:()=>y(_),className:`transition-all duration-200 cursor-pointer ${S?"scale-90 opacity-50 grayscale ring-2 ring-red-500 rounded-lg":"hover:scale-105"}`,children:[E.jsx(Gh,{type:p,small:!0}),S&&E.jsx("div",{className:"mt-1 text-[10px] text-red-500 font-bold uppercase tracking-wider",children:"Purging"})]},_)})}),E.jsx("button",{onClick:()=>i(o),disabled:o.length!==d,className:`w-full py-3 rounded font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all ${o.length===d?"bg-red-600 hover:bg-red-500 text-white shadow-[0_0_15px_rgba(220,38,38,0.5)]":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:o.length===d?E.jsxs(E.Fragment,{children:[E.jsx(km,{size:18})," Confirm Purge & End Turn"]}):E.jsxs(E.Fragment,{children:["Select ",d-o.length," more"]})})]})})},EN=({item:s,onClose:e,onActivateGlitch:i,canGlitch:a})=>{if(!s)return null;const o=s.passive!==void 0;return E.jsx("div",{className:"fixed inset-0 bg-black/90 z-170 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",onClick:e,children:E.jsxs("div",{className:"bg-slate-900 border border-cyan-500/50 p-6 rounded-xl max-w-sm w-full shadow-2xl relative",onClick:c=>c.stopPropagation(),children:[E.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:E.jsx(nu,{})}),E.jsxs("div",{className:"flex flex-col items-center text-center",children:[E.jsx("div",{className:"p-4 rounded-full bg-slate-800 mb-4 border border-slate-600",children:oa.createElement(s.icon,{size:48,className:s.color||"text-white"})}),E.jsx("h3",{className:"text-2xl font-bold text-white mb-1 uppercase tracking-widest",children:s.name}),E.jsx("div",{className:"text-xs text-slate-500 mb-6 uppercase tracking-wider",children:o?"Public Identity":"Hidden Agenda"}),E.jsx("div",{className:"space-y-4 w-full text-left bg-slate-950/50 p-4 rounded border border-slate-800",children:o?E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-cyan-400 font-bold block text-xs uppercase mb-1",children:"Passive Ability"}),E.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.passive})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Glitch (Ultimate)"}),E.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.glitch})]})]}):E.jsxs("div",{children:[E.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Win Condition"}),E.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.desc})]})}),i&&E.jsx("div",{className:"mt-6 w-full",children:a?E.jsxs("button",{onClick:i,className:"w-full py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded flex items-center justify-center gap-2 animate-pulse shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:[E.jsx(Lm,{size:18})," ACTIVATE GLITCH"]}):E.jsx("div",{className:"w-full py-3 bg-slate-800 text-slate-500 font-bold rounded flex items-center justify-center gap-2 cursor-not-allowed",children:"GLITCH UNAVAILABLE"})})]})]})})},TN=({data:s,onClose:e})=>s?E.jsx("div",{className:"fixed inset-0 bg-black/95 z-180 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border-2 border-yellow-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(234,179,8,0.3)] text-center relative",children:[E.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:E.jsx(nu,{})}),E.jsx("h3",{className:"text-xl font-black text-yellow-400 mb-2 uppercase tracking-widest",children:s.title}),E.jsx("p",{className:"text-slate-300 mb-6 font-bold",children:s.message}),s.cards&&s.cards.length>0&&E.jsx("div",{className:"flex justify-center gap-4 flex-wrap mb-6",children:s.cards.map((i,a)=>E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("div",{className:"mb-1 text-[10px] text-slate-500 uppercase tracking-wider",children:i.label}),E.jsx("div",{className:"scale-90 origin-top",children:E.jsx(Gh,{type:i.type})})]},a))}),E.jsx("button",{onClick:e,className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded uppercase tracking-wider",children:"Dismiss"})]})}):null,bN=({type:s,message:e,subtext:i,icon:a})=>E.jsx("div",{className:"fixed inset-0 z-160 flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:E.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-xl relative overflow-hidden
      ${s==="glitch"?"bg-fuchsia-900/80 border-fuchsia-500 text-fuchsia-100":s==="success"?"bg-green-900/80 border-green-500 text-green-100":s==="failure"?"bg-red-900/80 border-red-500 text-red-100":"bg-cyan-900/80 border-cyan-500 text-cyan-100"}
    `,children:[s==="glitch"&&E.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,#fff_3px)]"}),a&&E.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border border-white/10",children:E.jsx(a,{size:64,className:"animate-pulse"})}),E.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-md mb-2 font-mono",children:e}),i&&E.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center font-mono",children:i})]})}),Gh=({type:s,onClick:e,disabled:i,highlight:a,small:o,tiny:c})=>{const d=iu[s];if(!d)return E.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return E.jsx("div",{className:"w-5 h-7 rounded flex items-center justify-center bg-slate-800 border border-slate-600 shadow-sm",title:d.name,children:E.jsx(d.icon,{size:12,className:d.color})});const y=o?"w-16 h-24 p-1":"w-24 h-32 md:w-28 md:h-40 p-2";return E.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-lg border border-slate-600 bg-slate-900 shadow-lg transition-all flex flex-col items-center justify-between
        ${y}
        ${a?"ring-2 ring-cyan-400 scale-105 z-10":""}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 cursor-pointer hover:border-slate-400"}
      `,children:[E.jsx("div",{className:"w-full text-right",children:E.jsx("div",{className:`w-2 h-2 rounded-full ${d.color.replace("text","bg")} ml-auto`})}),E.jsx(d.icon,{size:o?20:32,className:d.color}),E.jsxs("div",{className:"text-center w-full",children:[E.jsx("div",{className:"text-[10px] md:text-xs font-bold text-white leading-none mb-1 font-mono",children:d.name}),!o&&E.jsx("div",{className:"text-[8px] text-slate-400 leading-tight",children:d.type})]})]})},jv=({onClose:s})=>E.jsx("div",{className:"fixed inset-0 bg-black/95 z-100 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col shadow-[0_0_50px_rgba(6,182,212,0.2)] overflow-hidden font-mono",children:[E.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[E.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 flex items-center gap-2 tracking-wider",children:[E.jsx(Mm,{className:"text-cyan-500"})," SYSTEM MANUAL"]}),E.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:E.jsx(nu,{})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-slate-300",children:[E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[E.jsx(Vm,{size:20,className:"text-yellow-400"})," Objective"]}),E.jsxs("p",{className:"mb-4",children:["You are a rogue AI. Collect"," ",E.jsx("strong",{className:"text-yellow-400",children:"Golden Chips"})," by winning rounds. The first player to collect"," ",E.jsx("strong",{className:"text-yellow-400",children:"3 Chips"})," becomes the Grand Champion."]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[E.jsx(pT,{size:20,className:"text-cyan-400"})," Public Avatars (Roles)"]}),E.jsx("p",{className:"text-xs text-slate-500 mb-4",children:'Every player is assigned a public role visible to everyone. These grant passive bonuses and powerful "Glitch" ultimates.'}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values(Dn).map(e=>E.jsxs("div",{className:`p-3 rounded border border-l-4 bg-slate-800/50 ${e.border} border-l-[${e.color.replace("text-","")}]`,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[oa.createElement(e.icon,{size:20,className:e.color}),E.jsx("strong",{className:`uppercase ${e.color}`,children:e.name})]}),E.jsxs("ul",{className:"text-xs space-y-1",children:[E.jsxs("li",{className:"flex gap-2",children:[E.jsx("span",{className:"text-cyan-500 font-bold min-w-[50px]",children:"PASSIVE:"}),E.jsx("span",{className:"text-slate-300",children:e.passive})]}),E.jsxs("li",{className:"flex gap-2",children:[E.jsx("span",{className:"text-fuchsia-500 font-bold min-w-[50px]",children:"GLITCH:"}),E.jsx("span",{className:"text-slate-300",children:e.glitch})]})]})]},e.id))})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[E.jsx(Sh,{size:20,className:"text-fuchsia-400"})," Secret Directives"]}),E.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Your true win condition. Hidden from others until you activate your Glitch."}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.values(ys).map(e=>E.jsxs("div",{className:"p-3 rounded border border-l-4 border-l-fuchsia-500 border-slate-700 bg-slate-800/50 flex flex-col justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[oa.createElement(e.icon,{size:16,className:e.color}),E.jsx("strong",{className:`text-sm uppercase ${e.color}`,children:e.name})]}),E.jsx("div",{className:"text-xs text-slate-300",children:e.desc})]},e.id))})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[E.jsx(Cp,{size:20,className:"text-green-400"})," Data Packets"]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:Object.values(iu).map(e=>E.jsxs("div",{className:"bg-slate-950 p-3 rounded border border-slate-800 flex flex-col items-center text-center",children:[E.jsx(e.icon,{size:24,className:`mb-2 ${e.color}`}),E.jsx("div",{className:`font-bold text-sm mb-1 ${e.color}`,children:e.name}),E.jsx("div",{className:"text-[10px] bg-slate-900 px-2 py-0.5 rounded text-slate-400 mb-2 uppercase tracking-wider",children:e.type}),E.jsx("p",{className:"text-xs text-slate-400",children:e.desc})]},e.id))})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-3 border-b border-slate-700 pb-2",children:"Core Mechanics"}),E.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-400",children:[E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"Crash:"})," Holding 3 Viruses causes Immediate Elimination."]}),E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"Glitch:"})," A one-time ultimate ability. Activating it reveals your Secret Directive to everyone."]}),E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"Trade:"})," Select an INTEL or VIRUS card, then select a target. You give them your card, and blindly take one random card from their hand."]}),E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"Hand Limit:"})," 5 Cards (7 for Admin). You must discard or skip turn if full."]})]})]})]}),E.jsx("div",{className:"p-4 bg-slate-950 border-t border-slate-800",children:E.jsx("button",{onClick:s,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 py-3 rounded font-bold transition-all",children:"ACKNOWLEDGE"})})]})});function SN(){const[s,e]=We.useState(null),[i,a]=We.useState("menu"),[o,c]=We.useState(""),[d,y]=We.useState(localStorage.getItem("masquerade_room_id")||""),[p,_]=We.useState(null),[S,w]=We.useState(""),[M,K]=We.useState(!1),[re,ue]=We.useState(!1),[oe,Se]=We.useState(!1),[Oe,Ce]=We.useState(!1),[ht,yt]=We.useState(!1),[Pe,C]=We.useState(null),[A,I]=We.useState(null),[V,N]=We.useState(!1),[U,x]=We.useState(null),[ft,xt]=We.useState([]),[F,ae]=We.useState(!1),Ee=We.useRef(0),[Je,tt]=We.useState(!1),[O,X]=We.useState(null),[le,he]=We.useState(!1),[we,Ne]=We.useState(null),[ke,Nt]=We.useState(()=>localStorage.getItem("gameHub_playerName")||"");We.useEffect(()=>{ke&&localStorage.setItem("gameHub_playerName",ke)},[ke]),We.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Cw(am,__initial_auth_token):await Aw(am))();const G=Ow(am,e);return()=>G()},[]);const nt=W=>{xt(G=>[...G,W])};We.useEffect(()=>{if(!d)return;const W=Dv(qt(Gt,"artifacts",$t,"public","data","rooms",d),G=>{if(G.exists()){const ie=G.data(),ne=ie.players.find($=>$.id===s?.uid);if(s&&!ne){y(""),localStorage.removeItem("masquerade_room_id"),a("menu"),w("Disconnected from server.");return}_(ie),ie.status==="lobby"?a("lobby"):(ie.status==="playing"||ie.status==="finished")&&a("game");const ee=ie.players.find($=>$.id===s.uid),_e=ie.players.findIndex($=>$.id===s.uid);if(ee&&ie.turnIndex===_e&&ee.avatar==="SEARCH_ENGINE"&&!ee.passiveUsed?ae(!0):ae(!1),ie.lastEvent&&ie.lastEvent.id>Ee.current){const $=ie.lastEvent;if(Ee.current=$.id,s&&$.targetId===s.uid){let ce=null;$.type==="PING"?ce={title:"SYSTEM ALERT: PINGED",message:`${$.initiatorName} revealed your data:`,cards:[{type:$.payload.revealedCard,label:"Revealed"}]}:$.type==="TRADE"?ce={title:"DATA TRANSFER",message:`${$.initiatorName} traded with you.`,cards:[{type:$.payload.given,label:"You Received"},{type:$.payload.received,label:"You Gave"}]}:$.type==="GLITCH_ADMIN"?ce={title:"SYSTEM BREACH: SUDO",message:`${$.initiatorName} forced deletion of data.`,cards:$.payload.deleted.map(ve=>({type:ve,label:"Lost"}))}:$.type==="GLITCH_GHOST"?ce={title:"SYSTEM BREACH: HAUNT",message:`${$.initiatorName} swapped hands with you.`,cards:[]}:$.type==="GLITCH_SEARCH"?ce={title:"SECURITY ALERT",message:`${$.initiatorName} indexed (viewed) your entire hand.`,cards:[]}:$.type==="SYSTEM_DISCARD"&&(ce={title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:$.payload.discards.map(ve=>({type:ve,label:"Purged"}))}),ce&&$.payload&&$.payload.discards&&$.type!=="SYSTEM_DISCARD"&&(ce.message+=" (Memory Overflow Purge)",ce.cards.push(...$.payload.discards.map(ve=>({type:ve,label:"Purged"})))),ce&&nt(ce)}}}else a("menu"),y(""),localStorage.removeItem("masquerade_room_id"),w("Connection Terminated (Room Closed).")});return()=>W()},[d,s]),We.useEffect(()=>{const W=Dv(qt(Gt,"game_hub_settings","config"),G=>{G.exists()&&G.data()[mN]?.maintenance?ue(!0):ue(!1)});return()=>W()},[]);const Tn=(W,G,ie,ne)=>{I({type:W,message:G,subtext:ie,icon:ne}),setTimeout(()=>I(null),2500)},ri=(W,G,ie)=>{let ne=0;return W.forEach(ee=>{if(ee.isEliminated||ee.directive==="CORRUPTOR")return;let _e=3;ee.avatar==="FIREWALL"&&(_e=4),ee.hand.filter(ce=>ce==="VIRUS").length>=_e&&(ee.isEliminated=!0,G.push(...ee.hand),ee.hand=[],ne++)}),ne},Is=async()=>{if(!ke)return w("Identify yourself.");K(!0);const W=Math.random().toString(36).substring(2,7).toUpperCase(),G={roomId:W,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:ke,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}],deck:[],discardPile:[],turnIndex:0,crashCount:0,roundCount:1,logs:[],winnerId:null};await hC(qt(Gt,"artifacts",$t,"public","data","rooms",W),G),y(W),localStorage.setItem("masquerade_room_id",W),K(!1)},Cs=async()=>{if(!o||!ke)return w("Input credentials.");K(!0);const W=qt(Gt,"artifacts",$t,"public","data","rooms",o),G=await cC(W);if(!G.exists()){w("Server not found."),K(!1);return}const ie=G.data();if(ie.status!=="lobby"){w("Session locked."),K(!1);return}if(ie.players.length>=6){w("Server full."),K(!1);return}if(!ie.players.find(ee=>ee.id===s.uid)){const ee=[...ie.players,{id:s.uid,name:ke,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}];await un(W,{players:ee})}y(o),localStorage.setItem("masquerade_room_id",o),K(!1)},Gn=async W=>{if(!d)return;const G=qt(Gt,"artifacts",$t,"public","data","rooms",d),ie=p.players.filter(ne=>ne.id!==W);await un(G,{players:ie,logs:ps({text:"A player was removed from the session.",type:"danger",id:Date.now(),viewerId:"all"})})},Or=()=>{try{navigator.clipboard.writeText(d),Tn("neutral","COPIED!","",ul)}catch{const G=document.createElement("textarea");G.value=d,document.body.appendChild(G),G.select(),document.execCommand("copy"),document.body.removeChild(G),Tn("neutral","COPIED!","",ul)}},Xi=async()=>{if(p.hostId!==s.uid)return;const W=gi(Object.keys(Dn)),G=gi(Object.keys(ys));let ie=gi([...Uv]);const ne=p.players.map((_e,$)=>{let ce=[],ve=!1;for(;!ve;)ce=[ie.pop(),ie.pop(),ie.pop()],ce.filter(Be=>Be==="VIRUS").length<2?ve=!0:(ie.push(...ce),ie=gi(ie),ce=[]);return{..._e,avatar:W[$%W.length],directive:G[$%G.length],hand:ce,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0}}),ee=Math.floor(Math.random()*ne.length);await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),{status:"playing",players:ne,deck:ie,discardPile:[],turnIndex:ee,crashCount:0,logs:[{text:`Round ${p.roundCount||1} Initialized. Safety protocols active.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Ns=async()=>{if(!d)return;const W=qt(Gt,"artifacts",$t,"public","data","rooms",d);if(p.hostId===s.uid)await fC(W);else{let ie={players:p.players.filter(ne=>ne.id!==s.uid)};ie.logs=ps({text:`${p.players.find(ne=>ne.id===s.uid)?.name||"User"} disconnected.`,type:"danger",id:Date.now(),viewerId:"all"}),await un(W,ie)}y(""),localStorage.removeItem("masquerade_room_id"),a("menu"),yt(!1)},Ds=async()=>{if(p.hostId!==s.uid)return;const W=p.players.map(G=>({...G,hand:[],avatar:null,directive:null,revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}));await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),{status:"lobby",players:W,deck:[],discardPile:[],winnerId:null,logs:[],lastEvent:null,crashCount:0,roundCount:1}),yt(!1)},Rt=async()=>{if(p.hostId!==s.uid)return;const W=p.winnerId;let G=0;W?(G=p.players.findIndex($=>$.id===W),G===-1&&(G=Math.floor(Math.random()*p.players.length))):G=Math.floor(Math.random()*p.players.length);const ie=gi(Object.keys(Dn)),ne=gi(Object.keys(ys));let ee=gi([...Uv]);const _e=p.players.map(($,ce)=>{let ve=[],ze=!1;for(;!ze;)ve=[ee.pop(),ee.pop(),ee.pop()],ve.filter(me=>me==="VIRUS").length<2?ze=!0:(ee.push(...ve),ee=gi(ee),ve=[]);return{...$,avatar:ie[ce%ie.length],directive:ne[ce%ne.length],hand:ve,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,isEliminated:!1,revealed:!1,glitchUsed:!1}});await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),{status:"playing",players:_e,deck:ee,discardPile:[],turnIndex:G,crashCount:0,winnerId:null,roundCount:gs(1),logs:[{text:`Round ${p.roundCount+1} Initialized. Safety protocols active.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Dt=async()=>{if(!d)return;const W=qt(Gt,"artifacts",$t,"public","data","rooms",d),G=p.players.findIndex(ne=>ne.id===s.uid);if(G===-1)return;const ie=[...p.players];ie[G].ready=!0,await un(W,{players:ie})},bn=async(W,G,ie=0)=>{const ne=W.filter($=>!$.isEliminated);if(ne.length===1)return ne[0].id;const _e=(p.crashCount||0)+ie;for(const $ of W){if($.isEliminated)continue;const ce=$.directive,ve=$.hand;let ze=!1;if(ce==="COLLECTOR"?ve.filter(Be=>Be==="INTEL").length>=5&&(ze=!0):ce==="CORRUPTOR"?ve.filter(Be=>Be==="VIRUS").length>=4&&(ze=!0):ce==="ANARCHIST"?ne.filter(me=>me.id!==$.id&&me.hand.filter(B=>B==="VIRUS").length>=2).length>=2&&(ze=!0):ce==="SABOTEUR"?ve.includes("INTEL")&&ve.includes("VIRUS")&&ve.includes("PING")&&ve.includes("PATCH")&&(ze=!0):ce==="SURVIVOR"?_e>=1&&(ze=!0):ce==="HACKER"?($.pingCount||0)>=3&&(ze=!0):ce==="ANTIVIRUS"&&($.antivirusCount||0)>=2&&(ze=!0),ze)return $.id}return null},Ol=async W=>{const G=O||{players:JSON.parse(JSON.stringify(p.players)),deck:[...p.deck],discardPile:[...p.discardPile],logs:[],eventData:null},ie=G.players.findIndex(ee=>ee.id===s.uid),ne=G.players[ie];W.sort((ee,_e)=>_e-ee),W.forEach(ee=>{const _e=ne.hand.splice(ee,1)[0];G.discardPile.push(_e)}),G.logs.push({text:`${ne.name} purged memory.`,type:"neutral",id:Date.now(),viewerId:"all"}),X(null),tt(!1),await Qt(G.players,G.deck,G.discardPile,G.logs,G.eventData)},Os=async(W,G,ie,ne,ee)=>{const _e=p.players.findIndex(ve=>ve.id===s.uid),$=W[_e],ce=$.avatar==="ADMIN"?7:5;$.hand.length>ce?(X({players:W,deck:G,discardPile:ie,logs:ne,eventData:ee}),tt(!0)):await Qt(W,G,ie,ne,ee)},Qt=async(W,G,ie,ne,ee=null)=>{let _e=await bn(W);if(_e){const B=W.findIndex(Ge=>Ge.id===_e);W[B].chips=(W[B].chips||0)+1,W.forEach(Ge=>{Ge.revealed=!0});const Te={players:W.map(Ge=>({...Ge,ready:!1})),status:"finished",winnerId:_e,discardPile:ie,logs:ps(...ne,{text:`Round Winner Identified: ${W[B].name}. Chip awarded.`,type:"success",id:Date.now()+2,viewerId:"all"})};ee&&(Te.lastEvent=ee),await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),Te);return}let $=!1,ce=(p.turnIndex+1)%W.length,ve=0,ze=0;const Be=W.length*2;for(;!$&&ze<Be;){ze++;let B=0;for(;W[ce].isEliminated&&B<W.length;)ce=(ce+1)%W.length,B++;const ge=W[ce];if(ge.passiveUsed=!1,B>=W.length)break;let Te=1;ge.avatar==="MINER"&&(Te=2);for(let Sn=0;Sn<Te;Sn++){if(G.length===0)if(ie.length>0)G=gi([...ie]),ie=[],ne.push({text:"Deck rebooted.",type:"neutral",id:Date.now()+3+ze,viewerId:"all"});else break;G.length>0&&ge.hand.push(G.pop())}const Ge=ri(W,ie);ve+=Ge,ge.isEliminated?ne.push({text:`${ge.name} crashed immediately upon receiving data. Passing control...`,type:"danger",id:Date.now()+5+ze,viewerId:"all"}):$=!0}if(_e=await bn(W,ne,ve),_e){const B=W.findIndex(Ge=>Ge.id===_e);W[B].chips=(W[B].chips||0)+1;const Te={players:W.map(Ge=>({...Ge,ready:!1})),status:"finished",winnerId:_e,discardPile:ie,logs:ps(...ne,{text:`Round Winner: ${W[B].name}.`,type:"success",id:Date.now()+4,viewerId:"all"}),crashCount:gs(ve)};ee&&(Te.lastEvent=ee),await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),Te);return}ne.push({text:`Processing cycle: ${W[ce].name}`,type:"neutral",id:Date.now()+10,viewerId:"all"});const me={players:W,deck:G,discardPile:ie,turnIndex:ce,logs:ps(...ne),crashCount:gs(ve)};ee&&(me.lastEvent=ee),await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),me)},Ti=async W=>{if(!d)return;const G=p.players.findIndex($=>$.id===s.uid),ie=p.players[G];if(ie.passiveUsed)return;const ne=qt(Gt,"artifacts",$t,"public","data","rooms",d),ee=[...p.players];ee[G].passiveUsed=!0;const _e={players:ee,logs:ps({text:`${ie.name} ${W?"ran a passive background scan.":"skipped passive scan."}`,type:"neutral",id:Date.now(),viewerId:"all"})};if(W){const $=p.players.find(ce=>ce.id===W);if($&&$.hand.length>0){const ce=Math.floor(Math.random()*$.hand.length),ve=$.hand[ce];nt({title:"PASSIVE SCAN RESULT",message:`Scanner intercepted ${$.name}'s packet:`,cards:[{type:ve,label:"Intercepted"}]})}}await un(ne,_e)},Mr=async(W,G)=>{if(!d||!we)return;const ie=p.players.findIndex(B=>B.id===s.uid),ne=p.players[ie],ee=p.players.findIndex(B=>B.id===we),_e=p.players[ee];he(!1),Ne(null);const $=JSON.parse(JSON.stringify(p.players)),ce=[];$[ie].glitchUsed=!0,$[ie].revealed=!0,$[ee].hand.splice(G,1),$[ie].hand.push(W),ce.push({text:` GLITCH: ${ne.name} Indexed ${_e.name} and extracted a card.`,type:"glitch",id:Date.now(),viewerId:"all"}),Tn("glitch","DOWNLOAD COMPLETE",`Acquired ${W}`,hT);let ve=[...p.discardPile],ze=[...p.deck];const Be=ri($,ve),me=await bn($,ce,Be);if(me){const B=$.findIndex(Te=>Te.id===me);$[B].chips=($[B].chips||0)+1,$.forEach(Te=>{Te.revealed=!0});const ge={players:$.map(Te=>({...Te,ready:!1})),status:"finished",winnerId:me,discardPile:ve,logs:ps(...ce),crashCount:gs(Be)};await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),ge);return}Be>0&&await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),{crashCount:gs(Be)}),await Os($,ze,ve,ce)},Ms=async(W=null)=>{if(Pe===null)return;const G=p.players.findIndex(me=>me.id===s.uid),ie=p.players[G],ne=ie.hand[Pe],ee=JSON.parse(JSON.stringify(p.players));let _e=[...p.deck],$=[...p.discardPile||[]];const ce=[];let ve=null;if(ee[G].hand.splice(Pe,1),ne==="PATCH"){$.push("PATCH");const me=ee[G].hand.indexOf("VIRUS");me>-1?(ee[G].hand.splice(me,1),$.push("VIRUS"),ee[G].antivirusCount=(ee[G].antivirusCount||0)+1,ce.push({text:`${ie.name} ran a Patch. Virus purged.`,type:"success",id:Date.now(),viewerId:"all"})):ce.push({text:`${ie.name} ran a Patch but had no Virus.`,type:"neutral",id:Date.now(),viewerId:"all"})}else if(ne==="PING"){if($.push("PING"),ee[G].pingCount=(ee[G].pingCount||0)+1,!W)return;const me=ee.find(B=>B.id===W);if(me.hand.length>0){const B=Math.floor(Math.random()*me.hand.length),ge=me.hand[B];ve={id:Date.now(),type:"PING",initiatorId:s.uid,initiatorName:ie.name,targetId:W,payload:{revealedCard:ge}},nt({title:"PING RESULT",message:`You revealed ${me.name}'s data:`,cards:[{type:ge,label:"Revealed"}]}),ce.push({text:`PING: ${me.name} was pinged.`,type:"warning",id:Date.now(),viewerId:"all"})}}else if(!W)$.push(ne),ce.push({text:`${ie.name} discarded ${ne}.`,type:"neutral",id:Date.now(),viewerId:"all"});else{const me=ee.findIndex(ge=>ge.id===W),B=ee[me];if(B.hand.length>0){const ge=Math.floor(Math.random()*B.hand.length),Te=B.hand.splice(ge,1)[0];B.hand.push(ne),ee[G].hand.push(Te),ve={id:Date.now(),type:"TRADE",initiatorId:s.uid,initiatorName:ie.name,targetId:W,payload:{given:ne,received:Te}},nt({title:"TRADE COMPLETE",message:`Exchange with ${B.name} successful.`,cards:[{type:ne,label:"You Gave"},{type:Te,label:"You Received"}]}),ce.push({text:`${ie.name} traded data with ${B.name}.`,type:"warning",id:Date.now(),viewerId:"all"})}else B.hand.push(ne),ce.push({text:`${ie.name} transferred data to ${B.name} (Empty hand).`,type:"neutral",id:Date.now(),viewerId:"all"})}const ze=ri(ee,$);C(null);const Be=await bn(ee,ce,ze);if(Be){const me=ee.findIndex(Te=>Te.id===Be);ee[me].chips=(ee[me].chips||0)+1,ee.forEach(Te=>{Te.revealed=!0});const ge={players:ee.map(Te=>({...Te,ready:!1})),status:"finished",winnerId:Be,discardPile:$,logs:ps(...ce,{text:`Round Winner: ${ee[me].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:gs(ze)};ve&&(ge.lastEvent=ve),await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),ge);return}ze>0&&await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),{crashCount:gs(ze)}),await Os(ee,_e,$,ce,ve)},bi=async()=>{if(!d||!p)return;const W=p.players.findIndex(ee=>ee.id===s.uid),G=p.players[W],ie=G.avatar==="ADMIN"?7:5,ne=[{text:`${G.name} skipped their turn.`,type:"neutral",id:Date.now(),viewerId:"all"}];if(G.hand.length>ie){X({players:JSON.parse(JSON.stringify(p.players)),deck:[...p.deck],discardPile:[...p.discardPile],logs:ne,eventData:null}),tt(!0);return}await Qt(p.players,p.deck,p.discardPile,ne)},_a=async(W=null)=>{const G=p.players.findIndex(me=>me.id===s.uid),ie=p.players[G];if(p.turnIndex!==G){Tn("failure","ACCESS DENIED","Wait for your processing cycle (Turn).",Sh);return}if(ie.glitchUsed)return;if(W){const me=p.players.find(B=>B.id===W);if(me&&me.avatar==="GHOST"){N(!1),Tn("failure","TARGET IMMUNE","Ghost Process blocks Glitch effects.",Np);return}}const ne=JSON.parse(JSON.stringify(p.players)),ee=[...p.deck];let _e=[...p.discardPile||[]];const $=[];let ce=null;ne[G].glitchUsed=!0,ne[G].revealed=!0,$.push({text:` GLITCH DETECTED: ${ie.name} is ${ys[ie.directive].name}!`,type:"glitch",id:Date.now(),viewerId:"all"}),Tn("glitch","GLITCH ACTIVATED","Directive Revealed!",Lm);const ve=ie.avatar;if(ve==="FIREWALL"){const me=ne[G].hand.length,B=ne[G].hand.filter(Ge=>Ge!=="VIRUS"),ge=me-B.length;for(let Ge=0;Ge<ge;Ge++)_e.push("VIRUS");ne[G].hand=B;let Te=0;for(let Ge=0;Ge<ge;Ge++){if(ee.length===0&&_e.length>0){const Sn=gi([..._e]);_e=[],ee.push(...Sn)}ee.length>0&&(ne[G].hand.push(ee.pop()),Te++)}nt({title:"FIREWALL PURGE",message:`Discarded ${ge} Viruses. Downloaded ${Te} new packets.`,cards:[]}),$.push({text:`Firewall Purge: ${ie.name} discarded Virus/es and drew new card/s.`,type:"success",id:Date.now()+1,viewerId:"all"})}else if(ve==="MINER"){let me=0;for(let B=0;B<3;B++){if(ee.length===0&&_e.length>0){const ge=gi([..._e]);_e=[],ee.push(...ge)}ee.length>0&&(ne[G].hand.push(ee.pop()),me++)}nt({title:"JACKPOT",message:`You mined ${me} new data packets.`,cards:[]}),$.push({text:"Miner hit the Jackpot. 3 Cards drawn.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(ve==="GHOST"){if(!W)return;const me=ne.findIndex(ge=>ge.id===W),B=[...ne[G].hand];ne[G].hand=[...ne[me].hand],ne[me].hand=B,ce={id:Date.now(),type:"GLITCH_GHOST",initiatorId:s.uid,initiatorName:ie.name,targetId:W,payload:{}},nt({title:"GHOST HAUNT",message:`Swapped hands with ${ne[me].name}.`,cards:[]}),$.push({text:`Ghost Process Haunt. Hands swapped with ${ne[me].name}.`,type:"warning",id:Date.now()+1,viewerId:"all"})}else if(ve==="ADMIN"){if(!W)return;const me=ne.findIndex(Te=>Te.id===W),B=ne[me];let ge=[];if(B.hand.length>=2){const Te=B.hand.splice(0,1)[0],Ge=B.hand.splice(0,1)[0];_e.push(Te,Ge),ge=[Te,Ge]}else ge=[...B.hand],_e.push(...B.hand),B.hand=[];ce={id:Date.now(),type:"GLITCH_ADMIN",initiatorId:s.uid,initiatorName:ie.name,targetId:W,payload:{deleted:ge}},nt({title:"SUDO COMMAND",message:`Forced ${B.name} to delete ${ge.length} data packets.`,cards:[]}),$.push({text:`Admin Sudo command. ${B.name} forced to delete data.`,type:"danger",id:Date.now()+1,viewerId:"all"})}else if(ve==="SEARCH_ENGINE"){if(!W)return;Ne(W),he(!0),N(!1);return}N(!1);const ze=ri(ne,_e),Be=await bn(ne,$,ze);if(Be){const me=ne.findIndex(Te=>Te.id===Be);ne[me].chips=(ne[me].chips||0)+1,ne.forEach(Te=>{Te.revealed=!0});const ge={players:ne.map(Te=>({...Te,ready:!1})),status:"finished",winnerId:Be,discardPile:_e,logs:ps(...$,{text:`Round Winner: ${ne[me].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:gs(ze)};ce&&(ge.lastEvent=ce),await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),ge);return}ze>0&&await un(qt(Gt,"artifacts",$t,"public","data","rooms",d),{crashCount:gs(ze)}),await Os(ne,ee,_e,$,ce)};if(re)return E.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[E.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[E.jsx(jC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),E.jsx("p",{className:"text-gray-400",children:"The AI is glitched. Wait for replacement hardware."})]}),E.jsx("div",{className:"h-8"}),E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:E.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:E.jsx("div",{className:"text-center pb-12 animate-pulse",children:E.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[E.jsx(kv,{size:16})," Visit Gamehub...Try our other releases..."," ",E.jsx(kv,{size:16})]})})})})]});if(i==="menu")return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-4 relative overflow-hidden font-mono",children:[E.jsx(lm,{}),oe&&E.jsx(jv,{onClose:()=>Se(!1)}),E.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[E.jsx(bh,{size:64,className:"text-cyan-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]"}),E.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-linear-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:["MASQUERADE",E.jsx("br",{}),"PROTOCOL"]}),E.jsx("p",{className:"text-cyan-400/60 tracking-[0.2em] uppercase mt-2",children:"Social Hacking Simulation"})]}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-lg w-full max-w-md shadow-2xl z-10",children:[S&&E.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:S}),E.jsx("input",{className:"w-full bg-black/50 border border-slate-700 p-3 rounded mb-4 text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none transition-colors",placeholder:"USER_ID",value:ke,onChange:W=>Nt(W.target.value)}),E.jsxs("button",{onClick:Is,disabled:M,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 transition-all hover:shadow-[0_0_15px_rgba(6,182,212,0.3)]",children:[E.jsx(WC,{size:20})," INITIALIZE_SERVER"]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[E.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-700 p-3 rounded text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none text-center tracking-widest uppercase",placeholder:"ACCESS_CODE",value:o,onChange:W=>c(W.target.value.toUpperCase())}),E.jsx("button",{onClick:Cs,disabled:M,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors text-slate-300",children:"CONNECT"})]}),E.jsxs("button",{onClick:()=>Se(!0),className:"w-full text-sm text-slate-500 hover:text-cyan-400 flex items-center justify-center gap-2 py-2",children:[E.jsx(Mm,{size:16})," READ_MANUAL.txt"]})]}),E.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",E.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&p){const W=p.hostId===s.uid;return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-6 relative font-mono",children:[E.jsx(lm,{}),E.jsx(gN,{}),E.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-lg border border-cyan-500/30 shadow-2xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-800 pb-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[E.jsx(mT,{size:20})," Server_Room:"," ",E.jsx("span",{className:"text-white font-mono",children:d})]}),E.jsx("button",{onClick:Or,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",title:"Copy Room ID",children:E.jsx(DC,{size:16})})]}),E.jsx("button",{onClick:Ns,className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(rm,{size:16})})]}),E.jsxs("div",{className:"bg-black/40 rounded p-4 mb-8 border border-slate-800",children:[E.jsxs("h3",{className:"text-slate-500 text-xs uppercase tracking-widest mb-4",children:["Connected Clients (",p.players.length,"/6)"]}),E.jsx("div",{className:"space-y-2",children:p.players.map(G=>E.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700",children:[E.jsxs("span",{className:`font-bold flex items-center gap-2 ${G.id===s.uid?"text-cyan-400":"text-slate-400"}`,children:[E.jsx(pT,{size:14})," ",G.name,G.id===p.hostId&&E.jsx(Vm,{size:14,className:"text-yellow-500"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[(G.chips||0)>0&&E.jsxs("div",{className:"flex items-center gap-1 bg-yellow-900/40 px-2 py-0.5 rounded border border-yellow-700/50",children:[E.jsx(Yc,{size:12,className:"text-yellow-400"}),E.jsx("span",{className:"text-xs text-yellow-200 font-bold",children:G.chips})]}),E.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[E.jsx(ul,{size:12})," ONLINE"]}),W&&G.id!==s.uid&&E.jsx("button",{onClick:()=>Gn(G.id),className:"text-red-500 hover:text-red-400 p-1 hover:bg-red-900/30 rounded",title:"Kick Player",children:E.jsx(km,{size:14})})]})]},G.id))})]}),W?E.jsx("button",{onClick:Xi,disabled:p.players.length<3,className:`w-full py-4 rounded font-bold text-lg transition-all flex items-center justify-center gap-2 ${p.players.length>=3?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-[0_0_20px_rgba(6,182,212,0.4)]":"bg-slate-800 cursor-not-allowed text-slate-600"}`,children:p.players.length<3?"WAITING_FOR_USERS (Min 3)":"EXECUTE_PROTOCOL"}):E.jsx("div",{className:"text-center text-cyan-500/60 animate-pulse italic",children:"Waiting for Host execution..."})]}),E.jsx(Lv,{})]})}if(i==="game"&&p){const W=p.players.findIndex(B=>B.id===s.uid),G=p.players[W],ie=p.turnIndex===W,ne=p.hostId===s.uid,ee=Pe!==null?G.hand[Pe]:null,_e=ee==="PING",$=ee==="INTEL"||ee==="VIRUS",ce=_e||$,ve=AN(G.avatar),ze=p.players.filter(B=>B.id!==p.hostId).every(B=>B.ready),Be=p.players.find(B=>B.id===p.winnerId),me=p.players.find(B=>(B.chips||0)>=3);return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 overflow-hidden flex flex-col relative font-mono",children:[E.jsx(lm,{}),A&&E.jsx(bN,{type:A.type,message:A.message,subtext:A.subtext,icon:A.icon}),oe&&E.jsx(jv,{onClose:()=>Se(!1)}),U&&E.jsx(EN,{item:U,canGlitch:U.canGlitch,onClose:()=>x(null),onActivateGlitch:U.canGlitch?()=>{x(null),N(!0)}:null}),ft.length>0&&E.jsx(TN,{data:ft[0],onClose:()=>xt(B=>B.slice(1))}),F&&E.jsx(yN,{players:p.players.filter(B=>B.id!==s.uid&&!B.isEliminated),onSelect:B=>Ti(B),onSkip:()=>Ti(null)}),le&&we&&E.jsx(_N,{targetPlayer:p.players.find(B=>B.id===we),onSelect:Mr,onCancel:()=>{he(!1),Ne(null)}}),Je&&ft.length===0&&E.jsx(vN,{hand:O?O.players.find(B=>B.id===s.uid).hand:p.players.find(B=>B.id===s.uid).hand,limit:p.players.find(B=>B.id===s.uid).avatar==="ADMIN"?7:5,onConfirm:Ol,onCancel:()=>{}}),E.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(bh,{size:18,className:"text-cyan-500"}),E.jsxs("span",{className:"font-bold tracking-wider hidden md:block text-cyan-100",children:["ROUND ",p.roundCount||1]}),E.jsxs("span",{className:"text-xs text-slate-500",children:["Deck: ",p.deck.length," | Bin:"," ",p.discardPile?.length||0]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>Se(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:E.jsx(Mm,{size:18})}),E.jsx("button",{onClick:()=>Ce(!Oe),className:`p-2 rounded-full ${Oe?"bg-cyan-900 text-cyan-400":"text-gray-400 hover:bg-gray-800"}`,children:E.jsx(HC,{size:18})}),E.jsx("button",{onClick:()=>yt(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(rm,{size:18})})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col p-4 max-w-6xl mx-auto w-full relative z-10",children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:p.players.map((B,ge)=>{if(B.id===s.uid)return null;const Te=p.turnIndex===ge,Ge=ie&&ce||V&&ve;return E.jsxs("div",{onClick:()=>{ie&&ce&&Ms(B.id),V&&ve&&_a(B.id)},className:`
                    relative bg-slate-900/80 p-3 rounded border transition-all cursor-default
                    ${Te?"border-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.3)]":"border-slate-700"}
                    ${Ge?"ring-2 ring-red-500 cursor-pointer animate-pulse bg-red-900/10":""}
                    ${B.isEliminated?"opacity-50 grayscale border-red-900":""}
                  `,children:[Te&&E.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-cyan-600 text-cyan-100 text-[9px] px-2 py-0.5 rounded-full font-bold shadow-lg animate-pulse z-10 whitespace-nowrap flex items-center gap-1",children:[E.jsx(Mv,{size:8})," PLAYING"]}),E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("span",{className:"font-bold text-xs truncate flex items-center gap-1",children:[B.revealed&&E.jsx(Ah,{size:12,className:"text-red-500"}),B.name]}),E.jsxs("div",{className:"flex items-center gap-1",children:[(B.chips||0)>0&&E.jsx("div",{className:"flex items-center gap-0.5",title:`${B.chips} Chips`,children:[...Array(B.chips)].map((Sn,Vs)=>E.jsx(Yc,{size:10,className:"text-yellow-400 fill-yellow-900"},Vs))}),B.ready&&p.status==="finished"&&E.jsx(ul,{size:14,className:"text-green-500"}),B.isEliminated&&E.jsx(fT,{size:14,className:"text-red-500"})]})]}),E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("div",{onClick:Sn=>{Sn.stopPropagation(),x(Dn[B.avatar])},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${Dn[B.avatar].border} ${Dn[B.avatar].bg}`,children:oa.createElement(Dn[B.avatar].icon,{size:16,className:Dn[B.avatar].color})}),E.jsx("div",{onClick:Sn=>{Sn.stopPropagation(),B.revealed||p.status==="finished"?x(ys[B.directive]):x(pN)},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${B.revealed||p.status==="finished"?"border-red-500 bg-red-950":"border-slate-700 bg-slate-800"}`,children:B.revealed||p.status==="finished"?oa.createElement(ys[B.directive].icon,{size:16,className:"text-red-400"}):E.jsx(Sh,{size:14,className:"text-slate-600"})})]}),E.jsx("div",{className:"flex gap-0.5 justify-center",children:B.hand.map((Sn,Vs)=>E.jsx("div",{className:"w-2 h-4 bg-slate-700 rounded-sm"},Vs))})]},B.id)})}),E.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:p.status==="finished"?E.jsxs("div",{className:"bg-slate-900/95 p-8 rounded-xl border border-cyan-500 shadow-2xl z-50 animate-in fade-in zoom-in w-full max-w-md",children:[me?E.jsxs(E.Fragment,{children:[E.jsx(Vm,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),E.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-linear-to-r from-yellow-300 to-yellow-600 mb-2",children:"GRAND CHAMPION"}),E.jsx("div",{className:"text-2xl text-white mb-6",children:me.name}),E.jsx("div",{className:"text-sm text-yellow-500/80 mb-6 uppercase tracking-widest",children:"Collected 3 Golden Chips"})]}):E.jsxs(E.Fragment,{children:[E.jsx(Yc,{size:48,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),E.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["ROUND ",p.roundCount," COMPLETE"]}),E.jsxs("div",{className:"text-xl text-cyan-400 mb-6",children:["WINNER: ",Be?.name]}),E.jsxs("div",{className:"text-sm text-slate-400 mb-6",children:[Be?.name," receives a Golden Chip. (",Be?.chips,"/3)"]})]}),ne?E.jsx("div",{className:"space-y-2",children:me?E.jsxs("button",{onClick:Ds,className:"px-6 py-3 rounded font-bold bg-red-700 hover:bg-red-600 text-white shadow-lg mx-auto flex items-center gap-2",children:[E.jsx(rm,{size:18})," FULL RESET TO LOBBY"]}):E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:Rt,disabled:!ze,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${ze?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[E.jsx(Mv,{size:18})," START ROUND"," ",(p.roundCount||0)+1]}),!ze&&E.jsx("div",{className:"text-xs text-yellow-500 animate-pulse",children:"Waiting for players..."})]})}):!me&&E.jsxs("button",{onClick:Dt,disabled:G.ready,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${G.ready?"bg-green-800 text-green-200 cursor-default":"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg animate-pulse"}`,children:[G.ready?E.jsx(ul,{size:18}):E.jsx(Lm,{size:18}),G.ready?"WAITING FOR HOST":"READY FOR NEXT ROUND"]})]}):E.jsx("div",{className:"w-full max-w-md space-y-2 pointer-events-none",children:p.logs.filter(B=>B.viewerId==="all"||B.viewerId===s.uid).slice(-3).reverse().map((B,ge)=>E.jsx("div",{className:`text-xs p-2 rounded bg-black/60 border border-slate-800 ${B.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":B.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,style:{opacity:1-ge*.3},children:`> ${B.text}`},B.id))})}),E.jsxs("div",{className:"mt-auto bg-slate-900/90 border-t border-cyan-900/30 p-4 -mx-4 md:rounded-t-2xl md:mx-0 backdrop-blur-md relative z-20",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{onClick:()=>{x({...Dn[G.avatar],canGlitch:!G.glitchUsed&&!G.isEliminated&&ie})},className:`
                    flex items-center gap-3 p-2 rounded border cursor-pointer hover:bg-slate-800 transition-colors relative
                    ${Dn[G.avatar].border} ${Dn[G.avatar].bg}
                  `,children:[!G.glitchUsed&&!G.isEliminated&&E.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[E.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),E.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),oa.createElement(Dn[G.avatar].icon,{size:32,className:Dn[G.avatar].color}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-bold text-white uppercase",children:Dn[G.avatar].name}),E.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[G.glitchUsed?"Glitch Offline":"Tap for Info",E.jsx(Vv,{size:8})]})]})]}),E.jsxs("div",{onClick:()=>{x(ys[G.directive])},className:`
                    flex items-center gap-3 p-2 rounded border border-slate-700 bg-slate-800 relative cursor-pointer hover:bg-slate-700
                    ${G.revealed?"border-red-500 bg-red-900/20":""}
                  `,children:[G.directive==="HACKER"&&E.jsxs("div",{className:"absolute -top-2 -right-2 bg-indigo-900 text-indigo-100 text-[10px] px-2 py-0.5 rounded-full border border-indigo-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[E.jsx(Um,{size:10})," ",G.pingCount||0,"/3"]}),G.directive==="ANTIVIRUS"&&E.jsxs("div",{className:"absolute -top-2 -right-2 bg-teal-900 text-teal-100 text-[10px] px-2 py-0.5 rounded-full border border-teal-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[E.jsx(dT,{size:10})," ",G.antivirusCount||0,"/2"]}),oa.createElement(ys[G.directive].icon,{size:32,className:G.revealed?"text-red-400":"text-fuchsia-400"}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-bold text-white uppercase",children:ys[G.directive].name}),E.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[G.revealed?"REVEALED":"Tap for Info",E.jsx(Vv,{size:8})]})]})]}),(G.chips||0)>0&&E.jsx("div",{className:"flex items-center gap-1 bg-yellow-900/30 px-3 py-1 rounded border border-yellow-600/50",children:[...Array(G.chips)].map((B,ge)=>E.jsx(Yc,{size:16,className:"text-yellow-400 fill-yellow-900"},ge))})]}),ie&&E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("div",{className:"text-xs text-green-400 font-bold animate-pulse",children:"AWAITING_INPUT..."})})]}),E.jsx("div",{className:"w-full overflow-x-auto pb-4 pt-6 px-4",children:E.jsx("div",{className:"flex gap-2 w-fit mx-auto",children:G.hand.map((B,ge)=>{const Te=Pe===ge;return E.jsx("div",{className:`transition-all duration-200 ${Te?"-translate-y-4":"hover:-translate-y-2"}`,children:E.jsx(Gh,{type:B,onClick:()=>ie?C(ge):null,highlight:Te,disabled:!ie||G.isEliminated})},ge)})})}),ie&&E.jsx("div",{className:"absolute top-0 left-0 right-0 -mt-16 flex justify-center gap-2 pointer-events-none",children:E.jsx("div",{className:"pointer-events-auto flex gap-2",children:ee?E.jsxs(E.Fragment,{children:[ce?E.jsxs("div",{className:"bg-yellow-600 text-black px-4 py-2 rounded font-bold animate-bounce shadow-lg border border-yellow-400 flex items-center gap-2",children:[$?E.jsx(vC,{size:16}):E.jsx(Um,{size:16}),"Select Target to ",$?"Trade":"Ping"]}):E.jsxs("button",{onClick:()=>Ms(),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all hover:scale-105",children:[E.jsx(wN,{size:16})," Execute"," ",iu[ee].name]}),E.jsx("button",{onClick:()=>C(null),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white shadow-lg transition-colors",children:E.jsx(nu,{size:20})})]}):(()=>{const B=G.avatar==="ADMIN"?7:5,ge=G.hand.length>B;return E.jsx("button",{onClick:bi,className:`
                            px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all
                            ${ge?"bg-red-600 hover:bg-red-500 text-white border border-red-400 animate-pulse":"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-500"}
                          `,children:ge?E.jsxs(E.Fragment,{children:[E.jsx(km,{size:16})," DISCARD & END TURN"]}):E.jsxs(E.Fragment,{children:[E.jsx(nN,{size:16})," SKIP TURN"]})})})()})}),V&&E.jsxs("div",{className:"absolute inset-0 bg-slate-950/95 z-50 flex flex-col items-center justify-center rounded-t-2xl animate-in slide-in-from-bottom-10",children:[E.jsx(Ah,{size:48,className:"text-red-500 mb-2 animate-pulse"}),E.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"WARNING: GLITCH DETECTED"}),E.jsxs("p",{className:"text-xs text-red-400 mb-4 max-w-xs text-center",children:["Activating your glitch will"," ",E.jsx("strong",{className:"text-white",children:"REVEAL YOUR DIRECTIVE"})," ","to all players. This cannot be undone."]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 rounded border border-slate-600 text-slate-300 hover:bg-slate-800",children:"CANCEL"}),ve?E.jsx("div",{className:"px-4 py-2 rounded bg-fuchsia-900/50 text-fuchsia-200 border border-fuchsia-500 animate-pulse",children:"Select Target Player"}):E.jsx("button",{onClick:()=>_a(),className:"px-4 py-2 rounded bg-red-600 hover:bg-red-500 text-white font-bold shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"CONFIRM EXECUTION"})]})]})]})]}),Oe&&E.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:E.jsxs("div",{className:"bg-slate-900 rounded-lg w-full max-w-md h-[60vh] flex flex-col border border-slate-700",children:[E.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between",children:[E.jsx("h3",{className:"text-white font-bold",children:"System Logs"}),E.jsx("button",{onClick:()=>Ce(!1),children:E.jsx(nu,{className:"text-slate-400"})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 font-mono text-xs",children:[...p.logs].filter(B=>B.viewerId==="all"||B.viewerId===s.uid).reverse().map(B=>E.jsxs("div",{className:`p-2 border-l-2 ${B.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":B.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,children:[E.jsxs("span",{className:"opacity-50 mr-2",children:["[",new Date(B.id).toLocaleTimeString(),"]"]}),B.text]},B.id))})]})}),ht&&E.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 rounded border border-slate-700 p-6 text-center",children:[E.jsx("h3",{className:"text-white font-bold mb-4",children:"Disconnect from Server?"}),E.jsxs("div",{className:"flex gap-4 justify-center",children:[E.jsx("button",{onClick:()=>yt(!1),className:"bg-slate-700 px-4 py-2 rounded text-white",children:"Cancel"}),E.jsx("button",{onClick:Ns,className:"bg-red-600 px-4 py-2 rounded text-white",children:"Disconnect"}),ne&&E.jsxs("button",{onClick:Ds,className:"bg-orange-600 px-4 py-2 rounded text-white flex items-center gap-1",children:[E.jsx(GC,{size:16})," Lobby"]})]})]})}),E.jsx(Lv,{})]})}return null}function AN(s){return["GHOST","ADMIN","SEARCH_ENGINE"].includes(s)}const wN=TC;iS.createRoot(document.getElementById("root")).render(E.jsx(We.StrictMode,{children:E.jsx(SN,{})}));
