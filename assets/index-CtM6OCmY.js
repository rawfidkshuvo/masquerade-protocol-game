(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Yb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Hd={exports:{}},Mo={};var J0;function Kb(){if(J0)return Mo;J0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Mo.Fragment=e,Mo.jsx=i,Mo.jsxs=i,Mo}var Z0;function Qb(){return Z0||(Z0=1,Hd.exports=Kb()),Hd.exports}var E=Qb(),qd={exports:{}},Me={};var W0;function Xb(){if(W0)return Me;W0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var re={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,oe={};function be(O,X,ae){this.props=O,this.context=X,this.refs=oe,this.updater=ae||re}be.prototype.isReactComponent={},be.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},be.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ke(){}ke.prototype=be.prototype;function xe(O,X,ae){this.props=O,this.context=X,this.refs=oe,this.updater=ae||re}var at=xe.prototype=new ke;at.constructor=xe,ue(at,be.prototype),at.isPureReactComponent=!0;var vt=Array.isArray;function Je(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,X,ae){var he=ae.ref;return{$$typeof:s,type:O,key:X,ref:he!==void 0?he:null,props:ae}}function V(O,X){return C(O.type,X,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return X[ae]})}var x=/\/+/g;function ot(O,X){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):X.toString(36)}function yt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Je,Je):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,ae,he,Re){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(De){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case s:case e:ze=!0;break;case S:return ze=O._init,F(ze(O._payload),X,ae,he,Re)}}if(ze)return Re=Re(O),ze=he===""?"."+ot(O,0):he,vt(Re)?(ae="",ze!=null&&(ae=ze.replace(x,"$&/")+"/"),F(Re,X,ae,"",function(Ji){return Ji})):Re!=null&&(N(Re)&&(Re=V(Re,ae+(Re.key==null||O&&O.key===Re.key?"":(""+Re.key).replace(x,"$&/")+"/")+ze)),X.push(Re)),1;ze=0;var wt=he===""?".":he+":";if(vt(O))for(var et=0;et<O.length;et++)he=O[et],De=wt+ot(he,et),ze+=F(he,X,ae,De,Re);else if(et=K(O),typeof et=="function")for(O=et.call(O),et=0;!(he=O.next()).done;)he=he.value,De=wt+ot(he,et++),ze+=F(he,X,ae,De,Re);else if(De==="object"){if(typeof O.then=="function")return F(yt(O),X,ae,he,Re);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ze}function le(O,X,ae){if(O==null)return O;var he=[],Re=0;return F(O,he,"","",function(De){return X.call(ae,De,Re++)}),he}function ve(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},tt={map:le,forEach:function(O,X,ae){le(O,function(){X.apply(this,arguments)},ae)},count:function(O){var X=0;return le(O,function(){X++}),X},toArray:function(O){return le(O,function(X){return X})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Me.Activity=w,Me.Children=tt,Me.Component=be,Me.Fragment=i,Me.Profiler=o,Me.PureComponent=xe,Me.StrictMode=a,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Me.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Me.cache=function(O){return function(){return O.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(O,X,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=ue({},O.props),Re=O.key;if(X!=null)for(De in X.key!==void 0&&(Re=""+X.key),X)!A.call(X,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&X.ref===void 0||(he[De]=X[De]);var De=arguments.length-2;if(De===1)he.children=ae;else if(1<De){for(var ze=Array(De),wt=0;wt<De;wt++)ze[wt]=arguments[wt+2];he.children=ze}return C(O.type,Re,he)},Me.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Me.createElement=function(O,X,ae){var he,Re={},De=null;if(X!=null)for(he in X.key!==void 0&&(De=""+X.key),X)A.call(X,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Re[he]=X[he]);var ze=arguments.length-2;if(ze===1)Re.children=ae;else if(1<ze){for(var wt=Array(ze),et=0;et<ze;et++)wt[et]=arguments[et+2];Re.children=wt}if(O&&O.defaultProps)for(he in ze=O.defaultProps,ze)Re[he]===void 0&&(Re[he]=ze[he]);return C(O,De,Re)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(O){return{$$typeof:y,render:O}},Me.isValidElement=N,Me.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ve}},Me.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},Me.startTransition=function(O){var X=I.T,ae={};I.T=ae;try{var he=O(),Re=I.S;Re!==null&&Re(ae,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Je,Ge)}catch(De){Ge(De)}finally{X!==null&&ae.types!==null&&(X.types=ae.types),I.T=X}},Me.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Me.use=function(O){return I.H.use(O)},Me.useActionState=function(O,X,ae){return I.H.useActionState(O,X,ae)},Me.useCallback=function(O,X){return I.H.useCallback(O,X)},Me.useContext=function(O){return I.H.useContext(O)},Me.useDebugValue=function(){},Me.useDeferredValue=function(O,X){return I.H.useDeferredValue(O,X)},Me.useEffect=function(O,X){return I.H.useEffect(O,X)},Me.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Me.useId=function(){return I.H.useId()},Me.useImperativeHandle=function(O,X,ae){return I.H.useImperativeHandle(O,X,ae)},Me.useInsertionEffect=function(O,X){return I.H.useInsertionEffect(O,X)},Me.useLayoutEffect=function(O,X){return I.H.useLayoutEffect(O,X)},Me.useMemo=function(O,X){return I.H.useMemo(O,X)},Me.useOptimistic=function(O,X){return I.H.useOptimistic(O,X)},Me.useReducer=function(O,X,ae){return I.H.useReducer(O,X,ae)},Me.useRef=function(O){return I.H.useRef(O)},Me.useState=function(O){return I.H.useState(O)},Me.useSyncExternalStore=function(O,X,ae){return I.H.useSyncExternalStore(O,X,ae)},Me.useTransition=function(){return I.H.useTransition()},Me.version="19.2.3",Me}var e_;function Lm(){return e_||(e_=1,qd.exports=Xb()),qd.exports}var Ke=Lm();const la=Yb(Ke);var Gd={exports:{}},Vo={},Fd={exports:{}},Yd={};var t_;function $b(){return t_||(t_=1,(function(s){function e(F,le){var ve=F.length;F.push(le);e:for(;0<ve;){var Ge=ve-1>>>1,tt=F[Ge];if(0<o(tt,le))F[Ge]=le,F[ve]=tt,ve=Ge;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var le=F[0],ve=F.pop();if(ve!==le){F[0]=ve;e:for(var Ge=0,tt=F.length,O=tt>>>1;Ge<O;){var X=2*(Ge+1)-1,ae=F[X],he=X+1,Re=F[he];if(0>o(ae,ve))he<tt&&0>o(Re,ae)?(F[Ge]=Re,F[he]=ve,Ge=he):(F[Ge]=ae,F[X]=ve,Ge=X);else if(he<tt&&0>o(Re,ve))F[Ge]=Re,F[he]=ve,Ge=he;else break e}}return le}function o(F,le){var ve=F.sortIndex-le.sortIndex;return ve!==0?ve:F.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var p=[],_=[],S=1,w=null,M=3,K=!1,re=!1,ue=!1,oe=!1,be=typeof setTimeout=="function"?setTimeout:null,ke=typeof clearTimeout=="function"?clearTimeout:null,xe=typeof setImmediate<"u"?setImmediate:null;function at(F){for(var le=i(_);le!==null;){if(le.callback===null)a(_);else if(le.startTime<=F)a(_),le.sortIndex=le.expirationTime,e(p,le);else break;le=i(_)}}function vt(F){if(ue=!1,at(F),!re)if(i(p)!==null)re=!0,Je||(Je=!0,U());else{var le=i(_);le!==null&&yt(vt,le.startTime-F)}}var Je=!1,I=-1,A=5,C=-1;function V(){return oe?!0:!(s.unstable_now()-C<A)}function N(){if(oe=!1,Je){var F=s.unstable_now();C=F;var le=!0;try{e:{re=!1,ue&&(ue=!1,ke(I),I=-1),K=!0;var ve=M;try{t:{for(at(F),w=i(p);w!==null&&!(w.expirationTime>F&&V());){var Ge=w.callback;if(typeof Ge=="function"){w.callback=null,M=w.priorityLevel;var tt=Ge(w.expirationTime<=F);if(F=s.unstable_now(),typeof tt=="function"){w.callback=tt,at(F),le=!0;break t}w===i(p)&&a(p),at(F)}else a(p);w=i(p)}if(w!==null)le=!0;else{var O=i(_);O!==null&&yt(vt,O.startTime-F),le=!1}}break e}finally{w=null,M=ve,K=!1}le=void 0}}finally{le?U():Je=!1}}}var U;if(typeof xe=="function")U=function(){xe(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ot=x.port2;x.port1.onmessage=N,U=function(){ot.postMessage(null)}}else U=function(){be(N,0)};function yt(F,le){I=be(function(){F(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var le=3;break;default:le=M}var ve=M;M=le;try{return F()}finally{M=ve}},s.unstable_requestPaint=function(){oe=!0},s.unstable_runWithPriority=function(F,le){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ve=M;M=F;try{return le()}finally{M=ve}},s.unstable_scheduleCallback=function(F,le,ve){var Ge=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ge+ve:Ge):ve=Ge,F){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=ve+tt,F={id:S++,callback:le,priorityLevel:F,startTime:ve,expirationTime:tt,sortIndex:-1},ve>Ge?(F.sortIndex=ve,e(_,F),i(p)===null&&F===i(_)&&(ue?(ke(I),I=-1):ue=!0,yt(vt,ve-Ge))):(F.sortIndex=tt,e(p,F),re||K||(re=!0,Je||(Je=!0,U()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var le=M;return function(){var ve=M;M=le;try{return F.apply(this,arguments)}finally{M=ve}}}})(Yd)),Yd}var n_;function Jb(){return n_||(n_=1,Fd.exports=$b()),Fd.exports}var Kd={exports:{}},mn={};var i_;function Zb(){if(i_)return mn;i_=1;var s=Lm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mn.createPortal=function(p,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,S)},mn.flushSync=function(p){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=S,a.d.f()}},mn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},mn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},mn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:K}):S==="script"&&a.d.X(p,{crossOrigin:w,integrity:M,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},mn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},mn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin);a.d.L(p,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},mn.preloadModule=function(p,_){if(typeof p=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},mn.requestFormReset=function(p){a.d.r(p)},mn.unstable_batchedUpdates=function(p,_){return p(_)},mn.useFormState=function(p,_,S){return d.H.useFormState(p,_,S)},mn.useFormStatus=function(){return d.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var s_;function Wb(){if(s_)return Kd.exports;s_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=Zb(),Kd.exports}var r_;function eS(){if(r_)return Vo;r_=1;var s=Jb(),e=Lm(),i=Wb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,l=f;break}if(T===l){g=!0,l=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=h;break}if(T===l){g=!0,l=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),re=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),ke=Symbol.for("react.consumer"),xe=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ue:return"Fragment";case be:return"Profiler";case oe:return"StrictMode";case vt:return"Suspense";case Je:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case re:return"Portal";case xe:return t.displayName||"Context";case ke:return(t._context.displayName||"Context")+".Consumer";case at:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ot(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ot(t(n))}catch{}}return null}var yt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ge=[],tt=-1;function O(t){return{current:t}}function X(t){0>tt||(t.current=Ge[tt],Ge[tt]=null,tt--)}function ae(t,n){tt++,Ge[tt]=t.current,t.current=n}var he=O(null),Re=O(null),De=O(null),ze=O(null);function wt(t,n){switch(ae(De,n),ae(Re,t),ae(he,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?E0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=E0(n),t=T0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(he),ae(he,t)}function et(){X(he),X(Re),X(De)}function Ji(t){t.memoizedState!==null&&ae(ze,t);var n=he.current,r=T0(n,t.type);n!==r&&(ae(Re,t),ae(he,r))}function vn(t){Re.current===t&&(X(he),X(Re)),ze.current===t&&(X(ze),Co._currentValue=ve)}var Mn,ri;function Gn(t){if(Mn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Mn=n&&n[1]||"",ri=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mn+t+ri}var Nr=!1;function Zi(t,n){if(!t||Nr)return"";Nr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var z=q}Reflect.construct(t,[],$)}else{try{$.call()}catch(q){z=q}t.call($.prototype)}}else{try{throw Error()}catch(q){z=q}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var Y=`
`+R[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Nr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Gn(r):""}function Dr(t,n){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return t.child!==n&&n!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Zi(t.type,!1);case 11:return Zi(t.type.render,!1);case 1:return Zi(t.type,!0);case 31:return Gn("Activity");default:return""}}function Or(t){try{var n="",r=null;do n+=Dr(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Ct=s.unstable_scheduleCallback,Si=s.unstable_cancelCallback,Ol=s.unstable_shouldYield,Ai=s.unstable_requestPaint,sn=s.unstable_now,ai=s.unstable_getCurrentPriorityLevel,Wi=s.unstable_ImmediatePriority,Os=s.unstable_UserBlockingPriority,wi=s.unstable_NormalPriority,ya=s.unstable_LowPriority,_a=s.unstable_IdlePriority,Mr=s.log,J=s.unstable_setDisableYieldValue,B=null,W=null;function te(t){if(typeof Mr=="function"&&J(t),W&&typeof W.setStrictMode=="function")try{W.setStrictMode(B,t)}catch{}}var ee=Math.clz32?Math.clz32:ce,Ae=Math.log,ie=Math.LN2;function ce(t){return t>>>=0,t===0?32:31-(Ae(t)/ie|0)|0}var pe=256,Le=262144,Ce=4194304;function de(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function G(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=de(l):(g&=T,g!==0?h=de(g):r||(r=T&~t,r!==0&&(h=de(r))))):(T=l&~f,T!==0?h=de(T):g!==0?h=de(g):r||(r=l&~t,r!==0&&(h=de(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ye(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ie(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(){var t=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),t}function Ot(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var Y=31-ee(r),$=1<<Y;T[Y]=0,R[Y]=-1;var z=P[Y];if(z!==null)for(P[Y]=null,Y=0;Y<z.length;Y++){var q=z[Y];q!==null&&(q.lane&=-536870913)}r&=~$}l!==0&&Vr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Vr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ee(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Ml(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ee(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Vl(t,n){var r=n&-n;return r=(r&42)!==0?1:kr(r),(r&(t.suspendedLanes|n))!==0?0:r}function kr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:G0(t.type))}function oi(t,n){var r=le.p;try{return le.p=t,n()}finally{le.p=r}}var ui=Math.random().toString(36).slice(2),jt="__reactFiber$"+ui,Wt="__reactProps$"+ui,xi="__reactContainer$"+ui,va="__reactEvents$"+ui,Kh="__reactListeners$"+ui,vu="__reactHandles$"+ui,Eu="__reactResources$"+ui,Ri="__reactMarker$"+ui;function Ea(t){delete t[jt],delete t[Wt],delete t[va],delete t[Kh],delete t[vu]}function Ii(t){var n=t[jt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[xi]||r[jt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=I0(t);t!==null;){if(r=t[jt])return r;t=I0(t)}return n}t=r,r=t.parentNode}return null}function Fn(t){if(t=t[jt]||t[xi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ci(t){var n=t[Eu];return n||(n=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[Ri]=!0}var kl=new Set,Ul={};function Ni(t,n){Di(t,n),Di(t+"Capture",n)}function Di(t,n){for(Ul[t]=n,t=0;t<n.length;t++)kl.add(n[t])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Pl={};function Tu(t){return xt.call(Pl,t)?!0:xt.call(Ll,t)?!1:jl.test(t)?Pl[t]=!0:(Ll[t]=!0,!1)}function Ta(t,n,r){if(Tu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Pt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ct(t){if(!t._valueTracker){var n=Ms(t)?"checked":"value";t._valueTracker=zl(t,n,""+t[n])}}function Ur(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function Sn(t){return t.replace(jr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ba(t,n,r,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Bl(t,g,en(n)):r!=null?Bl(t,g,en(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function bu(t,n,r,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ct(t);return}r=r!=null?""+en(r):"",n=n!=null?""+en(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ct(t)}function Bl(t,n,r){n==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Vs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+en(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Su(t,n,r){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+en(r):""}function ks(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(yt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=en(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),ct(t)}function An(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Au.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ql(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Hl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Hl(t,f,n[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Us.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var Gl=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var js=null,Mi=null;function Lr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var r=t[Wt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ba(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Wt]||null;if(!h)throw Error(a(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ur(l)}break e;case"textarea":Su(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Vs(t,!!r.multiple,n,!1)}}}var wa=!1;function Ls(t,n,r){if(wa)return t(n,r);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(js!==null||Mi!==null)&&(_c(),js&&(n=js,t=Mi,Mi=js=null,Lr(n),t)))for(n=0;n<t.length;n++)Lr(t[n])}}function hi(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Wt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Kn)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Pr=!1}var Vi=null,Fl=null,zr=null;function Yl(){if(zr)return zr;var t,n=Fl,r=n.length,l,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function Br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function fi(){return!1}function rn(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:fi,this.isPropagationStopped=fi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=rn(ns),Ps=w({},ns,{view:0,detail:0}),Kl=rn(Ps),zs,xa,Ui,Ra=w({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(zs=t.screenX-Ui.screenX,xa=t.screenY-Ui.screenY):xa=zs=0,Ui=t),zs)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Ql=rn(Ra),Hr=w({},Ra,{dataTransfer:0}),xu=rn(Hr),Ru=w({},Ps,{relatedTarget:0}),qr=rn(Ru),Xl=w({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=rn(Xl),Ia=w({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=rn(Ia),Nu=w({},ns,{data:0}),ji=rn(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mu[t])?!!n[t]:!1}function Bs(){return Vu}var En=w({},Ps,{key:function(t){if(t.key){var n=Du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=rn(En),Uu=w({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=rn(Uu),u=w({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),m=rn(u),v=w({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=rn(v),j=w({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=rn(j),se=w({},ns,{newState:0,oldState:0}),Ue=rn(se),Mt=[9,13,27,32],st=Kn&&"CompositionEvent"in window,St=null;Kn&&"documentMode"in document&&(St=document.documentMode);var Qn=Kn&&"TextEvent"in window&&!St,Li=Kn&&(!st||St&&8<St&&11>=St),di=" ",mi=!1;function Gr(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function gT(t,n){switch(t){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(mi=!0,di);case"textInput":return t=n.data,t===di&&mi?null:t;default:return null}}function yT(t,n){if(Na)return t==="compositionend"||!st&&Gr(t,n)?(t=Yl(),zr=Fl=Vi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Li&&n.locale!=="ko"?null:n.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!_T[t.type]:n==="textarea"}function Op(t,n,r,l){js?Mi?Mi.push(l):Mi=[l]:js=l,n=wc(n,"onChange"),0<n.length&&(r=new ki("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var $l=null,Jl=null;function vT(t){m0(t,0)}function ju(t){var n=Vn(t);if(Ur(n))return t}function Mp(t,n){if(t==="change")return n}var Vp=!1;if(Kn){var Qh;if(Kn){var Xh="oninput"in document;if(!Xh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Xh=typeof kp.oninput=="function"}Qh=Xh}else Qh=!1;Vp=Qh&&(!document.documentMode||9<document.documentMode)}function Up(){$l&&($l.detachEvent("onpropertychange",jp),Jl=$l=null)}function jp(t){if(t.propertyName==="value"&&ju(Jl)){var n=[];Op(n,Jl,t,Yn(t)),Ls(vT,n)}}function ET(t,n,r){t==="focusin"?(Up(),$l=n,Jl=r,$l.attachEvent("onpropertychange",jp)):t==="focusout"&&Up()}function TT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Jl)}function bT(t,n){if(t==="click")return ju(n)}function ST(t,n){if(t==="input"||t==="change")return ju(n)}function AT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:AT;function Zl(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!xt.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function Lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,n){var r=Lp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lp(r)}}function zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Oi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Oi(t.document)}return n}function $h(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var wT=Kn&&"documentMode"in document&&11>=document.documentMode,Da=null,Jh=null,Wl=null,Zh=!1;function Hp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zh||Da==null||Da!==Oi(l)||(l=Da,"selectionStart"in l&&$h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wl&&Zl(Wl,l)||(Wl=l,l=wc(Jh,"onSelect"),0<l.length&&(n=new ki("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Wh={},qp={};Kn&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Yr(t){if(Wh[t])return Wh[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in qp)return Wh[t]=n[r];return t}var Gp=Yr("animationend"),Fp=Yr("animationiteration"),Yp=Yr("animationstart"),xT=Yr("transitionrun"),RT=Yr("transitionstart"),IT=Yr("transitioncancel"),Kp=Yr("transitionend"),Qp=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function pi(t,n){Qp.set(t,n),Ni(n,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Ma=0,tf=0;function Pu(){for(var t=Ma,n=tf=Ma=0;n<t;){var r=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Xp(r,h,f)}}function zu(t,n,r,l){Xn[Ma++]=t,Xn[Ma++]=n,Xn[Ma++]=r,Xn[Ma++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,n,r,l){return zu(t,n,r,l),Bu(t)}function Kr(t,n){return zu(t,null,null,n),Bu(t)}function Xp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ee(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Bu(t){if(50<bo)throw bo=0,fd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function CT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,n,r,l){return new CT(t,n,r,l)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,n){var r=t.alternate;return r===null?(r=jn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function $p(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Hu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")sf(t)&&(g=1);else if(typeof t=="string")g=Vb(t,r,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=jn(31,r,n,h),t.elementType=C,t.lanes=f,t;case ue:return Qr(r.children,h,f,n);case oe:g=8,h|=24;break;case be:return t=jn(12,r,n,h|2),t.elementType=be,t.lanes=f,t;case vt:return t=jn(13,r,n,h),t.elementType=vt,t.lanes=f,t;case Je:return t=jn(19,r,n,h),t.elementType=Je,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xe:g=10;break e;case ke:g=9;break e;case at:g=11;break e;case I:g=14;break e;case A:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=jn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Qr(t,n,r,l){return t=jn(7,t,l,n),t.lanes=r,t}function rf(t,n,r){return t=jn(6,t,null,n),t.lanes=r,t}function Jp(t){var n=jn(18,null,null,0);return n.stateNode=t,n}function af(t,n,r){return n=jn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Zp=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var r=Zp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Or(n)},Zp.set(t,n),n)}return{value:t,source:n,stack:Or(n)}}var ka=[],Ua=0,qu=null,eo=0,Jn=[],Zn=0,Hs=null,Pi=1,zi="";function rs(t,n){ka[Ua++]=eo,ka[Ua++]=qu,qu=t,eo=n}function Wp(t,n,r){Jn[Zn++]=Pi,Jn[Zn++]=zi,Jn[Zn++]=Hs,Hs=t;var l=Pi;t=zi;var h=32-ee(l)-1;l&=~(1<<h),r+=1;var f=32-ee(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Pi=1<<32-ee(n)+h|r<<h|l,zi=f+t}else Pi=1<<f|r<<h|l,zi=t}function lf(t){t.return!==null&&(rs(t,1),Wp(t,1,0))}function of(t){for(;t===qu;)qu=ka[--Ua],ka[Ua]=null,eo=ka[--Ua],ka[Ua]=null;for(;t===Hs;)Hs=Jn[--Zn],Jn[Zn]=null,zi=Jn[--Zn],Jn[Zn]=null,Pi=Jn[--Zn],Jn[Zn]=null}function eg(t,n){Jn[Zn++]=Pi,Jn[Zn++]=zi,Jn[Zn++]=Hs,Pi=n.id,zi=n.overflow,Hs=t}var an=null,Et=null,Ze=!1,qs=null,Wn=!1,uf=Error(a(519));function Gs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to($n(n,t)),uf}function tg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[jt]=t,n[Wt]=l,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(r=0;r<Ao.length;r++)He(Ao[r],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),bu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),ks(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||_0(n.textContent,r)?(l.popover!=null&&(He("beforetoggle",n),He("toggle",n)),l.onScroll!=null&&He("scroll",n),l.onScrollEnd!=null&&He("scrollend",n),l.onClick!=null&&(n.onclick=ci),n=!0):n=!1,n||Gs(t,!0)}function ng(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:an=an.return}}function ja(t){if(t!==an)return!1;if(!Ze)return ng(t),Ze=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rd(t.type,t.memoizedProps)),r=!r),r&&Et&&Gs(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Et=R0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Et=R0(t)}else n===27?(n=Et,sr(t.type)?(t=Od,Od=null,Et=t):Et=n):Et=an?ti(t.stateNode.nextSibling):null;return!0}function Xr(){Et=an=null,Ze=!1}function cf(){var t=qs;return t!==null&&(In===null?In=t:In.push.apply(In,t),qs=null),t}function to(t){qs===null?qs=[t]:qs.push(t)}var hf=O(null),$r=null,as=null;function Fs(t,n,r){ae(hf,n._currentValue),n._currentValue=r}function ls(t){t._currentValue=hf.current,X(hf)}function ff(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function df(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),ff(f.return,r,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),ff(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function La(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Un(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===ze.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Co):t=[Co])}h=h.return}t!==null&&df(n,t,r,l),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){$r=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return ig($r,t)}function Fu(t,n){return $r===null&&Jr(t),ig(t,n)}function ig(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},as===null){if(t===null)throw Error(a(308));as=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else as=as.next=n;return r}var NT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},DT=s.unstable_scheduleCallback,OT=s.unstable_NormalPriority,zt={$$typeof:xe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new NT,data:new Map,refCount:0}}function no(t){t.refCount--,t.refCount===0&&DT(OT,function(){t.controller.abort()})}var io=null,pf=0,Pa=0,za=null;function MT(t,n){if(io===null){var r=io=[];pf=0,Pa=_d(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return pf++,n.then(sg,sg),n}function sg(){if(--pf===0&&io!==null){za!==null&&(za.status="fulfilled");var t=io;io=null,Pa=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function VT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var rg=F.S;F.S=function(t,n){Hy=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&MT(t,n),rg!==null&&rg(t,n)};var Zr=O(null);function gf(){var t=Zr.current;return t!==null?t:_t.pooledCache}function Yu(t,n){n===null?ae(Zr,Zr.current):ae(Zr,n.pool)}function ag(){var t=gf();return t===null?null:{parent:zt._currentValue,pool:t}}var Ba=Error(a(460)),yf=Error(a(474)),Ku=Error(a(542)),Qu={then:function(){}};function lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function og(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ci,ci),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(ci,ci);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw ea=n,Ba}}function Wr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ea=r,Ba):r}}var ea=null;function ug(){if(ea===null)throw Error(a(459));var t=ea;return ea=null,t}function cg(t){if(t===Ba||t===Ku)throw Error(a(483))}var Ha=null,so=0;function Xu(t){var n=so;return so+=1,Ha===null&&(Ha=[]),og(Ha,t,n)}function ro(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){function n(k,D){if(t){var L=k.deletions;L===null?(k.deletions=[D],k.flags|=16):L.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=ss(k,D),k.index=0,k.sibling=null,k}function f(k,D,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<D?(k.flags|=67108866,D):L):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,L,Q){return D===null||D.tag!==6?(D=rf(L,k.mode,Q),D.return=k,D):(D=h(D,L),D.return=k,D)}function R(k,D,L,Q){var Ee=L.type;return Ee===ue?Y(k,D,L.props.children,Q,L.key):D!==null&&(D.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Wr(Ee)===D.type)?(D=h(D,L.props),ro(D,L),D.return=k,D):(D=Hu(L.type,L.key,L.props,null,k.mode,Q),ro(D,L),D.return=k,D)}function P(k,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=af(L,k.mode,Q),D.return=k,D):(D=h(D,L.children||[]),D.return=k,D)}function Y(k,D,L,Q,Ee){return D===null||D.tag!==7?(D=Qr(L,k.mode,Q,Ee),D.return=k,D):(D=h(D,L),D.return=k,D)}function $(k,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=rf(""+D,k.mode,L),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return L=Hu(D.type,D.key,D.props,null,k.mode,L),ro(L,D),L.return=k,L;case re:return D=af(D,k.mode,L),D.return=k,D;case A:return D=Wr(D),$(k,D,L)}if(yt(D)||U(D))return D=Qr(D,k.mode,L,null),D.return=k,D;if(typeof D.then=="function")return $(k,Xu(D),L);if(D.$$typeof===xe)return $(k,Fu(k,D),L);$u(k,D)}return null}function z(k,D,L,Q){var Ee=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return Ee!==null?null:T(k,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return L.key===Ee?R(k,D,L,Q):null;case re:return L.key===Ee?P(k,D,L,Q):null;case A:return L=Wr(L),z(k,D,L,Q)}if(yt(L)||U(L))return Ee!==null?null:Y(k,D,L,Q,null);if(typeof L.then=="function")return z(k,D,Xu(L),Q);if(L.$$typeof===xe)return z(k,D,Fu(k,L),Q);$u(k,L)}return null}function q(k,D,L,Q,Ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,T(D,k,""+Q,Ee);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return k=k.get(Q.key===null?L:Q.key)||null,R(D,k,Q,Ee);case re:return k=k.get(Q.key===null?L:Q.key)||null,P(D,k,Q,Ee);case A:return Q=Wr(Q),q(k,D,L,Q,Ee)}if(yt(Q)||U(Q))return k=k.get(L)||null,Y(D,k,Q,Ee,null);if(typeof Q.then=="function")return q(k,D,L,Xu(Q),Ee);if(Q.$$typeof===xe)return q(k,D,L,Fu(D,Q),Ee);$u(D,Q)}return null}function me(k,D,L,Q){for(var Ee=null,nt=null,ge=D,Pe=D=0,Ye=null;ge!==null&&Pe<L.length;Pe++){ge.index>Pe?(Ye=ge,ge=null):Ye=ge.sibling;var it=z(k,ge,L[Pe],Q);if(it===null){ge===null&&(ge=Ye);break}t&&ge&&it.alternate===null&&n(k,ge),D=f(it,D,Pe),nt===null?Ee=it:nt.sibling=it,nt=it,ge=Ye}if(Pe===L.length)return r(k,ge),Ze&&rs(k,Pe),Ee;if(ge===null){for(;Pe<L.length;Pe++)ge=$(k,L[Pe],Q),ge!==null&&(D=f(ge,D,Pe),nt===null?Ee=ge:nt.sibling=ge,nt=ge);return Ze&&rs(k,Pe),Ee}for(ge=l(ge);Pe<L.length;Pe++)Ye=q(ge,k,Pe,L[Pe],Q),Ye!==null&&(t&&Ye.alternate!==null&&ge.delete(Ye.key===null?Pe:Ye.key),D=f(Ye,D,Pe),nt===null?Ee=Ye:nt.sibling=Ye,nt=Ye);return t&&ge.forEach(function(ur){return n(k,ur)}),Ze&&rs(k,Pe),Ee}function Se(k,D,L,Q){if(L==null)throw Error(a(151));for(var Ee=null,nt=null,ge=D,Pe=D=0,Ye=null,it=L.next();ge!==null&&!it.done;Pe++,it=L.next()){ge.index>Pe?(Ye=ge,ge=null):Ye=ge.sibling;var ur=z(k,ge,it.value,Q);if(ur===null){ge===null&&(ge=Ye);break}t&&ge&&ur.alternate===null&&n(k,ge),D=f(ur,D,Pe),nt===null?Ee=ur:nt.sibling=ur,nt=ur,ge=Ye}if(it.done)return r(k,ge),Ze&&rs(k,Pe),Ee;if(ge===null){for(;!it.done;Pe++,it=L.next())it=$(k,it.value,Q),it!==null&&(D=f(it,D,Pe),nt===null?Ee=it:nt.sibling=it,nt=it);return Ze&&rs(k,Pe),Ee}for(ge=l(ge);!it.done;Pe++,it=L.next())it=q(ge,k,Pe,it.value,Q),it!==null&&(t&&it.alternate!==null&&ge.delete(it.key===null?Pe:it.key),D=f(it,D,Pe),nt===null?Ee=it:nt.sibling=it,nt=it);return t&&ge.forEach(function(Fb){return n(k,Fb)}),Ze&&rs(k,Pe),Ee}function gt(k,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===ue&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case K:e:{for(var Ee=L.key;D!==null;){if(D.key===Ee){if(Ee=L.type,Ee===ue){if(D.tag===7){r(k,D.sibling),Q=h(D,L.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Wr(Ee)===D.type){r(k,D.sibling),Q=h(D,L.props),ro(Q,L),Q.return=k,k=Q;break e}r(k,D);break}else n(k,D);D=D.sibling}L.type===ue?(Q=Qr(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=Hu(L.type,L.key,L.props,null,k.mode,Q),ro(Q,L),Q.return=k,k=Q)}return g(k);case re:e:{for(Ee=L.key;D!==null;){if(D.key===Ee)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(k,D.sibling),Q=h(D,L.children||[]),Q.return=k,k=Q;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Q=af(L,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return L=Wr(L),gt(k,D,L,Q)}if(yt(L))return me(k,D,L,Q);if(U(L)){if(Ee=U(L),typeof Ee!="function")throw Error(a(150));return L=Ee.call(L),Se(k,D,L,Q)}if(typeof L.then=="function")return gt(k,D,Xu(L),Q);if(L.$$typeof===xe)return gt(k,D,Fu(k,L),Q);$u(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,L),Q.return=k,k=Q):(r(k,D),Q=rf(L,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,D)}return function(k,D,L,Q){try{so=0;var Ee=gt(k,D,L,Q);return Ha=null,Ee}catch(ge){if(ge===Ba||ge===Ku)throw ge;var nt=jn(29,ge,null,k.mode);return nt.lanes=Q,nt.return=k,nt}}}var ta=hg(!0),fg=hg(!1),Ys=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Bu(t),Xp(t,null,r),n}return zu(t,l,n,r),Bu(t)}function ao(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ml(t,r)}}function Ef(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Tf=!1;function lo(){if(Tf){var t=za;if(t!==null)throw t}}function oo(t,n,r,l){Tf=!1;var h=t.updateQueue;Ys=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==g&&(T===null?Y.firstBaseUpdate=P:T.next=P,Y.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;g=0,Y=P=R=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Fe&z)===z:(l&z)===z){z!==0&&z===Pa&&(Tf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,Se=T;z=n;var gt=r;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){$=me.call(gt,$,z);break e}$=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,z=typeof me=="function"?me.call(gt,$,z):me,z==null)break e;$=w({},$,z);break e;case 2:Ys=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(P=Y=q,R=$):Y=Y.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(R=$),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Ws|=g,t.lanes=g,t.memoizedState=$}}function dg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function mg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)dg(r[t],n)}var qa=O(null),Ju=O(0);function pg(t,n){t=gs,ae(Ju,t),ae(qa,n),gs=t|n.baseLanes}function bf(){ae(Ju,gs),ae(qa,qa.current)}function Sf(){gs=Ju.current,X(qa),X(Ju)}var Ln=O(null),ei=null;function Xs(t){var n=t.alternate;ae(Vt,Vt.current&1),ae(Ln,t),ei===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ei=t)}function Af(t){ae(Vt,Vt.current),ae(Ln,t),ei===null&&(ei=t)}function gg(t){t.tag===22?(ae(Vt,Vt.current),ae(Ln,t),ei===null&&(ei=t)):$s()}function $s(){ae(Vt,Vt.current),ae(Ln,Ln.current)}function Pn(t){X(Ln),ei===t&&(ei=null),X(Vt)}var Vt=O(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Nd(r)||Dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var os=0,je=null,mt=null,Bt=null,Wu=!1,Ga=!1,na=!1,ec=0,uo=0,Fa=null,kT=0;function Nt(){throw Error(a(321))}function wf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Un(t[r],n[r]))return!1;return!0}function xf(t,n,r,l,h,f){return os=f,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Wg:Bf,na=!1,f=r(l,h),na=!1,Ga&&(f=_g(n,r,l,h)),yg(t),f}function yg(t){F.H=fo;var n=mt!==null&&mt.next!==null;if(os=0,Bt=mt=je=null,Wu=!1,uo=0,Fa=null,n)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&Gu(t)&&(Ht=!0))}function _g(t,n,r,l){je=t;var h=0;do{if(Ga&&(Fa=null),uo=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Bt=mt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ey,f=n(r,l)}while(Ga);return f}function UT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?co(n):n,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(je.flags|=1024),n}function Rf(){var t=ec!==0;return ec=0,t}function If(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Cf(t){if(Wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wu=!1}os=0,Bt=mt=je=null,Ga=!1,uo=ec=0,Fa=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?je.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function kt(){if(mt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var n=Bt===null?je.memoizedState:Bt.next;if(n!==null)Bt=n,mt=t;else{if(t===null)throw je.alternate===null?Error(a(467)):Error(a(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Bt===null?je.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(t){var n=uo;return uo+=1,Fa===null&&(Fa=[]),t=og(Fa,t,n),n=je,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Wg:Bf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return co(t);if(t.$$typeof===xe)return ln(t)}throw Error(a(438,String(t)))}function Nf(t){var n=null,r=je.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=tc(),je.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function us(t,n){return typeof n=="function"?n(t):n}function ic(t){var n=kt();return Df(n,mt,t)}function Df(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,Y=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Fe&$)===$:(os&$)===$){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===Pa&&(Y=!0);else if((os&z)===z){P=P.next,z===Pa&&(Y=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=$,g=f):R=R.next=$,je.lanes|=z,Ws|=z;$=P.action,na&&r(f,$),f=P.hasEagerState?P.eagerState:r(f,$)}else z={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,g=f):R=R.next=z,je.lanes|=$,Ws|=$;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!Un(f,t.memoizedState)&&(Ht=!0,Y&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Of(t){var n=kt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Un(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function vg(t,n,r){var l=je,h=kt(),f=Ze;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Un((mt||h).memoizedState,r);if(g&&(h.memoizedState=r,Ht=!0),h=h.queue,kf(bg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},Tg.bind(null,l,h,r,n),null),_t===null)throw Error(a(349));f||(os&127)!==0||Eg(l,n,r)}return r}function Eg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=je.updateQueue,n===null?(n=tc(),je.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Tg(t,n,r,l){n.value=r,n.getSnapshot=l,Sg(n)&&Ag(t)}function bg(t,n,r){return r(function(){Sg(n)&&Ag(t)})}function Sg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Un(t,r)}catch{return!0}}function Ag(t){var n=Kr(t,2);n!==null&&Cn(n,t,2)}function Mf(t){var n=Tn();if(typeof t=="function"){var r=t;if(t=r(),na){te(!0);try{r()}finally{te(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},n}function wg(t,n,r,l){return t.baseState=r,Df(t,mt,typeof l=="function"?l:us)}function jT(t,n,r,l,h){if(ac(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,xg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function xg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var T=r(h,l),R=F.S;R!==null&&R(g,T),Rg(t,n,T)}catch(P){Vf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,l),Rg(t,n,f)}catch(P){Vf(t,n,P)}}function Rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ig(t,n,l)},function(l){return Vf(t,n,l)}):Ig(t,n,r)}function Ig(t,n,r){n.status="fulfilled",n.value=r,Cg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,xg(t,r)))}function Vf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Cg(n),n=n.next;while(n!==l)}t.action=null}function Cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ng(t,n){return n}function Dg(t,n){if(Ze){var r=_t.formState;if(r!==null){e:{var l=je;if(Ze){if(Et){t:{for(var h=Et,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Et=ti(h.nextSibling),l=h.data==="F!";break e}}Gs(l)}l=!1}l&&(n=r[0])}}return r=Tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},r.queue=l,r=$g.bind(null,je,l),l.dispatch=r,l=Mf(!1),f=zf.bind(null,je,!1,l.queue),l=Tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=jT.bind(null,je,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Og(t){var n=kt();return Mg(n,mt,t)}function Mg(t,n,r){if(n=Df(t,n,Ng)[0],t=ic(us)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=co(n)}catch(g){throw g===Ba?Ku:g}else l=n;n=kt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(je.flags|=2048,Ya(9,{destroy:void 0},LT.bind(null,h,r),null)),[l,f,t]}function LT(t,n){t.action=n}function Vg(t){var n=kt(),r=mt;if(r!==null)return Mg(n,r,t);kt(),n=n.memoizedState,r=kt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=tc(),je.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function kg(){return kt().memoizedState}function sc(t,n,r,l){var h=Tn();je.flags|=t,h.memoizedState=Ya(1|n,{destroy:void 0},r,l===void 0?null:l)}function rc(t,n,r,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;mt!==null&&l!==null&&wf(l,mt.memoizedState.deps)?h.memoizedState=Ya(n,f,r,l):(je.flags|=t,h.memoizedState=Ya(1|n,f,r,l))}function Ug(t,n){sc(8390656,8,t,n)}function kf(t,n){rc(2048,8,t,n)}function PT(t){je.flags|=4;var n=je.updateQueue;if(n===null)n=tc(),je.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function jg(t){var n=kt().memoizedState;return PT({ref:n,nextImpl:t}),function(){if((rt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lg(t,n){return rc(4,2,t,n)}function Pg(t,n){return rc(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bg(t,n,r){r=r!=null?r.concat([t]):null,rc(4,4,zg.bind(null,n,t),r)}function Uf(){}function Hg(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&wf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function qg(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&wf(n,l[1]))return l[0];if(l=t(),na){te(!0);try{t()}finally{te(!1)}}return r.memoizedState=[l,n],l}function jf(t,n,r){return r===void 0||(os&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Gy(),je.lanes|=t,Ws|=t,r)}function Gg(t,n,r,l){return Un(r,n)?r:qa.current!==null?(t=jf(t,r,l),Un(t,n)||(Ht=!0),t):(os&42)===0||(os&1073741824)!==0&&(Fe&261930)===0?(Ht=!0,t.memoizedState=r):(t=Gy(),je.lanes|=t,Ws|=t,n)}function Fg(t,n,r,l,h){var f=le.p;le.p=f!==0&&8>f?f:8;var g=F.T,T={};F.T=T,zf(t,!1,n,r);try{var R=h(),P=F.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=VT(R,l);ho(t,n,Y,Hn(t))}else ho(t,n,l,Hn(t))}catch($){ho(t,n,{then:function(){},status:"rejected",reason:$},Hn())}finally{le.p=f,g!==null&&T.types!==null&&(g.types=T.types),F.T=g}}function zT(){}function Lf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Yg(t).queue;Fg(t,h,n,ve,r===null?zT:function(){return Kg(t),r(l)})}function Yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ve},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kg(t){var n=Yg(t);n.next===null&&(n=t.alternate.memoizedState),ho(t,n.next.queue,{},Hn())}function Pf(){return ln(Co)}function Qg(){return kt().memoizedState}function Xg(){return kt().memoizedState}function BT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Hn();t=Ks(r);var l=Qs(n,t,r);l!==null&&(Cn(l,n,r),ao(l,n,r)),n={cache:mf()},t.payload=n;return}n=n.return}}function HT(t,n,r){var l=Hn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ac(t)?Jg(n,r):(r=nf(t,n,r,l),r!==null&&(Cn(r,t,l),Zg(r,n,l)))}function $g(t,n,r){var l=Hn();ho(t,n,r,l)}function ho(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ac(t))Jg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,Un(T,g))return zu(t,n,h,0),_t===null&&Pu(),!1}catch{}if(r=nf(t,n,h,l),r!==null)return Cn(r,t,l),Zg(r,n,l),!0}return!1}function zf(t,n,r,l){if(l={lane:2,revertLane:_d(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(n)throw Error(a(479))}else n=nf(t,r,l,2),n!==null&&Cn(n,t,2)}function ac(t){var n=t.alternate;return t===je||n!==null&&n===je}function Jg(t,n){Ga=Wu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Zg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ml(t,r)}}var fo={readContext:ln,use:nc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};fo.useEffectEvent=Nt;var Wg={readContext:ln,use:nc,useCallback:function(t,n){return Tn().memoizedState=[t,n===void 0?null:n],t},useContext:ln,useEffect:Ug,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,sc(4194308,4,zg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return sc(4194308,4,t,n)},useInsertionEffect:function(t,n){sc(4,2,t,n)},useMemo:function(t,n){var r=Tn();n=n===void 0?null:n;var l=t();if(na){te(!0);try{t()}finally{te(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Tn();if(r!==void 0){var h=r(n);if(na){te(!0);try{r(n)}finally{te(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=HT.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var n=Tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Mf(t);var n=t.queue,r=$g.bind(null,je,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Uf,useDeferredValue:function(t,n){var r=Tn();return jf(r,t,n)},useTransition:function(){var t=Mf(!1);return t=Fg.bind(null,je,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=je,h=Tn();if(Ze){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),_t===null)throw Error(a(349));(Fe&127)!==0||Eg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ug(bg.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},Tg.bind(null,l,f,r,n),null),r},useId:function(){var t=Tn(),n=_t.identifierPrefix;if(Ze){var r=zi,l=Pi;r=(l&~(1<<32-ee(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ec++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Pf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var n=Tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=zf.bind(null,je,!0,r),r.dispatch=n,[t,n]},useMemoCache:Nf,useCacheRefresh:function(){return Tn().memoizedState=BT.bind(null,je)},useEffectEvent:function(t){var n=Tn(),r={impl:t};return n.memoizedState=r,function(){if((rt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Bf={readContext:ln,use:nc,useCallback:Hg,useContext:ln,useEffect:kf,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Pg,useMemo:qg,useReducer:ic,useRef:kg,useState:function(){return ic(us)},useDebugValue:Uf,useDeferredValue:function(t,n){var r=kt();return Gg(r,mt.memoizedState,t,n)},useTransition:function(){var t=ic(us)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:vg,useId:Qg,useHostTransitionStatus:Pf,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var r=kt();return wg(r,mt,t,n)},useMemoCache:Nf,useCacheRefresh:Xg};Bf.useEffectEvent=jg;var ey={readContext:ln,use:nc,useCallback:Hg,useContext:ln,useEffect:kf,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Pg,useMemo:qg,useReducer:Of,useRef:kg,useState:function(){return Of(us)},useDebugValue:Uf,useDeferredValue:function(t,n){var r=kt();return mt===null?jf(r,t,n):Gg(r,mt.memoizedState,t,n)},useTransition:function(){var t=Of(us)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:vg,useId:Qg,useHostTransitionStatus:Pf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var r=kt();return mt!==null?wg(r,mt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:Xg};ey.useEffectEvent=jg;function Hf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Hn(),h=Ks(l);h.payload=n,r!=null&&(h.callback=r),n=Qs(t,h,l),n!==null&&(Cn(n,t,l),ao(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Hn(),h=Ks(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Qs(t,h,l),n!==null&&(Cn(n,t,l),ao(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Hn(),l=Ks(r);l.tag=2,n!=null&&(l.callback=n),n=Qs(t,l,r),n!==null&&(Cn(n,t,r),ao(n,t,r))}};function ty(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zl(r,l)||!Zl(h,f):!0}function ny(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&qf.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function iy(t){Lu(t)}function sy(t){console.error(t)}function ry(t){Lu(t)}function lc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ay(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,n,r){return r=Ks(r),r.tag=3,r.payload={element:null},r.callback=function(){lc(t,n)},r}function ly(t){return t=Ks(t),t.tag=3,t}function oy(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ay(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){ay(n,r,l),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function qT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&La(n,r,h,!0),r=Ln.current,r!==null){switch(r.tag){case 31:case 13:return ei===null?vc():r.alternate===null&&Dt===0&&(Dt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),pd(t,l,h)),!1;case 22:return r.flags|=65536,l===Qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),pd(t,l,h)),!1}throw Error(a(435,r.tag))}return pd(t,l,h),vc(),!1}if(Ze)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==uf&&(t=Error(a(422),{cause:l}),to($n(t,r)))):(l!==uf&&(n=Error(a(423),{cause:l}),to($n(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$n(l,r),h=Gf(t.stateNode,l,h),Ef(t,h),Dt!==4&&(Dt=2)),!1;var f=Error(a(520),{cause:l});if(f=$n(f,r),To===null?To=[f]:To.push(f),Dt!==4&&(Dt=2),n===null)return!0;l=$n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Gf(r.stateNode,l,t),Ef(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ly(h),oy(h,t,r,l),Ef(r,h),!1}r=r.return}while(r!==null);return!1}var Ff=Error(a(461)),Ht=!1;function on(t,n,r,l){n.child=t===null?fg(n,null,r,l):ta(n,t.child,r,l)}function uy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Jr(n),l=xf(t,n,r,g,f,h),T=Rf(),t!==null&&!Ht?(If(t,n,h),cs(t,n,h)):(Ze&&T&&lf(n),n.flags|=1,on(t,n,l,h),n.child)}function cy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,hy(t,n,f,l,h)):(t=Hu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Wf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(g,l)&&t.ref===n.ref)return cs(t,n,h)}return n.flags|=1,t=ss(f,l),t.ref=n.ref,t.return=n,n.child=t}function hy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Zl(f,l)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=l=f,Wf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,cs(t,n,h)}return Yf(t,n,r,l,h)}function fy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return dy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?pg(n,f):bf(),gg(n);else return l=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Yu(n,f.cachePool),pg(n,f),$s(),n.memoizedState=null):(t!==null&&Yu(n,null),bf(),$s());return on(t,n,h,r),n.child}function mo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,r,l,h){var f=gf();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Yu(n,null),bf(),gg(n),t!==null&&La(t,n,l,!0),n.childLanes=h,null}function oc(t,n){return n=cc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,r){return ta(n,t.child,null,r),t=oc(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function GT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ze){if(l.mode==="hidden")return t=oc(n,l),n.lanes=536870912,mo(null,t);if(Af(n),(t=Et)?(t=x0(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Pi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},r=Jp(t),r.return=n,n.child=r,an=n,Et=null)):t=null,t===null)throw Gs(n);return n.lanes=536870912,null}return oc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=my(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ht||La(t,n,r,!1),h=(r&t.childLanes)!==0,Ht||h){if(l=_t,l!==null&&(g=Vl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Kr(t,g),Cn(l,t,g),Ff;vc(),n=my(t,n,r)}else t=f.treeContext,Et=ti(g.nextSibling),an=n,Ze=!0,qs=null,Wn=!1,t!==null&&eg(n,t),n=oc(n,l),n.flags|=4096;return n}return t=ss(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Yf(t,n,r,l,h){return Jr(n),r=xf(t,n,r,l,void 0,h),l=Rf(),t!==null&&!Ht?(If(t,n,h),cs(t,n,h)):(Ze&&l&&lf(n),n.flags|=1,on(t,n,r,h),n.child)}function py(t,n,r,l,h,f){return Jr(n),n.updateQueue=null,r=_g(n,l,r,h),yg(t),l=Rf(),t!==null&&!Ht?(If(t,n,f),cs(t,n,f)):(Ze&&l&&lf(n),n.flags|=1,on(t,n,r,f),n.child)}function gy(t,n,r,l,h){if(Jr(n),n.stateNode===null){var f=Va,g=r.contextType;typeof g=="object"&&g!==null&&(f=ln(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},_f(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?ln(g):Va,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Hf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&qf.enqueueReplaceState(f,f.state,null),oo(n,l,f,h),lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=ia(r,T);f.props=R;var P=f.context,Y=r.contextType;g=Va,typeof Y=="object"&&Y!==null&&(g=ln(Y));var $=r.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&ny(n,f,l,g),Ys=!1;var z=n.memoizedState;f.state=z,oo(n,l,f,h),lo(),P=n.memoizedState,T||z!==P||Ys?(typeof $=="function"&&(Hf(n,r,$,l),P=n.memoizedState),(R=Ys||ty(n,r,R,l,z,P,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,vf(t,n),g=n.memoizedProps,Y=ia(r,g),f.props=Y,$=n.pendingProps,z=f.context,P=r.contextType,R=Va,typeof P=="object"&&P!==null&&(R=ln(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||z!==R)&&ny(n,f,l,R),Ys=!1,z=n.memoizedState,f.state=z,oo(n,l,f,h),lo();var q=n.memoizedState;g!==$||z!==q||Ys||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof T=="function"&&(Hf(n,r,T,l),q=n.memoizedState),(Y=Ys||ty(n,r,Y,l,z,q,R)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=Y):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ta(n,t.child,null,h),n.child=ta(n,null,r,h)):on(t,n,r,h),n.memoizedState=f.state,t=n.child):t=cs(t,n,h),t}function yy(t,n,r,l){return Xr(),n.flags|=256,on(t,n,r,l),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:ag()}}function Xf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Bn),t}function _y(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ze){if(h?Xs(n):$s(),(t=Et)?(t=x0(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Pi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},r=Jp(t),r.return=n,n.child=r,an=n,Et=null)):t=null,t===null)throw Gs(n);return Dd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?($s(),h=n.mode,T=cc({mode:"hidden",children:T},h),l=Qr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Qf(r),l.childLanes=Xf(t,g,r),n.memoizedState=Kf,mo(null,l)):(Xs(n),$f(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Xs(n),n.flags&=-257,n=Jf(t,n,r)):n.memoizedState!==null?($s(),n.child=t.child,n.flags|=128,n=null):($s(),T=l.fallback,h=n.mode,l=cc({mode:"visible",children:l.children},h),T=Qr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ta(n,t.child,null,r),l=n.child,l.memoizedState=Qf(r),l.childLanes=Xf(t,g,r),n.memoizedState=Kf,n=mo(null,l));else if(Xs(n),Dd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,to({value:l,source:null,stack:null}),n=Jf(t,n,r)}else if(Ht||La(t,n,r,!1),g=(r&t.childLanes)!==0,Ht||g){if(g=_t,g!==null&&(l=Vl(g,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Kr(t,l),Cn(g,t,l),Ff;Nd(T)||vc(),n=Jf(t,n,r)}else Nd(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,Et=ti(T.nextSibling),an=n,Ze=!0,qs=null,Wn=!1,t!==null&&eg(n,t),n=$f(n,l.children),n.flags|=4096);return n}return h?($s(),T=l.fallback,h=n.mode,R=t.child,P=R.sibling,l=ss(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=ss(P,T):(T=Qr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,mo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Qf(r):(h=T.cachePool,h!==null?(R=zt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ag(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Xf(t,g,r),n.memoizedState=Kf,mo(t.child,l)):(Xs(n),r=t.child,t=r.sibling,r=ss(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function $f(t,n){return n=cc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cc(t,n){return t=jn(22,t,null,n),t.lanes=0,t}function Jf(t,n,r){return ta(n,t.child,null,r),t=$f(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ff(t.return,n,r)}function Zf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Ey(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Vt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ae(Vt,g),on(t,n,l,r),l=Ze?eo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,r,n);else if(t.tag===19)vy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Zf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Zf(n,!0,r,null,f,l);break;case"together":Zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function cs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ws|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(La(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ss(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ss(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Wf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function FT(t,n,r){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),Fs(n,zt,t.memoizedState.cache),Xr();break;case 27:case 5:Ji(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:Fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?_y(t,n,r):(Xs(n),t=cs(t,n,r),t!==null?t.sibling:null);Xs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(La(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Ey(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Vt,Vt.current),l)break;return null;case 22:return n.lanes=0,fy(t,n,r,n.pendingProps);case 24:Fs(n,zt,t.memoizedState.cache)}return cs(t,n,r)}function Ty(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Wf(t,r)&&(n.flags&128)===0)return Ht=!1,FT(t,n,r);Ht=(t.flags&131072)!==0}else Ht=!1,Ze&&(n.flags&1048576)!==0&&Wp(n,eo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Wr(n.elementType),n.type=t,typeof t=="function")sf(t)?(l=ia(t,l),n.tag=1,n=gy(null,n,t,l,r)):(n.tag=0,n=Yf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===at){n.tag=11,n=uy(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=cy(null,n,t,l,r);break e}}throw n=ot(t)||t,Error(a(306,n,""))}}return n;case 0:return Yf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ia(l,n.pendingProps),gy(t,n,l,h,r);case 3:e:{if(wt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,vf(t,n),oo(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Fs(n,zt,l),l!==f.cache&&df(n,[zt],r,!0),lo(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(t,n,l,r);break e}else if(l!==h){h=$n(Error(a(424)),n),to(h),n=yy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Et=ti(t.firstChild),an=n,Ze=!0,qs=null,Wn=!0,r=fg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),l===h){n=cs(t,n,r);break e}on(t,n,l,r)}n=n.child}return n;case 26:return uc(t,n),t===null?(r=O0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ze||(r=n.type,t=n.pendingProps,l=xc(De.current).createElement(r),l[jt]=n,l[Wt]=t,un(l,r,t),Lt(l),n.stateNode=l):n.memoizedState=O0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ji(n),t===null&&Ze&&(l=n.stateNode=C0(n.type,n.pendingProps,De.current),an=n,Wn=!0,h=Et,sr(n.type)?(Od=h,Et=ti(l.firstChild)):Et=h),on(t,n,n.pendingProps.children,r),uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ze&&((h=l=Et)&&(l=Tb(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,an=n,Et=ti(l.firstChild),Wn=!1,h=!0):h=!1),h||Gs(n)),Ji(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Rd(h,f)?l=null:g!==null&&Rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=xf(t,n,UT,null,null,r),Co._currentValue=h),uc(t,n),on(t,n,l,r),n.child;case 6:return t===null&&Ze&&((t=r=Et)&&(r=bb(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,an=n,Et=null,t=!0):t=!1),t||Gs(n)),null;case 13:return _y(t,n,r);case 4:return wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ta(n,null,l,r):on(t,n,l,r),n.child;case 11:return uy(t,n,n.type,n.pendingProps,r);case 7:return on(t,n,n.pendingProps,r),n.child;case 8:return on(t,n,n.pendingProps.children,r),n.child;case 12:return on(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fs(n,n.type,l.value),on(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=ln(h),l=l(h),n.flags|=1,on(t,n,l,r),n.child;case 14:return cy(t,n,n.type,n.pendingProps,r);case 15:return hy(t,n,n.type,n.pendingProps,r);case 19:return Ey(t,n,r);case 31:return GT(t,n,r);case 22:return fy(t,n,r,n.pendingProps);case 24:return Jr(n),l=ln(zt),t===null?(h=gf(),h===null&&(h=_t,f=mf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},_f(n),Fs(n,zt,h)):((t.lanes&r)!==0&&(vf(t,n),oo(n,null,null,r),lo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Fs(n,zt,l)):(l=f.cache,Fs(n,zt,l),l!==h.cache&&df(n,[zt],r,!0))),on(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function hs(t){t.flags|=4}function ed(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw ea=Qu,yf}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!j0(n))if(Qy())t.flags|=8192;else throw ea=Qu,yf}function hc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ut():536870912,t.lanes|=n,$a|=n)}function po(t,n){if(!Ze)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function YT(t,n,r){var l=n.pendingProps;switch(of(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(n),null;case 1:return Tt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ls(zt),et(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ja(n)?hs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cf())),Tt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(hs(n),f!==null?(Tt(n),by(n,f)):(Tt(n),ed(n,h,null,l,r))):f?f!==t.memoizedState?(hs(n),Tt(n),by(n,f)):(Tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&hs(n),Tt(n),ed(n,h,t,l,r)),null;case 27:if(vn(n),r=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Tt(n),null}t=he.current,ja(n)?tg(n):(t=C0(h,l,r),n.stateNode=t,hs(n))}return Tt(n),null;case 5:if(vn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Tt(n),null}if(f=he.current,ja(n))tg(n);else{var g=xc(De.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[jt]=n,f[Wt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(un(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hs(n)}}return Tt(n),ed(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,ja(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||_0(t.nodeValue,r)),t||Gs(n,!0)}else t=xc(t).createTextNode(l),t[jt]=n,n.stateNode=t}return Tt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=ja(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[jt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),t=!1}else r=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Tt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[jt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),h=!1}else h=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),hc(n,n.updateQueue),Tt(n),null);case 4:return et(),t===null&&bd(n.stateNode.containerInfo),Tt(n),null;case 10:return ls(n.type),Tt(n),null;case 19:if(X(Vt),l=n.memoizedState,l===null)return Tt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)po(l,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,po(l,!1),t=f.updateQueue,n.updateQueue=t,hc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)$p(r,t),r=r.sibling;return ae(Vt,Vt.current&1|2),Ze&&rs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&sn()>gc&&(n.flags|=128,h=!0,po(l,!1),n.lanes=4194304)}else{if(!h)if(t=Zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,hc(n,t),po(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ze)return Tt(n),null}else 2*sn()-l.renderingStartTime>gc&&r!==536870912&&(n.flags|=128,h=!0,po(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,r=Vt.current,ae(Vt,h?r&1|2:r&1),Ze&&rs(n,l.treeForkCount),t):(Tt(n),null);case 22:case 23:return Pn(n),Sf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Tt(n),n.subtreeFlags&6&&(n.flags|=8192)):Tt(n),r=n.updateQueue,r!==null&&hc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&X(Zr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ls(zt),Tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function KT(t,n){switch(of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ls(zt),et(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return vn(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(Vt),null;case 4:return et(),null;case 10:return ls(n.type),null;case 22:case 23:return Pn(n),Sf(),t!==null&&X(Zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ls(zt),null;case 25:return null;default:return null}}function Sy(t,n){switch(of(n),n.tag){case 3:ls(zt),et();break;case 26:case 27:case 5:vn(n);break;case 4:et();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:X(Vt);break;case 10:ls(n.type);break;case 22:case 23:Pn(n),Sf(),t!==null&&X(Zr);break;case 24:ls(zt)}}function go(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(T){ft(n,n.return,T)}}function Js(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=r,P=T;try{P()}catch(Y){ft(h,R,Y)}}}l=l.next}while(l!==f)}}catch(Y){ft(n,n.return,Y)}}function Ay(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{mg(n,r)}catch(l){ft(t,t.return,l)}}}function wy(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ft(t,n,l)}}function yo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){ft(t,n,h)}}function Bi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){ft(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ft(t,n,h)}else r.current=null}function xy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){ft(t,t.return,h)}}function td(t,n,r){try{var l=t.stateNode;pb(l,t.type,r,n),l[Wt]=n}catch(h){ft(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ci));else if(l!==4&&(l===27&&sr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(id(t,n,r),t=t.sibling;t!==null;)id(t,n,r),t=t.sibling}function fc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&sr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(fc(t,n,r),t=t.sibling;t!==null;)fc(t,n,r),t=t.sibling}function Iy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);un(n,l,r),n[jt]=t,n[Wt]=r}catch(f){ft(t,t.return,f)}}var fs=!1,qt=!1,sd=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,tn=null;function QT(t,n){if(t=t.containerInfo,wd=Mc,t=Bp(t),$h(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,R=-1,P=0,Y=0,$=t,z=null;t:for(;;){for(var q;$!==r||h!==0&&$.nodeType!==3||(T=g+h),$!==f||l!==0&&$.nodeType!==3||(R=g+l),$.nodeType===3&&(g+=$.nodeValue.length),(q=$.firstChild)!==null;)z=$,$=q;for(;;){if($===t)break t;if(z===r&&++P===h&&(T=g),z===f&&++Y===l&&(R=g),(q=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=q}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(xd={focusedElem:t,selectionRange:r},Mc=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var me=ia(r.type,h);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ft(r,r.return,Se)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Cd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function Ny(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ms(t,r),l&4&&go(5,r);break;case 1:if(ms(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){ft(r,r.return,g)}else{var h=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ft(r,r.return,g)}}l&64&&Ay(r),l&512&&yo(r,r.return);break;case 3:if(ms(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{mg(t,n)}catch(g){ft(r,r.return,g)}}break;case 27:n===null&&l&4&&Iy(r);case 26:case 5:ms(t,r),n===null&&l&4&&xy(r),l&512&&yo(r,r.return);break;case 12:ms(t,r);break;case 31:ms(t,r),l&4&&My(t,r);break;case 13:ms(t,r),l&4&&Vy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ib.bind(null,r),Sb(t,r))));break;case 22:if(l=r.memoizedState!==null||fs,!l){n=n!==null&&n.memoizedState!==null||qt,h=fs;var f=qt;fs=l,(qt=n)&&!f?ps(t,r,(r.subtreeFlags&8772)!==0):ms(t,r),fs=h,qt=f}break;case 30:break;default:ms(t,r)}}function Dy(t){var n=t.alternate;n!==null&&(t.alternate=null,Dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,wn=!1;function ds(t,n,r){for(r=r.child;r!==null;)Oy(t,n,r),r=r.sibling}function Oy(t,n,r){if(W&&typeof W.onCommitFiberUnmount=="function")try{W.onCommitFiberUnmount(B,r)}catch{}switch(r.tag){case 26:qt||Bi(r,n),ds(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:qt||Bi(r,n);var l=At,h=wn;sr(r.type)&&(At=r.stateNode,wn=!1),ds(t,n,r),xo(r.stateNode),At=l,wn=h;break;case 5:qt||Bi(r,n);case 6:if(l=At,h=wn,At=null,ds(t,n,r),At=l,wn=h,At!==null)if(wn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(r.stateNode)}catch(f){ft(r,n,f)}else try{At.removeChild(r.stateNode)}catch(f){ft(r,n,f)}break;case 18:At!==null&&(wn?(t=At,A0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),sl(t)):A0(At,r.stateNode));break;case 4:l=At,h=wn,At=r.stateNode.containerInfo,wn=!0,ds(t,n,r),At=l,wn=h;break;case 0:case 11:case 14:case 15:Js(2,r,n),qt||Js(4,r,n),ds(t,n,r);break;case 1:qt||(Bi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&wy(r,n,l)),ds(t,n,r);break;case 21:ds(t,n,r);break;case 22:qt=(l=qt)||r.memoizedState!==null,ds(t,n,r),qt=l;break;default:ds(t,n,r)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(r){ft(n,n.return,r)}}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(r){ft(n,n.return,r)}}function XT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cy),n;default:throw Error(a(435,t.tag))}}function dc(t,n){var r=XT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=sb.bind(null,t,l);l.then(h,h)}})}function xn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(sr(T.type)){At=T.stateNode,wn=!1;break e}break;case 5:At=T.stateNode,wn=!1;break e;case 3:case 4:At=T.stateNode.containerInfo,wn=!0;break e}T=T.return}if(At===null)throw Error(a(160));Oy(f,g,h),At=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var gi=null;function ky(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(n,t),Rn(t),l&4&&(Js(3,t,t.return),go(3,t),Js(5,t,t.return));break;case 1:xn(n,t),Rn(t),l&512&&(qt||r===null||Bi(r,r.return)),l&64&&fs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=gi;if(xn(n,t),Rn(t),l&512&&(qt||r===null||Bi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),un(f,l,r),f[jt]=t,Lt(f),l=f;break e;case"link":var g=k0("link","href",h).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),un(f,l,r),h.head.appendChild(f);break;case"meta":if(g=k0("meta","content",h).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(l),un(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[jt]=t,Lt(f),l=f}t.stateNode=l}else U0(h,t.type,t.stateNode);else t.stateNode=V0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?U0(h,t.type,t.stateNode):V0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&td(t,t.memoizedProps,r.memoizedProps)}break;case 27:xn(n,t),Rn(t),l&512&&(qt||r===null||Bi(r,r.return)),r!==null&&l&4&&td(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xn(n,t),Rn(t),l&512&&(qt||r===null||Bi(r,r.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(me){ft(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,r!==null?r.memoizedProps:h)),l&1024&&(sd=!0);break;case 6:if(xn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(me){ft(t,t.return,me)}}break;case 3:if(Cc=null,h=gi,gi=Rc(n.containerInfo),xn(n,t),gi=h,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(me){ft(t,t.return,me)}sd&&(sd=!1,Uy(t));break;case 4:l=gi,gi=Rc(t.stateNode.containerInfo),xn(n,t),Rn(t),gi=l;break;case 12:xn(n,t),Rn(t);break;case 31:xn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:xn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(pc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=fs,Y=qt;if(fs=P||h,qt=Y||R,xn(n,t),qt=Y,fs=P,Rn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||fs||qt||sa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(me){ft(R,R.return,me)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(me){ft(R,R.return,me)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?w0(q,!0):w0(R.stateNode,!1)}catch(me){ft(R,R.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,dc(t,r))));break;case 19:xn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:xn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ry(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=nd(t);fc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(An(g,""),r.flags&=-33);var T=nd(t);fc(t,T,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=nd(t);id(t,P,R);break;default:throw Error(a(161))}}catch(Y){ft(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ms(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(t,n.alternate,n),n=n.sibling}function sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Js(4,n,n.return),sa(n);break;case 1:Bi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&wy(n,n.return,r),sa(n);break;case 27:xo(n.stateNode);case 26:case 5:Bi(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}t=t.sibling}}function ps(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,r),go(4,f);break;case 1:if(ps(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){ft(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)dg(R[h],T)}catch(P){ft(l,l.return,P)}}r&&g&64&&Ay(f),yo(f,f.return);break;case 27:Iy(f);case 26:case 5:ps(h,f,r),r&&l===null&&g&4&&xy(f),yo(f,f.return);break;case 12:ps(h,f,r);break;case 31:ps(h,f,r),r&&g&4&&My(h,f);break;case 13:ps(h,f,r),r&&g&4&&Vy(h,f);break;case 22:f.memoizedState===null&&ps(h,f,r),yo(f,f.return);break;case 30:break;default:ps(h,f,r)}n=n.sibling}}function rd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&no(r))}function ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t))}function yi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jy(t,n,r,l),n=n.sibling}function jy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:yi(t,n,r,l),h&2048&&go(9,n);break;case 1:yi(t,n,r,l);break;case 3:yi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t)));break;case 12:if(h&2048){yi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){ft(n,n.return,R)}}else yi(t,n,r,l);break;case 31:yi(t,n,r,l);break;case 13:yi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?yi(t,n,r,l):_o(t,n):f._visibility&2?yi(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&rd(g,n);break;case 24:yi(t,n,r,l),h&2048&&ad(n.alternate,n);break;default:yi(t,n,r,l)}}function Ka(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ka(f,g,T,R,h),go(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Ka(f,g,T,R,h):_o(f,g):(Y._visibility|=2,Ka(f,g,T,R,h)),h&&P&2048&&rd(g.alternate,g);break;case 24:Ka(f,g,T,R,h),h&&P&2048&&ad(g.alternate,g);break;default:Ka(f,g,T,R,h)}n=n.sibling}}function _o(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:_o(r,l),h&2048&&rd(l.alternate,l);break;case 24:_o(r,l),h&2048&&ad(l.alternate,l);break;default:_o(r,l)}n=n.sibling}}var vo=8192;function Qa(t,n,r){if(t.subtreeFlags&vo)for(t=t.child;t!==null;)Ly(t,n,r),t=t.sibling}function Ly(t,n,r){switch(t.tag){case 26:Qa(t,n,r),t.flags&vo&&t.memoizedState!==null&&kb(r,gi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,r);break;case 3:case 4:var l=gi;gi=Rc(t.stateNode.containerInfo),Qa(t,n,r),gi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vo,vo=16777216,Qa(t,n,r),vo=l):Qa(t,n,r));break;default:Qa(t,n,r)}}function Py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tn=l,By(l,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:Eo(t),t.flags&2048&&Js(9,t,t.return);break;case 3:Eo(t);break;case 12:Eo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mc(t)):Eo(t);break;default:Eo(t)}}function mc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tn=l,By(l,t)}Py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Js(8,n,n.return),mc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,mc(n));break;default:mc(n)}t=t.sibling}}function By(t,n){for(;tn!==null;){var r=tn;switch(r.tag){case 0:case 11:case 15:Js(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:no(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,tn=l;else e:for(r=t;tn!==null;){l=tn;var h=l.sibling,f=l.return;if(Dy(l),l===r){tn=null;break e}if(h!==null){h.return=f,tn=h;break e}tn=f}}}var $T={getCacheForType:function(t){var n=ln(zt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return ln(zt).controller.signal}},JT=typeof WeakMap=="function"?WeakMap:Map,rt=0,_t=null,Be=null,Fe=0,ht=0,zn=null,Zs=!1,Xa=!1,ld=!1,gs=0,Dt=0,Ws=0,ra=0,od=0,Bn=0,$a=0,To=null,In=null,ud=!1,pc=0,Hy=0,gc=1/0,yc=null,er=null,Xt=0,tr=null,Ja=null,ys=0,cd=0,hd=null,qy=null,bo=0,fd=null;function Hn(){return(rt&2)!==0&&Fe!==0?Fe&-Fe:F.T!==null?_d():_u()}function Gy(){if(Bn===0)if((Fe&536870912)===0||Ze){var t=Le;Le<<=1,(Le&3932160)===0&&(Le=262144),Bn=t}else Bn=536870912;return t=Ln.current,t!==null&&(t.flags|=32),Bn}function Cn(t,n,r){(t===_t&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(Za(t,0),nr(t,Fe,Bn,!1)),li(t,r),((rt&2)===0||t!==_t)&&(t===_t&&((rt&2)===0&&(ra|=r),Dt===4&&nr(t,Fe,Bn,!1)),Hi(t))}function Fy(t,n,r){if((rt&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ye(t,n),h=l?eb(t,n):md(t,n,!0),f=l;do{if(h===0){Xa&&!l&&nr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!ZT(r)){h=md(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=To;var R=T.current.memoizedState.isDehydrated;if(R&&(Za(T,g).flags|=256),g=md(T,g,!1),g!==2){if(ld&&!R){T.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),nr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,Bn,!Zs);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=pc+300-sn(),10<h)){if(nr(l,n,Bn,!Zs),G(l,0,!0)!==0)break e;ys=n,l.timeoutHandle=b0(Yy.bind(null,l,r,In,yc,ud,n,Bn,ra,$a,Zs,f,"Throttled",-0,0),h);break e}Yy(l,r,In,yc,ud,n,Bn,ra,$a,Zs,f,null,-0,0)}}break}while(!0);Hi(t)}function Yy(t,n,r,l,h,f,g,T,R,P,Y,$,z,q){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Ly(n,f,$);var me=(f&62914560)===f?pc-sn():(f&4194048)===f?Hy-sn():0;if(me=Ub($,me),me!==null){ys=f,t.cancelPendingCommit=me(e0.bind(null,t,n,f,r,l,h,g,T,R,Y,$,null,z,q)),nr(t,f,g,!P);return}}e0(t,n,f,r,l,h,g,T,R)}function ZT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,r,l){n&=~od,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ee(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&Vr(t,r,n)}function _c(){return(rt&6)===0?(So(0),!1):!0}function dd(){if(Be!==null){if(ht===0)var t=Be.return;else t=Be,as=$r=null,Cf(t),Ha=null,so=0,t=Be;for(;t!==null;)Sy(t.alternate,t),t=t.return;Be=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,_b(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ys=0,dd(),_t=t,Be=r=ss(t.current,null),Fe=n,ht=0,zn=null,Zs=!1,Xa=ye(t,n),ld=!1,$a=Bn=od=ra=Ws=Dt=0,In=To=null,ud=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ee(l),f=1<<h;n|=t[h],l&=~f}return gs=n,Pu(),r}function Ky(t,n){je=null,F.H=fo,n===Ba||n===Ku?(n=ug(),ht=3):n===yf?(n=ug(),ht=4):ht=n===Ff?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,Be===null&&(Dt=1,lc(t,$n(n,t.current)))}function Qy(){var t=Ln.current;return t===null?!0:(Fe&4194048)===Fe?ei===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===ei:!1}function Xy(){var t=F.H;return F.H=fo,t===null?fo:t}function $y(){var t=F.A;return F.A=$T,t}function vc(){Dt=4,Zs||(Fe&4194048)!==Fe&&Ln.current!==null||(Xa=!0),(Ws&134217727)===0&&(ra&134217727)===0||_t===null||nr(_t,Fe,Bn,!1)}function md(t,n,r){var l=rt;rt|=2;var h=Xy(),f=$y();(_t!==t||Fe!==n)&&(yc=null,Za(t,n)),n=!1;var g=Dt;e:do try{if(ht!==0&&Be!==null){var T=Be,R=zn;switch(ht){case 8:dd(),g=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var P=ht;if(ht=0,zn=null,Wa(t,T,R,P),r&&Xa){g=0;break e}break;default:P=ht,ht=0,zn=null,Wa(t,T,R,P)}}WT(),g=Dt;break}catch(Y){Ky(t,Y)}while(!0);return n&&t.shellSuspendCounter++,as=$r=null,rt=l,F.H=h,F.A=f,Be===null&&(_t=null,Fe=0,Pu()),g}function WT(){for(;Be!==null;)Jy(Be)}function eb(t,n){var r=rt;rt|=2;var l=Xy(),h=$y();_t!==t||Fe!==n?(yc=null,gc=sn()+500,Za(t,n)):Xa=ye(t,n);e:do try{if(ht!==0&&Be!==null){n=Be;var f=zn;t:switch(ht){case 1:ht=0,zn=null,Wa(t,n,f,1);break;case 2:case 9:if(lg(f)){ht=0,zn=null,Zy(n);break}n=function(){ht!==2&&ht!==9||_t!==t||(ht=7),Hi(t)},f.then(n,n);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:lg(f)?(ht=0,zn=null,Zy(n)):(ht=0,zn=null,Wa(t,n,f,7));break;case 5:var g=null;switch(Be.tag){case 26:g=Be.memoizedState;case 5:case 27:var T=Be;if(g?j0(g):T.stateNode.complete){ht=0,zn=null;var R=T.sibling;if(R!==null)Be=R;else{var P=T.return;P!==null?(Be=P,Ec(P)):Be=null}break t}}ht=0,zn=null,Wa(t,n,f,5);break;case 6:ht=0,zn=null,Wa(t,n,f,6);break;case 8:dd(),Dt=6;break e;default:throw Error(a(462))}}tb();break}catch(Y){Ky(t,Y)}while(!0);return as=$r=null,F.H=l,F.A=h,rt=r,Be!==null?0:(_t=null,Fe=0,Pu(),Dt)}function tb(){for(;Be!==null&&!Ol();)Jy(Be)}function Jy(t){var n=Ty(t.alternate,t,gs);t.memoizedProps=t.pendingProps,n===null?Ec(t):Be=n}function Zy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=py(r,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=py(r,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:Cf(n);default:Sy(r,n),n=Be=$p(n,gs),n=Ty(r,n,gs)}t.memoizedProps=t.pendingProps,n===null?Ec(t):Be=n}function Wa(t,n,r,l){as=$r=null,Cf(n),Ha=null,so=0;var h=n.return;try{if(qT(t,h,n,r,Fe)){Dt=1,lc(t,$n(r,t.current)),Be=null;return}}catch(f){if(h!==null)throw Be=h,f;Dt=1,lc(t,$n(r,t.current)),Be=null;return}n.flags&32768?(Ze||l===1?t=!0:Xa||(Fe&536870912)!==0?t=!1:(Zs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wy(n,t)):Ec(n)}function Ec(t){var n=t;do{if((n.flags&32768)!==0){Wy(n,Zs);return}t=n.return;var r=YT(n.alternate,n,gs);if(r!==null){Be=r;return}if(n=n.sibling,n!==null){Be=n;return}Be=n=t}while(n!==null);Dt===0&&(Dt=5)}function Wy(t,n){do{var r=KT(t.alternate,t);if(r!==null){r.flags&=32767,Be=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Be=t;return}Be=t=r}while(t!==null);Dt=6,Be=null}function e0(t,n,r,l,h,f,g,T,R){t.cancelPendingCommit=null;do Tc();while(Xt!==0);if((rt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=tf,Yh(t,r,f,g,T,R),t===_t&&(Be=_t=null,Fe=0),Ja=n,tr=t,ys=r,cd=f,hd=h,qy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rb(wi,function(){return r0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=le.p,le.p=2,g=rt,rt|=4;try{QT(t,n,r)}finally{rt=g,le.p=h,F.T=l}}Xt=1,t0(),n0(),i0()}}function t0(){if(Xt===1){Xt=0;var t=tr,n=Ja,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=le.p;le.p=2;var h=rt;rt|=4;try{ky(n,t);var f=xd,g=Bp(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&zp(T.ownerDocument.documentElement,T)){if(R!==null&&$h(T)){var P=R.start,Y=R.end;if(Y===void 0&&(Y=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var q=z.getSelection(),me=T.textContent.length,Se=Math.min(R.start,me),gt=R.end===void 0?Se:Math.min(R.end,me);!q.extend&&Se>gt&&(g=gt,gt=Se,Se=g);var k=Pp(T,Se),D=Pp(T,gt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=$.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),Se>gt?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Q=$[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Mc=!!wd,xd=wd=null}finally{rt=h,le.p=l,F.T=r}}t.current=n,Xt=2}}function n0(){if(Xt===2){Xt=0;var t=tr,n=Ja,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=le.p;le.p=2;var h=rt;rt|=4;try{Ny(t,n.alternate,n)}finally{rt=h,le.p=l,F.T=r}}Xt=3}}function i0(){if(Xt===4||Xt===3){Xt=0,Ai();var t=tr,n=Ja,r=ys,l=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,Ja=tr=null,s0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(er=null),es(r),n=n.stateNode,W&&typeof W.onCommitFiberRoot=="function")try{W.onCommitFiberRoot(B,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=le.p,le.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{F.T=n,le.p=h}}(ys&3)!==0&&Tc(),Hi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===fd?bo++:(bo=0,fd=t):bo=0,So(0)}}function s0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,no(n)))}function Tc(){return t0(),n0(),i0(),r0()}function r0(){if(Xt!==5)return!1;var t=tr,n=cd;cd=0;var r=es(ys),l=F.T,h=le.p;try{le.p=32>r?32:r,F.T=null,r=hd,hd=null;var f=tr,g=ys;if(Xt=0,Ja=tr=null,ys=0,(rt&6)!==0)throw Error(a(331));var T=rt;if(rt|=4,zy(f.current),jy(f,f.current,g,r),rt=T,So(0,!1),W&&typeof W.onPostCommitFiberRoot=="function")try{W.onPostCommitFiberRoot(B,f)}catch{}return!0}finally{le.p=h,F.T=l,s0(t,n)}}function a0(t,n,r){n=$n(r,n),n=Gf(t.stateNode,n,2),t=Qs(t,n,2),t!==null&&(li(t,2),Hi(t))}function ft(t,n,r){if(t.tag===3)a0(t,t,r);else for(;n!==null;){if(n.tag===3){a0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=$n(r,t),r=ly(2),l=Qs(n,r,2),l!==null&&(oy(r,l,n,t),li(l,2),Hi(l));break}}n=n.return}}function pd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new JT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(ld=!0,h.add(r),t=nb.bind(null,t,n,r),n.then(t,t))}function nb(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,_t===t&&(Fe&r)===r&&(Dt===4||Dt===3&&(Fe&62914560)===Fe&&300>sn()-pc?(rt&2)===0&&Za(t,0):od|=r,$a===Fe&&($a=0)),Hi(t)}function l0(t,n){n===0&&(n=ut()),t=Kr(t,n),t!==null&&(li(t,n),Hi(t))}function ib(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),l0(t,r)}function sb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),l0(t,r)}function rb(t,n){return Ct(t,n)}var bc=null,el=null,gd=!1,Sc=!1,yd=!1,ir=0;function Hi(t){t!==el&&t.next===null&&(el===null?bc=el=t:el=el.next=t),Sc=!0,gd||(gd=!0,lb())}function So(t,n){if(!yd&&Sc){yd=!0;do for(var r=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ee(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,h0(l,f))}else f=Fe,f=G(l,l===_t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ye(l,f)||(r=!0,h0(l,f));l=l.next}while(r);yd=!1}}function ab(){o0()}function o0(){Sc=gd=!1;var t=0;ir!==0&&yb()&&(t=ir);for(var n=sn(),r=null,l=bc;l!==null;){var h=l.next,f=u0(l,n);f===0?(l.next=null,r===null?bc=h:r.next=h,h===null&&(el=r)):(r=l,(t!==0||(f&3)!==0)&&(Sc=!0)),l=h}Xt!==0&&Xt!==5||So(t),ir!==0&&(ir=0)}function u0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ee(f),T=1<<g,R=h[g];R===-1?((T&r)===0||(T&l)!==0)&&(h[g]=Ie(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=_t,r=Fe,r=G(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Si(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ye(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Si(l),es(r)){case 2:case 8:r=Os;break;case 32:r=wi;break;case 268435456:r=_a;break;default:r=wi}return l=c0.bind(null,t),r=Ct(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Si(l),t.callbackPriority=2,t.callbackNode=null,2}function c0(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Tc()&&t.callbackNode!==r)return null;var l=Fe;return l=G(t,t===_t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Fy(t,l,n),u0(t,sn()),t.callbackNode!=null&&t.callbackNode===r?c0.bind(null,t):null)}function h0(t,n){if(Tc())return null;Fy(t,n,!0)}function lb(){vb(function(){(rt&6)!==0?Ct(Wi,ab):o0()})}function _d(){if(ir===0){var t=Pa;t===0&&(t=pe,pe<<=1,(pe&261888)===0&&(pe=256)),ir=t}return ir}function f0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function d0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ob(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=f0((h[Wt]||null).action),g=l.submitter;g&&(n=(n=g[Wt]||null)?f0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new ki("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var R=g?d0(h,g):new FormData(h);Lf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?d0(h,g):new FormData(h),Lf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var vd=0;vd<ef.length;vd++){var Ed=ef[vd],ub=Ed.toLowerCase(),cb=Ed[0].toUpperCase()+Ed.slice(1);pi(ub,"on"+cb)}pi(Gp,"onAnimationEnd"),pi(Fp,"onAnimationIteration"),pi(Yp,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(xT,"onTransitionRun"),pi(RT,"onTransitionStart"),pi(IT,"onTransitionCancel"),pi(Kp,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ao));function m0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Y){Lu(Y)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Y){Lu(Y)}h.currentTarget=null,f=R}}}}function He(t,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var l=t+"__bubble";r.has(l)||(p0(n,t,2,!1),r.add(l))}function Td(t,n,r){var l=0;n&&(l|=4),p0(r,t,l,n)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[Ac]){t[Ac]=!0,kl.forEach(function(r){r!=="selectionchange"&&(hb.has(r)||Td(r,!1,t),Td(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ac]||(n[Ac]=!0,Td("selectionchange",!1,n))}}function p0(t,n,r,l){switch(G0(n)){case 2:var h=Pb;break;case 8:h=zb;break;default:h=jd}r=h.bind(null,n,r,t),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Sd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ii(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue e}T=T.parentNode}}l=l.return}Ls(function(){var P=f,Y=Yn(r),$=[];e:{var z=Qp.get(t);if(z!==void 0){var q=ki,me=t;switch(t){case"keypress":if(Br(r)===0)break e;case"keydown":case"keyup":q=ku;break;case"focusin":me="focus",q=qr;break;case"focusout":me="blur",q=qr;break;case"beforeblur":case"afterblur":q=qr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Gp:case Fp:case Yp:q=Iu;break;case Kp:q=b;break;case"scroll":case"scrollend":q=Kl;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=is;break;case"toggle":case"beforetoggle":q=Ue}var Se=(n&4)!==0,gt=!Se&&(t==="scroll"||t==="scrollend"),k=Se?z!==null?z+"Capture":null:z;Se=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=hi(D,k),Q!=null&&Se.push(wo(D,Q,L))),gt)break;D=D.return}0<Se.length&&(z=new q(z,me,null,r,Y),$.push({event:z,listeners:Se}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Gl&&(me=r.relatedTarget||r.fromElement)&&(Ii(me)||me[xi]))break e;if((q||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,q?(me=r.relatedTarget||r.toElement,q=P,me=me?Ii(me):null,me!==null&&(gt=c(me),Se=me.tag,me!==gt||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(q=null,me=P),q!==me)){if(Se=Ql,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Se=is,Q="onPointerLeave",k="onPointerEnter",D="pointer"),gt=q==null?z:Vn(q),L=me==null?z:Vn(me),z=new Se(Q,D+"leave",q,r,Y),z.target=gt,z.relatedTarget=L,Q=null,Ii(Y)===P&&(Se=new Se(k,D+"enter",me,r,Y),Se.target=L,Se.relatedTarget=gt,Q=Se),gt=Q,q&&me)t:{for(Se=fb,k=q,D=me,L=0,Q=k;Q;Q=Se(Q))L++;Q=0;for(var Ee=D;Ee;Ee=Se(Ee))Q++;for(;0<L-Q;)k=Se(k),L--;for(;0<Q-L;)D=Se(D),Q--;for(;L--;){if(k===D||D!==null&&k===D.alternate){Se=k;break t}k=Se(k),D=Se(D)}Se=null}else Se=null;q!==null&&g0($,z,q,Se,!1),me!==null&&gt!==null&&g0($,gt,me,Se,!0)}}e:{if(z=P?Vn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var nt=Mp;else if(Dp(z))if(Vp)nt=ST;else{nt=TT;var ge=ET}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Sa(P.elementType)&&(nt=Mp):nt=bT;if(nt&&(nt=nt(t,P))){Op($,nt,r,Y);break e}ge&&ge(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Bl(z,"number",z.value)}switch(ge=P?Vn(P):window,t){case"focusin":(Dp(ge)||ge.contentEditable==="true")&&(Da=ge,Jh=P,Wl=null);break;case"focusout":Wl=Jh=Da=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Hp($,r,Y);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":Hp($,r,Y)}var Pe;if(st)e:{switch(t){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Na?Gr(t,r)&&(Ye="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ye="onCompositionStart");Ye&&(Li&&r.locale!=="ko"&&(Na||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Na&&(Pe=Yl()):(Vi=Y,Fl="value"in Vi?Vi.value:Vi.textContent,Na=!0)),ge=wc(P,Ye),0<ge.length&&(Ye=new ji(Ye,t,null,r,Y),$.push({event:Ye,listeners:ge}),Pe?Ye.data=Pe:(Pe=Ca(r),Pe!==null&&(Ye.data=Pe)))),(Pe=Qn?gT(t,r):yT(t,r))&&(Ye=wc(P,"onBeforeInput"),0<Ye.length&&(ge=new ji("onBeforeInput","beforeinput",null,r,Y),$.push({event:ge,listeners:Ye}),ge.data=Pe)),ob($,t,P,r,Y)}m0($,n)})}function wo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function wc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hi(t,r),h!=null&&l.unshift(wo(t,h,f)),h=hi(t,n),h!=null&&l.push(wo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function fb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g0(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=hi(r,f),P!=null&&g.unshift(wo(r,P,R))):h||(P=hi(r,f),P!=null&&g.push(wo(r,P,R)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var db=/\r\n?/g,mb=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(db,`
`).replace(mb,"")}function _0(t,n){return n=y0(n),y0(t)===n}function pt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":ql(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&pt(t,n,"name",h.name,h,null),pt(t,n,"formEncType",h.formEncType,h,null),pt(t,n,"formMethod",h.formMethod,h,null),pt(t,n,"formTarget",h.formTarget,h,null)):(pt(t,n,"encType",h.encType,h,null),pt(t,n,"method",h.method,h,null),pt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ci);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":He("beforetoggle",t),He("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=wu.get(r)||r,Ta(t,r,l))}}function Ad(t,n,r,l,h,f){switch(r){case"style":ql(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Wt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ta(t,r,l)}}}function un(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pt(t,n,f,g,r,null)}}h&&pt(t,n,"srcSet",r.srcSet,r,null),l&&pt(t,n,"src",r.src,r,null);return;case"input":He("invalid",t);var T=f=g=h=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":g=Y;break;case"checked":R=Y;break;case"defaultChecked":P=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:pt(t,n,l,Y,r,null)}}bu(t,f,T,R,P,g,h,!1);return;case"select":He("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:pt(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Vs(t,!!l,n,!1):r!=null&&Vs(t,!!l,r,!0);return;case"textarea":He("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:pt(t,n,g,T,r,null)}ks(t,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":pt(t,n,R,l,r,null));return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(l=0;l<Ao.length;l++)He(Ao[l],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pt(t,n,P,l,r,null)}return;default:if(Sa(n)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&Ad(t,n,Y,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&pt(t,n,T,l,r,null))}function pb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,Y=null;for(q in r){var $=r[q];if(r.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(q)||pt(t,n,q,null,l,$)}}for(var z in l){var q=l[z];if($=r[z],l.hasOwnProperty(z)&&(q!=null||$!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":Y=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==$&&pt(t,n,z,q,l,$)}}ba(t,g,T,R,P,Y,f,h);return;case"select":q=g=T=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||pt(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&pt(t,n,h,f,l,R)}n=T,r=g,l=q,z!=null?Vs(t,!!r,z,!1):!!l!=!!r&&(n!=null?Vs(t,!!r,n,!0):Vs(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:pt(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&pt(t,n,g,h,l,f)}Su(t,z,q);return;case"option":for(var me in r)z=r[me],r.hasOwnProperty(me)&&z!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:pt(t,n,me,null,l,z));for(R in l)z=l[R],q=r[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":pt(t,n,R,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in r)z=r[Se],r.hasOwnProperty(Se)&&z!=null&&!l.hasOwnProperty(Se)&&pt(t,n,Se,null,l,z);for(P in l)if(z=l[P],q=r[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:pt(t,n,P,z,l,q)}return;default:if(Sa(n)){for(var gt in r)z=r[gt],r.hasOwnProperty(gt)&&z!==void 0&&!l.hasOwnProperty(gt)&&Ad(t,n,gt,void 0,l,z);for(Y in l)z=l[Y],q=r[Y],!l.hasOwnProperty(Y)||z===q||z===void 0&&q===void 0||Ad(t,n,Y,z,l,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&pt(t,n,k,null,l,z);for($ in l)z=l[$],q=r[$],!l.hasOwnProperty($)||z===q||z==null&&q==null||pt(t,n,$,z,l,q)}function v0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&v0(g)){for(g=0,T=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],P=R.startTime;if(P>T)break;var Y=R.transferSize,$=R.initiatorType;Y&&v0($)&&(R=R.responseEnd,g+=Y*(R<T?1:(T-P)/(R-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wd=null,xd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function E0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Id=null;function yb(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(t){return S0.resolve(null).then(t).catch(Eb)}:b0;function Eb(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function A0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")xo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,xo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&xo(t.ownerDocument.body);r=h}while(r);sl(n)}function w0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Cd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Cd(r),Ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Tb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function bb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ti(t.nextSibling),t===null))return null;return t}function x0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$?"||t.data==="$~"}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Sb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Od=null;function R0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ti(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function I0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function C0(t,n,r){switch(n=xc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var ni=new Map,N0=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _s=le.d;le.d={f:Ab,r:wb,D:xb,C:Rb,L:Ib,m:Cb,X:Db,S:Nb,M:Ob};function Ab(){var t=_s.f(),n=_c();return t||n}function wb(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Kg(n):_s.r(t)}var tl=typeof document>"u"?null:document;function D0(t,n,r){var l=tl;if(l&&typeof n=="string"&&n){var h=Sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),N0.has(h)||(N0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),un(n,"link",t),Lt(n),l.head.appendChild(n)))}}function xb(t){_s.D(t),D0("dns-prefetch",t,null)}function Rb(t,n){_s.C(t,n),D0("preconnect",t,n)}function Ib(t,n,r){_s.L(t,n,r);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Sn(r.imageSizes)+'"]')):h+='[href="'+Sn(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}ni.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ni.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ro(f))||n==="script"&&l.querySelector(Io(f))||(n=l.createElement("link"),un(n,"link",t),Lt(n),l.head.appendChild(n)))}}function Cb(t,n){_s.m(t,n);var r=tl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ni.has(f)&&(t=w({rel:"modulepreload",href:t},n),ni.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Io(f)))return}l=r.createElement("link"),un(l,"link",t),Lt(l),r.head.appendChild(l)}}}function Nb(t,n,r){_s.S(t,n,r);var l=tl;if(l&&t){var h=Ci(l).hoistableStyles,f=nl(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Ro(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ni.get(f))&&Md(t,r);var R=g=l.createElement("link");Lt(R),un(R,"link",t),R._p=new Promise(function(P,Y){R.onload=P,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function Db(t,n){_s.X(t,n);var r=tl;if(r&&t){var l=Ci(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Io(h)),f||(t=w({src:t,async:!0},n),(n=ni.get(h))&&Vd(t,n),f=r.createElement("script"),Lt(f),un(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ob(t,n){_s.M(t,n);var r=tl;if(r&&t){var l=Ci(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Io(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&Vd(t,n),f=r.createElement("script"),Lt(f),un(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function O0(t,n,r,l){var h=(h=De.current)?Rc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nl(r.href),r=Ci(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=nl(r.href);var f=Ci(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ro(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ni.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ni.set(t,r),f||Mb(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=Ci(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+Sn(t)+'"'}function Ro(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Mb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),un(n,"link",r),Lt(n),t.head.appendChild(n))}function il(t){return'[src="'+Sn(t)+'"]'}function Io(t){return"script[async]"+t}function V0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Sn(r.href)+'"]');if(l)return n.instance=l,Lt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),un(l,"style",h),Ic(l,r.precedence,t),n.instance=l;case"stylesheet":h=nl(r.href);var f=t.querySelector(Ro(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;l=M0(r),(h=ni.get(h))&&Md(l,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),un(f,"link",l),n.state.loading|=4,Ic(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(h=t.querySelector(Io(f)))?(n.instance=h,Lt(h),h):(l=r,(h=ni.get(f))&&(l=w({},r),Vd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),un(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ic(l,r.precedence,t));return n.instance}function Ic(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cc=null;function k0(t,n,r){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(r,l)}else h=Cc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ri]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function U0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Vb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function j0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=nl(l.href),f=n.querySelector(Ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Nc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Lt(f);return}f=n.ownerDocument||n,l=M0(l),(h=ni.get(h))&&Md(l,h),f=f.createElement("link"),Lt(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),un(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Nc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var kd=0;function Ub(t,n){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&kd===0&&(kd=62500*gb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>kd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,n.forEach(jb,t),Dc=null,Nc.call(t))}function jb(t,n){if(!(n.state.loading&4)){var r=Dc.get(t);if(r)var l=r.get(null);else{r=new Map,Dc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Co={$$typeof:xe,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Lb(t,n,r,l,h,f,g,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.hiddenUpdates=Ot(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function L0(t,n,r,l,h,f,g,T,R,P,Y,$){return t=new Lb(t,n,r,g,R,P,Y,$,T),n=1,f===!0&&(n|=24),f=jn(3,null,null,n),t.current=f,f.stateNode=t,n=mf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},_f(f),t}function P0(t){return t?(t=Va,t):Va}function z0(t,n,r,l,h,f){h=P0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ks(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Qs(t,l,n),r!==null&&(Cn(r,t,n),ao(r,t,n))}function B0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ud(t,n){B0(t,n),(t=t.alternate)&&B0(t,n)}function H0(t){if(t.tag===13||t.tag===31){var n=Kr(t,67108864);n!==null&&Cn(n,t,67108864),Ud(t,67108864)}}function q0(t){if(t.tag===13||t.tag===31){var n=Hn();n=kr(n);var r=Kr(t,n);r!==null&&Cn(r,t,n),Ud(t,n)}}var Mc=!0;function Pb(t,n,r,l){var h=F.T;F.T=null;var f=le.p;try{le.p=2,jd(t,n,r,l)}finally{le.p=f,F.T=h}}function zb(t,n,r,l){var h=F.T;F.T=null;var f=le.p;try{le.p=8,jd(t,n,r,l)}finally{le.p=f,F.T=h}}function jd(t,n,r,l){if(Mc){var h=Ld(l);if(h===null)Sd(t,n,l,Vc,r),F0(t,l);else if(Hb(h,t,n,r,l))l.stopPropagation();else if(F0(t,l),n&4&&-1<Bb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=de(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-ee(g);T.entanglements[1]|=R,g&=~R}Hi(f),(rt&6)===0&&(gc=sn()+500,So(0))}}break;case 31:case 13:T=Kr(f,2),T!==null&&Cn(T,f,2),_c(),Ud(f,2)}if(f=Ld(l),f===null&&Sd(t,n,l,Vc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Sd(t,n,l,null,r)}}function Ld(t){return t=Yn(t),Pd(t)}var Vc=null;function Pd(t){if(Vc=null,t=Ii(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vc=t,null}function G0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case Wi:return 2;case Os:return 8;case wi:case ya:return 32;case _a:return 268435456;default:return 32}default:return 32}}var zd=!1,rr=null,ar=null,lr=null,No=new Map,Do=new Map,or=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":No.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(n.pointerId)}}function Oo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&H0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Hb(t,n,r,l,h){switch(n){case"focusin":return rr=Oo(rr,t,n,r,l,h),!0;case"dragenter":return ar=Oo(ar,t,n,r,l,h),!0;case"mouseover":return lr=Oo(lr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return No.set(f,Oo(No.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Do.set(f,Oo(Do.get(f)||null,t,n,r,l,h)),!0}return!1}function Y0(t){var n=Ii(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,oi(t.priority,function(){q0(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,oi(t.priority,function(){q0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ld(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Gl=l,r.target.dispatchEvent(l),Gl=null}else return n=Fn(r),n!==null&&H0(n),t.blockedOn=r,!1;n.shift()}return!0}function K0(t,n,r){kc(t)&&r.delete(n)}function qb(){zd=!1,rr!==null&&kc(rr)&&(rr=null),ar!==null&&kc(ar)&&(ar=null),lr!==null&&kc(lr)&&(lr=null),No.forEach(K0),Do.forEach(K0)}function Uc(t,n){t.blockedOn===n&&(t.blockedOn=null,zd||(zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qb)))}var jc=null;function Q0(t){jc!==t&&(jc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Pd(l||r)===null)continue;break}var f=Fn(r);f!==null&&(t.splice(n,3),n-=3,Lf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function sl(t){function n(R){return Uc(R,t)}rr!==null&&Uc(rr,t),ar!==null&&Uc(ar,t),lr!==null&&Uc(lr,t),No.forEach(n),Do.forEach(n);for(var r=0;r<or.length;r++){var l=or[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<or.length&&(r=or[0],r.blockedOn===null);)Y0(r),r.blockedOn===null&&or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Wt]||null;if(typeof f=="function")g||Q0(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Wt]||null)T=g.formAction;else if(Pd(h)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Q0(r)}}}function X0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}Lc.prototype.render=Bd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Hn();z0(r,l,t,n,null,null)},Lc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;z0(t.current,2,null,t,null,null),_c(),n[xi]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var n=_u();t={blockedOn:null,target:t,priority:n};for(var r=0;r<or.length&&n!==0&&n<or[r].priority;r++);or.splice(r,0,t),r===0&&Y0(t)}};var $0=e.version;if($0!=="19.2.3")throw Error(a(527,$0,"19.2.3"));le.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Gb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{B=Pc.inject(Gb),W=Pc}catch{}}return Vo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=iy,f=sy,g=ry;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=L0(t,1,!1,null,null,r,l,null,h,f,g,X0),t[xi]=n.current,bd(t),new Bd(n)},Vo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=iy,g=sy,T=ry,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=L0(t,1,!0,n,r??null,l,h,R,f,g,T,X0),n.context=P0(null),r=n.current,l=Hn(),l=kr(l),h=Ks(l),h.callback=null,Qs(r,h,l),r=l,n.current.lanes=r,li(n,r),Hi(n),t[xi]=n.current,bd(t),new Lc(n)},Vo.version="19.2.3",Vo}var a_;function tS(){if(a_)return Gd.exports;a_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=eS(),Gd.exports}var nS=tS();const iS=()=>{};var l_={};const Pv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},sS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,p=o+2<s.length,_=p?s[o+2]:0,S=c>>2,w=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,K=_&63;p||(K=64,d||(M=64)),a.push(i[S],i[w],i[M],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Pv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):sS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||w==null)throw new rS;const M=c<<2|y>>4;if(a.push(M),_!==64){const K=y<<4&240|_>>2;if(a.push(K),w!==64){const re=_<<6&192|w;a.push(re)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aS=function(s){const e=Pv(s);return zv.encodeByteArray(e,!0)},sh=function(s){return aS(s).replace(/\./g,"")},Bv=function(s){try{return zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oS=()=>lS().__FIREBASE_DEFAULTS__,uS=()=>{if(typeof process>"u"||typeof l_>"u")return;const s=l_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},cS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Bv(s[1]);return e&&JSON.parse(e)},xh=()=>{try{return iS()||oS()||uS()||cS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Hv=s=>xh()?.emulatorHosts?.[s],hS=s=>{const e=Hv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},qv=()=>xh()?.config,Gv=s=>xh()?.[`_${s}`];class fS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function wl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fv(s){return(await fetch(s,{credentials:"include"})).ok}function dS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const zo={};function mS(){const s={prod:[],emulator:[]};for(const e of Object.keys(zo))zo[e]?s.emulator.push(e):s.prod.push(e);return s}function pS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let o_=!1;function Yv(s,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||zo[s]===e||zo[s]||o_)return;zo[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=mS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{o_=!0,d()},M}function S(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=pS(a),K=i("text"),re=document.getElementById(K)||document.createElement("span"),ue=i("learnmore"),oe=document.getElementById(ue)||document.createElement("a"),be=i("preprendIcon"),ke=document.getElementById(be)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const xe=M.element;y(xe),S(oe,ue);const at=_();p(ke,be),xe.append(ke,re,oe,at),document.body.appendChild(xe)}c?(re.innerText="Preview backend disconnected.",ke.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ke.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,re.innerText="Preview backend running in this workspace."),re.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function yS(){const s=xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ES(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){const s=_n();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function bS(){return!yS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SS(){try{return typeof indexedDB=="object"}catch{return!1}}function AS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const wS="FirebaseError";class Ds extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=wS,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?xS(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ds(o,y,a)}}function xS(s,e){return s.replace(RS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const RS=/\{\$([^}]+)}/g;function IS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Tr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(u_(c)&&u_(d)){if(!Tr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function u_(s){return s!==null&&typeof s=="object"}function ru(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function CS(s,e){const i=new NS(s,e);return i.subscribe.bind(i)}class NS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");DS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Qd(){}function bn(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class OS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new fS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VS(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:MS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MS(s){return s===aa?void 0:s}function VS(s){return s.instantiationMode==="EAGER"}class kS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new OS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qe||(Qe={}));const US={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},jS=Qe.INFO,LS={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},PS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=LS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=jS,this._logHandler=PS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?US[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const zS=(s,e)=>e.some(i=>s instanceof i);let c_,h_;function BS(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HS(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,om=new WeakMap,Qv=new WeakMap,Xd=new WeakMap,zm=new WeakMap;function qS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(gr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,s)}).catch(()=>{}),zm.set(e,s),e}function GS(s){if(om.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let um={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Qv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function FS(s){um=s(um)}function YS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($d(this),e,...i);return Qv.set(a,e.sort?e.sort():[e]),gr(a)}:HS().includes(s)?function(...e){return s.apply($d(this),e),gr(Kv.get(this))}:function(...e){return gr(s.apply($d(this),e))}}function KS(s){return typeof s=="function"?YS(s):(s instanceof IDBTransaction&&GS(s),zS(s,BS())?new Proxy(s,um):s)}function gr(s){if(s instanceof IDBRequest)return qS(s);if(Xd.has(s))return Xd.get(s);const e=KS(s);return e!==s&&(Xd.set(s,e),zm.set(e,s)),e}const $d=s=>zm.get(s);function QS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=gr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(gr(d.result),p.oldVersion,p.newVersion,gr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const XS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],Jd=new Map;function f_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=$S.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||XS.includes(i)))return;const c=async function(d,...y){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&p.done]))[0]};return Jd.set(e,c),c}FS(s=>({...s,get:(e,i,a)=>f_(e,i)||s.get(e,i,a),has:(e,i)=>!!f_(e,i)||s.has(e,i)}));class JS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ZS(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",d_="0.14.7";const ws=new Pm("@firebase/app"),WS="@firebase/app-compat",eA="@firebase/analytics-compat",tA="@firebase/analytics",nA="@firebase/app-check-compat",iA="@firebase/app-check",sA="@firebase/auth",rA="@firebase/auth-compat",aA="@firebase/database",lA="@firebase/data-connect",oA="@firebase/database-compat",uA="@firebase/functions",cA="@firebase/functions-compat",hA="@firebase/installations",fA="@firebase/installations-compat",dA="@firebase/messaging",mA="@firebase/messaging-compat",pA="@firebase/performance",gA="@firebase/performance-compat",yA="@firebase/remote-config",_A="@firebase/remote-config-compat",vA="@firebase/storage",EA="@firebase/storage-compat",TA="@firebase/firestore",bA="@firebase/ai",SA="@firebase/firestore-compat",AA="firebase",wA="12.8.0";const hm="[DEFAULT]",xA={[cm]:"fire-core",[WS]:"fire-core-compat",[tA]:"fire-analytics",[eA]:"fire-analytics-compat",[iA]:"fire-app-check",[nA]:"fire-app-check-compat",[sA]:"fire-auth",[rA]:"fire-auth-compat",[aA]:"fire-rtdb",[lA]:"fire-data-connect",[oA]:"fire-rtdb-compat",[uA]:"fire-fn",[cA]:"fire-fn-compat",[hA]:"fire-iid",[fA]:"fire-iid-compat",[dA]:"fire-fcm",[mA]:"fire-fcm-compat",[pA]:"fire-perf",[gA]:"fire-perf-compat",[yA]:"fire-rc",[_A]:"fire-rc-compat",[vA]:"fire-gcs",[EA]:"fire-gcs-compat",[TA]:"fire-fst",[SA]:"fire-fst-compat",[bA]:"fire-vertex","fire-js":"fire-js",[AA]:"fire-js-all"};const rh=new Map,RA=new Map,fm=new Map;function m_(s,e){try{s.container.addComponent(e)}catch(i){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function yl(s){const e=s.name;if(fm.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,s);for(const i of rh.values())m_(i,s);for(const i of RA.values())m_(i,s);return!0}function Bm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ii(s){return s==null?!1:s.settings!==void 0}const IA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new su("app","Firebase",IA);class CA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const xl=wA;function Xv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:hm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw yr.create("bad-app-name",{appName:String(o)});if(i||(i=qv()),!i)throw yr.create("no-options");const c=rh.get(o);if(c){if(Tr(i,c.options)&&Tr(a,c.config))return c;throw yr.create("duplicate-app",{appName:o})}const d=new kS(o);for(const p of fm.values())d.addComponent(p);const y=new CA(i,a,d);return rh.set(o,y),y}function $v(s=hm){const e=rh.get(s);if(!e&&s===hm&&qv())return Xv();if(!e)throw yr.create("no-app",{appName:s});return e}function _r(s,e,i){let a=xA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(d.join(" "));return}yl(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const NA="firebase-heartbeat-database",DA=1,Yo="firebase-heartbeat-store";let Zd=null;function Jv(){return Zd||(Zd=QS(NA,DA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yo)}catch(i){console.warn(i)}}}}).catch(s=>{throw yr.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function OA(s){try{const i=(await Jv()).transaction(Yo),a=await i.objectStore(Yo).get(Zv(s));return await i.done,a}catch(e){if(e instanceof Ds)ws.warn(e.message);else{const i=yr.create("idb-get",{originalErrorMessage:e?.message});ws.warn(i.message)}}}async function p_(s,e){try{const a=(await Jv()).transaction(Yo,"readwrite");await a.objectStore(Yo).put(e,Zv(s)),await a.done}catch(i){if(i instanceof Ds)ws.warn(i.message);else{const a=yr.create("idb-set",{originalErrorMessage:i?.message});ws.warn(a.message)}}}function Zv(s){return`${s.name}!${s.options.appId}`}const MA=1024,VA=30;class kA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>VA){const o=LA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=g_(),{heartbeatsToSend:i,unsentEntries:a}=UA(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ws.warn(e),""}}}function g_(){return new Date().toISOString().substring(0,10)}function UA(s,e=MA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),y_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),y_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class jA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SS()?AS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function y_(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function LA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function PA(s){yl(new ca("platform-logger",e=>new JS(e),"PRIVATE")),yl(new ca("heartbeat",e=>new kA(e),"PRIVATE")),_r(cm,d_,s),_r(cm,d_,"esm2020"),_r("fire-js","")}PA("");var zA="firebase",BA="12.8.0";_r(zA,BA,"app");function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HA=Wv,e1=new su("auth","Firebase",Wv());const ah=new Pm("@firebase/auth");function qA(s,...e){ah.logLevel<=Qe.WARN&&ah.warn(`Auth (${xl}): ${s}`,...e)}function Qc(s,...e){ah.logLevel<=Qe.ERROR&&ah.error(`Auth (${xl}): ${s}`,...e)}function xs(s,...e){throw Hm(s,...e)}function Gi(s,...e){return Hm(s,...e)}function t1(s,e,i){const a={...HA(),[e]:i};return new su("auth","Firebase",a).create(e,{appName:s.name})}function As(s){return t1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return e1.create(s,...e)}function Ne(s,e,...i){if(!s)throw Hm(e,...i)}function bs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Qc(e),new Error(e)}function Rs(s,e){s||bs(e)}function dm(){return typeof self<"u"&&self.location?.href||""}function GA(){return __()==="http:"||__()==="https:"}function __(){return typeof self<"u"&&self.location?.protocol||null}function FA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GA()||vS()||"connection"in navigator)?navigator.onLine:!0}function YA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class au{constructor(e,i){this.shortDelay=e,this.longDelay=i,Rs(i>e,"Short delay should be less than long delay!"),this.isMobile=gS()||ES()}get(){return FA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qm(s,e){Rs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class n1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XA=new au(3e4,6e4);function lu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rl(s,e,i,a,o={}){return i1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=ru({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:p,...c};return _S()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&wl(s.emulatorConfig.host)&&(_.credentials="include"),n1.fetch()(await s1(s,s.config.apiHost,i,y),_)})}async function i1(s,e,i){s._canInitEmulator=!1;const a={...KA,...e};try{const o=new $A(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw zc(s,"user-disabled",d);const S=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw t1(s,S,_);xs(s,S)}}catch(o){if(o instanceof Ds)throw o;xs(s,"network-request-failed",{message:String(o)})}}async function Gm(s,e,i,a,o={}){const c=await Rl(s,e,i,a,o);return"mfaPendingCredential"in c&&xs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function s1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?qm(s.config,o):`${s.config.apiScheme}://${o}`;return QA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class $A{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Gi(this.auth,"network-request-failed")),XA.get())})}}function zc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Gi(s,e,a);return o.customData._tokenResponse=i,o}async function JA(s,e){return Rl(s,"POST","/v1/accounts:delete",e)}async function lh(s,e){return Rl(s,"POST","/v1/accounts:lookup",e)}function Bo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZA(s,e=!1){const i=bn(s),a=await i.getIdToken(e),o=Fm(a);Ne(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Bo(Wd(o.auth_time)),issuedAtTime:Bo(Wd(o.iat)),expirationTime:Bo(Wd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(s){return Number(s)*1e3}function Fm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bv(i);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function v_(s){const e=Fm(s);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ko(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ds&&WA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function WA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ew{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bo(this.lastLoginAt),this.creationTime=Bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(s){const e=s.auth,i=await s.getIdToken(),a=await Ko(s,lh(e,{idToken:i}));Ne(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?r1(o.providerUserInfo):[],d=nw(s.providerData,c),y=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!d?.length,_=y?p:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function tw(s){const e=bn(s);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nw(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function r1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function iw(s,e){const i=await i1(s,{},async()=>{const a=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await s1(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return s.emulatorConfig&&wl(s.emulatorConfig.host)&&(p.credentials="include"),n1.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function sw(s,e){return Rl(s,"POST","/v2/accounts:revokeToken",lu(s,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const i=v_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await iw(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new hl;return a&&(Ne(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ne(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ne(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return bs("not implemented")}}function cr(s,e){Ne(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new ew(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return Ne(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ZA(this,e)}reload(){return tw(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await Ko(this,JA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:K,providerData:re,stsTokenManager:ue}=i;Ne(w&&ue,e,"internal-error");const oe=hl.fromJSON(this.name,ue);Ne(typeof w=="string",e,"internal-error"),cr(a,e.name),cr(o,e.name),Ne(typeof M=="boolean",e,"internal-error"),Ne(typeof K=="boolean",e,"internal-error"),cr(c,e.name),cr(d,e.name),cr(y,e.name),cr(p,e.name),cr(_,e.name),cr(S,e.name);const be=new vi({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:oe,createdAt:_,lastLoginAt:S});return re&&Array.isArray(re)&&(be.providerData=re.map(ke=>({...ke}))),p&&(be._redirectEventId=p),be}static async _fromIdTokenResponse(e,i,a=!1){const o=new hl;o.updateFromServerResponse(i);const c=new vi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await oh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ne(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?r1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new hl;y.updateFromIdToken(a);const p=new vi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const E_=new Map;function Ss(s){Rs(s instanceof Function,"Expected a class definition");let e=E_.get(s);return e?(Rs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,E_.set(s,e),e)}class a1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}a1.type="NONE";const T_=a1;function Xc(s,e,i){return`firebase:${s}:${e}:${i}`}class fl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Xc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await lh(this.auth,{idToken:e}).catch(()=>{});return i?vi._fromGetAccountInfoResponse(this.auth,i,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fl(Ss(T_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Ss(T_);const d=Xc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const M=await lh(e,{idToken:S}).catch(()=>{});if(!M)break;w=await vi._fromGetAccountInfoResponse(e,M,S)}else w=vi._fromJSON(e,S);_!==c&&(y=w),c=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new fl(c,e,a):(c=p[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new fl(c,e,a))}}function b_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f1(e))return"Blackberry";if(d1(e))return"Webos";if(o1(e))return"Safari";if((e.includes("chrome/")||u1(e))&&!e.includes("edge/"))return"Chrome";if(h1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function l1(s=_n()){return/firefox\//i.test(s)}function o1(s=_n()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u1(s=_n()){return/crios\//i.test(s)}function c1(s=_n()){return/iemobile/i.test(s)}function h1(s=_n()){return/android/i.test(s)}function f1(s=_n()){return/blackberry/i.test(s)}function d1(s=_n()){return/webos/i.test(s)}function Ym(s=_n()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function rw(s=_n()){return Ym(s)&&!!window.navigator?.standalone}function aw(){return TS()&&document.documentMode===10}function m1(s=_n()){return Ym(s)||h1(s)||d1(s)||f1(s)||/windows phone/i.test(s)||c1(s)}function p1(s,e=[]){let i;switch(s){case"Browser":i=b_(_n());break;case"Worker":i=`${b_(_n())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${xl}/${a}`}class lw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const p=e(c);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ow(s,e={}){return Rl(s,"GET","/v2/passwordPolicy",lu(s,e))}const uw=6;class cw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class hw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new lw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await lh(this,{idToken:e}),a=await vi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(As(this));const i=e?bn(e):null;return i&&Ne(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ow(this),i=new cw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await sw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ss(e)||this._popupRedirectResolver;Ne(i,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[Ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ou(s){return bn(s)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=CS(i=>this.observer=i)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fw(s){Km=s}function dw(s){return Km.loadJS(s)}function mw(){return Km.gapiScript}function pw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function gw(s,e){const i=Bm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Tr(c,e??{}))return o;xs(o,"already-initialized")}return i.initialize({options:e})}function yw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ss);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function _w(s,e,i){const a=ou(s);Ne(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=g1(e),{host:d,port:y}=vw(e),p=y===null?"":`:${y}`,_={url:`${c}//${d}${p}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ne(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ne(Tr(_,a.config.emulator)&&Tr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,wl(d)?(Fv(`${c}//${d}${p}`),Yv("Auth",!0)):Ew()}function g1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function vw(s){const e=g1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:A_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:A_(d)}}}function A_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ew(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class y1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,i){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function dl(s,e){return Gm(s,"POST","/v1/accounts:signInWithIdp",lu(s,e))}const Tw="http://localhost";class ha extends y1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):xs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ha(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return dl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,dl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dl(e,i)}buildRequest(){const e={requestUri:Tw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ru(i)}return e}}class _1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uu extends _1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hr extends uu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";class fr extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return fr.credential(i,a)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";class dr extends uu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";class mr extends uu{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return mr.credential(i,a)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";async function bw(s,e){return Gm(s,"POST","/v1/accounts:signUp",lu(s,e))}class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await vi._fromIdTokenResponse(e,a,o),d=w_(a);return new Is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=w_(a);return new Is({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function w_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Sw(s){if(ii(s.app))return Promise.reject(As(s));const e=ou(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Is({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await bw(e,{returnSecureToken:!0}),a=await Is._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class uh extends Ds{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new uh(e,i,a,o)}}function v1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,a):c})}async function Aw(s,e,i=!1){const a=await Ko(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Is._forOperation(s,"link",a)}async function ww(s,e,i=!1){const{auth:a}=s;if(ii(a.app))return Promise.reject(As(a));const o="reauthenticate";try{const c=await Ko(s,v1(a,o,e,s),i);Ne(c.idToken,a,"internal-error");const d=Fm(c.idToken);Ne(d,a,"internal-error");const{sub:y}=d;return Ne(s.uid===y,a,"user-mismatch"),Is._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&xs(a,"user-mismatch"),c}}async function xw(s,e,i=!1){if(ii(s.app))return Promise.reject(As(s));const a="signIn",o=await v1(s,a,e),c=await Is._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function Rw(s,e){return Gm(s,"POST","/v1/accounts:signInWithCustomToken",lu(s,e))}async function Iw(s,e){if(ii(s.app))return Promise.reject(As(s));const i=ou(s),a=await Rw(i,{token:e,returnSecureToken:!0}),o=await Is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function Cw(s,e,i,a){return bn(s).onIdTokenChanged(e,i,a)}function Nw(s,e,i){return bn(s).beforeAuthStateChanged(e,i)}function Dw(s,e,i,a){return bn(s).onAuthStateChanged(e,i,a)}const ch="__sak";class E1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ow=1e3,Mw=10;class T1 extends E1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);aw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Mw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}T1.type="LOCAL";const Vw=T1;class b1 extends E1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}b1.type="SESSION";const S1=b1;function kw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Rh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),p=await kw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function Qm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Uw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,p)=>{const _=Qm("",20);o.port1.start();const S=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function jw(s){Fi().location.href=s}function A1(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function Lw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pw(){return navigator?.serviceWorker?.controller||null}function zw(){return A1()?self:null}const w1="firebaseLocalStorageDb",Bw=1,hh="firebaseLocalStorage",x1="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ih(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function Hw(){const s=indexedDB.deleteDatabase(w1);return new cu(s).toPromise()}function pm(){const s=indexedDB.open(w1,Bw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(hh,{keyPath:x1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(hh)?e(a):(a.close(),await Hw(),e(await pm()))})})}async function x_(s,e,i){const a=Ih(s,!0).put({[x1]:e,value:i});return new cu(a).toPromise()}async function qw(s,e){const i=Ih(s,!1).get(e),a=await new cu(i).toPromise();return a===void 0?null:a.value}function R_(s,e){const i=Ih(s,!0).delete(e);return new cu(i).toPromise()}const Gw=800,Fw=3;class R1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Fw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(zw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Lw(),!this.activeServiceWorker)return;this.sender=new Uw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await x_(e,ch,"1"),await R_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>x_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>qw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>R_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ih(o,!1).getAll();return new cu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R1.type="LOCAL";const Yw=R1;new au(3e4,6e4);function Kw(s,e){return e?Ss(e):(Ne(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Xm extends y1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Qw(s){return xw(s.auth,new Xm(s),s.bypassAuthState)}function Xw(s){const{auth:e,user:i}=s;return Ne(i,e,"internal-error"),ww(i,new Xm(s),s.bypassAuthState)}async function $w(s){const{auth:e,user:i}=s;return Ne(i,e,"internal-error"),Aw(i,new Xm(s),s.bypassAuthState)}class I1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qw;case"linkViaPopup":case"linkViaRedirect":return $w;case"reauthViaPopup":case"reauthViaRedirect":return Xw;default:xs(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jw=new au(2e3,1e4);class cl extends I1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jw.get())};e()}}cl.currentPopupAction=null;const Zw="pendingRedirect",$c=new Map;class Ww extends I1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const a=await e2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e2(s,e){const i=i2(e),a=n2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function t2(s,e){$c.set(s._key(),e)}function n2(s){return Ss(s._redirectPersistence)}function i2(s){return Xc(Zw,s.config.apiKey,s.name)}async function s2(s,e,i=!1){if(ii(s.app))return Promise.reject(As(s));const a=ou(s),o=Kw(a,e),d=await new Ww(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const r2=600*1e3;class a2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!C1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Gi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r2&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function C1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function l2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C1(s);default:return!1}}async function o2(s,e={}){return Rl(s,"GET","/v1/projects",e)}const u2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c2=/^https?/;async function h2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await o2(s);for(const i of e)try{if(f2(i))return}catch{}xs(s,"unauthorized-domain")}function f2(s){const e=dm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!c2.test(i))return!1;if(u2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const d2=new au(3e4,6e4);function C_(){const s=Fi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function m2(s){return new Promise((e,i)=>{function a(){C_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C_(),i(Gi(s,"network-request-failed"))},timeout:d2.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)a();else{const o=pw("iframefcb");return Fi()[o]=()=>{gapi.load?a():i(Gi(s,"network-request-failed"))},dw(`${mw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function p2(s){return Jc=Jc||m2(s),Jc}const g2=new au(5e3,15e3),y2="__/auth/iframe",_2="emulator/auth/iframe",v2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T2(s){const e=s.config;Ne(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?qm(e,_2):`https://${s.config.authDomain}/${y2}`,a={apiKey:e.apiKey,appName:s.name,v:xl},o=E2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ru(a).slice(1)}`}async function b2(s){const e=await p2(s),i=Fi().gapi;return Ne(i,s,"internal-error"),e.open({where:document.body,url:T2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Gi(s,"network-request-failed"),y=Fi().setTimeout(()=>{c(d)},g2.get());function p(){Fi().clearTimeout(y),o(a)}a.ping(p).then(p,()=>{c(d)})}))}const S2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A2=500,w2=600,x2="_blank",R2="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I2(s,e,i,a=A2,o=w2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const p={...S2,width:a.toString(),height:o.toString(),top:c,left:d},_=_n().toLowerCase();i&&(y=u1(_)?x2:i),l1(_)&&(e=e||R2,p.scrollbars="yes");const S=Object.entries(p).reduce((M,[K,re])=>`${M}${K}=${re},`,"");if(rw(_)&&y!=="_self")return C2(e||"",y),new N_(null);const w=window.open(e||"",y,S);Ne(w,s,"popup-blocked");try{w.focus()}catch{}return new N_(w)}function C2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const N2="__/auth/handler",D2="emulator/auth/handler",O2=encodeURIComponent("fac");async function D_(s,e,i,a,o,c){Ne(s.config.authDomain,s,"auth-domain-config-required"),Ne(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:xl,eventId:o};if(e instanceof _1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",IS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof uu){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const p=await s._getAppCheckToken(),_=p?`#${O2}=${encodeURIComponent(p)}`:"";return`${M2(s)}?${ru(y).slice(1)}${_}`}function M2({config:s}){return s.emulator?qm(s,D2):`https://${s.authDomain}/${N2}`}const em="webStorageSupport";class V2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S1,this._completeRedirectFn=s2,this._overrideRedirectResult=t2}async _openPopup(e,i,a,o){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await D_(e,i,a,dm(),o);return I2(e,c,Qm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await D_(e,i,a,dm(),o);return jw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await b2(e),a=new a2(e);return i.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(em,{type:em},o=>{const c=o?.[0]?.[em];c!==void 0&&i(!!c),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=h2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return m1()||o1()||Ym()}}const k2=V2;var O_="@firebase/auth",M_="1.12.0";class U2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L2(s){yl(new ca("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Ne(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p1(s)},_=new hw(a,o,c,p);return yw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),yl(new ca("auth-internal",e=>{const i=ou(e.getProvider("auth").getImmediate());return(a=>new U2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(O_,M_,j2(s)),_r(O_,M_,"esm2020")}const P2=300,z2=Gv("authIdTokenMaxAge")||P2;let V_=null;const B2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>z2)return;const o=i?.token;V_!==o&&(V_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function H2(s=$v()){const e=Bm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=gw(s,{popupRedirectResolver:k2,persistence:[Yw,Vw,S1]}),a=Gv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=B2(c.toString());Nw(i,d,()=>d(i.currentUser)),Cw(i,y=>d(y))}}const o=Hv("auth");return o&&_w(i,`http://${o}`),i}function q2(){return document.getElementsByTagName("head")?.[0]??document}fw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Gi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",q2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L2("Browser");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vr,N1;(function(){var s;function e(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,U){for(var x=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)x[ot-2]=arguments[ot];return A.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],x;x=A+(U^C&(N^U))+V[0]+3614090360&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(N^A&(C^N))+V[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(C^U&(A^C))+V[2]+606105819&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(A^N&(U^A))+V[3]+3250441966&4294967295,C=N+(x<<22&4294967295|x>>>10),x=A+(U^C&(N^U))+V[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(N^A&(C^N))+V[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(C^U&(A^C))+V[6]+2821735955&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(A^N&(U^A))+V[7]+4249261313&4294967295,C=N+(x<<22&4294967295|x>>>10),x=A+(U^C&(N^U))+V[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(N^A&(C^N))+V[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(C^U&(A^C))+V[10]+4294925233&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(A^N&(U^A))+V[11]+2304563134&4294967295,C=N+(x<<22&4294967295|x>>>10),x=A+(U^C&(N^U))+V[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(N^A&(C^N))+V[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(C^U&(A^C))+V[14]+2792965006&4294967295,N=U+(x<<17&4294967295|x>>>15),x=C+(A^N&(U^A))+V[15]+1236535329&4294967295,C=N+(x<<22&4294967295|x>>>10),x=A+(N^U&(C^N))+V[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(A^C))+V[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^C&(U^A))+V[11]+643717713&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(N^U))+V[0]+3921069994&4294967295,C=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(C^N))+V[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(A^C))+V[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^C&(U^A))+V[15]+3634488961&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(N^U))+V[4]+3889429448&4294967295,C=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(C^N))+V[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(A^C))+V[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^C&(U^A))+V[3]+4107603335&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(N^U))+V[8]+1163531501&4294967295,C=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(C^N))+V[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^N&(A^C))+V[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^C&(U^A))+V[7]+1735328473&4294967295,N=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(N^U))+V[12]+2368359562&4294967295,C=N+(x<<20&4294967295|x>>>12),x=A+(C^N^U)+V[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^N)+V[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^C)+V[11]+1839030562&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^A)+V[14]+4259657740&4294967295,C=N+(x<<23&4294967295|x>>>9),x=A+(C^N^U)+V[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^N)+V[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^C)+V[7]+4139469664&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^A)+V[10]+3200236656&4294967295,C=N+(x<<23&4294967295|x>>>9),x=A+(C^N^U)+V[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^N)+V[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^C)+V[3]+3572445317&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^A)+V[6]+76029189&4294967295,C=N+(x<<23&4294967295|x>>>9),x=A+(C^N^U)+V[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^N)+V[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^C)+V[15]+530742520&4294967295,N=U+(x<<16&4294967295|x>>>16),x=C+(N^U^A)+V[2]+3299628645&4294967295,C=N+(x<<23&4294967295|x>>>9),x=A+(N^(C|~U))+V[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~N))+V[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~C))+V[14]+2878612391&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~A))+V[5]+4237533241&4294967295,C=N+(x<<21&4294967295|x>>>11),x=A+(N^(C|~U))+V[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~N))+V[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~C))+V[10]+4293915773&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~A))+V[1]+2240044497&4294967295,C=N+(x<<21&4294967295|x>>>11),x=A+(N^(C|~U))+V[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~N))+V[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~C))+V[6]+2734768916&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~A))+V[13]+1309151649&4294967295,C=N+(x<<21&4294967295|x>>>11),x=A+(N^(C|~U))+V[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~N))+V[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~C))+V[2]+718787259&4294967295,N=U+(x<<15&4294967295|x>>>17),x=C+(U^(N|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=I[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[A++]=this.g[C]>>>V&255;return I};function c(I,A){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==A||(C[N]=U,V=!1)}this.g=C}var y={};function p(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return oe(_(-I));const A=[];let C=1;for(let V=0;I>=C;V++)A[V]=I/C|0,C*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return oe(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let V=w;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const x=parseInt(I.substring(U,U+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(x))):(V=V.j(C),V=V.add(_(x)))}return V}var w=p(0),M=p(1),K=p(16777216);s=d.prototype,s.m=function(){if(ue(this))return-oe(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(re(this))return"0";if(ue(this))return"-"+oe(this).toString(I);const A=_(Math.pow(I,6));var C=this;let V="";for(;;){const N=at(C,A).g;C=be(C,N.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,re(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function re(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function ue(I){return I.h==-1}s.l=function(I){return I=be(this,I),ue(I)?-1:re(I)?0:1};function oe(I){const A=I.g.length,C=[];for(let V=0;V<A;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}s.abs=function(){return ue(this)?oe(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),x=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=x>>>16,U&=65535,x&=65535,C[N]=x<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function be(I,A){return I.add(oe(A))}s.j=function(I){if(re(this)||re(I))return w;if(ue(this))return ue(I)?oe(this).j(oe(I)):oe(oe(this).j(I));if(ue(I))return oe(this.j(oe(I)));if(this.l(K)<0&&I.l(K)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,x=this.i(V)&65535,ot=I.i(N)>>>16,yt=I.i(N)&65535;C[2*V+2*N]+=x*yt,ke(C,2*V+2*N),C[2*V+2*N+1]+=U*yt,ke(C,2*V+2*N+1),C[2*V+2*N+1]+=x*ot,ke(C,2*V+2*N+1),C[2*V+2*N+2]+=U*ot,ke(C,2*V+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function ke(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function xe(I,A){this.g=I,this.h=A}function at(I,A){if(re(A))throw Error("division by zero");if(re(I))return new xe(w,w);if(ue(I))return A=at(oe(I),A),new xe(oe(A.g),oe(A.h));if(ue(A))return A=at(I,oe(A)),new xe(oe(A.g),A.h);if(I.g.length>30){if(ue(I)||ue(A))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=A;V.l(I)<=0;)C=vt(C),V=vt(V);var N=Je(C,1),U=Je(V,1);for(V=Je(V,2),C=Je(C,2);!re(V);){var x=U.add(V);x.l(I)<=0&&(N=N.add(C),U=x),V=Je(V,1),C=Je(C,1)}return A=be(I,N.j(A)),new xe(N,A)}for(N=w;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(C),x=U.j(A);ue(x)||x.l(I)>0;)C-=V,U=_(C),x=U.j(A);re(U)&&(U=M),N=N.add(U),I=be(I,x)}return new xe(N,I)}s.B=function(I){return at(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function vt(I){const A=I.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Je(I,A){const C=A>>5;A%=32;const V=I.g.length-C,N=[];for(let U=0;U<V;U++)N[U]=A>0?I.i(U+C)>>>A|I.i(U+C+1)<<32-A:I.i(U+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,N1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,vr=d}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var D1,Uo,O1,Zc,gm,M1,V1,k1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in v))break e;v=v[j]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,j,H){for(var se=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)se[Ue-2]=arguments[Ue];return m.prototype[j].apply(b,se)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function re(u,m){for(let b=1;b<arguments.length;b++){const j=arguments[b];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const H=j.length||0;u.length=v+H;for(let se=0;se<H;se++)u[v+se]=j[se]}else u.push(j)}}class ue{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function oe(u){d.setTimeout(()=>{throw u},0)}function be(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ke{constructor(){this.h=this.g=null}add(m,v){const b=xe.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var xe=new ue(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,Je=!1,I=new ke,A=()=>{const u=Promise.resolve(void 0);vt=()=>{u.then(C)}};function C(){for(var u;u=be();){try{u.h.call(u.g)}catch(v){oe(v)}var m=xe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Je=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ot(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ot,N),ot.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),F=0;function le(u,m,v,b,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=j,this.key=++F,this.da=this.fa=!1}function ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ge(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function tt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)u[v]=b[v];for(let H=0;H<X.length;H++)v=X[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,m,v,b,j){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const se=De(u,m,b,j);return se>-1?(m=u[se],v||(m.fa=!1)):(m=new le(m,this.src,H,!!b,j),m.fa=v,u.push(m)),m};function Re(u,m){const v=m.type;if(v in u.g){var b=u.g[v],j=Array.prototype.indexOf.call(b,m,void 0),H;(H=j>=0)&&Array.prototype.splice.call(b,j,1),H&&(ve(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function De(u,m,v,b){for(let j=0;j<u.length;++j){const H=u[j];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return j}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),wt={};function et(u,m,v,b,j){if(Array.isArray(m)){for(let H=0;H<m.length;H++)et(u,m[H],v,b,j);return null}return v=Or(v),u&&u[yt]?u.J(m,v,y(b)?!!b.capture:!1,j):Ji(u,m,v,!1,b,j)}function Ji(u,m,v,b,j,H){if(!m)throw Error("Invalid event type");const se=y(j)?!!j.capture:!!j;let Ue=Zi(u);if(Ue||(u[ze]=Ue=new he(u)),v=Ue.add(m,v,b,se,H),v.proxy)return v;if(b=vn(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(j=se),j===void 0&&(j=!1),u.addEventListener(m.toString(),b,j);else if(u.attachEvent)u.attachEvent(Gn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vn(){function u(v){return m.call(u.src,u.listener,v)}const m=Nr;return u}function Mn(u,m,v,b,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)Mn(u,m[H],v,b,j);else b=y(b)?!!b.capture:!!b,v=Or(v),u&&u[yt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=De(m,v,b,j),v>-1&&(ve(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Zi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=De(m,v,b,j)),(v=u>-1?m[u]:null)&&ri(v))}function ri(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[yt])Re(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Gn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Zi(m))?(Re(v,u),v.h==0&&(v.src=null,m[ze]=null)):ve(u)}}}function Gn(u){return u in wt?wt[u]:wt[u]="on"+u}function Nr(u,m){if(u.da)u=!0;else{m=new ot(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ri(u),u=v.call(b,m)}return u}function Zi(u){return u=u[ze],u instanceof he?u:null}var Dr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(u){return typeof u=="function"?u:(u[Dr]||(u[Dr]=function(m){return u.handleEvent(m)}),u[Dr])}function xt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}w(xt,V),xt.prototype[yt]=!0,xt.prototype.removeEventListener=function(u,m,v,b){Mn(this,u,m,v,b)};function Ct(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var j=m;m=new N(b,u),ae(m,j)}j=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=m.g=v[se],j=Si(H,b,!0,m)&&j;if(H=m.g=u,j=Si(H,b,!0,m)&&j,j=Si(H,b,!1,m)&&j,v)for(se=0;se<v.length;se++)H=m.g=v[se],j=Si(H,b,!1,m)&&j}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ve(v[b]);delete u.g[m],u.h--}}this.G=null},xt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},xt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Si(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let H=0;H<m.length;++H){const se=m[H];if(se&&!se.da&&se.capture==v){const Ue=se.listener,Mt=se.ha||se.src;se.fa&&Re(u.i,se),j=Ue.call(Mt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Ol(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ai(u){u.g=Ol(()=>{u.g=null,u.i&&(u.i=!1,Ai(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(u){V.call(this),this.h=u,this.g={}}w(ai,V);var Wi=[];function Os(u){Ge(u.g,function(m,v){this.g.hasOwnProperty(v)&&ri(m)},u),u.g={}}ai.prototype.N=function(){ai.Z.N.call(this),Os(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wi=d.JSON.stringify,ya=d.JSON.parse,_a=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Mr(){}function J(){}var B={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function W(){N.call(this,"d")}w(W,N);function te(){N.call(this,"c")}w(te,N);var ee={},Ae=null;function ie(){return Ae=Ae||new xt}ee.Ia="serverreachability";function ce(u){N.call(this,ee.Ia,u)}w(ce,N);function pe(u){const m=ie();Ct(m,new ce(m))}ee.STAT_EVENT="statevent";function Le(u,m){N.call(this,ee.STAT_EVENT,u),this.stat=m}w(Le,N);function Ce(u){const m=ie();Ct(m,new Le(m,u))}ee.Ja="timingevent";function de(u,m){N.call(this,ee.Ja,u),this.size=m}w(de,N);function G(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ye(){this.g=!0}ye.prototype.ua=function(){this.g=!1};function Ie(u,m,v,b,j,H){u.info(function(){if(u.g)if(H){var se="",Ue=H.split("&");for(let st=0;st<Ue.length;st++){var Mt=Ue[st].split("=");if(Mt.length>1){const St=Mt[0];Mt=Mt[1];const Qn=St.split("_");se=Qn.length>=2&&Qn[1]=="type"?se+(St+"="+Mt+"&"):se+(St+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+v+`
`+se})}function ut(u,m,v,b,j,H,se){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+v+`
`+H+" "+se})}function Ot(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yh(u,v)+(b?" "+b:"")})}function li(u,m){u.info(function(){return"TIMEOUT: "+m})}ye.prototype.info=function(){};function Yh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<b.length;se++)b[se]=""}}}}return wi(H)}catch{return m}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vl;function kr(){}w(kr,Mr),kr.prototype.g=function(){return new XMLHttpRequest},Vl=new kr;function es(u){return encodeURIComponent(String(u))}function _u(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function oi(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ai(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var jt={},Wt={};function xi(u,m,v){u.M=1,u.A=Ur(Pt(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Ri(u),u.B=Pt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Sa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ui,u.g=Mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new sn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Wi[0]=j.toString()),j=Wi);for(let H=0;H<j.length;H++){const se=et(v,j[H],b||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pe(),Ie(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const m=this.O;m&&fi(u)==3?m.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)e:{const Ue=fi(this.g),Mt=this.g.ya(),st=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Ue!=4||Mt==7||(Mt==8||st<=0?pe(3):pe(2)),Ii(this);var m=this.g.ca();this.X=m;var v=Kh(this);if(this.o=m==200,ut(this.i,this.v,this.B,this.l,this.S,Ue,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var H=b;break t}}H=null}if(u=H)Ot(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,Ce(12),Vn(this),Fn(this);break e}}if(this.R){u=!0;let St;for(;!this.K&&this.C<v.length;)if(St=Eu(this,v),St==Wt){Ue==4&&(this.m=4,Ce(14),u=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}else if(St==jt){this.m=4,Ce(15),Ot(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ot(this.i,this.l,St,null),Ci(this,St);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||v.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)Ot(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xl(se),se.P=!0,Ce(11))}}else Ot(this.i,this.l,v,null),Ci(this,v);Ue==4&&Vn(this),this.o&&!this.K&&(Ue==4?Cu(this.j,this):(this.o=!1,Ri(this)))}else ns(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),Vn(this),Fn(this)}}}catch{}};function Kh(u){if(!vu(u))return u.g.la();const m=rn(u.g);if(m==="")return"";let v="";const b=m.length,j=fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(j&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function vu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Eu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Wt:(v=Number(m.substring(v,b)),isNaN(v)?jt:(b+=1,b+v>m.length?Wt:(m=m.slice(b,b+v),u.C=b+v,m)))}oi.prototype.cancel=function(){this.K=!0,Vn(this)};function Ri(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=G(_(u.aa,u),m)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(li(this.i,this.B),this.M!=2&&(pe(),Ce(17)),Vn(this),this.m=2,Fn(this)):Ea(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Cu(u.j,u)}function Vn(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Os(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Di(v.h,u))){if(!u.L&&Di(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ia(v),zs(v);else break e;qr(v),Ce(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=G(_(v.Va,v),6e3));Ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((u.L||v.g==u)&&Ia(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let st=j[m];const St=st[0];if(!(St<=v.K))if(v.K=St,st=st[1],v.I==2)if(st[0]=="c"){v.M=st[1],v.ba=st[2];const Qn=st[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const Li=st[4];Li!=null&&(v.za=Li,v.j.info("SVER="+v.za));const di=st[5];di!=null&&typeof di=="number"&&di>0&&(b=1.5*di,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const mi=u.g;if(mi){const Gr=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var H=b.h;H.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(jl(H,H.h),H.h=null))}if(b.G){const Ca=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(b.wa=Ca,ct(b.J,b.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var se=u;if(b.na=Ou(b,b.L?b.ba:null,b.W),se.L){Ll(b.h,se);var Ue=se,Mt=b.O;Mt&&(Ue.H=Mt),Ue.D&&(Ii(Ue),Ri(Ue)),b.g=se}else Ru(b);v.i.length>0&&Ui(v)}else st[0]!="stop"&&st[0]!="close"||ji(v,7);else v.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?ji(v,7):Kl(v):st[0]!="noop"&&v.l&&v.l.qa(st),v.A=0)}}pe(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function kl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function jl(u,m){u.g?u.g.add(m):u.h=m}function Ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let j,H=null;b>=0?(j=u[v].substring(0,b),H=u[v].substring(b+1)):j=u[v],m(j,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,Ms(this,u.u),this.h=u.h,zl(this,wu(u.i)),this.m=u.m):u&&(m=String(u).match(Tu))?(this.l=!1,en(this,m[1]||"",!0),this.o=Oi(m[2]||""),this.g=Oi(m[3]||"",!0),Ms(this,m[4]),this.h=Oi(m[5]||"",!0),zl(this,m[6]||"",!0),this.m=Oi(m[7]||"")):(this.l=!1,this.i=new ks(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(jr(m,ba,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,ba,!0),"@"),u.push(es(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(jr(v,v.charAt(0)=="/"?Bl:bu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",jr(v,Su)),u.join("")},kn.prototype.resolve=function(u){const m=Pt(this);let v=!!u.j;v?en(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ms(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=m.h.lastIndexOf("/");j!=-1&&(b=m.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const H=[];for(let se=0;se<j.length;){const Ue=j[se++];Ue=="."?b&&se==j.length&&H.push(""):Ue==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&se==j.length&&H.push("")):(H.push(Ue),b=!0)}b=H.join("/")}else b=j}return v?m.h=b:v=u.i.toString()!=="",v?zl(m,wu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pt(u){return new kn(u)}function en(u,m,v){u.j=v?Oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zl(u,m,v){m instanceof ks?(u.i=m,Aa(u.i,u.l)):(v||(m=jr(m,Vs)),u.i=new ks(m,u.l))}function ct(u,m,v){u.i.set(m,v)}function Ur(u){return ct(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,bu=/[#\?:]/g,Bl=/[#\?]/g,Vs=/[#\?@]/g,Su=/#/g;function ks(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ks.prototype,s.add=function(u,m){An(this),this.i=null,u=Us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Au(u,m){An(u),m=Us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Hl(u,m){return An(u),m=Us(u,m),u.g.has(m)}s.forEach=function(u,m){An(this),this.g.forEach(function(v,b){v.forEach(function(j){u.call(m,j,b,this)},this)},this)};function ql(u,m){An(u);let v=[];if(typeof m=="string")Hl(u,m)&&(v=v.concat(u.g.get(Us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return An(this),this.i=null,u=Us(this,u),Hl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=ql(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,v){Au(u,m),v.length>0&&(u.i=null,u.g.set(Us(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const j=es(v);v=ql(this,v);for(let H=0;H<v.length;H++){let se=j;v[H]!==""&&(se+="="+es(v[H])),u.push(se)}}return this.i=u.join("&")};function wu(u){const m=new ks;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,b){const j=b.toLowerCase();b!=j&&(Au(this,b),Sa(this,j,v))},u)),u.j=m}function ci(u,m){const v=new ye;if(d.Image){const b=new Image;b.onload=S(Yn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Yn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Yn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Yn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Gl(u,m){const v=new ye,b=new AbortController,j=setTimeout(()=>{b.abort(),Yn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(j),H.ok?Yn(v,"TestPingServer: ok",!0,m):Yn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Yn(v,"TestPingServer: error",!1,m)})}function Yn(u,m,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function js(){this.g=new _a}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Mi,Mr),Mi.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(u,m){xt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Lr,xt),s=Lr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ls(this):hi(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ls(this))},s.Na=function(u){this.g&&(this.response=u,Ls(this))},s.ga=function(){this.g&&Ls(this)};function Ls(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Ge(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Kn(v),typeof u=="string"?v!=null&&es(v):ct(u,m,v))}function dt(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(dt,xt);var Vi=/^https?$/i,Fl=["POST","PUT"];s=dt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){zr(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fl,m,void 0)>=0)||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){zr(this,H)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yl(u),ts(u)}function Yl(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),ts(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),dt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},s.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),fi(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let se=String(u.D).match(Tu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),b=!Vi.test(se?se.toLowerCase():"")}v=b}if(v)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var j=fi(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Yl(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ct(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function fi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ya(m)}};function rn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(u){const m={};u=(u.g&&fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=_u(u[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[j]||[];m[j]=H,H.push(v)}tt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ps(u){this.za=0,this.i=[],this.j=new ye,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,u),this.Za=ki("retryDelaySeedMs",1e4,u),this.Ta=ki("forwardChannelMaxRetries",2,u),this.va=ki("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(u&&u.concurrentRequestLimit),this.Ba=new js,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ps.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Ce(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ou(this,null,this.W),Ui(this)};function Kl(u){if(xa(u),u.I==3){var m=u.V++,v=Pt(u.J);if(ct(v,"SID",u.M),ct(v,"RID",m),ct(v,"TYPE","terminate"),Hr(u,v),m=new oi(u,u.j,m),m.M=2,m.A=Ur(Pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ri(m)}Du(u)}function zs(u){u.g&&(Xl(u),u.g.cancel(),u.g=null)}function xa(u){zs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!Ul(u.h)&&!u.m){u.m=!0;var m=u.Ea;vt||A(),Je||(vt(),Je=!0),I.add(m,u),u.D=0}}function Ra(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=G(_(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new oi(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(j.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=xu(this,j,m),v=Pt(this.J),ct(v,"RID",u),ct(v,"CVER",22),this.G&&ct(v,"X-HTTP-Session-Id",this.G),Hr(this,v),H&&(this.R?m="headers="+es(Kn(H))+"&"+m:this.u&&Pr(v,this.u,H)),jl(this.h,j),this.Ra&&ct(v,"TYPE","init"),this.S?(ct(v,"$req",m),ct(v,"SID","null"),j.U=!0,xi(j,v,null)):xi(j,v,m),this.I=2}}else this.I==3&&(u?Ql(this,u):this.i.length==0||Ul(this.h)||Ql(this))};function Ql(u,m){var v;m?v=m.l:v=u.V++;const b=Pt(u.J);ct(b,"SID",u.M),ct(b,"RID",v),ct(b,"AID",u.K),Hr(u,b),u.u&&u.o&&Pr(b,u.u,u.o),v=new oi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=xu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jl(u.h,v),xi(v,b,m)}function Hr(u,m){u.H&&Ge(u.H,function(v,b){ct(m,b,v)}),u.l&&Ge({},function(v,b){ct(m,b,v)})}function xu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var j=u.i;let Ue=-1;for(;;){const Mt=["count="+v];Ue==-1?v>0?(Ue=j[0].g,Mt.push("ofs="+Ue)):Ue=0:Mt.push("ofs="+Ue);let st=!0;for(let St=0;St<v;St++){var H=j[St].g;const Qn=j[St].map;if(H-=Ue,H<0)Ue=Math.max(0,j[St].g-100),st=!1;else try{H="req"+H+"_"||"";try{var se=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Li,di]of se){let mi=di;y(di)&&(mi=wi(di)),Mt.push(H+Li+"="+encodeURIComponent(mi))}}catch(Li){throw Mt.push(H+"type="+encodeURIComponent("_badmap")),Li}}catch{b&&b(Qn)}}if(st){se=Mt.join("&");break e}}se=void 0}return u=u.i.splice(0,v),m.G=u,se}function Ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;vt||A(),Je||(vt(),Je=!0),I.add(m,u),u.A=0}}function qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=G(_(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=G(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),zs(this),Iu(this))};function Xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);ct(m,"RID","rpc"),ct(m,"SID",u.M),ct(m,"AID",u.K),ct(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ct(m,"TO",u.ia),ct(m,"TYPE","xmlhttp"),Hr(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ur(Pt(m)),v.u=null,v.R=!0,va(v,u)}s.Va=function(){this.C!=null&&(this.C=null,zs(this),qr(this),Ce(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Cu(u,m){var v=null;if(u.g==m){Ia(u),Xl(u),u.g=null;var b=2}else if(Di(u.h,m))v=m.G,Ll(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;b=ie(),Ct(b,new de(b,v)),Ui(u)}else Ru(u);else if(j=m.m,j==3||j==0&&m.X>0||!(b==1&&Ra(u,m)||b==2&&qr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const j=!b;b=new kn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||en(b,"https"),Ur(b),j?ci(b.toString(),v):Gl(b.toString(),v)}else Ce(2);u.I=0,u.l&&u.l.pa(m),Du(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=Pl(u.h);(m.length!=0||u.i.length!=0)&&(re(u.ja,m),re(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Ou(u,m,v){var b=v instanceof kn?Pt(v):new kn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ms(b,b.u);else{var j=d.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const H=new kn(null);b&&en(H,b),m&&(H.g=m),j&&Ms(H,j),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&ct(b,v,m),ct(b,"VER",u.ka),Hr(u,b),b}function Mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new dt(new Mi({ab:v})):new dt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}s=Vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Bs(){}Bs.prototype.g=function(u,m){return new En(u,m)};function En(u,m){xt.call(this),this.g=new Ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new is(this)}w(En,xt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Kl(this.g)},En.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=wi(u),u=v);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Ui(m)},En.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,En.Z.N.call(this)};function ku(u){W.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(ku,W);function Uu(){te.call(this),this.status=1}w(Uu,te);function is(u){this.g=u}w(is,Vu),is.prototype.ra=function(){Ct(this.g,"a")},is.prototype.qa=function(u){Ct(this.g,new ku(u))},is.prototype.pa=function(u){Ct(this.g,new Uu)},is.prototype.oa=function(){Ct(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,k1=function(){return new Bs},V1=function(){return ie()},M1=ee,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Zc=Vr,Ml.COMPLETE="complete",O1=Ml,J.EventType=B,B.OPEN="a",B.CLOSE="b",B.ERROR="c",B.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Uo=J,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,D1=dt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});let gn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let Il="12.8.0";function G2(s){Il=s}const fa=new Pm("@firebase/firestore");function rl(){return fa.logLevel}function fe(s,...e){if(fa.logLevel<=Qe.DEBUG){const i=e.map($m);fa.debug(`Firestore (${Il}): ${s}`,...i)}}function Cs(s,...e){if(fa.logLevel<=Qe.ERROR){const i=e.map($m);fa.error(`Firestore (${Il}): ${s}`,...i)}}function _l(s,...e){if(fa.logLevel<=Qe.WARN){const i=e.map($m);fa.warn(`Firestore (${Il}): ${s}`,...i)}}function $m(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function we(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,U1(s,a,i)}function U1(s,e,i){let a=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Cs(a),new Error(a)}function lt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||U1(e,o,a)}function Ve(s,e){return s}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class j1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(gn.UNAUTHENTICATED)))}shutdown(){}}class Y2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class K2{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){lt(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Er,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},y=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Er)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(lt(typeof a.accessToken=="string",31837,{l:a}),new j1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class Q2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class X2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Q2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){lt(this.o===void 0,3512);const a=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new U_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function J2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=J2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Xe(s,e){return s<e?-1:s>e?1:0}function ym(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return tm(o)===tm(c)?Xe(o,c):tm(o)?1:-1}return Xe(s.length,e.length)}const Z2=55296,W2=57343;function tm(s){const e=s.charCodeAt(0);return e>=Z2&&e<=W2}function vl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const j_="__name__";class qi{constructor(e,i,a){i===void 0?i=0:i>e.length&&we(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&we(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=qi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Xe(e.length,i.length)}static compareSegments(e,i){const a=qi.isNumericId(e),o=qi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?qi.extractNumericId(e).compare(qi.extractNumericId(i)):ym(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class Rt extends qi{construct(e,i,a){return new Rt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Rt(i)}static emptyPath(){return new Rt([])}}const ex=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends qi{construct(e,i,a){return new fn(e,i,a)}static isValidIdentifier(e){return ex.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new fn([j_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new _e(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new _e(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new _e(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(i)}static emptyPath(){return new fn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Rt.fromString(e))}static fromName(e){return new Te(Rt.fromString(e).popFirst(5))}static empty(){return new Te(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Rt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Rt(e.slice()))}}function tx(s,e,i){if(!i)throw new _e(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function nx(s,e,i,a){if(e===!0&&a===!0)throw new _e(ne.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function L_(s){if(!Te.isDocumentKey(s))throw new _e(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function L1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Zm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function Ei(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new _e(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Zm(s);throw new _e(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function hu(s,e){if(!L1(s))throw new _e(ne.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new _e(ne.INVALID_ARGUMENT,i);return!0}const P_=-62135596800,z_=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*z_);return new bt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<P_)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Kt("string",bt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new bt(0,0))}static max(){return new Oe(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qo=-1;function ix(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(a===1e9?new bt(i+1,0):new bt(i,a));return new br(o,Te.empty(),e)}function sx(s){return new br(s.readTime,s.key,Qo)}class br{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new br(Oe.min(),Te.empty(),Qo)}static max(){return new br(Oe.max(),Te.empty(),Qo)}}function rx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(s.documentKey,e.documentKey),i!==0?i:Xe(s.largestBatchId,e.largestBatchId))}const ax="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cl(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==ax)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(p=>a(p)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let p=0;p<c;p++){const _=p;i(e[_]).next((S=>{d[_]=S,++y,y===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function ox(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nl(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const Wm=-1;function Nh(s){return s==null}function fh(s){return s===0&&1/s==-1/0}function ux(s){return typeof s=="number"&&Number.isInteger(s)&&!fh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const P1="";function cx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=B_(e)),e=hx(s.get(i),e);return B_(e)}function hx(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case P1:i+="";break;default:i+=c}}return i}function B_(s){return s+P1+""}function H_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ir(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function z1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class It{constructor(e,i){this.comparator=e,this.root=i||hn.EMPTY}insert(e,i){return new It(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??hn.RED,this.left=o??hn.EMPTY,this.right=c??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new hn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new hn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Zt(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new qn([])}unionWith(e){let i=new Zt(fn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class B1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new B1("Invalid base64 string: "+c):c}})(e);return new dn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new dn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const fx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(s){if(lt(!!s,39018),typeof s=="string"){let e=0;const i=fx.exec(s);if(lt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ut(s.seconds),nanos:Ut(s.nanos)}}function Ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ar(s){return typeof s=="string"?dn.fromBase64String(s):dn.fromUint8Array(s)}const H1="server_timestamp",q1="__type__",G1="__previous_value__",F1="__local_write_time__";function ep(s){return(s?.mapValue?.fields||{})[q1]?.stringValue===H1}function Dh(s){const e=s.mapValue.fields[G1];return ep(e)?Dh(e):e}function Xo(s){const e=Sr(s.mapValue.fields[F1].timestampValue);return new bt(e.seconds,e.nanos)}class dx{constructor(e,i,a,o,c,d,y,p,_,S,w){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=w}}const dh="(default)";class $o{constructor(e,i){this.projectId=e,this.database=i||dh}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}function mx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new _e(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(s.options.projectId,e)}const Y1="__type__",px="__max__",qc={mapValue:{}},K1="__vector__",mh="value";function wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ep(s)?4:yx(s)?9007199254740991:gx(s)?10:11:we(28295,{value:s})}function Xi(s,e){if(s===e)return!0;const i=wr(s);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xo(s).isEqual(Xo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Sr(o.timestampValue),y=Sr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Ar(o.bytesValue).isEqual(Ar(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ut(o.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ut(o.integerValue)===Ut(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ut(o.doubleValue),y=Ut(c.doubleValue);return d===y?fh(d)===fh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return vl(s.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(H_(d)!==H_(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!Xi(d[p],y[p])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function Jo(s,e){return(s.values||[]).find((i=>Xi(i,e)))!==void 0}function El(s,e){if(s===e)return 0;const i=wr(s),a=wr(e);if(i!==a)return Xe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Xe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Ut(c.integerValue||c.doubleValue),p=Ut(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(s,e);case 3:return G_(s.timestampValue,e.timestampValue);case 4:return G_(Xo(s),Xo(e));case 5:return ym(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=Ar(c),p=Ar(d);return y.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const S=Xe(y[_],p[_]);if(S!==0)return S}return Xe(y.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Xe(Ut(c.latitude),Ut(d.latitude));return y!==0?y:Xe(Ut(c.longitude),Ut(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return F_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},p=d.fields||{},_=y[mh]?.arrayValue,S=p[mh]?.arrayValue,w=Xe(_?.values?.length||0,S?.values?.length||0);return w!==0?w:F_(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),_=d.fields||{},S=Object.keys(_);p.sort(),S.sort();for(let w=0;w<p.length&&w<S.length;++w){const M=ym(p[w],S[w]);if(M!==0)return M;const K=El(y[p[w]],_[S[w]]);if(K!==0)return K}return Xe(p.length,S.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:i})}}function G_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Xe(s,e);const i=Sr(s),a=Sr(e),o=Xe(i.seconds,a.seconds);return o!==0?o:Xe(i.nanos,a.nanos)}function F_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=El(i[o],a[o]);if(c)return c}return Xe(i.length,a.length)}function Tl(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Sr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Te.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=_m(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${_m(i.fields[d])}`;return o+"}"})(s.mapValue):we(61005,{value:s})}function Wc(s){switch(wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(s);return e?16+Wc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Wc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Ir(a.fields,((c,d)=>{o+=c.length+Wc(d)})),o})(s.mapValue);default:throw we(13486,{value:s})}}function vm(s){return!!s&&"integerValue"in s}function tp(s){return!!s&&"arrayValue"in s}function Y_(s){return!!s&&"nullValue"in s}function K_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function gx(s){return(s?.mapValue?.fields||{})[Y1]?.stringValue===K1}function Ho(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ir(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ho(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ho(s.arrayValue.values[i]);return e}return{...s}}function yx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===px}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!eh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(i)}setAll(e){let i=fn.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Ho(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());eh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ir(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new On(Ho(this.value))}}function Q1(s){const e=[];return Ir(s.fields,((i,a)=>{const o=new fn([i]);if(eh(a)){const c=Q1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new qn(e)}class yn{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new yn(e,0,Oe.min(),Oe.min(),Oe.min(),On.empty(),0)}static newFoundDocument(e,i,a,o){return new yn(e,1,i,Oe.min(),a,o,0)}static newNoDocument(e,i){return new yn(e,2,i,Oe.min(),Oe.min(),On.empty(),0)}static newUnknownDocument(e,i){return new yn(e,3,i,Oe.min(),Oe.min(),On.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,i){this.position=e,this.inclusive=i}}function Q_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(d.referenceValue),i.key):a=El(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function X_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Xi(s.position[i],e.position[i]))return!1;return!0}class gh{constructor(e,i="asc"){this.field=e,this.dir=i}}function _x(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class X1{}class Jt extends X1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Ex(e,i,a):i==="array-contains"?new Sx(e,a):i==="in"?new Ax(e,a):i==="not-in"?new wx(e,a):i==="array-contains-any"?new xx(e,a):new Jt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Tx(e,a):new bx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(El(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(El(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends X1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new $i(e,i)}matches(e){return $1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $1(s){return s.op==="and"}function J1(s){return vx(s)&&$1(s)}function vx(s){for(const e of s.filters)if(e instanceof $i)return!1;return!0}function Em(s){if(s instanceof Jt)return s.field.canonicalString()+s.op.toString()+Tl(s.value);if(J1(s))return s.filters.map((e=>Em(e))).join(",");{const e=s.filters.map((i=>Em(i))).join(",");return`${s.op}(${e})`}}function Z1(s,e){return s instanceof Jt?(function(a,o){return o instanceof Jt&&a.op===o.op&&a.field.isEqual(o.field)&&Xi(a.value,o.value)})(s,e):s instanceof $i?(function(a,o){return o instanceof $i&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&Z1(d,o.filters[y])),!0):!1})(s,e):void we(19439)}function W1(s){return s instanceof Jt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Tl(i.value)}`})(s):s instanceof $i?(function(i){return i.op.toString()+" {"+i.getFilters().map(W1).join(" ,")+"}"})(s):"Filter"}class Ex extends Jt{constructor(e,i,a){super(e,i,a),this.key=Te.fromName(a.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class Tx extends Jt{constructor(e,i){super(e,"in",i),this.keys=eE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class bx extends Jt{constructor(e,i){super(e,"not-in",i),this.keys=eE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function eE(s,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class Sx extends Jt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tp(i)&&Jo(i.arrayValue,this.value)}}class Ax extends Jt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jo(this.value.arrayValue,i)}}class wx extends Jt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jo(this.value.arrayValue,i)}}class xx extends Jt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Jo(this.value.arrayValue,a)))}}class Rx{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function $_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new Rx(s,e,i,a,o,c,d)}function np(s){const e=Ve(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Em(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Nh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Tl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Tl(a))).join(",")),e.Te=i}return e.Te}function ip(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!_x(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Z1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!X_(s.startAt,e.startAt)&&X_(s.endAt,e.endAt)}function Tm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Oh{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Ix(s,e,i,a,o,c,d,y){return new Oh(s,e,i,a,o,c,d,y)}function Mh(s){return new Oh(s)}function J_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Cx(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Nx(s){return s.collectionGroup!==null}function qo(s){const e=Ve(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Zt(fn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new gh(c,a))})),i.has(fn.keyField().canonicalString())||e.Ie.push(new gh(fn.keyField(),a))}return e.Ie}function Yi(s){const e=Ve(s);return e.Ee||(e.Ee=Dx(e,qo(s))),e.Ee}function Dx(s,e){if(s.limitType==="F")return $_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new gh(o.field,c)}));const i=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return $_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function bm(s,e,i){return new Oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Vh(s,e){return ip(Yi(s),Yi(e))&&s.limitType===e.limitType}function tE(s){return`${np(Yi(s))}|lt:${s.limitType}`}function al(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>W1(o))).join(", ")}]`),Nh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Tl(o))).join(",")),`Target(${a})`})(Yi(s))}; limitType=${s.limitType})`}function kh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of qo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,p){const _=Q_(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,qo(a),o)||a.endAt&&!(function(d,y,p){const _=Q_(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,qo(a),o))})(s,e)}function Ox(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function nE(s){return(e,i)=>{let a=!1;for(const o of qo(s)){const c=Mx(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Mx(s,e,i){const a=s.field.isKeyField()?Te.comparator(e.key,i.key):(function(c,d,y){const p=d.data.field(c),_=y.data.field(c);return p!==null&&_!==null?El(p,_):we(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return we(19790,{direction:s.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}const Vx=new It(Te.comparator);function Ns(){return Vx}const iE=new It(Te.comparator);function jo(...s){let e=iE;for(const i of s)e=e.insert(i.key,i);return e}function sE(s){let e=iE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return Go()}function rE(){return Go()}function Go(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const kx=new It(Te.comparator),Ux=new Zt(Te.comparator);function $e(...s){let e=Ux;for(const i of s)e=e.add(i);return e}const jx=new Zt(Xe);function Lx(){return jx}function sp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function aE(s){return{integerValue:""+s}}function lE(s,e){return ux(e)?aE(e):sp(s,e)}class Uh{constructor(){this._=void 0}}function Px(s,e,i){return s instanceof yh?(function(o,c){const d={fields:{[q1]:{stringValue:H1},[F1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&ep(c)&&(c=Dh(c)),c&&(d.fields[G1]=c),{mapValue:d}})(i,e):s instanceof bl?uE(s,e):s instanceof Zo?cE(s,e):(function(o,c){const d=oE(o,c),y=Z_(d)+Z_(o.Ae);return vm(d)&&vm(o.Ae)?aE(y):sp(o.serializer,y)})(s,e)}function zx(s,e,i){return s instanceof bl?uE(s,e):s instanceof Zo?cE(s,e):i}function oE(s,e){return s instanceof Wo?(function(a){return vm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class yh extends Uh{}class bl extends Uh{constructor(e){super(),this.elements=e}}function uE(s,e){const i=hE(e);for(const a of s.elements)i.some((o=>Xi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Zo extends Uh{constructor(e){super(),this.elements=e}}function cE(s,e){let i=hE(e);for(const a of s.elements)i=i.filter((o=>!Xi(o,a)));return{arrayValue:{values:i}}}class Wo extends Uh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z_(s){return Ut(s.integerValue||s.doubleValue)}function hE(s){return tp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class fE{constructor(e,i){this.field=e,this.transform=i}}function Bx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof bl&&o instanceof bl||a instanceof Zo&&o instanceof Zo?vl(a.elements,o.elements,Xi):a instanceof Wo&&o instanceof Wo?Xi(a.Ae,o.Ae):a instanceof yh&&o instanceof yh})(s.transform,e.transform)}class Hx{constructor(e,i){this.version=e,this.transformResults=i}}class Ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class jh{}function dE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new rp(s.key,Ti.none()):new fu(s.key,s.data,Ti.none());{const i=s.data,a=On.empty();let o=new Zt(fn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Cr(s.key,a,new qn(o.toArray()),Ti.none())}}function qx(s,e,i){s instanceof fu?(function(o,c,d){const y=o.value.clone(),p=ev(o.fieldTransforms,c,d.transformResults);y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Cr?(function(o,c,d){if(!th(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=ev(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(mE(o)),p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fo(s,e,i,a){return s instanceof fu?(function(c,d,y,p){if(!th(c.precondition,d))return y;const _=c.value.clone(),S=tv(c.fieldTransforms,p,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Cr?(function(c,d,y,p){if(!th(c.precondition,d))return y;const _=tv(c.fieldTransforms,p,d),S=d.data;return S.setAll(mE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,y){return th(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function Gx(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=oE(a.transform,o||null);c!=null&&(i===null&&(i=On.empty()),i.set(a.field,c))}return i||null}function W_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&vl(a,o,((c,d)=>Bx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class fu extends jh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends jh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function ev(s,e,i){const a=new Map;lt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,zx(d,y,i[o]))}return a}function tv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Px(c,d,e))}return a}class rp extends jh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fx extends jh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&qx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=rE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const p=dE(d,y);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Oe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),$e())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((i,a)=>W_(i,a)))&&vl(this.baseMutations,e.baseMutations,((i,a)=>W_(i,a)))}}class ap{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){lt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return kx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new ap(e,i,a,o)}}class Kx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Qx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Yt,We;function Xx(s){switch(s){case ne.OK:return we(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function pE(s){if(s===void 0)return Cs("GRPC error has no .code"),ne.UNKNOWN;switch(s){case Yt.OK:return ne.OK;case Yt.CANCELLED:return ne.CANCELLED;case Yt.UNKNOWN:return ne.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ne.INTERNAL;case Yt.UNAVAILABLE:return ne.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ne.NOT_FOUND;case Yt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Yt.ABORTED:return ne.ABORTED;case Yt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Yt.DATA_LOSS:return ne.DATA_LOSS;default:return we(39323,{code:s})}}(We=Yt||(Yt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function $x(){return new TextEncoder}const Jx=new vr([4294967295,4294967295],0);function nv(s){const e=$x().encode(s),i=new N1;return i.update(e),new Uint8Array(i.digest())}function iv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new vr([i,a],0),new vr([o,c],0)]}class lp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Lo(`Invalid padding: ${i}`);if(a<0)throw new Lo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Lo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Lo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=vr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(vr.fromNumber(a)));return o.compare(Jx)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[a,o]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new lp(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=nv(e),[a,o]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Lh(Oe.min(),o,new It(Xe),Ns(),$e())}}class du{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new du(a,i,$e(),$e(),$e())}}class nh{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class gE{constructor(e,i){this.targetId=e,this.Ce=i}}class yE{constructor(e,i,a=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class sv{constructor(){this.ve=0,this.Fe=rv(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),i=$e(),a=$e();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:we(38017,{changeType:c})}})),new du(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=rv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Zx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.He=Gc(),this.Je=Gc(),this.Ze=new It(Xe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Tm(c))if(a===0){const d=new Te(c.path);this.et(i,d,yn.newNoDocument(d,Oe.min()))}else lt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),p=y?this.ct(y,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=Ar(a).toUint8Array()}catch(p){if(p instanceof B1)return _l("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new lp(d,o,c)}catch(p){return _l(p instanceof Lo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&Tm(y.target)){const p=new Te(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,yn.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=$e();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Lh(e,i,this.Ze,this.je,a);return this.je=Ns(),this.He=Gc(),this.Je=Gc(),this.Ze=new It(Xe),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new sv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Zt(Xe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Zt(Xe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||fe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Gc(){return new It(Te.comparator)}function rv(){return new It(Te.comparator)}const Wx={asc:"ASCENDING",desc:"DESCENDING"},eR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tR={and:"AND",or:"OR"};class nR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Sm(s,e){return s.useProto3Json||Nh(e)?e:{value:e}}function _h(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _E(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function iR(s,e){return _h(s,e.toTimestamp())}function Ki(s){return lt(!!s,49232),Oe.fromTimestamp((function(i){const a=Sr(i);return new bt(a.seconds,a.nanos)})(s))}function op(s,e){return Am(s,e).canonicalString()}function Am(s,e){const i=(function(o){return new Rt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function vE(s){const e=Rt.fromString(s);return lt(AE(e),10190,{key:e.toString()}),e}function wm(s,e){return op(s.databaseId,e.path)}function nm(s,e){const i=vE(e);if(i.get(1)!==s.databaseId.projectId)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Te(TE(i))}function EE(s,e){return op(s.databaseId,e)}function sR(s){const e=vE(s);return e.length===4?Rt.emptyPath():TE(e)}function xm(s){return new Rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function TE(s){return lt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function av(s,e,i){return{name:wm(s,e),fields:i.value.mapValue.fields}}function rR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(lt(S===void 0||typeof S=="string",58123),dn.fromBase64String(S||"")):(lt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),dn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?ne.UNKNOWN:pE(_.code);return new _e(S,_.message||"")})(d);i=new yE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=nm(s,a.document.name),c=Ki(a.document.updateTime),d=a.document.createTime?Ki(a.document.createTime):Oe.min(),y=new On({mapValue:{fields:a.document.fields}}),p=yn.newFoundDocument(o,c,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new nh(_,S,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=nm(s,a.document),c=a.readTime?Ki(a.readTime):Oe.min(),d=yn.newNoDocument(o,c),y=a.removedTargetIds||[];i=new nh([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=nm(s,a.document),c=a.removedTargetIds||[];i=new nh([],c,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Qx(o,c),y=a.targetId;i=new gE(y,d)}}return i}function aR(s,e){let i;if(e instanceof fu)i={update:av(s,e.key,e.value)};else if(e instanceof rp)i={delete:wm(s,e.key)};else if(e instanceof Cr)i={update:av(s,e.key,e.data),updateMask:pR(e.fieldMask)};else{if(!(e instanceof Fx))return we(16599,{dt:e.type});i={verify:wm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof yh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Wo)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw we(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:iR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(s,e.precondition)),i}function lR(s,e){return s&&s.length>0?(lt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ki(o.updateTime):Ki(c);return d.isEqual(Oe.min())&&(d=Ki(c)),new Hx(d,o.transformResults||[])})(i,e)))):[]}function oR(s,e){return{documents:[EE(s,e.path)]}}function uR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=EE(s,o);const c=(function(_){if(_.length!==0)return SE($i.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:ll(M.field),direction:fR(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Sm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function cR(s){let e=sR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){lt(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const M=bE(w);return M instanceof $i&&J1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(re){return new gh(ol(re.field),(function(oe){switch(oe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(re.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,Nh(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(w){const M=!!w.before,K=w.values||[];return new ph(K,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,K=w.values||[];return new ph(K,M)})(i.endAt)),Ix(e,o,d,c,y,"F",p,_)}function hR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function bE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ol(i.unaryFilter.field);return Jt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(i.unaryFilter.field);return Jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(i.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(i.unaryFilter.field);return Jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Jt.create(ol(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return $i.create(i.compositeFilter.filters.map((a=>bE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(s):we(30097,{filter:s})}function fR(s){return Wx[s]}function dR(s){return eR[s]}function mR(s){return tR[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return fn.fromServerFormat(s.fieldPath)}function SE(s){return s instanceof Jt?(function(i){if(i.op==="=="){if(K_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NAN"}};if(Y_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(K_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NAN"}};if(Y_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(i.field),op:dR(i.op),value:i.value}}})(s):s instanceof $i?(function(i){const a=i.getFilters().map((o=>SE(o)));return a.length===1?a[0]:{compositeFilter:{op:mR(i.op),filters:a}}})(s):we(54877,{filter:s})}function pR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function AE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function wE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class pr{constructor(e,i,a,o,c=Oe.min(),d=Oe.min(),y=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gR{constructor(e){this.yt=e}}function yR(s){const e=cR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(e,e.limit,"L"):e}class _R{constructor(){this.Sn=new vR}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(br.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class vR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Zt(Rt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Zt(Rt.comparator)).toArray()}}const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xE=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(xE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Sl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Sl(0)}static ar(){return new Sl(-1)}}const ov="LruGarbageCollector",ER=1048576;function uv([s,e],[i,a]){const o=Xe(s,i);return o===0?Xe(e,a):o}class TR{constructor(e){this.Pr=e,this.buffer=new Zt(uv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();uv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Nl(i)?fe(ov,"Ignoring IndexedDB error during garbage collection: ",i):await Cl(i)}await this.Ar(3e5)}))}}class SR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ch.ce);const a=new TR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(lv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,y,p,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),rl()<=Qe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function AR(s,e){return new SR(s,e)}class wR{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class RR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Fo(a.mutation,o,qn.empty(),bt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,$e()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=$e()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=jo();return c.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,$e())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=Ns();const d=Go(),y=(function(){return Go()})();return i.forEach(((p,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Cr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Fo(S.mutation,_,S.mutation.getFieldMask(),bt.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new xR(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Go();let o=new It(((d,y)=>d-y)),c=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let S=a.get(p)||qn.empty();S=y.applyToLocalView(_,S),a.set(p,S);const w=(o.get(y.batchId)||$e()).add(p);o=o.insert(y.batchId,w)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,S=p.value,w=rE();S.forEach((M=>{if(!c.has(M)){const K=dE(i.get(M),a.get(M));K!==null&&w.set(M,K),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return Cx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Nx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(oa());let y=Qo,p=c;return d.next((_=>Z.forEach(_,((S,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{p=p.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,p,_,$e()))).next((S=>({batchId:y,changes:sE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((a=>{let o=jo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=jo();return this.indexManager.getCollectionParents(e,c).next((y=>Z.forEach(y,(p=>{const _=(function(w,M){return new Oh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((S=>{S.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((p,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,yn.newInvalidDocument(S)))}));let y=jo();return d.forEach(((p,_)=>{const S=c.get(p);S!==void 0&&Fo(S.mutation,_,qn.empty(),bt.now()),kh(i,_)&&(y=y.insert(p,_))})),y}))}}class IR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:yR(o.bundledQuery),readTime:Ki(o.readTime)}})(i)),Z.resolve()}}class CR{constructor(){this.overlays=new It(Te.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),c=i.length+1,d=new Te(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new It(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=oa(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=oa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return Z.resolve(y)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Kx(i,a));let c=this.Lr.get(i);c===void 0&&(c=$e(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class NR{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class up{constructor(){this.kr=new Zt(nn.Kr),this.qr=new Zt(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new nn(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new nn(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new Te(new Rt([])),a=new nn(i,e),o=new nn(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Te(new Rt([])),a=new nn(i,e),o=new nn(i,e+1);let c=$e();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Te.comparator(e.key,i.key)||Xe(e.Hr,i.Hr)}static Ur(e,i){return Xe(e.Hr,i.Hr)||Te.comparator(e.key,i.key)}}class DR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Zt(nn.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Yx(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new nn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Wm:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const y=this.Zr(d.Hr);c.push(y)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Zt(Xe);return i.forEach((o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),Z.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const d=new nn(new Te(c),0);let y=new Zt(Xe);return this.Jr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(p.Hr)),!0)}),d),Z.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){lt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Z.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new nn(i,0),o=this.Jr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class OR{constructor(e){this.ti=e,this.docs=(function(){return new It(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():yn.newInvalidDocument(i))}getEntries(e,i){let a=Ns();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():yn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Ns();const d=i.path,y=new Te(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:S}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||rx(sx(S),a)<=0||(o.has(S.key)||kh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){we(9500)}ni(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new MR(this)}getSize(e){return Z.resolve(this.size)}}class MR extends wR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class VR{constructor(e){this.persistence=e,this.ri=new pa((i=>np(i)),ip),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new up,this.targetCount=0,this.oi=Sl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Sl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class RE{constructor(e,i){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new NR,this.referenceDelegate=e(this),this.li=new VR(this),this.indexManager=new _R,this.remoteDocumentCache=(function(o){return new OR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new gR(i),this.Pi=new IR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new CR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new DR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){fe("MemoryPersistence","Starting transaction:",e);const o=new kR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return Z.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class kR extends lx{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Ri=new up,this.Ai=null}static Vi(e){return new cp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(a=>{const o=Te.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Oe.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class vh{constructor(e,i){this.persistence=e,this.fi=new pa((a=>cx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=AR(this,i)}static Vi(e,i){return new vh(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Oe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wc(e.data.value)),i}wr(e,i,a){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=$e(),o=$e();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hp(e,i.fromCache,a,o)}}class UR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return bS()?8:ox(_n())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new UR;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(rl()<=Qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(rl()<=Qe.DEBUG&&fe("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(rl()<=Qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(i))):Z.resolve())}gs(e,i){if(J_(i))return Z.resolve(null);let a=Yi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=bm(i,null,"F"),a=Yi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=$e(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((p=>{const _=this.bs(i,y);return this.Ss(i,_,d,p.readTime)?this.gs(e,bm(i,null,"F")):this.Ds(e,_,i,p)}))))})))))}ps(e,i,a,o){return J_(i)||o.isEqual(Oe.min())?Z.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?Z.resolve(null):(rl()<=Qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(i)),this.Ds(e,d,i,ix(o,Qo)).next((y=>y)))}))}bs(e,i){let a=new Zt(nE(e));return i.forEach(((o,c)=>{kh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return rl()<=Qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",al(i)),this.fs.getDocumentsMatchingQuery(e,i,br.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fp="LocalStore",LR=3e8;class PR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new It(Xe),this.Fs=new pa((c=>np(c)),ip),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function zR(s,e,i,a){return new PR(s,e,i,a)}async function IE(s,e){const i=Ve(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let p=$e();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)p=p.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)p=p.add(S.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function BR(s,e){const i=Ve(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,S){const w=_.batch,M=w.keys();let K=Z.resolve();return M.forEach((re=>{K=K.next((()=>S.getEntry(p,re))).next((ue=>{const oe=_.docVersions.get(re);lt(oe!==null,48541),ue.version.compareTo(oe)<0&&(w.applyToRemoteDocument(ue,_),ue.isValidDocument()&&(ue.setReadTime(_.commitVersion),S.addEntry(ue)))}))})),K.next((()=>y.mutationQueue.removeMutationBatch(p,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=$e();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function CE(s){const e=Ve(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function HR(s,e){const i=Ve(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((S,w)=>{const M=o.get(w);if(!M)return;y.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let K=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(dn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,a)),o=o.insert(w,K),(function(ue,oe,be){return ue.resumeToken.approximateByteSize()===0||oe.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=LR?!0:be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0})(M,K,S)&&y.push(i.li.updateTargetData(c,K))}));let p=Ns(),_=$e();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(qR(c,d,e.documentUpdates).next((S=>{p=S.Bs,_=S.Ls}))),!a.isEqual(Oe.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(S)}return Z.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.vs=o,c)))}function qR(s,e,i){let a=$e(),o=$e();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ns();return i.forEach(((y,p)=>{const _=c.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(y,p)):fe(fp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{Bs:d,Ls:o}}))}function GR(s,e){const i=Ve(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function FR(s,e){const i=Ve(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new pr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Rm(s,e,i){const a=Ve(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Nl(d))throw d;fe(fp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function cv(s,e,i){const a=Ve(s);let o=Oe.min(),c=$e();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,S){const w=Ve(p),M=w.Fs.get(S);return M!==void 0?Z.resolve(w.vs.get(M)):w.li.getTargetData(_,S)})(a,d,Yi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((p=>{c=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Oe.min(),i?c:$e()))).next((y=>(YR(a,Ox(e),y),{documents:y,ks:c})))))}function YR(s,e,i){let a=s.Ms.get(e)||Oe.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class hv{constructor(){this.activeTargetIds=Lx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KR{constructor(){this.vo=new hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QR{Mo(e){}shutdown(){}}const fv="ConnectivityMonitor";class dv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(fv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Im(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const im="RestConnection",XR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $R{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===dh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=Im(),y=this.Qo(e,i.toUriEncodedString());fe(im,`Sending RPC '${e}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:_}=new URL(y),S=wl(_);return this.zo(e,y,p,a,S).then((w=>(fe(im,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw _l(im,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=XR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class JR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const pn="WebChannelConnection",ko=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ml extends $R{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ml.c_){const e=V1();ko(e,M1.STAT_EVENT,(i=>{i.stat===gm.PROXY?fe(pn,"STAT_EVENT: detected buffering proxy"):i.stat===gm.NOPROXY&&fe(pn,"STAT_EVENT: detected no buffering proxy")})),ml.c_=!0}}zo(e,i,a,o,c){const d=Im();return new Promise(((y,p)=>{const _=new D1;_.setWithCredentials(!0),_.listenOnce(O1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Zc.NO_ERROR:const w=_.getResponseJson();fe(pn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Zc.TIMEOUT:fe(pn,`RPC '${e}' ${d} timed out`),p(new _e(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const M=_.getStatus();if(fe(pn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const re=K?.error;if(re&&re.status&&re.message){const ue=(function(be){const ke=be.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ke)>=0?ke:ne.UNKNOWN})(re.status);p(new _e(ue,re.message))}else p(new _e(ne.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new _e(ne.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{fe(pn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);fe(pn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=Im(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");fe(pn,`Creating RPC '${e}' stream ${o}: ${_}`,y);const S=d.createWebChannel(_,y);this.I_(S);let w=!1,M=!1;const K=new JR({Ho:re=>{M?fe(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,re):(w||(fe(pn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),fe(pn,`RPC '${e}' stream ${o} sending:`,re),S.send(re))},Jo:()=>S.close()});return ko(S,Uo.EventType.OPEN,(()=>{M||(fe(pn,`RPC '${e}' stream ${o} transport opened.`),K.i_())})),ko(S,Uo.EventType.CLOSE,(()=>{M||(M=!0,fe(pn,`RPC '${e}' stream ${o} transport closed`),K.o_(),this.E_(S))})),ko(S,Uo.EventType.ERROR,(re=>{M||(M=!0,_l(pn,`RPC '${e}' stream ${o} transport errored. Name:`,re.name,"Message:",re.message),K.o_(new _e(ne.UNAVAILABLE,"The operation could not be completed")))})),ko(S,Uo.EventType.MESSAGE,(re=>{if(!M){const ue=re.data[0];lt(!!ue,16349);const oe=ue,be=oe?.error||oe[0]?.error;if(be){fe(pn,`RPC '${e}' stream ${o} received error:`,be);const ke=be.status;let xe=(function(Je){const I=Yt[Je];if(I!==void 0)return pE(I)})(ke),at=be.message;xe===void 0&&(xe=ne.INTERNAL,at="Unknown error status: "+ke+" with message "+be.message),M=!0,K.o_(new _e(xe,at)),S.close()}else fe(pn,`RPC '${e}' stream ${o} received:`,ue),K.__(ue)}})),ml.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return k1()}}function ZR(s){return new ml(s)}function sm(){return typeof document<"u"?document:null}function Ph(s){return new nR(s,!0)}ml.c_=!1;class NE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const mv="PersistentStream";class DE{constructor(e,i,a,o,c,d,y,p){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ne.RESOURCE_EXHAUSTED?(Cs(i.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new _e(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(fe(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WR extends DE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=rR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Oe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Oe.min():d.readTime?Ki(d.readTime):Oe.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let y;const p=d.target;if(y=Tm(p)?{documents:oR(c,p)}:{query:uR(c,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=_E(c,d.resumeToken);const _=Sm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Oe.min())>0){y.readTime=_h(c,d.snapshotVersion.toTimestamp());const _=Sm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=hR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.K_(i)}}class eI extends DE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=lR(e.writeResults,e.commitTime),a=Ki(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>aR(this.serializer,a)))};this.K_(i)}}class tI{}class nI extends tI{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Am(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ne.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,Am(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new _e(ne.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function iI(s,e,i,a){return new nI(s,e,i,a)}class sI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(i),this.aa=!1):fe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class rI{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(fe(da,"Restarting streams for network reachability change."),await(async function(p){const _=Ve(p);_.Ea.add(4),await mu(_),_.Va.set("Unknown"),_.Ea.delete(4),await zh(_)})(this))}))})),this.Va=new sI(a,o)}}async function zh(s){if(ga(s))for(const e of s.Ra)await e(!0)}async function mu(s){for(const e of s.Ra)await e(!1)}function OE(s,e){const i=Ve(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),gp(i)?pp(i):Dl(i).O_()&&mp(i,e))}function dp(s,e){const i=Ve(s),a=Dl(i);i.Ia.delete(e),a.O_()&&ME(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Va.set("Unknown"))}function mp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Dl(s).Z_(e)}function ME(s,e){s.da.$e(e),Dl(s).X_(e)}function pp(s){s.da=new Zx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Dl(s).start(),s.Va.ua()}function gp(s){return ga(s)&&!Dl(s).x_()&&s.Ia.size>0}function ga(s){return Ve(s).Ea.size===0}function VE(s){s.da=void 0}async function aI(s){s.Va.set("Online")}async function lI(s){s.Ia.forEach(((e,i)=>{mp(s,e)}))}async function oI(s,e){VE(s),gp(s)?(s.Va.ha(e),pp(s)):s.Va.set("Unknown")}async function uI(s,e,i){if(s.Va.set("Online"),e instanceof yE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(s,e)}catch(a){fe(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Eh(s,a)}else if(e instanceof nh?s.da.Xe(e):e instanceof gE?s.da.st(e):s.da.tt(e),!i.isEqual(Oe.min()))try{const a=await CE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const S=c.Ia.get(p);if(!S)return;c.Ia.set(p,S.withResumeToken(dn.EMPTY_BYTE_STRING,S.snapshotVersion)),ME(c,p);const w=new pr(S.target,p,_,S.sequenceNumber);mp(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){fe(da,"Failed to raise snapshot:",a),await Eh(s,a)}}async function Eh(s,e,i){if(!Nl(e))throw e;s.Ea.add(1),await mu(s),s.Va.set("Offline"),i||(i=()=>CE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await zh(s)}))}function kE(s,e){return e().catch((i=>Eh(s,i,e)))}async function Bh(s){const e=Ve(s),i=xr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;cI(e);)try{const o=await GR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,hI(e,o)}catch(o){await Eh(e,o)}UE(e)&&jE(e)}function cI(s){return ga(s)&&s.Ta.length<10}function hI(s,e){s.Ta.push(e);const i=xr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function UE(s){return ga(s)&&!xr(s).x_()&&s.Ta.length>0}function jE(s){xr(s).start()}async function fI(s){xr(s).ra()}async function dI(s){const e=xr(s);for(const i of s.Ta)e.ea(i.mutations)}async function mI(s,e,i){const a=s.Ta.shift(),o=ap.from(a,e,i);await kE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Bh(s)}async function pI(s,e){e&&xr(s).Y_&&await(async function(a,o){if((function(d){return Xx(d)&&d!==ne.ABORTED})(o.code)){const c=a.Ta.shift();xr(a).B_(),await kE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Bh(a)}})(s,e),UE(s)&&jE(s)}async function pv(s,e){const i=Ve(s);i.asyncQueue.verifyOperationInProgress(),fe(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await mu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await zh(i)}async function gI(s,e){const i=Ve(s);e?(i.Ea.delete(2),await zh(i)):e||(i.Ea.add(2),await mu(i),i.Va.set("Unknown"))}function Dl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ve(i);return c.sa(),new WR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:aI.bind(null,s),Yo:lI.bind(null,s),t_:oI.bind(null,s),J_:uI.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),gp(s)?pp(s):s.Va.set("Unknown")):(await s.ma.stop(),VE(s))}))),s.ma}function xr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ve(i);return c.sa(),new eI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fI.bind(null,s),t_:pI.bind(null,s),ta:dI.bind(null,s),na:mI.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Bh(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new yp(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(s,e){if(Cs("AsyncQueue",`${e}: ${s}`),Nl(s))return new _e(ne.UNAVAILABLE,`${e}: ${s}`);throw s}class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Te.comparator(i.key,a.key):(i,a)=>Te.comparator(i.key,a.key),this.keyedMap=jo(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new pl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class gv{constructor(){this.ga=new It(Te.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Al{constructor(e,i,a,o,c,d,y,p,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Al(e,i,pl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class yI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _I{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ve(i),c=o.queries;o.queries=yv(),c.forEach(((d,y)=>{for(const p of y.ba)p.onError(a)}))})(this,new _e(ne.ABORTED,"Firestore shutting down"))}}function yv(){return new pa((s=>tE(s)),Vh)}async function LE(s,e){const i=Ve(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new yI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=_p(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&vp(i)}async function PE(s,e){const i=Ve(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function vI(s,e){const i=Ve(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(o)&&(a=!0);d.wa=o}}a&&vp(i)}function EI(s,e,i){const a=Ve(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function vp(s){s.Ca.forEach((e=>{e.next()}))}var Cm,_v;(_v=Cm||(Cm={})).Ma="default",_v.Cache="cache";class zE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Al(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class BE{constructor(e){this.key=e}}class HE{constructor(e){this.key=e}}class TI{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.eu=nE(e),this.tu=new pl(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new gv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const M=o.get(S),K=kh(this.query,w)?w:null,re=!!M&&this.mutatedKeys.has(M.key),ue=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let oe=!1;M&&K?M.data.isEqual(K.data)?re!==ue&&(a.track({type:3,doc:K}),oe=!0):this.su(M,K)||(a.track({type:2,doc:K}),oe=!0,(p&&this.eu(K,p)>0||_&&this.eu(K,_)<0)&&(y=!0)):!M&&K?(a.track({type:0,doc:K}),oe=!0):M&&!K&&(a.track({type:1,doc:M}),oe=!0,(p||_)&&(y=!0)),oe&&(K?(d=d.add(K),c=ue?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(K,re){const ue=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:oe})}};return ue(K)-ue(re)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,_=p!==this.Xa;return this.Xa=p,d.length!==0||_?{snapshot:new Al(this.query,e.tu,c,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new HE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new BE(a))})),i}cu(e){this.Za=e.ks,this.Ya=$e();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ep="SyncEngine";class bI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class SI{constructor(e){this.key=e,this.hu=!1}}class AI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((y=>tE(y)),Vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new It(Te.comparator),this.Au=new Map,this.Vu=new up,this.du={},this.mu=new Map,this.fu=Sl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wI(s,e,i=!0){const a=QE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await qE(a,e,i,!0),o}async function xI(s,e){const i=QE(s);await qE(i,e,!0,!1)}async function qE(s,e,i,a){const o=await FR(s.localStore,Yi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await RI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&OE(s.remoteStore,o),y}async function RI(s,e,i,a,o){s.pu=(w,M,K)=>(async function(ue,oe,be,ke){let xe=oe.view.ru(be);xe.Ss&&(xe=await cv(ue.localStore,oe.query,!1).then((({documents:I})=>oe.view.ru(I,xe))));const at=ke&&ke.targetChanges.get(oe.targetId),vt=ke&&ke.targetMismatches.get(oe.targetId)!=null,Je=oe.view.applyChanges(xe,ue.isPrimaryClient,at,vt);return Ev(ue,oe.targetId,Je.au),Je.snapshot})(s,w,M,K);const c=await cv(s.localStore,e,!0),d=new TI(e,c.ks),y=d.ru(c.documents),p=du.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,p);Ev(s,i,_.au);const S=new bI(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function II(s,e,i){const a=Ve(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&dp(a.remoteStore,o.targetId),Nm(a,o.targetId)})).catch(Cl)):(Nm(a,o.targetId),await Rm(a.localStore,o.targetId,!0))}async function CI(s,e){const i=Ve(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dp(i.remoteStore,a.targetId))}async function NI(s,e,i){const a=jI(s);try{const o=await(function(d,y){const p=Ve(d),_=bt.now(),S=y.reduce(((K,re)=>K.add(re.key)),$e());let w,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let re=Ns(),ue=$e();return p.xs.getEntries(K,S).next((oe=>{re=oe,re.forEach(((be,ke)=>{ke.isValidDocument()||(ue=ue.add(be))}))})).next((()=>p.localDocuments.getOverlayedDocuments(K,re))).next((oe=>{w=oe;const be=[];for(const ke of y){const xe=Gx(ke,w.get(ke.key).overlayedDocument);xe!=null&&be.push(new Cr(ke.key,xe,Q1(xe.value.mapValue),Ti.exists(!0)))}return p.mutationQueue.addMutationBatch(K,_,be,y)})).next((oe=>{M=oe;const be=oe.applyToLocalDocumentSet(w,ue);return p.documentOverlayCache.saveOverlays(K,oe.batchId,be)}))})).then((()=>({batchId:M.batchId,changes:sE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,p){let _=d.du[d.currentUser.toKey()];_||(_=new It(Xe)),_=_.insert(y,p),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await pu(a,o.changes),await Bh(a.remoteStore)}catch(o){const c=_p(o,"Failed to persist write");i.reject(c)}}async function GE(s,e){const i=Ve(s);try{const a=await HR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?lt(d.hu,14607):o.removedDocuments.size>0&&(lt(d.hu,42227),d.hu=!1))})),await pu(i,a,e)}catch(a){await Cl(a)}}function vv(s,e,i){const a=Ve(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const p=Ve(d);p.onlineState=y;let _=!1;p.queries.forEach(((S,w)=>{for(const M of w.ba)M.va(y)&&(_=!0)})),_&&vp(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function DI(s,e,i){const a=Ve(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new It(Te.comparator);d=d.insert(c,yn.newNoDocument(c,Oe.min()));const y=$e().add(c),p=new Lh(Oe.min(),new Map,new It(Xe),d,y);await GE(a,p),a.Ru=a.Ru.remove(c),a.Au.delete(e),Tp(a)}else await Rm(a.localStore,e,!1).then((()=>Nm(a,e,i))).catch(Cl)}async function OI(s,e){const i=Ve(s),a=e.batch.batchId;try{const o=await BR(i.localStore,e);YE(i,a,null),FE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await pu(i,o)}catch(o){await Cl(o)}}async function MI(s,e,i){const a=Ve(s);try{const o=await(function(d,y){const p=Ve(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return p.mutationQueue.lookupMutationBatch(_,y).next((w=>(lt(w!==null,37113),S=w.keys(),p.mutationQueue.removeMutationBatch(_,w)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>p.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);YE(a,e,i),FE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await pu(a,o)}catch(o){await Cl(o)}}function FE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function YE(s,e,i){const a=Ve(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Nm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||KE(s,a)}))}function KE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(dp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Tp(s))}function Ev(s,e,i){for(const a of i)a instanceof BE?(s.Vu.addReference(a.key,e),VI(s,a)):a instanceof HE?(fe(Ep,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||KE(s,a.key)):we(19791,{wu:a})}function VI(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(fe(Ep,"New document in limbo: "+i),s.Eu.add(a),Tp(s))}function Tp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Te(Rt.fromString(e)),a=s.fu.next();s.Au.set(a,new SI(i)),s.Ru=s.Ru.insert(i,a),OE(s.remoteStore,new pr(Yi(Mh(i.path)),a,"TargetPurposeLimboResolution",Ch.ce))}}async function pu(s,e,i){const a=Ve(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=hp.Es(p.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(p,_){const S=Ve(p);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(M=>Z.forEach(M.Ts,(K=>S.persistence.referenceDelegate.addReference(w,M.targetId,K))).next((()=>Z.forEach(M.Is,(K=>S.persistence.referenceDelegate.removeReference(w,M.targetId,K)))))))))}catch(w){if(!Nl(w))throw w;fe(fp,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const K=S.vs.get(M),re=K.snapshotVersion,ue=K.withLastLimboFreeSnapshotVersion(re);S.vs=S.vs.insert(M,ue)}}})(a.localStore,c))}async function kI(s,e){const i=Ve(s);if(!i.currentUser.isEqual(e)){fe(Ep,"User change. New user:",e.toKey());const a=await IE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new _e(ne.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await pu(i,a.Ns)}}function UI(s,e){const i=Ve(s),a=i.Au.get(e);if(a&&a.hu)return $e().add(a.key);{let o=$e();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function QE(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DI.bind(null,e),e.Pu.J_=vI.bind(null,e.eventManager),e.Pu.yu=EI.bind(null,e.eventManager),e}function jI(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MI.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return zR(this.persistence,new jR,e.initialUser,this.serializer)}Cu(e){return new RE(cp.Vi,this.serializer)}Du(e){return new KR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class LI extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){lt(this.persistence.referenceDelegate instanceof vh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new bR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new RE((a=>vh.Vi(a,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>vv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=kI.bind(null,this.syncEngine),await gI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _I})()}createDatastore(e){const i=Ph(e.databaseInfo.databaseId),a=ZR(e.databaseInfo);return iI(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new rI(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new QR})())}createSyncEngine(e,i){return(function(o,c,d,y,p,_,S){const w=new AI(o,c,d,y,p,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ve(i);fe(da,"RemoteStore shutting down."),a.Ea.add(5),await mu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class XE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Rr="FirestoreClient";class PI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{fe(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(fe(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_p(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function rm(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await IE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Tv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await zI(s);fe(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>pv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>pv(e.remoteStore,o))),s._onlineComponents=e}async function zI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Rr,"Using user provided OfflineComponentProvider");try{await rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;_l("Error using user provided cache. Falling back to memory cache: "+i),await rm(s,new Th)}}else fe(Rr,"Using default OfflineComponentProvider"),await rm(s,new LI(void 0));return s._offlineComponents}async function $E(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Rr,"Using user provided OnlineComponentProvider"),await Tv(s,s._uninitializedComponentsProvider._online)):(fe(Rr,"Using default OnlineComponentProvider"),await Tv(s,new Dm))),s._onlineComponents}function BI(s){return $E(s).then((e=>e.syncEngine))}async function Om(s){const e=await $E(s),i=e.eventManager;return i.onListen=wI.bind(null,e.syncEngine),i.onUnlisten=II.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=xI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=CI.bind(null,e.syncEngine),i}function HI(s,e,i,a){const o=new XE(a),c=new zE(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>LE(await Om(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>PE(await Om(s),c)))}}function qI(s,e,i={}){const a=new Er;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,p,_){const S=new XE({next:M=>{S.Nu(),d.enqueueAndForget((()=>PE(c,w)));const K=M.docs.has(y);!K&&M.fromCache?_.reject(new _e(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&M.fromCache&&p&&p.source==="server"?_.reject(new _e(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new zE(Mh(y.path),S,{includeMetadataChanges:!0,Ka:!0});return LE(c,w)})(await Om(s),s.asyncQueue,e,i,a))),a.promise}function GI(s,e){const i=new Er;return s.asyncQueue.enqueueAndForget((async()=>NI(await BI(s),e,i))),i.promise}function JE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const FI="ComponentProvider",bv=new Map;function YI(s,e,i,a,o){return new dx(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,JE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const ZE="firestore.googleapis.com",Sv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=Sv}else this.host=e.host,this.ssl=e.ssl??Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ER)throw new _e(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new F2;switch(a.type){case"firstParty":return new X2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=bv.get(i);a&&(fe(FI,"Removing Datastore"),bv.delete(i),a.terminate())})(this),Promise.resolve()}}function KI(s,e,i,a={}){s=Ei(s,bp);const o=wl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(Fv(`https://${y}`),Yv("Firestore",!0)),c.host!==ZE&&c.host!==y&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:o,emulatorOptions:a};if(!Tr(p,d)&&(s._setSettings(p),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=gn.MOCK_USER;else{_=dS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new _e(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new gn(w)}s._authCredentials=new Y2(new j1(_,S))}}class Hh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Hh(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(hu(i,Qt._jsonSchema))return new Qt(e,a||null,new Te(Rt.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Kt("string",Qt._jsonSchemaVersion),referencePath:Kt("string")};class eu extends Hh{constructor(e,i,a){super(e,i,Mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Te(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function Gt(s,e,...i){if(s=bn(s),arguments.length===1&&(e=Jm.newId()),tx("doc","path",e),s instanceof bp){const a=Rt.fromString(e,...i);return L_(a),new Qt(s,null,new Te(a))}{if(!(s instanceof Qt||s instanceof eu))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Rt.fromString(e,...i));return L_(a),new Qt(s.firestore,s instanceof eu?s.converter:null,new Te(a))}}const wv="AsyncQueue";class xv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&fe(wv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;fe(wv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",Rv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=yp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:Rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Rv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ma extends bp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new xv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xv(e),this._firestoreClient=void 0,await e}}}function QI(s,e){const i=typeof s=="object"?s:$v(),a=typeof s=="string"?s:dh,o=Bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=hS("firestore");c&&KI(o,...c)}return o}function Sp(s){if(s._terminated)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||XI(s),s._firestoreClient}function XI(s){const e=s._freezeSettings(),i=YI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new PI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(dn.fromBase64String(e))}catch(i){throw new _e(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Kt("string",si._jsonSchemaVersion),bytes:Kt("string")};class Ap{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new _e(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gu{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new _e(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new _e(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Kt("string",Qi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new bi(e.vectorValues);throw new _e(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Kt("string",bi._jsonSchemaVersion),vectorValues:Kt("object")};const $I=/^__.*__$/;class JI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new fu(e,this.data,i,this.fieldTransforms)}}class WE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function eT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:s})}}class qh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eT(this.dataSource)&&$I.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ZI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ph(e)}createContext(e,i,a,o=!1){return new qh({dataSource:e,methodName:i,targetDoc:a,path:fn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tT(s){const e=s._freezeSettings(),i=Ph(s._databaseId);return new ZI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function WI(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Rp("Data must be an object, but it was:",d,a);const y=nT(a,d);let p,_;if(c.merge)p=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const M=tu(e,w,i);if(!d.contains(M))throw new _e(ne.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);rT(S,M)||S.push(M)}p=new qn(S),_=d.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,_=d.fieldTransforms;return new JI(new On(y),p,_)}class Gh extends gu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function eC(s,e,i){return new qh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wp extends gu{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=eC(this,e,!0),a=this.Ac.map((c=>yu(c,i))),o=new bl(a);return new fE(e.path,o)}isEqual(e){return e instanceof wp&&Tr(this.Ac,e.Ac)}}class xp extends gu{constructor(e,i){super(e),this.Vc=i}_toFieldTransform(e){const i=new Wo(e.serializer,lE(e.serializer,this.Vc));return new fE(e.path,i)}isEqual(e){return e instanceof xp&&this.Vc===e.Vc}}function tC(s,e,i,a){const o=s.createContext(1,e,i);Rp("Data must be an object, but it was:",o,a);const c=[],d=On.empty();Ir(a,((p,_)=>{const S=sT(e,p,i);_=bn(_);const w=o.childContextForFieldPath(S);if(_ instanceof Gh)c.push(S);else{const M=yu(_,w);M!=null&&(c.push(S),d.set(S,M))}}));const y=new qn(c);return new WE(d,y,o.fieldTransforms)}function nC(s,e,i,a,o,c){const d=s.createContext(1,e,i),y=[tu(e,a,i)],p=[o];if(c.length%2!=0)throw new _e(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(tu(e,c[M])),p.push(c[M+1]);const _=[],S=On.empty();for(let M=y.length-1;M>=0;--M)if(!rT(_,y[M])){const K=y[M];let re=p[M];re=bn(re);const ue=d.childContextForFieldPath(K);if(re instanceof Gh)_.push(K);else{const oe=yu(re,ue);oe!=null&&(_.push(K),S.set(K,oe))}}const w=new qn(_);return new WE(S,w,d.fieldTransforms)}function yu(s,e){if(iT(s=bn(s)))return Rp("Unsupported field value:",e,s),nT(s,e);if(s instanceof gu)return(function(a,o){if(!eT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let p=yu(y,o.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=bn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=bt.fromDate(a);return{timestampValue:_h(o.serializer,c)}}if(a instanceof bt){const c=new bt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:_h(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:_E(o.serializer,a._byteString)};if(a instanceof Qt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:op(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof bi)return(function(d,y){const p=d instanceof bi?d.toArray():d;return{mapValue:{fields:{[Y1]:{stringValue:K1},[mh]:{arrayValue:{values:p.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return sp(y.serializer,S)}))}}}}}})(a,o);if(wE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Zm(a)}`)})(s,e)}function nT(s,e){const i={};return z1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(s,((a,o)=>{const c=yu(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function iT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof bt||s instanceof Qi||s instanceof si||s instanceof Qt||s instanceof gu||s instanceof bi||wE(s))}function Rp(s,e,i){if(!iT(i)||!L1(i)){const a=Zm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function tu(s,e,i){if((e=bn(e))instanceof Ap)return e._internalPath;if(typeof e=="string")return sT(s,e);throw bh("Field path arguments must be of type string or ",s,!1,void 0,i)}const iC=new RegExp("[~\\*/\\[\\]]");function sT(s,e,i){if(e.search(iC)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ap(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function bh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new _e(ne.INVALID_ARGUMENT,y+s+p)}function rT(s,e){return s.some((i=>i.isEqual(e)))}class sC{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ir(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[mh].arrayValue?.values?.map((a=>Ut(a.doubleValue)));return new bi(i)}convertGeoPoint(e){return new Qi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Dh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Xo(e));default:return null}}convertTimestamp(e){const i=Sr(e);return new bt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Rt.fromString(e);lt(AE(a),9688,{name:e});const o=new $o(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return o.isEqual(i)||Cs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class aT extends sC{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function vs(...s){return new wp("arrayUnion",s)}function Es(s){return new xp("increment",s)}const Iv="@firebase/firestore",Cv="4.10.0";function Nv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class lT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(tu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class rC extends lT{data(){return super.data()}}function aC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new _e(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function lC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Po{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends lT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(tu("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Kt("string",ua._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class ih extends ua{data(e={}){return super.data(e)}}class gl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Po(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new ih(this._firestore,this._userDataWriter,a.key,a,new Po(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _e(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const p=new ih(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Po(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new ih(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Po(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:oC(y.type),doc:p,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Kt("string",gl._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};function uC(s){s=Ei(s,Qt);const e=Ei(s.firestore,ma),i=Sp(e);return qI(i,s._key).then((a=>oT(e,s,a)))}function cC(s,e,i){s=Ei(s,Qt);const a=Ei(s.firestore,ma),o=lC(s.converter,e),c=tT(a);return Ip(a,[WI(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ti.none())])}function cn(s,e,i,...a){s=Ei(s,Qt);const o=Ei(s.firestore,ma),c=tT(o);let d;return d=typeof(e=bn(e))=="string"||e instanceof Ap?nC(c,"updateDoc",s._key,e,i,a):tC(c,"updateDoc",s._key,e),Ip(o,[d.toMutation(s._key,Ti.exists(!0))])}function hC(s){return Ip(Ei(s.firestore,ma),[new rp(s._key,Ti.none())])}function Dv(s,...e){s=bn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Nv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Nv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof Qt)d=Ei(s.firestore,ma),y=Mh(s._key.path),c={next:_=>{e[a]&&e[a](oT(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Ei(s,Hh);d=Ei(_.firestore,ma),y=_._query;const S=new aT(d);c={next:w=>{e[a]&&e[a](new gl(d,S,_,w))},error:e[a+1],complete:e[a+2]},aC(s._query)}const p=Sp(d);return HI(p,y,o,c)}function Ip(s,e){const i=Sp(s);return GI(i,e)}function oT(s,e,i){const a=i.docs.get(e._key),o=new aT(s);return new ua(s,o,e._key,a,new Po(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){G2(xl),yl(new ca("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ma(new K2(a.getProvider("auth-internal")),new $2(d,a.getProvider("app-check-internal")),mx(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),_r(Iv,Cv,e),_r(Iv,Cv,"esm2020")})();const uT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const fC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const dC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Ov=s=>{const e=dC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var mC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const gC=Ke.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},p)=>Ke.createElement("svg",{ref:p,...mC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:uT("lucide",o),...!c&&!pC(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>Ke.createElement(_,S)),...Array.isArray(c)?c:[c]]));const qe=(s,e)=>{const i=Ke.forwardRef(({className:a,...o},c)=>Ke.createElement(gC,{ref:c,iconNode:e,className:uT(`lucide-${fC(Ov(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Ov(s),i};const yC=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],_C=qe("arrow-left-right",yC);const vC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],EC=qe("arrow-right",vC);const TC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Yc=qe("award",TC);const bC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Mm=qe("book-open",bC);const SC=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],cT=qe("bug",SC);const AC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ul=qe("circle-check-big",AC);const wC=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mv=qe("circle-play",wC);const xC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vv=qe("circle-question-mark",xC);const RC=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],IC=qe("code",RC);const CC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],NC=qe("copy",CC);const DC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Sh=qe("cpu",DC);const OC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Vm=qe("crown",OC);const MC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Cp=qe("database",MC);const VC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],kC=qe("ghost",VC);const UC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],jC=qe("hammer",UC);const LC=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],PC=qe("hard-drive",LC);const zC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],BC=qe("history",zC);const HC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],qC=qe("house",HC);const GC=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],FC=qe("loader",GC);const YC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ah=qe("lock",YC);const KC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],am=qe("log-out",KC);const QC=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],XC=qe("radio",QC);const $C=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],JC=qe("scan-eye",$C);const ZC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hT=qe("search",ZC);const WC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],eN=qe("server",WC);const tN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Np=qe("shield",tN);const nN=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],iN=qe("skip-forward",nN);const sN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],fT=qe("skull",sN);const rN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kv=qe("sparkles",rN);const aN=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],dT=qe("syringe",aN);const lN=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],oN=qe("terminal",lN);const uN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],km=qe("trash-2",uN);const cN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wh=qe("triangle-alert",cN);const hN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mT=qe("user",hN);const fN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Um=qe("wifi",fN);const dN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nu=qe("x",dN);const mN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jm=qe("zap",mN),pN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:9afd57573258c43a6aa637"},pT=Xv(pN),lm=H2(pT),Ft=QI(pT),$t=typeof __app_id<"u"?__app_id:"masquerade-protocol-game",gN="17",Nn={FIREWALL:{id:"FIREWALL",name:"Firewall",icon:Np,color:"text-orange-500",bg:"bg-orange-950/50",border:"border-orange-600",passive:"Higher Tolerance: You are eliminated at 4 Viruses instead of 3.",glitch:"Purge: Discard all VIRUS cards in your hand and draw that many new cards."},SEARCH_ENGINE:{id:"SEARCH_ENGINE",name:"Search Engine",icon:hT,color:"text-blue-400",bg:"bg-blue-950/50",border:"border-blue-600",passive:"Scan: Peek at 1 random card from a player's hand once per turn.",glitch:"Index & Extract: Look at target's hand and steal 1 card of your choice."},MINER:{id:"MINER",name:"Data Miner",icon:PC,color:"text-emerald-400",bg:"bg-emerald-950/50",border:"border-emerald-600",passive:"Draw 2 cards instead of 1 at start of turn.",glitch:"Jackpot: Draw 3 cards immediately."},GHOST:{id:"GHOST",name:"Ghost Process",icon:kC,color:"text-purple-400",bg:"bg-purple-950/50",border:"border-purple-600",passive:"Cannot be targeted by Glitch effects.",glitch:"Haunt: Swap your entire hand with target player."},ADMIN:{id:"ADMIN",name:"Sys Admin",icon:oN,color:"text-red-500",bg:"bg-red-950/50",border:"border-red-600",passive:"Hand Limit increased by 2.",glitch:"Sudo: Force target player to discard 2 random cards."}},Ts={COLLECTOR:{id:"COLLECTOR",name:"The Collector",desc:"Win if you have 5 INTEL cards in hand.",icon:Cp,color:"text-cyan-400"},SABOTEUR:{id:"SABOTEUR",name:"The Saboteur",desc:"Win if you hold at least 1 of each card type: INTEL, VIRUS, PING, PATCH.",icon:cT,color:"text-lime-400"},ANARCHIST:{id:"ANARCHIST",name:"The Anarchist",desc:"Win if at least 2 other living players are CRITICAL (holding 2+ VIRUS cards).",icon:wh,color:"text-yellow-400"},SURVIVOR:{id:"SURVIVOR",name:"The Survivor",desc:"Win if you survive 1 System Crash (Global), or be the last player standing.",icon:Np,color:"text-orange-400"},CORRUPTOR:{id:"CORRUPTOR",name:"The Corruptor",desc:"Win if you hold 4 VIRUS cards. (Overrides Elimination).",icon:fT,color:"text-fuchsia-400"},HACKER:{id:"HACKER",name:"The Hacker",desc:"Win if you use the PING card 3 times.",icon:XC,color:"text-indigo-400"},ANTIVIRUS:{id:"ANTIVIRUS",name:"Antivirus",desc:"Win if you successfully use a PATCH to remove a VIRUS 2 times.",icon:dT,color:"text-teal-400"}},yN={name:"Encrypted Signal",desc:"This player's objective is hidden. It will be revealed if they activate their Glitch.",icon:Ah,color:"text-slate-500"},iu={INTEL:{id:"INTEL",name:"Intel Packet",type:"RESOURCE",desc:"Collect these. Trade to swap data.",icon:IC,color:"text-cyan-300"},VIRUS:{id:"VIRUS",name:"Corrupt File",type:"HAZARD",desc:"3 Viruses = Crash. Trade to pass the bomb.",icon:cT,color:"text-lime-400"},PING:{id:"PING",name:"Ping",type:"ACTION",desc:"Target player reveals 1 random card.",icon:Um,color:"text-yellow-400"},PATCH:{id:"PATCH",name:"Patch",type:"ACTION",desc:"Discard this to remove 1 Virus from your hand.",icon:ul,color:"text-blue-400"}},Uv=[...Array(18).fill("INTEL"),...Array(10).fill("VIRUS"),...Array(6).fill("PING"),...Array(6).fill("PATCH")],_i=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},Kc=({isShaking:s})=>E.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(iu),o=iu[a[i%a.length]].icon;return E.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:E.jsx(o,{size:32})},i)})}),E.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),jv=()=>E.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none",children:[E.jsx(Sh,{size:16,className:"text-cyan-500 animate-pulse"}),E.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase font-mono shadow-cyan-500/50 drop-shadow-md",children:"MASQUERADE PROTOCOL"})]}),_N=()=>E.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none",children:[E.jsx(Sh,{size:22,className:"text-cyan-500 animate-pulse"}),E.jsx("span",{className:"text-[20px] font-black tracking-[0.2em] text-cyan-500 uppercase font-mono shadow-cyan-500/50 drop-shadow-md",children:"MASQUERADE PROTOCOL"})]}),vN=({players:s,onSelect:e,onSkip:i})=>E.jsx("div",{className:"fixed inset-0 bg-black/30 z-190 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border-2 border-blue-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(59,130,246,0.3)] text-center relative",children:[E.jsxs("h3",{className:"text-xl font-black text-blue-400 mb-4 uppercase tracking-widest flex items-center justify-center gap-2",children:[E.jsx(JC,{size:24})," Passive Scan"]}),E.jsx("p",{className:"text-slate-400 text-xs mb-6",children:"Search Engine Protocol: Select a target to reveal one random data packet from their hand."}),E.jsx("div",{className:"grid gap-2 mb-4",children:s.map(a=>E.jsxs("button",{onClick:()=>e(a.id),className:"w-full p-3 bg-slate-800 hover:bg-blue-900/30 border border-slate-700 hover:border-blue-500 rounded flex items-center justify-between group transition-all",children:[E.jsx("span",{className:"font-bold text-slate-200 group-hover:text-blue-300",children:a.name}),E.jsxs("div",{className:"text-[10px] bg-slate-950 px-2 py-1 rounded text-slate-500",children:[a.hand.length," Cards"]})]},a.id))}),E.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Skip Scan"})]})}),EN=({targetPlayer:s,onSelect:e,onCancel:i})=>E.jsx("div",{className:"fixed inset-0 bg-black/95 z-200 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border-2 border-fuchsia-500 p-6 rounded-xl max-w-lg w-full shadow-[0_0_30px_rgba(217,70,239,0.3)] text-center relative",children:[E.jsxs("h3",{className:"text-xl font-black text-fuchsia-400 mb-2 uppercase tracking-widest flex items-center justify-center gap-2",children:[E.jsx(Cp,{size:24})," INDEX & EXTRACT"]}),E.jsxs("p",{className:"text-slate-300 text-sm mb-6",children:["Viewing ",E.jsx("strong",{children:s.name}),"'s database. ",E.jsx("br",{}),E.jsx("span",{className:"text-white font-bold",children:"Select 1 packet to download (steal)."})]}),E.jsx("div",{className:"flex justify-center flex-wrap gap-4 mb-6",children:s.hand.map((a,o)=>E.jsxs("div",{className:"hover:scale-110 transition-transform cursor-pointer relative group",onClick:()=>e(a,o),children:[E.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-fuchsia-600 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"STEAL THIS"}),E.jsx(Fh,{type:a})]},o))}),E.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Cancel Glitch"})]})}),TN=({hand:s,limit:e,onConfirm:i,onCancel:a})=>{const[o,c]=Ke.useState([]),d=s.length-e,y=p=>{o.includes(p)?c(_=>_.filter(S=>S!==p)):o.length<d&&c(_=>[..._,p])};return E.jsx("div",{className:"fixed inset-0 bg-black/95 z-200 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border-2 border-red-500/50 p-6 rounded-xl max-w-lg w-full shadow-[0_0_30px_rgba(220,38,38,0.3)] text-center relative",children:[E.jsxs("h3",{className:"text-xl font-black text-red-400 mb-2 uppercase tracking-widest flex items-center justify-center gap-2",children:[E.jsx(wh,{size:24})," Memory Overflow"]}),E.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:["Hand limit exceeded (",s.length,"/",e,")."]}),E.jsxs("p",{className:"text-white font-bold text-lg mb-6",children:["Select ",E.jsx("span",{className:"text-red-400",children:d})," data packet(s) to purge."]}),E.jsx("div",{className:"flex justify-center flex-wrap gap-4 mb-8",children:s.map((p,_)=>{const S=o.includes(_);return E.jsxs("div",{onClick:()=>y(_),className:`transition-all duration-200 cursor-pointer ${S?"scale-90 opacity-50 grayscale ring-2 ring-red-500 rounded-lg":"hover:scale-105"}`,children:[E.jsx(Fh,{type:p,small:!0}),S&&E.jsx("div",{className:"mt-1 text-[10px] text-red-500 font-bold uppercase tracking-wider",children:"Purging"})]},_)})}),E.jsx("button",{onClick:()=>i(o),disabled:o.length!==d,className:`w-full py-3 rounded font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all ${o.length===d?"bg-red-600 hover:bg-red-500 text-white shadow-[0_0_15px_rgba(220,38,38,0.5)]":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:o.length===d?E.jsxs(E.Fragment,{children:[E.jsx(km,{size:18})," Confirm Purge & End Turn"]}):E.jsxs(E.Fragment,{children:["Select ",d-o.length," more"]})})]})})},bN=({item:s,onClose:e,onActivateGlitch:i,canGlitch:a})=>{if(!s)return null;const o=s.passive!==void 0;return E.jsx("div",{className:"fixed inset-0 bg-black/90 z-170 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",onClick:e,children:E.jsxs("div",{className:"bg-slate-900 border border-cyan-500/50 p-6 rounded-xl max-w-sm w-full shadow-2xl relative",onClick:c=>c.stopPropagation(),children:[E.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:E.jsx(nu,{})}),E.jsxs("div",{className:"flex flex-col items-center text-center",children:[E.jsx("div",{className:"p-4 rounded-full bg-slate-800 mb-4 border border-slate-600",children:la.createElement(s.icon,{size:48,className:s.color||"text-white"})}),E.jsx("h3",{className:"text-2xl font-bold text-white mb-1 uppercase tracking-widest",children:s.name}),E.jsx("div",{className:"text-xs text-slate-500 mb-6 uppercase tracking-wider",children:o?"Public Identity":"Hidden Agenda"}),E.jsx("div",{className:"space-y-4 w-full text-left bg-slate-950/50 p-4 rounded border border-slate-800",children:o?E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-cyan-400 font-bold block text-xs uppercase mb-1",children:"Passive Ability"}),E.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.passive})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Glitch (Ultimate)"}),E.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.glitch})]})]}):E.jsxs("div",{children:[E.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Win Condition"}),E.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.desc})]})}),i&&E.jsx("div",{className:"mt-6 w-full",children:a?E.jsxs("button",{onClick:i,className:"w-full py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded flex items-center justify-center gap-2 animate-pulse shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:[E.jsx(jm,{size:18})," ACTIVATE GLITCH"]}):E.jsx("div",{className:"w-full py-3 bg-slate-800 text-slate-500 font-bold rounded flex items-center justify-center gap-2 cursor-not-allowed",children:"GLITCH UNAVAILABLE"})})]})]})})},SN=({data:s,onClose:e})=>s?E.jsx("div",{className:"fixed inset-0 bg-black/95 z-180 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"bg-slate-900 border-2 border-yellow-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(234,179,8,0.3)] text-center relative",children:[E.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:E.jsx(nu,{})}),E.jsx("h3",{className:"text-xl font-black text-yellow-400 mb-2 uppercase tracking-widest",children:s.title}),E.jsx("p",{className:"text-slate-300 mb-6 font-bold",children:s.message}),s.cards&&s.cards.length>0&&E.jsx("div",{className:"flex justify-center gap-4 flex-wrap mb-6",children:s.cards.map((i,a)=>E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("div",{className:"mb-1 text-[10px] text-slate-500 uppercase tracking-wider",children:i.label}),E.jsx("div",{className:"scale-90 origin-top",children:E.jsx(Fh,{type:i.type})})]},a))}),E.jsx("button",{onClick:e,className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded uppercase tracking-wider",children:"Dismiss"})]})}):null,AN=({type:s,message:e,subtext:i,icon:a})=>E.jsx("div",{className:"fixed inset-0 z-160 flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:E.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-xl relative overflow-hidden
      ${s==="glitch"?"bg-fuchsia-900/80 border-fuchsia-500 text-fuchsia-100":s==="success"?"bg-green-900/80 border-green-500 text-green-100":s==="failure"?"bg-red-900/80 border-red-500 text-red-100":"bg-cyan-900/80 border-cyan-500 text-cyan-100"}
    `,children:[s==="glitch"&&E.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,#fff_3px)]"}),a&&E.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border border-white/10",children:E.jsx(a,{size:64,className:"animate-pulse"})}),E.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-md mb-2 font-mono",children:e}),i&&E.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center font-mono",children:i})]})}),Fh=({type:s,onClick:e,disabled:i,highlight:a,small:o,tiny:c})=>{const d=iu[s];if(!d)return E.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return E.jsx("div",{className:"w-5 h-7 rounded flex items-center justify-center bg-slate-800 border border-slate-600 shadow-sm",title:d.name,children:E.jsx(d.icon,{size:12,className:d.color})});const y=o?"w-16 h-24 p-1":"w-24 h-32 md:w-28 md:h-40 p-2";return E.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-lg border border-slate-600 bg-slate-900 shadow-lg transition-all flex flex-col items-center justify-between
        ${y}
        ${a?"ring-2 ring-cyan-400 scale-105 z-10":""}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 cursor-pointer hover:border-slate-400"}
      `,children:[E.jsx("div",{className:"w-full text-right",children:E.jsx("div",{className:`w-2 h-2 rounded-full ${d.color.replace("text","bg")} ml-auto`})}),E.jsx(d.icon,{size:o?20:32,className:d.color}),E.jsxs("div",{className:"text-center w-full",children:[E.jsx("div",{className:"text-[10px] md:text-xs font-bold text-white leading-none mb-1 font-mono",children:d.name}),!o&&E.jsx("div",{className:"text-[8px] text-slate-400 leading-tight",children:d.type})]})]})},Lv=({onClose:s})=>E.jsx("div",{className:"fixed inset-0 bg-black/95 z-100 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col shadow-[0_0_50px_rgba(6,182,212,0.2)] overflow-hidden font-mono",children:[E.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[E.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 flex items-center gap-2 tracking-wider",children:[E.jsx(Mm,{className:"text-cyan-500"})," SYSTEM MANUAL"]}),E.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:E.jsx(nu,{})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-slate-300",children:[E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[E.jsx(Vm,{size:20,className:"text-yellow-400"})," Objective"]}),E.jsxs("p",{className:"mb-4",children:["You are a rogue AI. Collect"," ",E.jsx("strong",{className:"text-yellow-400",children:"Golden Chips"})," by winning rounds. The first player to collect"," ",E.jsx("strong",{className:"text-yellow-400",children:"3 Chips"})," becomes the Grand Champion."]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[E.jsx(mT,{size:20,className:"text-cyan-400"})," Public Avatars (Roles)"]}),E.jsx("p",{className:"text-xs text-slate-500 mb-4",children:'Every player is assigned a public role visible to everyone. These grant passive bonuses and powerful "Glitch" ultimates.'}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values(Nn).map(e=>E.jsxs("div",{className:`p-3 rounded border border-l-4 bg-slate-800/50 ${e.border} border-l-[${e.color.replace("text-","")}]`,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[la.createElement(e.icon,{size:20,className:e.color}),E.jsx("strong",{className:`uppercase ${e.color}`,children:e.name})]}),E.jsxs("ul",{className:"text-xs space-y-1",children:[E.jsxs("li",{className:"flex gap-2",children:[E.jsx("span",{className:"text-cyan-500 font-bold min-w-[50px]",children:"PASSIVE:"}),E.jsx("span",{className:"text-slate-300",children:e.passive})]}),E.jsxs("li",{className:"flex gap-2",children:[E.jsx("span",{className:"text-fuchsia-500 font-bold min-w-[50px]",children:"GLITCH:"}),E.jsx("span",{className:"text-slate-300",children:e.glitch})]})]})]},e.id))})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[E.jsx(Ah,{size:20,className:"text-fuchsia-400"})," Secret Directives"]}),E.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Your true win condition. Hidden from others until you activate your Glitch."}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.values(Ts).map(e=>E.jsxs("div",{className:"p-3 rounded border border-l-4 border-l-fuchsia-500 border-slate-700 bg-slate-800/50 flex flex-col justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[la.createElement(e.icon,{size:16,className:e.color}),E.jsx("strong",{className:`text-sm uppercase ${e.color}`,children:e.name})]}),E.jsx("div",{className:"text-xs text-slate-300",children:e.desc})]},e.id))})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[E.jsx(Cp,{size:20,className:"text-green-400"})," Data Packets"]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:Object.values(iu).map(e=>E.jsxs("div",{className:"bg-slate-950 p-3 rounded border border-slate-800 flex flex-col items-center text-center",children:[E.jsx(e.icon,{size:24,className:`mb-2 ${e.color}`}),E.jsx("div",{className:`font-bold text-sm mb-1 ${e.color}`,children:e.name}),E.jsx("div",{className:"text-[10px] bg-slate-900 px-2 py-0.5 rounded text-slate-400 mb-2 uppercase tracking-wider",children:e.type}),E.jsx("p",{className:"text-xs text-slate-400",children:e.desc})]},e.id))})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-3 border-b border-slate-700 pb-2",children:"Core Mechanics"}),E.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-400",children:[E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"Crash:"})," Holding 3 Viruses causes Immediate Elimination."]}),E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"Glitch:"})," A one-time ultimate ability. Activating it reveals your Secret Directive to everyone."]}),E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"Trade:"})," Select an INTEL or VIRUS card, then select a target. You give them your card, and blindly take one random card from their hand."]}),E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"Hand Limit:"})," 5 Cards (7 for Admin). You must discard or skip turn if full."]})]})]})]}),E.jsx("div",{className:"p-4 bg-slate-950 border-t border-slate-800",children:E.jsx("button",{onClick:s,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 py-3 rounded font-bold transition-all",children:"ACKNOWLEDGE"})})]})});function wN(){const[s,e]=Ke.useState(null),[i,a]=Ke.useState("menu"),[o,c]=Ke.useState(""),[d,y]=Ke.useState(localStorage.getItem("masquerade_room_id")||""),[p,_]=Ke.useState(null),[S,w]=Ke.useState(""),[M,K]=Ke.useState(!1),[re,ue]=Ke.useState(!1),[oe,be]=Ke.useState(!1),[ke,xe]=Ke.useState(!1),[at,vt]=Ke.useState(!1),[Je,I]=Ke.useState(!1),[A,C]=Ke.useState(null),[V,N]=Ke.useState(null),[U,x]=Ke.useState(!1),[ot,yt]=Ke.useState(null),[F,le]=Ke.useState([]),[ve,Ge]=Ke.useState(!1),tt=Ke.useRef(0),[O,X]=Ke.useState(!1),[ae,he]=Ke.useState(null),[Re,De]=Ke.useState(!1),[ze,wt]=Ke.useState(null),[et,Ji]=Ke.useState(()=>localStorage.getItem("gameHub_playerName")||"");Ke.useEffect(()=>{et&&localStorage.setItem("gameHub_playerName",et)},[et]),Ke.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Iw(lm,__initial_auth_token):await Sw(lm))();const B=Dw(lm,e);return()=>B()},[]);const vn=J=>{le(B=>[...B,J])};Ke.useEffect(()=>{if(!d)return;const J=Dv(Gt(Ft,"artifacts",$t,"public","data","rooms",d),B=>{if(B.exists()){const W=B.data(),te=W.players.find(ie=>ie.id===s?.uid);if(s&&!te){y(""),localStorage.removeItem("masquerade_room_id"),a("menu"),w("Disconnected from server.");return}_(W),W.status==="lobby"?a("lobby"):(W.status==="playing"||W.status==="finished")&&a("game");const ee=W.players.find(ie=>ie.id===s.uid),Ae=W.players.findIndex(ie=>ie.id===s.uid);if(ee&&W.turnIndex===Ae&&ee.avatar==="SEARCH_ENGINE"&&!ee.passiveUsed?Ge(!0):Ge(!1),W.lastEvent&&W.lastEvent.id>tt.current){const ie=W.lastEvent;if(tt.current=ie.id,s&&ie.targetId===s.uid){let ce=null;ie.type==="PING"?ce={title:"SYSTEM ALERT: PINGED",message:`${ie.initiatorName} revealed your data:`,cards:[{type:ie.payload.revealedCard,label:"Revealed"}]}:ie.type==="TRADE"?ce={title:"DATA TRANSFER",message:`${ie.initiatorName} traded with you.`,cards:[{type:ie.payload.given,label:"You Received"},{type:ie.payload.received,label:"You Gave"}]}:ie.type==="GLITCH_ADMIN"?ce={title:"SYSTEM BREACH: SUDO",message:`${ie.initiatorName} forced deletion of data.`,cards:ie.payload.deleted.map(pe=>({type:pe,label:"Lost"}))}:ie.type==="GLITCH_GHOST"?ce={title:"SYSTEM BREACH: HAUNT",message:`${ie.initiatorName} swapped hands with you.`,cards:[]}:ie.type==="GLITCH_SEARCH"?ce={title:"SECURITY ALERT",message:`${ie.initiatorName} indexed (viewed) your entire hand.`,cards:[]}:ie.type==="SYSTEM_DISCARD"&&(ce={title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:ie.payload.discards.map(pe=>({type:pe,label:"Purged"}))}),ce&&ie.payload&&ie.payload.discards&&ie.type!=="SYSTEM_DISCARD"&&(ce.message+=" (Memory Overflow Purge)",ce.cards.push(...ie.payload.discards.map(pe=>({type:pe,label:"Purged"})))),ce&&vn(ce)}}}else a("menu"),y(""),localStorage.removeItem("masquerade_room_id"),w("Connection Terminated (Room Closed).")});return()=>J()},[d,s]),Ke.useEffect(()=>{const J=Dv(Gt(Ft,"game_hub_settings","config"),B=>{B.exists()&&B.data()[gN]?.maintenance?ue(!0):ue(!1)});return()=>J()},[]);const Mn=(J,B,W,te)=>{N({type:J,message:B,subtext:W,icon:te}),setTimeout(()=>N(null),2500)},ri=(J,B,W)=>{let te=0;return J.forEach(ee=>{if(ee.isEliminated||ee.directive==="CORRUPTOR")return;let Ae=3;ee.avatar==="FIREWALL"&&(Ae=4),ee.hand.filter(ce=>ce==="VIRUS").length>=Ae&&(ee.isEliminated=!0,B.push(...ee.hand),ee.hand=[],te++)}),te},Gn=async()=>{if(!et)return w("Identify yourself.");K(!0);const J="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let B="";for(let te=0;te<6;te++)B+=J.charAt(Math.floor(Math.random()*J.length));const W={roomId:B,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:et,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}],deck:[],discardPile:[],turnIndex:0,crashCount:0,roundCount:1,logs:[],winnerId:null};await cC(Gt(Ft,"artifacts",$t,"public","data","rooms",B),W),y(B),localStorage.setItem("masquerade_room_id",B),K(!1)},Nr=async()=>{if(!o||!et)return w("Input credentials.");K(!0);const J=Gt(Ft,"artifacts",$t,"public","data","rooms",o),B=await uC(J);if(!B.exists()){w("Server not found."),K(!1);return}const W=B.data();if(W.status!=="lobby"){w("Session locked."),K(!1);return}if(W.players.length>=6){w("Server full."),K(!1);return}if(!W.players.find(ee=>ee.id===s.uid)){const ee=[...W.players,{id:s.uid,name:et,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}];await cn(J,{players:ee})}y(o),localStorage.setItem("masquerade_room_id",o),K(!1)},Zi=async J=>{if(!d)return;const B=Gt(Ft,"artifacts",$t,"public","data","rooms",d),W=p.players.filter(te=>te.id!==J);await cn(B,{players:W,logs:vs({text:"A player was removed from the session.",type:"danger",id:Date.now(),viewerId:"all"})})},Dr=()=>{const J=p.roomId,B=()=>{be(!0),setTimeout(()=>be(!1),2e3),Mn&&Mn("neutral","COPIED!","",ul)};try{navigator.clipboard.writeText(J),B()}catch{const te=document.createElement("textarea");te.value=J,document.body.appendChild(te),te.select(),document.execCommand("copy"),document.body.removeChild(te),B()}},Or=async()=>{if(p.hostId!==s.uid)return;const J=_i(Object.keys(Nn)),B=_i(Object.keys(Ts));let W=_i([...Uv]);const te=p.players.map((Ae,ie)=>{let ce=[],pe=!1;for(;!pe;)ce=[W.pop(),W.pop(),W.pop()],ce.filter(Ce=>Ce==="VIRUS").length<2?pe=!0:(W.push(...ce),W=_i(W),ce=[]);return{...Ae,avatar:J[ie%J.length],directive:B[ie%B.length],hand:ce,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0}}),ee=Math.floor(Math.random()*te.length);await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),{status:"playing",players:te,deck:W,discardPile:[],turnIndex:ee,crashCount:0,logs:[{text:`Round ${p.roundCount||1} Initialized. Safety protocols active.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},xt=async()=>{if(!d)return;const J=Gt(Ft,"artifacts",$t,"public","data","rooms",d);if(p.hostId===s.uid)await hC(J);else{let W={players:p.players.filter(te=>te.id!==s.uid)};W.logs=vs({text:`${p.players.find(te=>te.id===s.uid)?.name||"User"} disconnected.`,type:"danger",id:Date.now(),viewerId:"all"}),await cn(J,W)}y(""),localStorage.removeItem("masquerade_room_id"),a("menu"),I(!1)},Ct=async()=>{if(p.hostId!==s.uid)return;const J=p.players.map(B=>({...B,hand:[],avatar:null,directive:null,revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}));await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),{status:"lobby",players:J,deck:[],discardPile:[],winnerId:null,logs:[],lastEvent:null,crashCount:0,roundCount:1}),I(!1)},Si=async()=>{if(p.hostId!==s.uid)return;const J=p.winnerId;let B=0;J?(B=p.players.findIndex(ie=>ie.id===J),B===-1&&(B=Math.floor(Math.random()*p.players.length))):B=Math.floor(Math.random()*p.players.length);const W=_i(Object.keys(Nn)),te=_i(Object.keys(Ts));let ee=_i([...Uv]);const Ae=p.players.map((ie,ce)=>{let pe=[],Le=!1;for(;!Le;)pe=[ee.pop(),ee.pop(),ee.pop()],pe.filter(de=>de==="VIRUS").length<2?Le=!0:(ee.push(...pe),ee=_i(ee),pe=[]);return{...ie,avatar:W[ce%W.length],directive:te[ce%te.length],hand:pe,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,isEliminated:!1,revealed:!1,glitchUsed:!1}});await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),{status:"playing",players:Ae,deck:ee,discardPile:[],turnIndex:B,crashCount:0,winnerId:null,roundCount:Es(1),logs:[{text:`Round ${p.roundCount+1} Initialized. Safety protocols active.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Ol=async()=>{if(!d)return;const J=Gt(Ft,"artifacts",$t,"public","data","rooms",d),B=p.players.findIndex(te=>te.id===s.uid);if(B===-1)return;const W=[...p.players];W[B].ready=!0,await cn(J,{players:W})},Ai=async(J,B,W=0)=>{const te=J.filter(ie=>!ie.isEliminated);if(te.length===1)return te[0].id;const Ae=(p.crashCount||0)+W;for(const ie of J){if(ie.isEliminated)continue;const ce=ie.directive,pe=ie.hand;let Le=!1;if(ce==="COLLECTOR"?pe.filter(Ce=>Ce==="INTEL").length>=5&&(Le=!0):ce==="CORRUPTOR"?pe.filter(Ce=>Ce==="VIRUS").length>=4&&(Le=!0):ce==="ANARCHIST"?te.filter(de=>de.id!==ie.id&&de.hand.filter(G=>G==="VIRUS").length>=2).length>=2&&(Le=!0):ce==="SABOTEUR"?pe.includes("INTEL")&&pe.includes("VIRUS")&&pe.includes("PING")&&pe.includes("PATCH")&&(Le=!0):ce==="SURVIVOR"?Ae>=1&&(Le=!0):ce==="HACKER"?(ie.pingCount||0)>=3&&(Le=!0):ce==="ANTIVIRUS"&&(ie.antivirusCount||0)>=2&&(Le=!0),Le)return ie.id}return null},sn=async J=>{const B=ae||{players:JSON.parse(JSON.stringify(p.players)),deck:[...p.deck],discardPile:[...p.discardPile],logs:[],eventData:null},W=B.players.findIndex(ee=>ee.id===s.uid),te=B.players[W];J.sort((ee,Ae)=>Ae-ee),J.forEach(ee=>{const Ae=te.hand.splice(ee,1)[0];B.discardPile.push(Ae)}),B.logs.push({text:`${te.name} purged memory.`,type:"neutral",id:Date.now(),viewerId:"all"}),he(null),X(!1),await Wi(B.players,B.deck,B.discardPile,B.logs,B.eventData)},ai=async(J,B,W,te,ee)=>{const Ae=p.players.findIndex(pe=>pe.id===s.uid),ie=J[Ae],ce=ie.avatar==="ADMIN"?7:5;ie.hand.length>ce?(he({players:J,deck:B,discardPile:W,logs:te,eventData:ee}),X(!0)):await Wi(J,B,W,te,ee)},Wi=async(J,B,W,te,ee=null)=>{let Ae=await Ai(J);if(Ae){const G=J.findIndex(ut=>ut.id===Ae);J[G].chips=(J[G].chips||0)+1,J.forEach(ut=>{ut.revealed=!0});const Ie={players:J.map(ut=>({...ut,ready:!1})),status:"finished",winnerId:Ae,discardPile:W,logs:vs(...te,{text:`Round Winner Identified: ${J[G].name}. Chip awarded.`,type:"success",id:Date.now()+2,viewerId:"all"})};ee&&(Ie.lastEvent=ee),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),Ie);return}let ie=!1,ce=(p.turnIndex+1)%J.length,pe=0,Le=0;const Ce=J.length*2;for(;!ie&&Le<Ce;){Le++;let G=0;for(;J[ce].isEliminated&&G<J.length;)ce=(ce+1)%J.length,G++;const ye=J[ce];if(ye.passiveUsed=!1,G>=J.length)break;let Ie=1;ye.avatar==="MINER"&&(Ie=2);for(let Ot=0;Ot<Ie;Ot++){if(B.length===0)if(W.length>0)B=_i([...W]),W=[],te.push({text:"Deck rebooted.",type:"neutral",id:Date.now()+3+Le,viewerId:"all"});else break;B.length>0&&ye.hand.push(B.pop())}const ut=ri(J,W);pe+=ut,ye.isEliminated?te.push({text:`${ye.name} crashed immediately upon receiving data. Passing control...`,type:"danger",id:Date.now()+5+Le,viewerId:"all"}):ie=!0}if(Ae=await Ai(J,te,pe),Ae){const G=J.findIndex(ut=>ut.id===Ae);J[G].chips=(J[G].chips||0)+1;const Ie={players:J.map(ut=>({...ut,ready:!1})),status:"finished",winnerId:Ae,discardPile:W,logs:vs(...te,{text:`Round Winner: ${J[G].name}.`,type:"success",id:Date.now()+4,viewerId:"all"}),crashCount:Es(pe)};ee&&(Ie.lastEvent=ee),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),Ie);return}te.push({text:`Processing cycle: ${J[ce].name}`,type:"neutral",id:Date.now()+10,viewerId:"all"});const de={players:J,deck:B,discardPile:W,turnIndex:ce,logs:vs(...te),crashCount:Es(pe)};ee&&(de.lastEvent=ee),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),de)},Os=async J=>{if(!d)return;const B=p.players.findIndex(ie=>ie.id===s.uid),W=p.players[B];if(W.passiveUsed)return;const te=Gt(Ft,"artifacts",$t,"public","data","rooms",d),ee=[...p.players];ee[B].passiveUsed=!0;const Ae={players:ee,logs:vs({text:`${W.name} ${J?"ran a passive background scan.":"skipped passive scan."}`,type:"neutral",id:Date.now(),viewerId:"all"})};if(J){const ie=p.players.find(ce=>ce.id===J);if(ie&&ie.hand.length>0){const ce=Math.floor(Math.random()*ie.hand.length),pe=ie.hand[ce];vn({title:"PASSIVE SCAN RESULT",message:`Scanner intercepted ${ie.name}'s packet:`,cards:[{type:pe,label:"Intercepted"}]})}}await cn(te,Ae)},wi=async(J,B)=>{if(!d||!ze)return;const W=p.players.findIndex(G=>G.id===s.uid),te=p.players[W],ee=p.players.findIndex(G=>G.id===ze),Ae=p.players[ee];De(!1),wt(null);const ie=JSON.parse(JSON.stringify(p.players)),ce=[];ie[W].glitchUsed=!0,ie[W].revealed=!0,ie[ee].hand.splice(B,1),ie[W].hand.push(J),ce.push({text:` GLITCH: ${te.name} Indexed ${Ae.name} and extracted a card.`,type:"glitch",id:Date.now(),viewerId:"all"}),Mn("glitch","DOWNLOAD COMPLETE",`Acquired ${J}`,hT);let pe=[...p.discardPile],Le=[...p.deck];const Ce=ri(ie,pe),de=await Ai(ie,ce,Ce);if(de){const G=ie.findIndex(Ie=>Ie.id===de);ie[G].chips=(ie[G].chips||0)+1,ie.forEach(Ie=>{Ie.revealed=!0});const ye={players:ie.map(Ie=>({...Ie,ready:!1})),status:"finished",winnerId:de,discardPile:pe,logs:vs(...ce),crashCount:Es(Ce)};await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),ye);return}Ce>0&&await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),{crashCount:Es(Ce)}),await ai(ie,Le,pe,ce)},ya=async(J=null)=>{if(A===null)return;const B=p.players.findIndex(de=>de.id===s.uid),W=p.players[B],te=W.hand[A],ee=JSON.parse(JSON.stringify(p.players));let Ae=[...p.deck],ie=[...p.discardPile||[]];const ce=[];let pe=null;if(ee[B].hand.splice(A,1),te==="PATCH"){ie.push("PATCH");const de=ee[B].hand.indexOf("VIRUS");de>-1?(ee[B].hand.splice(de,1),ie.push("VIRUS"),ee[B].antivirusCount=(ee[B].antivirusCount||0)+1,ce.push({text:`${W.name} ran a Patch. Virus purged.`,type:"success",id:Date.now(),viewerId:"all"})):ce.push({text:`${W.name} ran a Patch but had no Virus.`,type:"neutral",id:Date.now(),viewerId:"all"})}else if(te==="PING"){if(ie.push("PING"),ee[B].pingCount=(ee[B].pingCount||0)+1,!J)return;const de=ee.find(G=>G.id===J);if(de.hand.length>0){const G=Math.floor(Math.random()*de.hand.length),ye=de.hand[G];pe={id:Date.now(),type:"PING",initiatorId:s.uid,initiatorName:W.name,targetId:J,payload:{revealedCard:ye}},vn({title:"PING RESULT",message:`You revealed ${de.name}'s data:`,cards:[{type:ye,label:"Revealed"}]}),ce.push({text:`PING: ${de.name} was pinged.`,type:"warning",id:Date.now(),viewerId:"all"})}}else if(!J)ie.push(te),ce.push({text:`${W.name} discarded ${te}.`,type:"neutral",id:Date.now(),viewerId:"all"});else{const de=ee.findIndex(ye=>ye.id===J),G=ee[de];if(G.hand.length>0){const ye=Math.floor(Math.random()*G.hand.length),Ie=G.hand.splice(ye,1)[0];G.hand.push(te),ee[B].hand.push(Ie),pe={id:Date.now(),type:"TRADE",initiatorId:s.uid,initiatorName:W.name,targetId:J,payload:{given:te,received:Ie}},vn({title:"TRADE COMPLETE",message:`Exchange with ${G.name} successful.`,cards:[{type:te,label:"You Gave"},{type:Ie,label:"You Received"}]}),ce.push({text:`${W.name} traded data with ${G.name}.`,type:"warning",id:Date.now(),viewerId:"all"})}else G.hand.push(te),ce.push({text:`${W.name} transferred data to ${G.name} (Empty hand).`,type:"neutral",id:Date.now(),viewerId:"all"})}const Le=ri(ee,ie);C(null);const Ce=await Ai(ee,ce,Le);if(Ce){const de=ee.findIndex(Ie=>Ie.id===Ce);ee[de].chips=(ee[de].chips||0)+1,ee.forEach(Ie=>{Ie.revealed=!0});const ye={players:ee.map(Ie=>({...Ie,ready:!1})),status:"finished",winnerId:Ce,discardPile:ie,logs:vs(...ce,{text:`Round Winner: ${ee[de].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:Es(Le)};pe&&(ye.lastEvent=pe),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),ye);return}Le>0&&await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),{crashCount:Es(Le)}),await ai(ee,Ae,ie,ce,pe)},_a=async()=>{if(!d||!p)return;const J=p.players.findIndex(ee=>ee.id===s.uid),B=p.players[J],W=B.avatar==="ADMIN"?7:5,te=[{text:`${B.name} skipped their turn.`,type:"neutral",id:Date.now(),viewerId:"all"}];if(B.hand.length>W){he({players:JSON.parse(JSON.stringify(p.players)),deck:[...p.deck],discardPile:[...p.discardPile],logs:te,eventData:null}),X(!0);return}await Wi(p.players,p.deck,p.discardPile,te)},Mr=async(J=null)=>{const B=p.players.findIndex(de=>de.id===s.uid),W=p.players[B];if(p.turnIndex!==B){Mn("failure","ACCESS DENIED","Wait for your processing cycle (Turn).",Ah);return}if(W.glitchUsed)return;if(J){const de=p.players.find(G=>G.id===J);if(de&&de.avatar==="GHOST"){x(!1),Mn("failure","TARGET IMMUNE","Ghost Process blocks Glitch effects.",Np);return}}const te=JSON.parse(JSON.stringify(p.players)),ee=[...p.deck];let Ae=[...p.discardPile||[]];const ie=[];let ce=null;te[B].glitchUsed=!0,te[B].revealed=!0,ie.push({text:` GLITCH DETECTED: ${W.name} is ${Ts[W.directive].name}!`,type:"glitch",id:Date.now(),viewerId:"all"}),Mn("glitch","GLITCH ACTIVATED","Directive Revealed!",jm);const pe=W.avatar;if(pe==="FIREWALL"){const de=te[B].hand.length,G=te[B].hand.filter(ut=>ut!=="VIRUS"),ye=de-G.length;for(let ut=0;ut<ye;ut++)Ae.push("VIRUS");te[B].hand=G;let Ie=0;for(let ut=0;ut<ye;ut++){if(ee.length===0&&Ae.length>0){const Ot=_i([...Ae]);Ae=[],ee.push(...Ot)}ee.length>0&&(te[B].hand.push(ee.pop()),Ie++)}vn({title:"FIREWALL PURGE",message:`Discarded ${ye} Viruses. Downloaded ${Ie} new packets.`,cards:[]}),ie.push({text:`Firewall Purge: ${W.name} discarded Virus/es and drew new card/s.`,type:"success",id:Date.now()+1,viewerId:"all"})}else if(pe==="MINER"){let de=0;for(let G=0;G<3;G++){if(ee.length===0&&Ae.length>0){const ye=_i([...Ae]);Ae=[],ee.push(...ye)}ee.length>0&&(te[B].hand.push(ee.pop()),de++)}vn({title:"JACKPOT",message:`You mined ${de} new data packets.`,cards:[]}),ie.push({text:"Miner hit the Jackpot. 3 Cards drawn.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(pe==="GHOST"){if(!J)return;const de=te.findIndex(ye=>ye.id===J),G=[...te[B].hand];te[B].hand=[...te[de].hand],te[de].hand=G,ce={id:Date.now(),type:"GLITCH_GHOST",initiatorId:s.uid,initiatorName:W.name,targetId:J,payload:{}},vn({title:"GHOST HAUNT",message:`Swapped hands with ${te[de].name}.`,cards:[]}),ie.push({text:`Ghost Process Haunt. Hands swapped with ${te[de].name}.`,type:"warning",id:Date.now()+1,viewerId:"all"})}else if(pe==="ADMIN"){if(!J)return;const de=te.findIndex(Ie=>Ie.id===J),G=te[de];let ye=[];if(G.hand.length>=2){const Ie=G.hand.splice(0,1)[0],ut=G.hand.splice(0,1)[0];Ae.push(Ie,ut),ye=[Ie,ut]}else ye=[...G.hand],Ae.push(...G.hand),G.hand=[];ce={id:Date.now(),type:"GLITCH_ADMIN",initiatorId:s.uid,initiatorName:W.name,targetId:J,payload:{deleted:ye}},vn({title:"SUDO COMMAND",message:`Forced ${G.name} to delete ${ye.length} data packets.`,cards:[]}),ie.push({text:`Admin Sudo command. ${G.name} forced to delete data.`,type:"danger",id:Date.now()+1,viewerId:"all"})}else if(pe==="SEARCH_ENGINE"){if(!J)return;wt(J),De(!0),x(!1);return}x(!1);const Le=ri(te,Ae),Ce=await Ai(te,ie,Le);if(Ce){const de=te.findIndex(Ie=>Ie.id===Ce);te[de].chips=(te[de].chips||0)+1,te.forEach(Ie=>{Ie.revealed=!0});const ye={players:te.map(Ie=>({...Ie,ready:!1})),status:"finished",winnerId:Ce,discardPile:Ae,logs:vs(...ie,{text:`Round Winner: ${te[de].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:Es(Le)};ce&&(ye.lastEvent=ce),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),ye);return}Le>0&&await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",d),{crashCount:Es(Le)}),await ai(te,ee,Ae,ie,ce)};if(re)return E.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[E.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[E.jsx(jC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),E.jsx("p",{className:"text-gray-400",children:"The AI is glitched. Wait for replacement hardware."})]}),E.jsx("div",{className:"h-8"}),E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:E.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:E.jsx("div",{className:"text-center pb-12 animate-pulse",children:E.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[E.jsx(kv,{size:16})," Visit Gamehub...Try our other releases..."," ",E.jsx(kv,{size:16})]})})})})]});if(!s)return E.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-cyan-500 animate-pulse",children:"Generating data packets..."});if(d&&!p&&!S)return E.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[E.jsx(Kc,{}),E.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[E.jsx(FC,{size:48,className:"text-cyan-500 animate-spin"}),E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),E.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming your session"})]})]})]});if(i==="menu")return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-4 relative overflow-hidden font-mono",children:[E.jsx(Kc,{}),ke&&E.jsx(Lv,{onClose:()=>xe(!1)}),E.jsxs("div",{className:"z-10 text-center mb-10",children:[E.jsx(Sh,{size:64,className:"text-cyan-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]"}),E.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-linear-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:["MASQUERADE",E.jsx("br",{}),"PROTOCOL"]}),E.jsx("p",{className:"text-cyan-400/60 tracking-[0.2em] uppercase mt-2",children:"Social Hacking Simulation"})]}),E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-lg w-full max-w-md shadow-2xl z-10",children:[S&&E.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:S}),E.jsx("input",{className:"w-full bg-black/50 border border-slate-700 p-3 rounded mb-4 text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none transition-colors",placeholder:"USER_ID",value:et,onChange:J=>Ji(J.target.value)}),E.jsxs("button",{onClick:Gn,disabled:M,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 transition-all hover:shadow-[0_0_15px_rgba(6,182,212,0.3)]",children:[E.jsx(eN,{size:20})," INITIALIZE_SERVER"]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[E.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-700 p-3 rounded text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none text-center tracking-widest uppercase",placeholder:"ACCESS_CODE",value:o,onChange:J=>c(J.target.value.toUpperCase())}),E.jsx("button",{onClick:Nr,disabled:M,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors text-slate-300",children:"CONNECT"})]}),E.jsxs("button",{onClick:()=>xe(!0),className:"w-full text-sm text-slate-500 hover:text-cyan-400 flex items-center justify-center gap-2 py-2",children:[E.jsx(Mm,{size:16})," READ_MANUAL.txt"]})]}),E.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",E.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&p){const J=p.hostId===s.uid;return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-6 relative font-mono",children:[E.jsx(Kc,{}),E.jsx(_N,{}),E.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-lg border border-cyan-500/30 shadow-2xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-800 pb-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg md:text-xl text-cyan-500 font-bold uppercase",children:"Server Room"}),E.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[E.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:d}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:Dr,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:oe?E.jsx(ul,{size:16,className:"text-green-500"}):E.jsx(NC,{size:16})}),oe&&E.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-cyan-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),E.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(am,{size:16})})]}),E.jsxs("div",{className:"bg-black/40 rounded p-4 mb-8 border border-slate-800",children:[E.jsxs("h3",{className:"text-slate-500 text-xs uppercase tracking-widest mb-4",children:["Connected Clients (",p.players.length,"/6)"]}),E.jsx("div",{className:"space-y-2",children:p.players.map(B=>E.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700",children:[E.jsxs("span",{className:`font-bold flex items-center gap-2 ${B.id===s.uid?"text-cyan-400":"text-slate-400"}`,children:[E.jsx(mT,{size:14})," ",B.name,B.id===p.hostId&&E.jsx(Vm,{size:14,className:"text-yellow-500"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[(B.chips||0)>0&&E.jsxs("div",{className:"flex items-center gap-1 bg-yellow-900/40 px-2 py-0.5 rounded border border-yellow-700/50",children:[E.jsx(Yc,{size:12,className:"text-yellow-400"}),E.jsx("span",{className:"text-xs text-yellow-200 font-bold",children:B.chips})]}),E.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[E.jsx(ul,{size:12})," ONLINE"]}),J&&B.id!==s.uid&&E.jsx("button",{onClick:()=>Zi(B.id),className:"text-red-500 hover:text-red-400 p-1 hover:bg-red-900/30 rounded",title:"Kick Player",children:E.jsx(km,{size:14})})]})]},B.id))})]}),J?E.jsx("button",{onClick:Or,disabled:p.players.length<3,className:`w-full py-4 rounded font-bold text-lg transition-all flex items-center justify-center gap-2 ${p.players.length>=3?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-[0_0_20px_rgba(6,182,212,0.4)]":"bg-slate-800 cursor-not-allowed text-slate-600"}`,children:p.players.length<3?"WAITING_FOR_USERS (Min 3)":"EXECUTE_PROTOCOL"}):E.jsx("div",{className:"text-center text-cyan-500/60 animate-pulse italic",children:"Waiting for Host execution..."})]}),Je&&E.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 rounded border border-slate-700 p-6 text-center max-w-sm w-full shadow-2xl",children:[E.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:"Terminate Connection?"}),E.jsx("p",{className:"text-slate-400 text-sm mb-6",children:J?"As host, leaving will close the server for everyone.":"You will be removed from this session."}),E.jsxs("div",{className:"flex gap-4 justify-center",children:[E.jsx("button",{onClick:()=>I(!1),className:"bg-slate-700 hover:bg-slate-600 px-6 py-2 rounded text-white transition-colors",children:"Cancel"}),E.jsx("button",{onClick:xt,className:"bg-red-600 hover:bg-red-500 px-6 py-2 rounded text-white font-bold transition-colors",children:"Disconnect"})]})]})}),E.jsx(jv,{})]})}if(i==="game"&&p){const J=p.players.findIndex(G=>G.id===s.uid),B=p.players[J],W=p.turnIndex===J,te=p.hostId===s.uid,ee=A!==null?B.hand[A]:null,Ae=ee==="PING",ie=ee==="INTEL"||ee==="VIRUS",ce=Ae||ie,pe=xN(B.avatar),Le=p.players.filter(G=>G.id!==p.hostId).every(G=>G.ready),Ce=p.players.find(G=>G.id===p.winnerId),de=p.players.find(G=>(G.chips||0)>=3);return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 overflow-hidden flex flex-col relative font-mono",children:[E.jsx(Kc,{}),V&&E.jsx(AN,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),ke&&E.jsx(Lv,{onClose:()=>xe(!1)}),ot&&E.jsx(bN,{item:ot,canGlitch:ot.canGlitch,onClose:()=>yt(null),onActivateGlitch:ot.canGlitch?()=>{yt(null),x(!0)}:null}),F.length>0&&E.jsx(SN,{data:F[0],onClose:()=>le(G=>G.slice(1))}),ve&&E.jsx(vN,{players:p.players.filter(G=>G.id!==s.uid&&!G.isEliminated),onSelect:G=>Os(G),onSkip:()=>Os(null)}),Re&&ze&&E.jsx(EN,{targetPlayer:p.players.find(G=>G.id===ze),onSelect:wi,onCancel:()=>{De(!1),wt(null)}}),O&&F.length===0&&E.jsx(TN,{hand:ae?ae.players.find(G=>G.id===s.uid).hand:p.players.find(G=>G.id===s.uid).hand,limit:p.players.find(G=>G.id===s.uid).avatar==="ADMIN"?7:5,onConfirm:sn,onCancel:()=>{}}),E.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Sh,{size:18,className:"text-cyan-500"}),E.jsxs("span",{className:"font-bold tracking-wider hidden md:block text-cyan-100",children:["ROUND ",p.roundCount||1]}),E.jsxs("span",{className:"text-xs text-slate-500",children:["Deck: ",p.deck.length," | Bin:"," ",p.discardPile?.length||0]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>xe(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:E.jsx(Mm,{size:18})}),E.jsx("button",{onClick:()=>vt(!at),className:`p-2 rounded-full ${at?"bg-cyan-900 text-cyan-400":"text-gray-400 hover:bg-gray-800"}`,children:E.jsx(BC,{size:18})}),E.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:E.jsx(am,{size:18})})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col p-4 max-w-6xl mx-auto w-full relative z-10",children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:p.players.map((G,ye)=>{if(G.id===s.uid)return null;const Ie=p.turnIndex===ye,ut=W&&ce||U&&pe;return E.jsxs("div",{onClick:()=>{W&&ce&&ya(G.id),U&&pe&&Mr(G.id)},className:`
                    relative bg-slate-900/80 p-3 rounded border transition-all cursor-default
                    ${Ie?"border-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.3)]":"border-slate-700"}
                    ${ut?"ring-2 ring-red-500 cursor-pointer animate-pulse bg-red-900/10":""}
                    ${G.isEliminated?"opacity-50 grayscale border-red-900":""}
                  `,children:[Ie&&E.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-cyan-600 text-cyan-100 text-[9px] px-2 py-0.5 rounded-full font-bold shadow-lg animate-pulse z-10 whitespace-nowrap flex items-center gap-1",children:[E.jsx(Mv,{size:8})," PLAYING"]}),E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("span",{className:"font-bold text-xs truncate flex items-center gap-1",children:[G.revealed&&E.jsx(wh,{size:12,className:"text-red-500"}),G.name]}),E.jsxs("div",{className:"flex items-center gap-1",children:[(G.chips||0)>0&&E.jsx("div",{className:"flex items-center gap-0.5",title:`${G.chips} Chips`,children:[...Array(G.chips)].map((Ot,li)=>E.jsx(Yc,{size:10,className:"text-yellow-400 fill-yellow-900"},li))}),G.ready&&p.status==="finished"&&E.jsx(ul,{size:14,className:"text-green-500"}),G.isEliminated&&E.jsx(fT,{size:14,className:"text-red-500"})]})]}),E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("div",{onClick:Ot=>{Ot.stopPropagation(),yt(Nn[G.avatar])},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${Nn[G.avatar].border} ${Nn[G.avatar].bg}`,children:la.createElement(Nn[G.avatar].icon,{size:16,className:Nn[G.avatar].color})}),E.jsx("div",{onClick:Ot=>{Ot.stopPropagation(),G.revealed||p.status==="finished"?yt(Ts[G.directive]):yt(yN)},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${G.revealed||p.status==="finished"?"border-red-500 bg-red-950":"border-slate-700 bg-slate-800"}`,children:G.revealed||p.status==="finished"?la.createElement(Ts[G.directive].icon,{size:16,className:"text-red-400"}):E.jsx(Ah,{size:14,className:"text-slate-600"})})]}),E.jsx("div",{className:"flex gap-0.5 justify-center",children:G.hand.map((Ot,li)=>E.jsx("div",{className:"w-2 h-4 bg-slate-700 rounded-sm"},li))})]},G.id)})}),E.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:p.status==="finished"?E.jsxs("div",{className:"bg-slate-900/95 p-8 rounded-xl border border-cyan-500 shadow-2xl z-50 animate-in fade-in zoom-in w-full max-w-md",children:[de?E.jsxs(E.Fragment,{children:[E.jsx(Vm,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),E.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-linear-to-r from-yellow-300 to-yellow-600 mb-2",children:"GRAND CHAMPION"}),E.jsx("div",{className:"text-2xl text-white mb-6",children:de.name}),E.jsx("div",{className:"text-sm text-yellow-500/80 mb-6 uppercase tracking-widest",children:"Collected 3 Golden Chips"})]}):E.jsxs(E.Fragment,{children:[E.jsx(Yc,{size:48,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),E.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["ROUND ",p.roundCount," COMPLETE"]}),E.jsxs("div",{className:"text-xl text-cyan-400 mb-6",children:["WINNER: ",Ce?.name]}),E.jsxs("div",{className:"text-sm text-slate-400 mb-6",children:[Ce?.name," receives a Golden Chip. (",Ce?.chips,"/3)"]})]}),te?E.jsx("div",{className:"space-y-2",children:de?E.jsxs("button",{onClick:Ct,className:"px-6 py-3 rounded font-bold bg-red-700 hover:bg-red-600 text-white shadow-lg mx-auto flex items-center gap-2",children:[E.jsx(am,{size:18})," FULL RESET TO LOBBY"]}):E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:Si,disabled:!Le,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${Le?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[E.jsx(Mv,{size:18})," START ROUND"," ",(p.roundCount||0)+1]}),!Le&&E.jsx("div",{className:"text-xs text-yellow-500 animate-pulse",children:"Waiting for players..."})]})}):!de&&E.jsxs("button",{onClick:Ol,disabled:B.ready,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${B.ready?"bg-green-800 text-green-200 cursor-default":"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg animate-pulse"}`,children:[B.ready?E.jsx(ul,{size:18}):E.jsx(jm,{size:18}),B.ready?"WAITING FOR HOST":"READY FOR NEXT ROUND"]})]}):E.jsx("div",{className:"w-full max-w-md space-y-2 pointer-events-none",children:p.logs.filter(G=>G.viewerId==="all"||G.viewerId===s.uid).slice(-3).reverse().map((G,ye)=>E.jsx("div",{className:`text-xs p-2 rounded bg-black/60 border border-slate-800 ${G.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":G.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,style:{opacity:1-ye*.3},children:`> ${G.text}`},G.id))})}),E.jsxs("div",{className:"mt-auto bg-slate-900/90 border-t border-cyan-900/30 p-4 -mx-4 md:rounded-t-2xl md:mx-0 backdrop-blur-md relative z-20",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{onClick:()=>{yt({...Nn[B.avatar],canGlitch:!B.glitchUsed&&!B.isEliminated&&W})},className:`
                    flex items-center gap-3 p-2 rounded border cursor-pointer hover:bg-slate-800 transition-colors relative
                    ${Nn[B.avatar].border} ${Nn[B.avatar].bg}
                  `,children:[!B.glitchUsed&&!B.isEliminated&&E.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[E.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),E.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),la.createElement(Nn[B.avatar].icon,{size:32,className:Nn[B.avatar].color}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-bold text-white uppercase",children:Nn[B.avatar].name}),E.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[B.glitchUsed?"Glitch Offline":"Tap for Info",E.jsx(Vv,{size:8})]})]})]}),E.jsxs("div",{onClick:()=>{yt(Ts[B.directive])},className:`
                    flex items-center gap-3 p-2 rounded border border-slate-700 bg-slate-800 relative cursor-pointer hover:bg-slate-700
                    ${B.revealed?"border-red-500 bg-red-900/20":""}
                  `,children:[B.directive==="HACKER"&&E.jsxs("div",{className:"absolute -top-2 -right-2 bg-indigo-900 text-indigo-100 text-[10px] px-2 py-0.5 rounded-full border border-indigo-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[E.jsx(Um,{size:10})," ",B.pingCount||0,"/3"]}),B.directive==="ANTIVIRUS"&&E.jsxs("div",{className:"absolute -top-2 -right-2 bg-teal-900 text-teal-100 text-[10px] px-2 py-0.5 rounded-full border border-teal-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[E.jsx(dT,{size:10})," ",B.antivirusCount||0,"/2"]}),la.createElement(Ts[B.directive].icon,{size:32,className:B.revealed?"text-red-400":"text-fuchsia-400"}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-bold text-white uppercase",children:Ts[B.directive].name}),E.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[B.revealed?"REVEALED":"Tap for Info",E.jsx(Vv,{size:8})]})]})]}),(B.chips||0)>0&&E.jsx("div",{className:"flex items-center gap-1 bg-yellow-900/30 px-3 py-1 rounded border border-yellow-600/50",children:[...Array(B.chips)].map((G,ye)=>E.jsx(Yc,{size:16,className:"text-yellow-400 fill-yellow-900"},ye))})]}),W&&E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("div",{className:"text-xs text-green-400 font-bold animate-pulse",children:"AWAITING_INPUT..."})})]}),E.jsx("div",{className:"w-full overflow-x-auto pb-4 pt-6 px-4",children:E.jsx("div",{className:"flex gap-2 w-fit mx-auto",children:B.hand.map((G,ye)=>{const Ie=A===ye;return E.jsx("div",{className:`transition-all duration-200 ${Ie?"-translate-y-4":"hover:-translate-y-2"}`,children:E.jsx(Fh,{type:G,onClick:()=>W?C(ye):null,highlight:Ie,disabled:!W||B.isEliminated})},ye)})})}),W&&E.jsx("div",{className:"absolute top-0 left-0 right-0 -mt-16 flex justify-center gap-2 pointer-events-none",children:E.jsx("div",{className:"pointer-events-auto flex gap-2",children:ee?E.jsxs(E.Fragment,{children:[ce?E.jsxs("div",{className:"bg-yellow-600 text-black px-4 py-2 rounded font-bold animate-bounce shadow-lg border border-yellow-400 flex items-center gap-2",children:[ie?E.jsx(_C,{size:16}):E.jsx(Um,{size:16}),"Select Target to ",ie?"Trade":"Ping"]}):E.jsxs("button",{onClick:()=>ya(),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all hover:scale-105",children:[E.jsx(RN,{size:16})," Execute"," ",iu[ee].name]}),E.jsx("button",{onClick:()=>C(null),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white shadow-lg transition-colors",children:E.jsx(nu,{size:20})})]}):(()=>{const G=B.avatar==="ADMIN"?7:5,ye=B.hand.length>G;return E.jsx("button",{onClick:_a,className:`
                            px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all
                            ${ye?"bg-red-600 hover:bg-red-500 text-white border border-red-400 animate-pulse":"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-500"}
                          `,children:ye?E.jsxs(E.Fragment,{children:[E.jsx(km,{size:16})," DISCARD & END TURN"]}):E.jsxs(E.Fragment,{children:[E.jsx(iN,{size:16})," SKIP TURN"]})})})()})}),U&&E.jsxs("div",{className:"absolute inset-0 bg-slate-950/95 z-50 flex flex-col items-center justify-center rounded-t-2xl animate-in slide-in-from-bottom-10",children:[E.jsx(wh,{size:48,className:"text-red-500 mb-2 animate-pulse"}),E.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"WARNING: GLITCH DETECTED"}),E.jsxs("p",{className:"text-xs text-red-400 mb-4 max-w-xs text-center",children:["Activating your glitch will"," ",E.jsx("strong",{className:"text-white",children:"REVEAL YOUR DIRECTIVE"})," ","to all players. This cannot be undone."]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded border border-slate-600 text-slate-300 hover:bg-slate-800",children:"CANCEL"}),pe?E.jsx("div",{className:"px-4 py-2 rounded bg-fuchsia-900/50 text-fuchsia-200 border border-fuchsia-500 animate-pulse",children:"Select Target Player"}):E.jsx("button",{onClick:()=>Mr(),className:"px-4 py-2 rounded bg-red-600 hover:bg-red-500 text-white font-bold shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"CONFIRM EXECUTION"})]})]})]})]}),at&&E.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:E.jsxs("div",{className:"bg-slate-900 rounded-lg w-full max-w-md h-[60vh] flex flex-col border border-slate-700",children:[E.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between",children:[E.jsx("h3",{className:"text-white font-bold",children:"System Logs"}),E.jsx("button",{onClick:()=>vt(!1),children:E.jsx(nu,{className:"text-slate-400"})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 font-mono text-xs",children:[...p.logs].filter(G=>G.viewerId==="all"||G.viewerId===s.uid).reverse().map(G=>E.jsxs("div",{className:`p-2 border-l-2 ${G.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":G.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,children:[E.jsxs("span",{className:"opacity-50 mr-2",children:["[",new Date(G.id).toLocaleTimeString(),"]"]}),G.text]},G.id))})]})}),Je&&E.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 rounded border border-slate-700 p-6 text-center",children:[E.jsx("h3",{className:"text-white font-bold mb-4",children:"Disconnect from Server?"}),E.jsxs("div",{className:"flex gap-4 justify-center",children:[E.jsx("button",{onClick:()=>I(!1),className:"bg-slate-700 px-4 py-2 rounded text-white",children:"Cancel"}),E.jsx("button",{onClick:xt,className:"bg-red-600 px-4 py-2 rounded text-white",children:"Disconnect"}),te&&E.jsxs("button",{onClick:Ct,className:"bg-orange-600 px-4 py-2 rounded text-white flex items-center gap-1",children:[E.jsx(qC,{size:16})," Lobby"]})]})]})}),E.jsx(jv,{})]})}return null}function xN(s){return["GHOST","ADMIN","SEARCH_ENGINE"].includes(s)}const RN=EC;nS.createRoot(document.getElementById("root")).render(E.jsx(Ke.StrictMode,{children:E.jsx(wN,{})}));
