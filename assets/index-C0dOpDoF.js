(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Fb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ld={exports:{}},Co={};var $0;function Qb(){if($0)return Co;$0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Co.Fragment=e,Co.jsx=i,Co.jsxs=i,Co}var J0;function Yb(){return J0||(J0=1,Ld.exports=Qb()),Ld.exports}var T=Yb(),jd={exports:{}},ke={};var Z0;function Kb(){if(Z0)return ke;Z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},le=Object.assign,ne={};function be(O,X,ce){this.props=O,this.context=X,this.refs=ne,this.updater=ce||ie}be.prototype.isReactComponent={},be.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},be.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function De(){}De.prototype=be.prototype;function Se(O,X,ce){this.props=O,this.context=X,this.refs=ne,this.updater=ce||ie}var et=Se.prototype=new De;et.constructor=Se,le(et,be.prototype),et.isPureReactComponent=!0;var mt=Array.isArray;function Xe(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,X,ce){var he=ce.ref;return{$$typeof:s,type:O,key:X,ref:he!==void 0?he:null,props:ce}}function V(O,X){return R(O.type,X,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return X[ce]})}var x=/\/+/g;function ut(O,X){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):X.toString(36)}function vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Xe,Xe):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,ce,he,we){var Oe=typeof O;(Oe==="undefined"||Oe==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(Oe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case s:case e:Le=!0;break;case E:return Le=O._init,F(Le(O._payload),X,ce,he,we)}}if(Le)return we=we(O),Le=he===""?"."+ut(O,0):he,mt(we)?(ce="",Le!=null&&(ce=Le.replace(x,"$&/")+"/"),F(we,X,ce,"",function($i){return $i})):we!=null&&(N(we)&&(we=V(we,ce+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(x,"$&/")+"/")+Le)),X.push(we)),1;Le=0;var wt=he===""?".":he+":";if(mt(O))for(var ct=0;ct<O.length;ct++)he=O[ct],Oe=wt+ut(he,ct),Le+=F(he,X,ce,Oe,we);else if(ct=G(O),typeof ct=="function")for(O=ct.call(O),ct=0;!(he=O.next()).done;)he=he.value,Oe=wt+ut(he,ct++),Le+=F(he,X,ce,Oe,we);else if(Oe==="object"){if(typeof O.then=="function")return F(vt(O),X,ce,he,we);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ue(O,X,ce){if(O==null)return O;var he=[],we=0;return F(O,he,"","",function(Oe){return X.call(ce,Oe,we++)}),he}function ve(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var qe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},tt={map:ue,forEach:function(O,X,ce){ue(O,function(){X.apply(this,arguments)},ce)},count:function(O){var X=0;return ue(O,function(){X++}),X},toArray:function(O){return ue(O,function(X){return X})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ke.Activity=w,ke.Children=tt,ke.Component=be,ke.Fragment=i,ke.Profiler=o,ke.PureComponent=Se,ke.StrictMode=a,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ke.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},ke.cache=function(O){return function(){return O.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(O,X,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=le({},O.props),we=O.key;if(X!=null)for(Oe in X.key!==void 0&&(we=""+X.key),X)!A.call(X,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&X.ref===void 0||(he[Oe]=X[Oe]);var Oe=arguments.length-2;if(Oe===1)he.children=ce;else if(1<Oe){for(var Le=Array(Oe),wt=0;wt<Oe;wt++)Le[wt]=arguments[wt+2];he.children=Le}return R(O.type,we,he)},ke.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},ke.createElement=function(O,X,ce){var he,we={},Oe=null;if(X!=null)for(he in X.key!==void 0&&(Oe=""+X.key),X)A.call(X,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=X[he]);var Le=arguments.length-2;if(Le===1)we.children=ce;else if(1<Le){for(var wt=Array(Le),ct=0;ct<Le;ct++)wt[ct]=arguments[ct+2];we.children=wt}if(O&&O.defaultProps)for(he in Le=O.defaultProps,Le)we[he]===void 0&&(we[he]=Le[he]);return R(O,Oe,we)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(O){return{$$typeof:y,render:O}},ke.isValidElement=N,ke.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ve}},ke.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},ke.startTransition=function(O){var X=C.T,ce={};C.T=ce;try{var he=O(),we=C.S;we!==null&&we(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Xe,qe)}catch(Oe){qe(Oe)}finally{X!==null&&ce.types!==null&&(X.types=ce.types),C.T=X}},ke.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ke.use=function(O){return C.H.use(O)},ke.useActionState=function(O,X,ce){return C.H.useActionState(O,X,ce)},ke.useCallback=function(O,X){return C.H.useCallback(O,X)},ke.useContext=function(O){return C.H.useContext(O)},ke.useDebugValue=function(){},ke.useDeferredValue=function(O,X){return C.H.useDeferredValue(O,X)},ke.useEffect=function(O,X){return C.H.useEffect(O,X)},ke.useEffectEvent=function(O){return C.H.useEffectEvent(O)},ke.useId=function(){return C.H.useId()},ke.useImperativeHandle=function(O,X,ce){return C.H.useImperativeHandle(O,X,ce)},ke.useInsertionEffect=function(O,X){return C.H.useInsertionEffect(O,X)},ke.useLayoutEffect=function(O,X){return C.H.useLayoutEffect(O,X)},ke.useMemo=function(O,X){return C.H.useMemo(O,X)},ke.useOptimistic=function(O,X){return C.H.useOptimistic(O,X)},ke.useReducer=function(O,X,ce){return C.H.useReducer(O,X,ce)},ke.useRef=function(O){return C.H.useRef(O)},ke.useState=function(O){return C.H.useState(O)},ke.useSyncExternalStore=function(O,X,ce){return C.H.useSyncExternalStore(O,X,ce)},ke.useTransition=function(){return C.H.useTransition()},ke.version="19.2.3",ke}var W0;function Um(){return W0||(W0=1,jd.exports=Kb()),jd.exports}var We=Um();const la=Fb(We);var Pd={exports:{}},No={},zd={exports:{}},Bd={};var e_;function Xb(){return e_||(e_=1,(function(s){function e(F,ue){var ve=F.length;F.push(ue);e:for(;0<ve;){var qe=ve-1>>>1,tt=F[qe];if(0<o(tt,ue))F[qe]=ue,F[ve]=tt,ve=qe;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ue=F[0],ve=F.pop();if(ve!==ue){F[0]=ve;e:for(var qe=0,tt=F.length,O=tt>>>1;qe<O;){var X=2*(qe+1)-1,ce=F[X],he=X+1,we=F[he];if(0>o(ce,ve))he<tt&&0>o(we,ce)?(F[qe]=we,F[he]=ve,qe=he):(F[qe]=ce,F[X]=ve,qe=X);else if(he<tt&&0>o(we,ve))F[qe]=we,F[he]=ve,qe=he;else break e}}return ue}function o(F,ue){var ve=F.sortIndex-ue.sortIndex;return ve!==0?ve:F.id-ue.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],E=1,w=null,M=3,G=!1,ie=!1,le=!1,ne=!1,be=typeof setTimeout=="function"?setTimeout:null,De=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;function et(F){for(var ue=i(_);ue!==null;){if(ue.callback===null)a(_);else if(ue.startTime<=F)a(_),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=i(_)}}function mt(F){if(le=!1,et(F),!ie)if(i(g)!==null)ie=!0,Xe||(Xe=!0,U());else{var ue=i(_);ue!==null&&vt(mt,ue.startTime-F)}}var Xe=!1,C=-1,A=5,R=-1;function V(){return ne?!0:!(s.unstable_now()-R<A)}function N(){if(ne=!1,Xe){var F=s.unstable_now();R=F;var ue=!0;try{e:{ie=!1,le&&(le=!1,De(C),C=-1),G=!0;var ve=M;try{t:{for(et(F),w=i(g);w!==null&&!(w.expirationTime>F&&V());){var qe=w.callback;if(typeof qe=="function"){w.callback=null,M=w.priorityLevel;var tt=qe(w.expirationTime<=F);if(F=s.unstable_now(),typeof tt=="function"){w.callback=tt,et(F),ue=!0;break t}w===i(g)&&a(g),et(F)}else a(g);w=i(g)}if(w!==null)ue=!0;else{var O=i(_);O!==null&&vt(mt,O.startTime-F),ue=!1}}break e}finally{w=null,M=ve,G=!1}ue=void 0}}finally{ue?U():Xe=!1}}}var U;if(typeof Se=="function")U=function(){Se(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ut=x.port2;x.port1.onmessage=N,U=function(){ut.postMessage(null)}}else U=function(){be(N,0)};function vt(F,ue){C=be(function(){F(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var ue=3;break;default:ue=M}var ve=M;M=ue;try{return F()}finally{M=ve}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(F,ue){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ve=M;M=F;try{return ue()}finally{M=ve}},s.unstable_scheduleCallback=function(F,ue,ve){var qe=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?qe+ve:qe):ve=qe,F){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=ve+tt,F={id:E++,callback:ue,priorityLevel:F,startTime:ve,expirationTime:tt,sortIndex:-1},ve>qe?(F.sortIndex=ve,e(_,F),i(g)===null&&F===i(_)&&(le?(De(C),C=-1):le=!0,vt(mt,ve-qe))):(F.sortIndex=tt,e(g,F),ie||G||(ie=!0,Xe||(Xe=!0,U()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var ue=M;return function(){var ve=M;M=ue;try{return F.apply(this,arguments)}finally{M=ve}}}})(Bd)),Bd}var t_;function $b(){return t_||(t_=1,zd.exports=Xb()),zd.exports}var Hd={exports:{}},mn={};var n_;function Jb(){if(n_)return mn;n_=1;var s=Um();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mn.createPortal=function(g,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,E)},mn.flushSync=function(g){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=E,a.d.f()}},mn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},mn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},mn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var E=_.as,w=y(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):E==="script"&&a.d.X(g,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},mn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},mn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,w=y(E,_.crossOrigin);a.d.L(g,E,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},mn.preloadModule=function(g,_){if(typeof g=="string")if(_){var E=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},mn.requestFormReset=function(g){a.d.r(g)},mn.unstable_batchedUpdates=function(g,_){return g(_)},mn.useFormState=function(g,_,E){return d.H.useFormState(g,_,E)},mn.useFormStatus=function(){return d.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var i_;function Zb(){if(i_)return Hd.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=Jb(),Hd.exports}var s_;function Wb(){if(s_)return No;s_=1;var s=$b(),e=Um(),i=Zb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,b=h.child;b;){if(b===r){p=!0,r=h,l=f;break}if(b===l){p=!0,l=h,r=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===r){p=!0,r=f,l=h;break}if(b===l){p=!0,l=f,r=h;break}b=b.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ie=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),De=Symbol.for("react.consumer"),Se=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case le:return"Fragment";case be:return"Profiler";case ne:return"StrictMode";case mt:return"Suspense";case Xe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ie:return"Portal";case Se:return t.displayName||"Context";case De:return(t._context.displayName||"Context")+".Consumer";case et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:ut(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ut(t(n))}catch{}}return null}var vt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},qe=[],tt=-1;function O(t){return{current:t}}function X(t){0>tt||(t.current=qe[tt],qe[tt]=null,tt--)}function ce(t,n){tt++,qe[tt]=t.current,t.current=n}var he=O(null),we=O(null),Oe=O(null),Le=O(null);function wt(t,n){switch(ce(Oe,n),ce(we,t),ce(he,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?v0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=v0(n),t=E0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(he),ce(he,t)}function ct(){X(he),X(we),X(Oe)}function $i(t){t.memoizedState!==null&&ce(Le,t);var n=he.current,r=E0(n,t.type);n!==r&&(ce(we,t),ce(he,r))}function Ns(t){we.current===t&&(X(he),X(we)),Le.current===t&&(X(Le),wo._currentValue=ve)}var Ds,Os;function Mn(t){if(Ds===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ds=n&&n[1]||"",Os=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+t+Os}var Ms=!1;function Ji(t,n){if(!t||Ms)return"";Ms=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){z=H}t.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var I=p.split(`
`),P=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Ms=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Mn(r):""}function Dr(t,n){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==n&&n!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Ji(t.type,!1);case 11:return Ji(t.type.render,!1);case 1:return Ji(t.type,!0);case 31:return Mn("Activity");default:return""}}function si(t){try{var n="",r=null;do n+=Dr(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Nt=Object.prototype.hasOwnProperty,Tt=s.unstable_scheduleCallback,ri=s.unstable_cancelCallback,Il=s.unstable_shouldYield,Or=s.unstable_requestPaint,sn=s.unstable_now,Ti=s.unstable_getCurrentPriorityLevel,Z=s.unstable_ImmediatePriority,Y=s.unstable_UserBlockingPriority,te=s.unstable_NormalPriority,re=s.unstable_LowPriority,oe=s.unstable_IdlePriority,Re=s.log,W=s.unstable_setDisableYieldValue,ae=null,me=null;function Ne(t){if(typeof Re=="function"&&W(t),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(ae,t)}catch{}}var Me=Math.clz32?Math.clz32:Ee,ye=Math.log,q=Math.LN2;function Ee(t){return t>>>=0,t===0?32:31-(ye(t)/q|0)|0}var _e=256,nt=262144,rt=4194304;function bn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=bn(l):(p&=b,p!==0?h=bn(p):r||(r=b&~t,r!==0&&(h=bn(r))))):(b=l&~f,b!==0?h=bn(b):p!==0?h=bn(p):r||(r=l&~t,r!==0&&(h=bn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ai(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var t=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),t}function Si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Mr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var Q=31-Me(r),$=1<<Q;b[Q]=0,I[Q]=-1;var z=P[Q];if(z!==null)for(P[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}r&=~$}l!==0&&Vr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Vr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Me(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Cl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Me(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Nl(t,n){var r=n&-n;return r=(r&42)!==0?1:kr(r),(r&(t.suspendedLanes|n))!==0?0:r}function kr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:q0(t.type))}function li(t,n){var r=ue.p;try{return ue.p=t,n()}finally{ue.p=r}}var oi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+oi,Wt="__reactProps$"+oi,Ai="__reactContainer$"+oi,ya="__reactEvents$"+oi,Hh="__reactListeners$"+oi,du="__reactHandles$"+oi,mu="__reactResources$"+oi,wi="__reactMarker$"+oi;function _a(t){delete t[Lt],delete t[Wt],delete t[ya],delete t[Hh],delete t[du]}function xi(t){var n=t[Lt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ai]||r[Lt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=R0(t);t!==null;){if(r=t[Lt])return r;t=R0(t)}return n}t=r,r=t.parentNode}return null}function Gn(t){if(t=t[Lt]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ri(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jt(t){t[wi]=!0}var Dl=new Set,Ol={};function Ii(t,n){Ci(t,n),Ci(t+"Capture",n)}function Ci(t,n){for(Ol[t]=n,t=0;t<n.length;t++)Dl.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function pu(t){return Nt.call(kl,t)?!0:Nt.call(Vl,t)?!1:Ml.test(t)?kl[t]=!0:(Vl[t]=!0,!1)}function va(t,n,r){if(pu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Pt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ul(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ht(t){if(!t._valueTracker){var n=Vs(t)?"checked":"value";t._valueTracker=Ul(t,n,""+t[n])}}function Ur(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Vs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lr=/[\n"\\]/g;function Sn(t){return t.replace(Lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ea(t,n,r,l,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ll(t,p,en(n)):r!=null?Ll(t,p,en(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+en(b):t.removeAttribute("name")}function gu(t,n,r,l,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ht(t);return}r=r!=null?""+en(r):"",n=n!=null?""+en(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),ht(t)}function Ll(t,n,r){n==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ks(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+en(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,r){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+en(r):""}function Us(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(vt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=en(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),ht(t)}function An(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||_u.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Pl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&jl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&jl(t,f,n[f])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Ls.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var zl=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var js=null,Di=null;function jr(t){var n=Gn(t);if(n&&(t=n.stateNode)){var r=t[Wt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ea(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Wt]||null;if(!h)throw Error(a(90));Ea(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ur(l)}break e;case"textarea":yu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ks(t,!!r.multiple,n,!1)}}}var Sa=!1;function Ps(t,n,r){if(Sa)return t(n,r);Sa=!0;try{var l=t(n);return l}finally{if(Sa=!1,(js!==null||Di!==null)&&(fc(),js&&(n=js,t=Di,Di=js=null,jr(n),t)))for(n=0;n<t.length;n++)jr(t[n])}}function ci(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Wt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Qn)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Pr=!1}var Oi=null,Bl=null,zr=null;function Hl(){if(zr)return zr;var t,n=Bl,r=n.length,l,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function Br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function hi(){return!1}function rn(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:hi,this.isPropagationStopped=hi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=rn(es),zs=w({},es,{view:0,detail:0}),ql=rn(zs),Bs,Aa,Vi,wa=w({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Bs=t.screenX-Vi.screenX,Aa=t.screenY-Vi.screenY):Aa=Bs=0,Vi=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Gl=rn(wa),Hr=w({},wa,{dataTransfer:0}),Eu=rn(Hr),Tu=w({},zs,{relatedTarget:0}),qr=rn(Tu),Fl=w({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=rn(Fl),xa=w({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=rn(xa),Au=w({},es,{data:0}),ki=rn(Au),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function Hs(){return Iu}var vn=w({},zs,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cu=rn(vn),Nu=w({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=rn(Nu),u=w({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),m=rn(u),v=w({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=rn(v),L=w({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=rn(L),se=w({},es,{newState:0,oldState:0}),je=rn(se),Mt=[9,13,27,32],at=Qn&&"CompositionEvent"in window,xt=null;Qn&&"documentMode"in document&&(xt=document.documentMode);var Yn=Qn&&"TextEvent"in window&&!xt,Ui=Qn&&(!at||xt&&8<xt&&11>=xt),fi=" ",di=!1;function Gr(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function pT(t,n){switch(t){case"compositionend":return Ra(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return t=n.data,t===fi&&di?null:t;default:return null}}function gT(t,n){if(Ia)return t==="compositionend"||!at&&Gr(t,n)?(t=Hl(),zr=Bl=Oi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var yT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!yT[t.type]:n==="textarea"}function Dp(t,n,r,l){js?Di?Di.push(l):Di=[l]:js=l,n=vc(n,"onChange"),0<n.length&&(r=new Mi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ql=null,Yl=null;function _T(t){d0(t,0)}function Du(t){var n=Vn(t);if(Ur(n))return t}function Op(t,n){if(t==="change")return n}var Mp=!1;if(Qn){var qh;if(Qn){var Gh="oninput"in document;if(!Gh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),Gh=typeof Vp.oninput=="function"}qh=Gh}else qh=!1;Mp=qh&&(!document.documentMode||9<document.documentMode)}function kp(){Ql&&(Ql.detachEvent("onpropertychange",Up),Yl=Ql=null)}function Up(t){if(t.propertyName==="value"&&Du(Yl)){var n=[];Dp(n,Yl,t,Fn(t)),Ps(_T,n)}}function vT(t,n,r){t==="focusin"?(kp(),Ql=n,Yl=r,Ql.attachEvent("onpropertychange",Up)):t==="focusout"&&kp()}function ET(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Yl)}function TT(t,n){if(t==="click")return Du(n)}function bT(t,n){if(t==="input"||t==="change")return Du(n)}function ST(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:ST;function Kl(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Nt.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function Lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,n){var r=Lp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lp(r)}}function Pp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ni(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ni(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var AT=Qn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Qh=null,Xl=null,Yh=!1;function Bp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yh||Ca==null||Ca!==Ni(l)||(l=Ca,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Kl(Xl,l)||(Xl=l,l=vc(Qh,"onSelect"),0<l.length&&(n=new Mi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ca)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Na={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Kh={},Hp={};Qn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Qr(t){if(Kh[t])return Kh[t];if(!Na[t])return t;var n=Na[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Hp)return Kh[t]=n[r];return t}var qp=Qr("animationend"),Gp=Qr("animationiteration"),Fp=Qr("animationstart"),wT=Qr("transitionrun"),xT=Qr("transitionstart"),RT=Qr("transitioncancel"),Qp=Qr("transitionend"),Yp=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function mi(t,n){Yp.set(t,n),Ii(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],Da=0,$h=0;function Mu(){for(var t=Da,n=$h=Da=0;n<t;){var r=Kn[n];Kn[n++]=null;var l=Kn[n];Kn[n++]=null;var h=Kn[n];Kn[n++]=null;var f=Kn[n];if(Kn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Kp(r,h,f)}}function Vu(t,n,r,l){Kn[Da++]=t,Kn[Da++]=n,Kn[Da++]=r,Kn[Da++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,r,l){return Vu(t,n,r,l),ku(t)}function Yr(t,n){return Vu(t,null,null,n),ku(t)}function Kp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Me(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function ku(t){if(50<_o)throw _o=0,ld=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Oa={};function IT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,r,l){return new IT(t,n,r,l)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,n){var r=t.alternate;return r===null?(r=Ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Xp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Zh(t)&&(p=1);else if(typeof t=="string")p=Mb(t,r,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Ln(31,r,n,h),t.elementType=R,t.lanes=f,t;case le:return Kr(r.children,h,f,n);case ne:p=8,h|=24;break;case be:return t=Ln(12,r,n,h|2),t.elementType=be,t.lanes=f,t;case mt:return t=Ln(13,r,n,h),t.elementType=mt,t.lanes=f,t;case Xe:return t=Ln(19,r,n,h),t.elementType=Xe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Se:p=10;break e;case De:p=9;break e;case et:p=11;break e;case C:p=14;break e;case A:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Ln(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=Ln(7,t,l,n),t.lanes=r,t}function Wh(t,n,r){return t=Ln(6,t,null,n),t.lanes=r,t}function $p(t){var n=Ln(18,null,null,0);return n.stateNode=t,n}function ef(t,n,r){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jp=new WeakMap;function Xn(t,n){if(typeof t=="object"&&t!==null){var r=Jp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:si(n)},Jp.set(t,n),n)}return{value:t,source:n,stack:si(n)}}var Ma=[],Va=0,Lu=null,$l=0,$n=[],Jn=0,qs=null,Li=1,ji="";function is(t,n){Ma[Va++]=$l,Ma[Va++]=Lu,Lu=t,$l=n}function Zp(t,n,r){$n[Jn++]=Li,$n[Jn++]=ji,$n[Jn++]=qs,qs=t;var l=Li;t=ji;var h=32-Me(l)-1;l&=~(1<<h),r+=1;var f=32-Me(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Li=1<<32-Me(n)+h|r<<h|l,ji=f+t}else Li=1<<f|r<<h|l,ji=t}function tf(t){t.return!==null&&(is(t,1),Zp(t,1,0))}function nf(t){for(;t===Lu;)Lu=Ma[--Va],Ma[Va]=null,$l=Ma[--Va],Ma[Va]=null;for(;t===qs;)qs=$n[--Jn],$n[Jn]=null,ji=$n[--Jn],$n[Jn]=null,Li=$n[--Jn],$n[Jn]=null}function Wp(t,n){$n[Jn++]=Li,$n[Jn++]=ji,$n[Jn++]=qs,Li=n.id,ji=n.overflow,qs=t}var an=null,bt=null,$e=!1,Gs=null,Zn=!1,sf=Error(a(519));function Fs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Xn(n,t)),sf}function eg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Lt]=t,n[Wt]=l,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(r=0;r<Eo.length;r++)He(Eo[r],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),gu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),Us(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||y0(n.textContent,r)?(l.popover!=null&&(He("beforetoggle",n),He("toggle",n)),l.onScroll!=null&&He("scroll",n),l.onScrollEnd!=null&&He("scrollend",n),l.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Fs(t,!0)}function tg(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:an=an.return}}function ka(t){if(t!==an)return!1;if(!$e)return tg(t),$e=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bd(t.type,t.memoizedProps)),r=!r),r&&bt&&Fs(t),tg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=x0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=x0(t)}else n===27?(n=bt,rr(t.type)?(t=Rd,Rd=null,bt=t):bt=n):bt=an?ei(t.stateNode.nextSibling):null;return!0}function Xr(){bt=an=null,$e=!1}function rf(){var t=Gs;return t!==null&&(In===null?In=t:In.push.apply(In,t),Gs=null),t}function Jl(t){Gs===null?Gs=[t]:Gs.push(t)}var af=O(null),$r=null,ss=null;function Qs(t,n,r){ce(af,n._currentValue),n._currentValue=r}function rs(t){t._currentValue=af.current,X(af)}function lf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function of(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var I=0;I<n.length;I++)if(b.context===n[I]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),lf(f.return,r,t),l||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),lf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ua(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var b=h.type;Un(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===Le.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&of(n,t,r,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){$r=t,ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return ng($r,t)}function Pu(t,n){return $r===null&&Jr(t),ng(t,n)}function ng(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ss===null){if(t===null)throw Error(a(308));ss=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ss=ss.next=n;return r}var CT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},NT=s.unstable_scheduleCallback,DT=s.unstable_NormalPriority,zt={$$typeof:Se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new CT,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&NT(DT,function(){t.controller.abort()})}var Wl=null,cf=0,La=0,ja=null;function OT(t,n){if(Wl===null){var r=Wl=[];cf=0,La=dd(),ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return cf++,n.then(ig,ig),n}function ig(){if(--cf===0&&Wl!==null){ja!==null&&(ja.status="fulfilled");var t=Wl;Wl=null,La=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function MT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var sg=F.S;F.S=function(t,n){By=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OT(t,n),sg!==null&&sg(t,n)};var Zr=O(null);function hf(){var t=Zr.current;return t!==null?t:Et.pooledCache}function zu(t,n){n===null?ce(Zr,Zr.current):ce(Zr,n.pool)}function rg(){var t=hf();return t===null?null:{parent:zt._currentValue,pool:t}}var Pa=Error(a(460)),ff=Error(a(474)),Bu=Error(a(542)),Hu={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ui,ui),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ug(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ug(t),t}throw ea=n,Pa}}function Wr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ea=r,Pa):r}}var ea=null;function og(){if(ea===null)throw Error(a(459));var t=ea;return ea=null,t}function ug(t){if(t===Pa||t===Bu)throw Error(a(483))}var za=null,eo=0;function qu(t){var n=eo;return eo+=1,za===null&&(za=[]),lg(za,t,n)}function to(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cg(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=ns(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,D,j,K){return D===null||D.tag!==6?(D=Wh(j,k.mode,K),D.return=k,D):(D=h(D,j),D.return=k,D)}function I(k,D,j,K){var Te=j.type;return Te===le?Q(k,D,j.props.children,K,j.key):D!==null&&(D.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Wr(Te)===D.type)?(D=h(D,j.props),to(D,j),D.return=k,D):(D=Uu(j.type,j.key,j.props,null,k.mode,K),to(D,j),D.return=k,D)}function P(k,D,j,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=ef(j,k.mode,K),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function Q(k,D,j,K,Te){return D===null||D.tag!==7?(D=Kr(j,k.mode,K,Te),D.return=k,D):(D=h(D,j),D.return=k,D)}function $(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Wh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return j=Uu(D.type,D.key,D.props,null,k.mode,j),to(j,D),j.return=k,j;case ie:return D=ef(D,k.mode,j),D.return=k,D;case A:return D=Wr(D),$(k,D,j)}if(vt(D)||U(D))return D=Kr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return $(k,qu(D),j);if(D.$$typeof===Se)return $(k,Pu(k,D),j);Gu(k,D)}return null}function z(k,D,j,K){var Te=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Te!==null?null:b(k,D,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===Te?I(k,D,j,K):null;case ie:return j.key===Te?P(k,D,j,K):null;case A:return j=Wr(j),z(k,D,j,K)}if(vt(j)||U(j))return Te!==null?null:Q(k,D,j,K,null);if(typeof j.then=="function")return z(k,D,qu(j),K);if(j.$$typeof===Se)return z(k,D,Pu(k,j),K);Gu(k,j)}return null}function H(k,D,j,K,Te){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(j)||null,b(D,k,""+K,Te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?j:K.key)||null,I(D,k,K,Te);case ie:return k=k.get(K.key===null?j:K.key)||null,P(D,k,K,Te);case A:return K=Wr(K),H(k,D,j,K,Te)}if(vt(K)||U(K))return k=k.get(j)||null,Q(D,k,K,Te,null);if(typeof K.then=="function")return H(k,D,j,qu(K),Te);if(K.$$typeof===Se)return H(k,D,j,Pu(D,K),Te);Gu(D,K)}return null}function de(k,D,j,K){for(var Te=null,it=null,pe=D,ze=D=0,Fe=null;pe!==null&&ze<j.length;ze++){pe.index>ze?(Fe=pe,pe=null):Fe=pe.sibling;var st=z(k,pe,j[ze],K);if(st===null){pe===null&&(pe=Fe);break}t&&pe&&st.alternate===null&&n(k,pe),D=f(st,D,ze),it===null?Te=st:it.sibling=st,it=st,pe=Fe}if(ze===j.length)return r(k,pe),$e&&is(k,ze),Te;if(pe===null){for(;ze<j.length;ze++)pe=$(k,j[ze],K),pe!==null&&(D=f(pe,D,ze),it===null?Te=pe:it.sibling=pe,it=pe);return $e&&is(k,ze),Te}for(pe=l(pe);ze<j.length;ze++)Fe=H(pe,k,ze,j[ze],K),Fe!==null&&(t&&Fe.alternate!==null&&pe.delete(Fe.key===null?ze:Fe.key),D=f(Fe,D,ze),it===null?Te=Fe:it.sibling=Fe,it=Fe);return t&&pe.forEach(function(cr){return n(k,cr)}),$e&&is(k,ze),Te}function xe(k,D,j,K){if(j==null)throw Error(a(151));for(var Te=null,it=null,pe=D,ze=D=0,Fe=null,st=j.next();pe!==null&&!st.done;ze++,st=j.next()){pe.index>ze?(Fe=pe,pe=null):Fe=pe.sibling;var cr=z(k,pe,st.value,K);if(cr===null){pe===null&&(pe=Fe);break}t&&pe&&cr.alternate===null&&n(k,pe),D=f(cr,D,ze),it===null?Te=cr:it.sibling=cr,it=cr,pe=Fe}if(st.done)return r(k,pe),$e&&is(k,ze),Te;if(pe===null){for(;!st.done;ze++,st=j.next())st=$(k,st.value,K),st!==null&&(D=f(st,D,ze),it===null?Te=st:it.sibling=st,it=st);return $e&&is(k,ze),Te}for(pe=l(pe);!st.done;ze++,st=j.next())st=H(pe,k,ze,st.value,K),st!==null&&(t&&st.alternate!==null&&pe.delete(st.key===null?ze:st.key),D=f(st,D,ze),it===null?Te=st:it.sibling=st,it=st);return t&&pe.forEach(function(Gb){return n(k,Gb)}),$e&&is(k,ze),Te}function _t(k,D,j,K){if(typeof j=="object"&&j!==null&&j.type===le&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:e:{for(var Te=j.key;D!==null;){if(D.key===Te){if(Te=j.type,Te===le){if(D.tag===7){r(k,D.sibling),K=h(D,j.props.children),K.return=k,k=K;break e}}else if(D.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Wr(Te)===D.type){r(k,D.sibling),K=h(D,j.props),to(K,j),K.return=k,k=K;break e}r(k,D);break}else n(k,D);D=D.sibling}j.type===le?(K=Kr(j.props.children,k.mode,K,j.key),K.return=k,k=K):(K=Uu(j.type,j.key,j.props,null,k.mode,K),to(K,j),K.return=k,k=K)}return p(k);case ie:e:{for(Te=j.key;D!==null;){if(D.key===Te)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){r(k,D.sibling),K=h(D,j.children||[]),K.return=k,k=K;break e}else{r(k,D);break}else n(k,D);D=D.sibling}K=ef(j,k.mode,K),K.return=k,k=K}return p(k);case A:return j=Wr(j),_t(k,D,j,K)}if(vt(j))return de(k,D,j,K);if(U(j)){if(Te=U(j),typeof Te!="function")throw Error(a(150));return j=Te.call(j),xe(k,D,j,K)}if(typeof j.then=="function")return _t(k,D,qu(j),K);if(j.$$typeof===Se)return _t(k,D,Pu(k,j),K);Gu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,j),K.return=k,k=K):(r(k,D),K=Wh(j,k.mode,K),K.return=k,k=K),p(k)):r(k,D)}return function(k,D,j,K){try{eo=0;var Te=_t(k,D,j,K);return za=null,Te}catch(pe){if(pe===Pa||pe===Bu)throw pe;var it=Ln(29,pe,null,k.mode);return it.lanes=K,it.return=k,it}}}var ta=cg(!0),hg=cg(!1),Ys=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(lt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ku(t),Kp(t,null,r),n}return Vu(t,l,n,r),ku(t)}function no(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cl(t,r)}}function pf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gf=!1;function io(){if(gf){var t=ja;if(t!==null)throw t}}function so(t,n,r,l){gf=!1;var h=t.updateQueue;Ys=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==p&&(b===null?Q.firstBaseUpdate=P:b.next=P,Q.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,Q=P=I=null,b=f;do{var z=b.lane&-536870913,H=z!==b.lane;if(H?(Ge&z)===z:(l&z)===z){z!==0&&z===La&&(gf=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,xe=b;z=n;var _t=r;switch(xe.tag){case 1:if(de=xe.payload,typeof de=="function"){$=de.call(_t,$,z);break e}$=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=xe.payload,z=typeof de=="function"?de.call(_t,$,z):de,z==null)break e;$=w({},$,z);break e;case 2:Ys=!0}}z=b.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(P=Q=H,I=$):Q=Q.next=H,p|=z;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=$),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),er|=p,t.lanes=p,t.memoizedState=$}}function fg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function dg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fg(r[t],n)}var Ba=O(null),Fu=O(0);function mg(t,n){t=ms,ce(Fu,t),ce(Ba,n),ms=t|n.baseLanes}function yf(){ce(Fu,ms),ce(Ba,Ba.current)}function _f(){ms=Fu.current,X(Ba),X(Fu)}var jn=O(null),Wn=null;function $s(t){var n=t.alternate;ce(Vt,Vt.current&1),ce(jn,t),Wn===null&&(n===null||Ba.current!==null||n.memoizedState!==null)&&(Wn=t)}function vf(t){ce(Vt,Vt.current),ce(jn,t),Wn===null&&(Wn=t)}function pg(t){t.tag===22?(ce(Vt,Vt.current),ce(jn,t),Wn===null&&(Wn=t)):Js()}function Js(){ce(Vt,Vt.current),ce(jn,jn.current)}function Pn(t){X(jn),Wn===t&&(Wn=null),X(Vt)}var Vt=O(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||wd(r)||xd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Pe=null,gt=null,Bt=null,Yu=!1,Ha=!1,na=!1,Ku=0,ro=0,qa=null,VT=0;function Dt(){throw Error(a(321))}function Ef(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Un(t[r],n[r]))return!1;return!0}function Tf(t,n,r,l,h,f){return as=f,Pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Zg:Uf,na=!1,f=r(l,h),na=!1,Ha&&(f=yg(n,r,l,h)),gg(t),f}function gg(t){F.H=oo;var n=gt!==null&&gt.next!==null;if(as=0,Bt=gt=Pe=null,Yu=!1,ro=0,qa=null,n)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&ju(t)&&(Ht=!0))}function yg(t,n,r,l){Pe=t;var h=0;do{if(Ha&&(qa=null),ro=0,Ha=!1,25<=h)throw Error(a(301));if(h+=1,Bt=gt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Wg,f=n(r,l)}while(Ha);return f}function kT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Pe.flags|=1024),n}function bf(){var t=Ku!==0;return Ku=0,t}function Sf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Af(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}as=0,Bt=gt=Pe=null,Ha=!1,ro=Ku=0,qa=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Pe.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function kt(){if(gt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var n=Bt===null?Pe.memoizedState:Bt.next;if(n!==null)Bt=n,gt=t;else{if(t===null)throw Pe.alternate===null?Error(a(467)):Error(a(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Bt===null?Pe.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var n=ro;return ro+=1,qa===null&&(qa=[]),t=lg(qa,t,n),n=Pe,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Zg:Uf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===Se)return ln(t)}throw Error(a(438,String(t)))}function wf(t){var n=null,r=Pe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Xu(),Pe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function ls(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=kt();return xf(n,gt,t)}function xf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=p=null,I=null,P=n,Q=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Ge&$)===$:(as&$)===$){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===La&&(Q=!0);else if((as&z)===z){P=P.next,z===La&&(Q=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(b=I=$,p=f):I=I.next=$,Pe.lanes|=z,er|=z;$=P.action,na&&r(f,$),f=P.hasEagerState?P.eagerState:r(f,$)}else z={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(b=I=z,p=f):I=I.next=z,Pe.lanes|=$,er|=$;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=b,!Un(f,t.memoizedState)&&(Ht=!0,Q&&(r=ja,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=kt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Un(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function _g(t,n,r){var l=Pe,h=kt(),f=$e;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Un((gt||h).memoizedState,r);if(p&&(h.memoizedState=r,Ht=!0),h=h.queue,Nf(Tg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},Eg.bind(null,l,h,r,n),null),Et===null)throw Error(a(349));f||(as&127)!==0||vg(l,n,r)}return r}function vg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Pe.updateQueue,n===null?(n=Xu(),Pe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Eg(t,n,r,l){n.value=r,n.getSnapshot=l,bg(n)&&Sg(t)}function Tg(t,n,r){return r(function(){bg(n)&&Sg(t)})}function bg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Un(t,r)}catch{return!0}}function Sg(t){var n=Yr(t,2);n!==null&&Cn(n,t,2)}function If(t){var n=En();if(typeof t=="function"){var r=t;if(t=r(),na){Ne(!0);try{r()}finally{Ne(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n}function Ag(t,n,r,l){return t.baseState=r,xf(t,gt,typeof l=="function"?l:ls)}function UT(t,n,r,l,h){if(ec(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,wg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function wg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var b=r(h,l),I=F.S;I!==null&&I(p,b),xg(t,n,b)}catch(P){Cf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,l),xg(t,n,f)}catch(P){Cf(t,n,P)}}function xg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Rg(t,n,l)},function(l){return Cf(t,n,l)}):Rg(t,n,r)}function Rg(t,n,r){n.status="fulfilled",n.value=r,Ig(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,wg(t,r)))}function Cf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Ig(n),n=n.next;while(n!==l)}t.action=null}function Ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Cg(t,n){return n}function Ng(t,n){if($e){var r=Et.formState;if(r!==null){e:{var l=Pe;if($e){if(bt){t:{for(var h=bt,f=Zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){bt=ei(h.nextSibling),l=h.data==="F!";break e}}Fs(l)}l=!1}l&&(n=r[0])}}return r=En(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:n},r.queue=l,r=Xg.bind(null,Pe,l),l.dispatch=r,l=If(!1),f=kf.bind(null,Pe,!1,l.queue),l=En(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=UT.bind(null,Pe,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Dg(t){var n=kt();return Og(n,gt,t)}function Og(t,n,r){if(n=xf(t,n,Cg)[0],t=Ju(ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ao(n)}catch(p){throw p===Pa?Bu:p}else l=n;n=kt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Pe.flags|=2048,Ga(9,{destroy:void 0},LT.bind(null,h,r),null)),[l,f,t]}function LT(t,n){t.action=n}function Mg(t){var n=kt(),r=gt;if(r!==null)return Og(n,r,t);kt(),n=n.memoizedState,r=kt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ga(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Pe.updateQueue,n===null&&(n=Xu(),Pe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Vg(){return kt().memoizedState}function Zu(t,n,r,l){var h=En();Pe.flags|=t,h.memoizedState=Ga(1|n,{destroy:void 0},r,l===void 0?null:l)}function Wu(t,n,r,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;gt!==null&&l!==null&&Ef(l,gt.memoizedState.deps)?h.memoizedState=Ga(n,f,r,l):(Pe.flags|=t,h.memoizedState=Ga(1|n,f,r,l))}function kg(t,n){Zu(8390656,8,t,n)}function Nf(t,n){Wu(2048,8,t,n)}function jT(t){Pe.flags|=4;var n=Pe.updateQueue;if(n===null)n=Xu(),Pe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Ug(t){var n=kt().memoizedState;return jT({ref:n,nextImpl:t}),function(){if((lt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lg(t,n){return Wu(4,2,t,n)}function jg(t,n){return Wu(4,4,t,n)}function Pg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zg(t,n,r){r=r!=null?r.concat([t]):null,Wu(4,4,Pg.bind(null,n,t),r)}function Df(){}function Bg(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Hg(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),na){Ne(!0);try{t()}finally{Ne(!1)}}return r.memoizedState=[l,n],l}function Of(t,n,r){return r===void 0||(as&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=qy(),Pe.lanes|=t,er|=t,r)}function qg(t,n,r,l){return Un(r,n)?r:Ba.current!==null?(t=Of(t,r,l),Un(t,n)||(Ht=!0),t):(as&42)===0||(as&1073741824)!==0&&(Ge&261930)===0?(Ht=!0,t.memoizedState=r):(t=qy(),Pe.lanes|=t,er|=t,n)}function Gg(t,n,r,l,h){var f=ue.p;ue.p=f!==0&&8>f?f:8;var p=F.T,b={};F.T=b,kf(t,!1,n,r);try{var I=h(),P=F.S;if(P!==null&&P(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=MT(I,l);lo(t,n,Q,Hn(t))}else lo(t,n,l,Hn(t))}catch($){lo(t,n,{then:function(){},status:"rejected",reason:$},Hn())}finally{ue.p=f,p!==null&&b.types!==null&&(p.types=b.types),F.T=p}}function PT(){}function Mf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Fg(t).queue;Gg(t,h,n,ve,r===null?PT:function(){return Qg(t),r(l)})}function Fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:ve},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qg(t){var n=Fg(t);n.next===null&&(n=t.alternate.memoizedState),lo(t,n.next.queue,{},Hn())}function Vf(){return ln(wo)}function Yg(){return kt().memoizedState}function Kg(){return kt().memoizedState}function zT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Hn();t=Ks(r);var l=Xs(n,t,r);l!==null&&(Cn(l,n,r),no(l,n,r)),n={cache:uf()},t.payload=n;return}n=n.return}}function BT(t,n,r){var l=Hn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ec(t)?$g(n,r):(r=Jh(t,n,r,l),r!==null&&(Cn(r,t,l),Jg(r,n,l)))}function Xg(t,n,r){var l=Hn();lo(t,n,r,l)}function lo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ec(t))$g(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,r);if(h.hasEagerState=!0,h.eagerState=b,Un(b,p))return Vu(t,n,h,0),Et===null&&Mu(),!1}catch{}if(r=Jh(t,n,h,l),r!==null)return Cn(r,t,l),Jg(r,n,l),!0}return!1}function kf(t,n,r,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(a(479))}else n=Jh(t,r,l,2),n!==null&&Cn(n,t,2)}function ec(t){var n=t.alternate;return t===Pe||n!==null&&n===Pe}function $g(t,n){Ha=Yu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Jg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cl(t,r)}}var oo={readContext:ln,use:$u,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};oo.useEffectEvent=Dt;var Zg={readContext:ln,use:$u,useCallback:function(t,n){return En().memoizedState=[t,n===void 0?null:n],t},useContext:ln,useEffect:kg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zu(4194308,4,Pg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var r=En();n=n===void 0?null:n;var l=t();if(na){Ne(!0);try{t()}finally{Ne(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=En();if(r!==void 0){var h=r(n);if(na){Ne(!0);try{r(n)}finally{Ne(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=BT.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var n=En();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,r=Xg.bind(null,Pe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Df,useDeferredValue:function(t,n){var r=En();return Of(r,t,n)},useTransition:function(){var t=If(!1);return t=Gg.bind(null,Pe,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Pe,h=En();if($e){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Et===null)throw Error(a(349));(Ge&127)!==0||vg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,kg(Tg.bind(null,l,f,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},Eg.bind(null,l,f,r,n),null),r},useId:function(){var t=En(),n=Et.identifierPrefix;if($e){var r=ji,l=Li;r=(l&~(1<<32-Me(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=VT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t){var n=En();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=kf.bind(null,Pe,!0,r),r.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return En().memoizedState=zT.bind(null,Pe)},useEffectEvent:function(t){var n=En(),r={impl:t};return n.memoizedState=r,function(){if((lt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Uf={readContext:ln,use:$u,useCallback:Bg,useContext:ln,useEffect:Nf,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:jg,useMemo:Hg,useReducer:Ju,useRef:Vg,useState:function(){return Ju(ls)},useDebugValue:Df,useDeferredValue:function(t,n){var r=kt();return qg(r,gt.memoizedState,t,n)},useTransition:function(){var t=Ju(ls)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:_g,useId:Yg,useHostTransitionStatus:Vf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var r=kt();return Ag(r,gt,t,n)},useMemoCache:wf,useCacheRefresh:Kg};Uf.useEffectEvent=Ug;var Wg={readContext:ln,use:$u,useCallback:Bg,useContext:ln,useEffect:Nf,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:jg,useMemo:Hg,useReducer:Rf,useRef:Vg,useState:function(){return Rf(ls)},useDebugValue:Df,useDeferredValue:function(t,n){var r=kt();return gt===null?Of(r,t,n):qg(r,gt.memoizedState,t,n)},useTransition:function(){var t=Rf(ls)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:_g,useId:Yg,useHostTransitionStatus:Vf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var r=kt();return gt!==null?Ag(r,gt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Kg};Wg.useEffectEvent=Ug;function Lf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Hn(),h=Ks(l);h.payload=n,r!=null&&(h.callback=r),n=Xs(t,h,l),n!==null&&(Cn(n,t,l),no(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Hn(),h=Ks(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Xs(t,h,l),n!==null&&(Cn(n,t,l),no(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Hn(),l=Ks(r);l.tag=2,n!=null&&(l.callback=n),n=Xs(t,l,r),n!==null&&(Cn(n,t,r),no(n,t,r))}};function ey(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Kl(r,l)||!Kl(h,f):!0}function ty(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ny(t){Ou(t)}function iy(t){console.error(t)}function sy(t){Ou(t)}function tc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ry(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,r){return r=Ks(r),r.tag=3,r.payload={element:null},r.callback=function(){tc(t,n)},r}function ay(t){return t=Ks(t),t.tag=3,t}function ly(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ry(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ry(n,r,l),typeof h!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function HT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ua(n,r,h,!0),r=jn.current,r!==null){switch(r.tag){case 31:case 13:return Wn===null?dc():r.alternate===null&&Ot===0&&(Ot=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),cd(t,l,h)),!1;case 22:return r.flags|=65536,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),cd(t,l,h)),!1}throw Error(a(435,r.tag))}return cd(t,l,h),dc(),!1}if($e)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==sf&&(t=Error(a(422),{cause:l}),Jl(Xn(t,r)))):(l!==sf&&(n=Error(a(423),{cause:l}),Jl(Xn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Xn(l,r),h=Pf(t.stateNode,l,h),pf(t,h),Ot!==4&&(Ot=2)),!1;var f=Error(a(520),{cause:l});if(f=Xn(f,r),yo===null?yo=[f]:yo.push(f),Ot!==4&&(Ot=2),n===null)return!0;l=Xn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Pf(r.stateNode,l,t),pf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ay(h),ly(h,t,r,l),pf(r,h),!1}r=r.return}while(r!==null);return!1}var zf=Error(a(461)),Ht=!1;function on(t,n,r,l){n.child=t===null?hg(n,null,r,l):ta(n,t.child,r,l)}function oy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return Jr(n),l=Tf(t,n,r,p,f,h),b=bf(),t!==null&&!Ht?(Sf(t,n,h),os(t,n,h)):($e&&b&&tf(n),n.flags|=1,on(t,n,l,h),n.child)}function uy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,cy(t,n,f,l,h)):(t=Uu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Kl,r(p,l)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ns(f,l),t.ref=n.ref,t.return=n,n.child=t}function cy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Kl(f,l)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=l=f,Kf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,os(t,n,h)}return Bf(t,n,r,l,h)}function hy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return fy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?mg(n,f):yf(),pg(n);else return l=n.lanes=536870912,fy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(zu(n,f.cachePool),mg(n,f),Js(),n.memoizedState=null):(t!==null&&zu(n,null),yf(),Js());return on(t,n,h,r),n.child}function uo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(t,n,r,l,h){var f=hf();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&zu(n,null),yf(),pg(n),t!==null&&Ua(t,n,l,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dy(t,n,r){return ta(n,t.child,null,r),t=nc(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function qT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if($e){if(l.mode==="hidden")return t=nc(n,l),n.lanes=536870912,uo(null,t);if(vf(n),(t=bt)?(t=w0(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:qs!==null?{id:Li,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=$p(t),r.return=n,n.child=r,an=n,bt=null)):t=null,t===null)throw Fs(n);return n.lanes=536870912,null}return nc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=dy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ht||Ua(t,n,r,!1),h=(r&t.childLanes)!==0,Ht||h){if(l=Et,l!==null&&(p=Nl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Yr(t,p),Cn(l,t,p),zf;dc(),n=dy(t,n,r)}else t=f.treeContext,bt=ei(p.nextSibling),an=n,$e=!0,Gs=null,Zn=!1,t!==null&&Wp(n,t),n=nc(n,l),n.flags|=4096;return n}return t=ns(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Bf(t,n,r,l,h){return Jr(n),r=Tf(t,n,r,l,void 0,h),l=bf(),t!==null&&!Ht?(Sf(t,n,h),os(t,n,h)):($e&&l&&tf(n),n.flags|=1,on(t,n,r,h),n.child)}function my(t,n,r,l,h,f){return Jr(n),n.updateQueue=null,r=yg(n,l,r,h),gg(t),l=bf(),t!==null&&!Ht?(Sf(t,n,f),os(t,n,f)):($e&&l&&tf(n),n.flags|=1,on(t,n,r,f),n.child)}function py(t,n,r,l,h){if(Jr(n),n.stateNode===null){var f=Oa,p=r.contextType;typeof p=="object"&&p!==null&&(f=ln(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},df(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?ln(p):Oa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Lf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&jf.enqueueReplaceState(f,f.state,null),so(n,l,f,h),io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,I=ia(r,b);f.props=I;var P=f.context,Q=r.contextType;p=Oa,typeof Q=="object"&&Q!==null&&(p=ln(Q));var $=r.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==p)&&ty(n,f,l,p),Ys=!1;var z=n.memoizedState;f.state=z,so(n,l,f,h),io(),P=n.memoizedState,b||z!==P||Ys?(typeof $=="function"&&(Lf(n,r,$,l),P=n.memoizedState),(I=Ys||ey(n,r,I,l,z,P,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mf(t,n),p=n.memoizedProps,Q=ia(r,p),f.props=Q,$=n.pendingProps,z=f.context,P=r.contextType,I=Oa,typeof P=="object"&&P!==null&&(I=ln(P)),b=r.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||z!==I)&&ty(n,f,l,I),Ys=!1,z=n.memoizedState,f.state=z,so(n,l,f,h),io();var H=n.memoizedState;p!==$||z!==H||Ys||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof b=="function"&&(Lf(n,r,b,l),H=n.memoizedState),(Q=Ys||ey(n,r,Q,l,z,H,I)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ic(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ta(n,t.child,null,h),n.child=ta(n,null,r,h)):on(t,n,r,h),n.memoizedState=f.state,t=n.child):t=os(t,n,h),t}function gy(t,n,r,l){return Xr(),n.flags|=256,on(t,n,r,l),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:rg()}}function Gf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Bn),t}function yy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if($e){if(h?$s(n):Js(),(t=bt)?(t=w0(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:qs!==null?{id:Li,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=$p(t),r.return=n,n.child=r,an=n,bt=null)):t=null,t===null)throw Fs(n);return xd(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Js(),h=n.mode,b=sc({mode:"hidden",children:b},h),l=Kr(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=qf(r),l.childLanes=Gf(t,p,r),n.memoizedState=Hf,uo(null,l)):($s(n),Ff(n,b))}var I=t.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(f)n.flags&256?($s(n),n.flags&=-257,n=Qf(t,n,r)):n.memoizedState!==null?(Js(),n.child=t.child,n.flags|=128,n=null):(Js(),b=l.fallback,h=n.mode,l=sc({mode:"visible",children:l.children},h),b=Kr(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,ta(n,t.child,null,r),l=n.child,l.memoizedState=qf(r),l.childLanes=Gf(t,p,r),n.memoizedState=Hf,n=uo(null,l));else if($s(n),xd(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Jl({value:l,source:null,stack:null}),n=Qf(t,n,r)}else if(Ht||Ua(t,n,r,!1),p=(r&t.childLanes)!==0,Ht||p){if(p=Et,p!==null&&(l=Nl(p,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Yr(t,l),Cn(p,t,l),zf;wd(b)||dc(),n=Qf(t,n,r)}else wd(b)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,bt=ei(b.nextSibling),an=n,$e=!0,Gs=null,Zn=!1,t!==null&&Wp(n,t),n=Ff(n,l.children),n.flags|=4096);return n}return h?(Js(),b=l.fallback,h=n.mode,I=t.child,P=I.sibling,l=ns(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,P!==null?b=ns(P,b):(b=Kr(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,uo(null,l),l=n.child,b=t.child.memoizedState,b===null?b=qf(r):(h=b.cachePool,h!==null?(I=zt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=rg(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=Gf(t,p,r),n.memoizedState=Hf,uo(t.child,l)):($s(n),r=t.child,t=r.sibling,r=ns(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Ff(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=Ln(22,t,null,n),t.lanes=0,t}function Qf(t,n,r){return ta(n,t.child,null,r),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _y(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,r)}function Yf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function vy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Vt.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,ce(Vt,p),on(t,n,l,r),l=$e?$l:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,r,n);else if(t.tag===19)_y(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Yf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Yf(n,!0,r,null,f,l);break;case"together":Yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function os(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ua(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ns(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ns(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function GT(t,n,r){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),Qs(n,zt,t.memoizedState.cache),Xr();break;case 27:case 5:$i(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:Qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($s(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yy(t,n,r):($s(n),t=os(t,n,r),t!==null?t.sibling:null);$s(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ua(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return vy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Vt,Vt.current),l)break;return null;case 22:return n.lanes=0,hy(t,n,r,n.pendingProps);case 24:Qs(n,zt,t.memoizedState.cache)}return os(t,n,r)}function Ey(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Kf(t,r)&&(n.flags&128)===0)return Ht=!1,GT(t,n,r);Ht=(t.flags&131072)!==0}else Ht=!1,$e&&(n.flags&1048576)!==0&&Zp(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Wr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(l=ia(t,l),n.tag=1,n=py(null,n,t,l,r)):(n.tag=0,n=Bf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===et){n.tag=11,n=oy(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=uy(null,n,t,l,r);break e}}throw n=ut(t)||t,Error(a(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ia(l,n.pendingProps),py(t,n,l,h,r);case 3:e:{if(wt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),so(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Qs(n,zt,l),l!==f.cache&&of(n,[zt],r,!0),io(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=gy(t,n,l,r);break e}else if(l!==h){h=Xn(Error(a(424)),n),Jl(h),n=gy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,bt=ei(t.firstChild),an=n,$e=!0,Gs=null,Zn=!0,r=hg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),l===h){n=os(t,n,r);break e}on(t,n,l,r)}n=n.child}return n;case 26:return ic(t,n),t===null?(r=D0(n.type,null,n.pendingProps,null))?n.memoizedState=r:$e||(r=n.type,t=n.pendingProps,l=Ec(Oe.current).createElement(r),l[Lt]=n,l[Wt]=t,un(l,r,t),jt(l),n.stateNode=l):n.memoizedState=D0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $i(n),t===null&&$e&&(l=n.stateNode=I0(n.type,n.pendingProps,Oe.current),an=n,Zn=!0,h=bt,rr(n.type)?(Rd=h,bt=ei(l.firstChild)):bt=h),on(t,n,n.pendingProps.children,r),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&$e&&((h=l=bt)&&(l=Eb(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,an=n,bt=ei(l.firstChild),Zn=!1,h=!0):h=!1),h||Fs(n)),$i(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,bd(h,f)?l=null:p!==null&&bd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,kT,null,null,r),wo._currentValue=h),ic(t,n),on(t,n,l,r),n.child;case 6:return t===null&&$e&&((t=r=bt)&&(r=Tb(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,an=n,bt=null,t=!0):t=!1),t||Fs(n)),null;case 13:return yy(t,n,r);case 4:return wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ta(n,null,l,r):on(t,n,l,r),n.child;case 11:return oy(t,n,n.type,n.pendingProps,r);case 7:return on(t,n,n.pendingProps,r),n.child;case 8:return on(t,n,n.pendingProps.children,r),n.child;case 12:return on(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qs(n,n.type,l.value),on(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=ln(h),l=l(h),n.flags|=1,on(t,n,l,r),n.child;case 14:return uy(t,n,n.type,n.pendingProps,r);case 15:return cy(t,n,n.type,n.pendingProps,r);case 19:return vy(t,n,r);case 31:return qT(t,n,r);case 22:return hy(t,n,r,n.pendingProps);case 24:return Jr(n),l=ln(zt),t===null?(h=hf(),h===null&&(h=Et,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},df(n),Qs(n,zt,h)):((t.lanes&r)!==0&&(mf(t,n),so(n,null,null,r),io()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qs(n,zt,l)):(l=f.cache,Qs(n,zt,l),l!==h.cache&&of(n,[zt],r,!0))),on(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function us(t){t.flags|=4}function Xf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw ea=Hu,ff}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U0(n))if(Yy())t.flags|=8192;else throw ea=Hu,ff}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?hu():536870912,t.lanes|=n,Ka|=n)}function co(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function St(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function FT(t,n,r){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return St(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),rs(zt),ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ka(n)?us(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),St(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(us(n),f!==null?(St(n),Ty(n,f)):(St(n),Xf(n,h,null,l,r))):f?f!==t.memoizedState?(us(n),St(n),Ty(n,f)):(St(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&us(n),St(n),Xf(n,h,t,l,r)),null;case 27:if(Ns(n),r=Oe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return St(n),null}t=he.current,ka(n)?eg(n):(t=I0(h,l,r),n.stateNode=t,us(n))}return St(n),null;case 5:if(Ns(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return St(n),null}if(f=he.current,ka(n))eg(n);else{var p=Ec(Oe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Lt]=n,f[Wt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(un(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&us(n)}}return St(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Oe.current,ka(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||y0(t.nodeValue,r)),t||Fs(n,!0)}else t=Ec(t).createTextNode(l),t[Lt]=n,n.stateNode=t}return St(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=ka(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Lt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),t=!1}else r=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return St(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ka(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Lt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),rc(n,n.updateQueue),St(n),null);case 4:return ct(),t===null&&yd(n.stateNode.containerInfo),St(n),null;case 10:return rs(n.type),St(n),null;case 19:if(X(Vt),l=n.memoizedState,l===null)return St(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)co(l,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,co(l,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Xp(r,t),r=r.sibling;return ce(Vt,Vt.current&1|2),$e&&is(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&sn()>cc&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!$e)return St(n),null}else 2*sn()-l.renderingStartTime>cc&&r!==536870912&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,r=Vt.current,ce(Vt,h?r&1|2:r&1),$e&&is(n,l.treeForkCount),t):(St(n),null);case 22:case 23:return Pn(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),r=n.updateQueue,r!==null&&rc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&X(Zr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),rs(zt),St(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function QT(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(zt),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ns(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(Vt),null;case 4:return ct(),null;case 10:return rs(n.type),null;case 22:case 23:return Pn(n),_f(),t!==null&&X(Zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(zt),null;case 25:return null;default:return null}}function by(t,n){switch(nf(n),n.tag){case 3:rs(zt),ct();break;case 26:case 27:case 5:Ns(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:X(Vt);break;case 10:rs(n.type);break;case 22:case 23:Pn(n),_f(),t!==null&&X(Zr);break;case 24:rs(zt)}}function ho(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(b){dt(n,n.return,b)}}function Zs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=n;var I=r,P=b;try{P()}catch(Q){dt(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){dt(n,n.return,Q)}}function Sy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dg(n,r)}catch(l){dt(t,t.return,l)}}}function Ay(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){dt(t,n,l)}}function fo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){dt(t,n,h)}}function Pi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){dt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){dt(t,n,h)}else r.current=null}function wy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){dt(t,t.return,h)}}function $f(t,n,r){try{var l=t.stateNode;mb(l,t.type,r,n),l[Wt]=n}catch(h){dt(t,t.return,h)}}function xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ui));else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,r),t=t.sibling;t!==null;)Zf(t,n,r),t=t.sibling}function ac(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ac(t,n,r),t=t.sibling;t!==null;)ac(t,n,r),t=t.sibling}function Ry(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);un(n,l,r),n[Lt]=t,n[Wt]=r}catch(f){dt(t,t.return,f)}}var cs=!1,qt=!1,Wf=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,tn=null;function YT(t,n){if(t=t.containerInfo,Ed=Rc,t=zp(t),Fh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,b=-1,I=-1,P=0,Q=0,$=t,z=null;t:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(b=p+h),$!==f||l!==0&&$.nodeType!==3||(I=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===t)break t;if(z===r&&++P===h&&(b=p),z===f&&++Q===l&&(I=p),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}r=b===-1||I===-1?null:{start:b,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(Td={focusedElem:t,selectionRange:r},Rc=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var de=ia(r.type,h);t=l.getSnapshotBeforeUpdate(de,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){dt(r,r.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ad(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function Cy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:fs(t,r),l&4&&ho(5,r);break;case 1:if(fs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){dt(r,r.return,p)}else{var h=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){dt(r,r.return,p)}}l&64&&Sy(r),l&512&&fo(r,r.return);break;case 3:if(fs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dg(t,n)}catch(p){dt(r,r.return,p)}}break;case 27:n===null&&l&4&&Ry(r);case 26:case 5:fs(t,r),n===null&&l&4&&wy(r),l&512&&fo(r,r.return);break;case 12:fs(t,r);break;case 31:fs(t,r),l&4&&Oy(t,r);break;case 13:fs(t,r),l&4&&My(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=nb.bind(null,r),bb(t,r))));break;case 22:if(l=r.memoizedState!==null||cs,!l){n=n!==null&&n.memoizedState!==null||qt,h=cs;var f=qt;cs=l,(qt=n)&&!f?ds(t,r,(r.subtreeFlags&8772)!==0):fs(t,r),cs=h,qt=f}break;case 30:break;default:fs(t,r)}}function Ny(t){var n=t.alternate;n!==null&&(t.alternate=null,Ny(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&_a(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,wn=!1;function hs(t,n,r){for(r=r.child;r!==null;)Dy(t,n,r),r=r.sibling}function Dy(t,n,r){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:qt||Pi(r,n),hs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:qt||Pi(r,n);var l=Rt,h=wn;rr(r.type)&&(Rt=r.stateNode,wn=!1),hs(t,n,r),bo(r.stateNode),Rt=l,wn=h;break;case 5:qt||Pi(r,n);case 6:if(l=Rt,h=wn,Rt=null,hs(t,n,r),Rt=l,wn=h,Rt!==null)if(wn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(r.stateNode)}catch(f){dt(r,n,f)}else try{Rt.removeChild(r.stateNode)}catch(f){dt(r,n,f)}break;case 18:Rt!==null&&(wn?(t=Rt,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),nl(t)):S0(Rt,r.stateNode));break;case 4:l=Rt,h=wn,Rt=r.stateNode.containerInfo,wn=!0,hs(t,n,r),Rt=l,wn=h;break;case 0:case 11:case 14:case 15:Zs(2,r,n),qt||Zs(4,r,n),hs(t,n,r);break;case 1:qt||(Pi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ay(r,n,l)),hs(t,n,r);break;case 21:hs(t,n,r);break;case 22:qt=(l=qt)||r.memoizedState!==null,hs(t,n,r),qt=l;break;default:hs(t,n,r)}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nl(t)}catch(r){dt(n,n.return,r)}}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nl(t)}catch(r){dt(n,n.return,r)}}function KT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Iy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Iy),n;default:throw Error(a(435,t.tag))}}function lc(t,n){var r=KT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=ib.bind(null,t,l);l.then(h,h)}})}function xn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(rr(b.type)){Rt=b.stateNode,wn=!1;break e}break;case 5:Rt=b.stateNode,wn=!1;break e;case 3:case 4:Rt=b.stateNode.containerInfo,wn=!0;break e}b=b.return}if(Rt===null)throw Error(a(160));Dy(f,p,h),Rt=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vy(n,t),n=n.sibling}var pi=null;function Vy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(n,t),Rn(t),l&4&&(Zs(3,t,t.return),ho(3,t),Zs(5,t,t.return));break;case 1:xn(n,t),Rn(t),l&512&&(qt||r===null||Pi(r,r.return)),l&64&&cs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=pi;if(xn(n,t),Rn(t),l&512&&(qt||r===null||Pi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),un(f,l,r),f[Lt]=t,jt(f),l=f;break e;case"link":var p=V0("link","href",h).get(l+(r.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(l),un(f,l,r),h.head.appendChild(f);break;case"meta":if(p=V0("meta","content",h).get(l+(r.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(b,1);break t}}f=h.createElement(l),un(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Lt]=t,jt(f),l=f}t.stateNode=l}else k0(h,t.type,t.stateNode);else t.stateNode=M0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?k0(h,t.type,t.stateNode):M0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,r.memoizedProps)}break;case 27:xn(n,t),Rn(t),l&512&&(qt||r===null||Pi(r,r.return)),r!==null&&l&4&&$f(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xn(n,t),Rn(t),l&512&&(qt||r===null||Pi(r,r.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(de){dt(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Wf=!0);break;case 6:if(xn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(de){dt(t,t.return,de)}}break;case 3:if(Sc=null,h=pi,pi=Tc(n.containerInfo),xn(n,t),pi=h,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{nl(n.containerInfo)}catch(de){dt(t,t.return,de)}Wf&&(Wf=!1,ky(t));break;case 4:l=pi,pi=Tc(t.stateNode.containerInfo),xn(n,t),Rn(t),pi=l;break;case 12:xn(n,t),Rn(t);break;case 31:xn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 13:xn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=cs,Q=qt;if(cs=P||h,qt=Q||I,xn(n,t),qt=Q,cs=P,Rn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||cs||qt||sa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=I.stateNode;var $=I.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(de){dt(I,I.return,de)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(de){dt(I,I.return,de)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?A0(H,!0):A0(I.stateNode,!1)}catch(de){dt(I,I.return,de)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,lc(t,r))));break;case 19:xn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 30:break;case 21:break;default:xn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(xy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Jf(t);ac(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(An(p,""),r.flags&=-33);var b=Jf(t);ac(t,b,p);break;case 3:case 4:var I=r.stateNode.containerInfo,P=Jf(t);Zf(t,P,I);break;default:throw Error(a(161))}}catch(Q){dt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(t,n.alternate,n),n=n.sibling}function sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Zs(4,n,n.return),sa(n);break;case 1:Pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ay(n,n.return,r),sa(n);break;case 27:bo(n.stateNode);case 26:case 5:Pi(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}t=t.sibling}}function ds(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ds(h,f,r),ho(4,f);break;case 1:if(ds(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){dt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)fg(I[h],b)}catch(P){dt(l,l.return,P)}}r&&p&64&&Sy(f),fo(f,f.return);break;case 27:Ry(f);case 26:case 5:ds(h,f,r),r&&l===null&&p&4&&wy(f),fo(f,f.return);break;case 12:ds(h,f,r);break;case 31:ds(h,f,r),r&&p&4&&Oy(h,f);break;case 13:ds(h,f,r),r&&p&4&&My(h,f);break;case 22:f.memoizedState===null&&ds(h,f,r),fo(f,f.return);break;case 30:break;default:ds(h,f,r)}n=n.sibling}}function ed(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Zl(r))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t))}function gi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uy(t,n,r,l),n=n.sibling}function Uy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gi(t,n,r,l),h&2048&&ho(9,n);break;case 1:gi(t,n,r,l);break;case 3:gi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){gi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){dt(n,n.return,I)}}else gi(t,n,r,l);break;case 31:gi(t,n,r,l);break;case 13:gi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?gi(t,n,r,l):mo(t,n):f._visibility&2?gi(t,n,r,l):(f._visibility|=2,Fa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(p,n);break;case 24:gi(t,n,r,l),h&2048&&td(n.alternate,n);break;default:gi(t,n,r,l)}}function Fa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=r,I=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Fa(f,p,b,I,h),ho(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Fa(f,p,b,I,h):mo(f,p):(Q._visibility|=2,Fa(f,p,b,I,h)),h&&P&2048&&ed(p.alternate,p);break;case 24:Fa(f,p,b,I,h),h&&P&2048&&td(p.alternate,p);break;default:Fa(f,p,b,I,h)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:mo(r,l),h&2048&&ed(l.alternate,l);break;case 24:mo(r,l),h&2048&&td(l.alternate,l);break;default:mo(r,l)}n=n.sibling}}var po=8192;function Qa(t,n,r){if(t.subtreeFlags&po)for(t=t.child;t!==null;)Ly(t,n,r),t=t.sibling}function Ly(t,n,r){switch(t.tag){case 26:Qa(t,n,r),t.flags&po&&t.memoizedState!==null&&Vb(r,pi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,r);break;case 3:case 4:var l=pi;pi=Tc(t.stateNode.containerInfo),Qa(t,n,r),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=po,po=16777216,Qa(t,n,r),po=l):Qa(t,n,r));break;default:Qa(t,n,r)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function go(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tn=l,zy(l,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&Zs(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,oc(t)):go(t);break;default:go(t)}}function oc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tn=l,zy(l,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Zs(8,n,n.return),oc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,oc(n));break;default:oc(n)}t=t.sibling}}function zy(t,n){for(;tn!==null;){var r=tn;switch(r.tag){case 0:case 11:case 15:Zs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,tn=l;else e:for(r=t;tn!==null;){l=tn;var h=l.sibling,f=l.return;if(Ny(l),l===r){tn=null;break e}if(h!==null){h.return=f,tn=h;break e}tn=f}}}var XT={getCacheForType:function(t){var n=ln(zt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return ln(zt).controller.signal}},$T=typeof WeakMap=="function"?WeakMap:Map,lt=0,Et=null,Be=null,Ge=0,ft=0,zn=null,Ws=!1,Ya=!1,nd=!1,ms=0,Ot=0,er=0,ra=0,id=0,Bn=0,Ka=0,yo=null,In=null,sd=!1,uc=0,By=0,cc=1/0,hc=null,tr=null,Xt=0,nr=null,Xa=null,ps=0,rd=0,ad=null,Hy=null,_o=0,ld=null;function Hn(){return(lt&2)!==0&&Ge!==0?Ge&-Ge:F.T!==null?dd():fu()}function qy(){if(Bn===0)if((Ge&536870912)===0||$e){var t=nt;nt<<=1,(nt&3932160)===0&&(nt=262144),Bn=t}else Bn=536870912;return t=jn.current,t!==null&&(t.flags|=32),Bn}function Cn(t,n,r){(t===Et&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&($a(t,0),ir(t,Ge,Bn,!1)),Mr(t,r),((lt&2)===0||t!==Et)&&(t===Et&&((lt&2)===0&&(ra|=r),Ot===4&&ir(t,Ge,Bn,!1)),zi(t))}function Gy(t,n,r){if((lt&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ai(t,n),h=l?WT(t,n):ud(t,n,!0),f=l;do{if(h===0){Ya&&!l&&ir(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!JT(r)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=t;h=yo;var I=b.current.memoizedState.isDehydrated;if(I&&($a(b,p).flags|=256),p=ud(b,p,!1),p!==2){if(nd&&!I){b.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){$a(t,0),ir(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ir(l,n,Bn,!Ws);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-sn(),10<h)){if(ir(l,n,Bn,!Ws),bi(l,0,!0)!==0)break e;ps=n,l.timeoutHandle=T0(Fy.bind(null,l,r,In,hc,sd,n,Bn,ra,Ka,Ws,f,"Throttled",-0,0),h);break e}Fy(l,r,In,hc,sd,n,Bn,ra,Ka,Ws,f,null,-0,0)}}break}while(!0);zi(t)}function Fy(t,n,r,l,h,f,p,b,I,P,Q,$,z,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Ly(n,f,$);var de=(f&62914560)===f?uc-sn():(f&4194048)===f?By-sn():0;if(de=kb($,de),de!==null){ps=f,t.cancelPendingCommit=de(Wy.bind(null,t,n,f,r,l,h,p,b,I,Q,$,null,z,H)),ir(t,f,p,!P);return}}Wy(t,n,f,r,l,h,p,b,I)}function JT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(t,n,r,l){n&=~id,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Me(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Vr(t,r,n)}function fc(){return(lt&6)===0?(vo(0),!1):!0}function od(){if(Be!==null){if(ft===0)var t=Be.return;else t=Be,ss=$r=null,Af(t),za=null,eo=0,t=Be;for(;t!==null;)by(t.alternate,t),t=t.return;Be=null}}function $a(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,yb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ps=0,od(),Et=t,Be=r=ns(t.current,null),Ge=n,ft=0,zn=null,Ws=!1,Ya=ai(t,n),nd=!1,Ka=Bn=id=ra=er=Ot=0,In=yo=null,sd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Me(l),f=1<<h;n|=t[h],l&=~f}return ms=n,Mu(),r}function Qy(t,n){Pe=null,F.H=oo,n===Pa||n===Bu?(n=og(),ft=3):n===ff?(n=og(),ft=4):ft=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,Be===null&&(Ot=1,tc(t,Xn(n,t.current)))}function Yy(){var t=jn.current;return t===null?!0:(Ge&4194048)===Ge?Wn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===Wn:!1}function Ky(){var t=F.H;return F.H=oo,t===null?oo:t}function Xy(){var t=F.A;return F.A=XT,t}function dc(){Ot=4,Ws||(Ge&4194048)!==Ge&&jn.current!==null||(Ya=!0),(er&134217727)===0&&(ra&134217727)===0||Et===null||ir(Et,Ge,Bn,!1)}function ud(t,n,r){var l=lt;lt|=2;var h=Ky(),f=Xy();(Et!==t||Ge!==n)&&(hc=null,$a(t,n)),n=!1;var p=Ot;e:do try{if(ft!==0&&Be!==null){var b=Be,I=zn;switch(ft){case 8:od(),p=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var P=ft;if(ft=0,zn=null,Ja(t,b,I,P),r&&Ya){p=0;break e}break;default:P=ft,ft=0,zn=null,Ja(t,b,I,P)}}ZT(),p=Ot;break}catch(Q){Qy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ss=$r=null,lt=l,F.H=h,F.A=f,Be===null&&(Et=null,Ge=0,Mu()),p}function ZT(){for(;Be!==null;)$y(Be)}function WT(t,n){var r=lt;lt|=2;var l=Ky(),h=Xy();Et!==t||Ge!==n?(hc=null,cc=sn()+500,$a(t,n)):Ya=ai(t,n);e:do try{if(ft!==0&&Be!==null){n=Be;var f=zn;t:switch(ft){case 1:ft=0,zn=null,Ja(t,n,f,1);break;case 2:case 9:if(ag(f)){ft=0,zn=null,Jy(n);break}n=function(){ft!==2&&ft!==9||Et!==t||(ft=7),zi(t)},f.then(n,n);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:ag(f)?(ft=0,zn=null,Jy(n)):(ft=0,zn=null,Ja(t,n,f,7));break;case 5:var p=null;switch(Be.tag){case 26:p=Be.memoizedState;case 5:case 27:var b=Be;if(p?U0(p):b.stateNode.complete){ft=0,zn=null;var I=b.sibling;if(I!==null)Be=I;else{var P=b.return;P!==null?(Be=P,mc(P)):Be=null}break t}}ft=0,zn=null,Ja(t,n,f,5);break;case 6:ft=0,zn=null,Ja(t,n,f,6);break;case 8:od(),Ot=6;break e;default:throw Error(a(462))}}eb();break}catch(Q){Qy(t,Q)}while(!0);return ss=$r=null,F.H=l,F.A=h,lt=r,Be!==null?0:(Et=null,Ge=0,Mu(),Ot)}function eb(){for(;Be!==null&&!Il();)$y(Be)}function $y(t){var n=Ey(t.alternate,t,ms);t.memoizedProps=t.pendingProps,n===null?mc(t):Be=n}function Jy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=my(r,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=my(r,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:Af(n);default:by(r,n),n=Be=Xp(n,ms),n=Ey(r,n,ms)}t.memoizedProps=t.pendingProps,n===null?mc(t):Be=n}function Ja(t,n,r,l){ss=$r=null,Af(n),za=null,eo=0;var h=n.return;try{if(HT(t,h,n,r,Ge)){Ot=1,tc(t,Xn(r,t.current)),Be=null;return}}catch(f){if(h!==null)throw Be=h,f;Ot=1,tc(t,Xn(r,t.current)),Be=null;return}n.flags&32768?($e||l===1?t=!0:Ya||(Ge&536870912)!==0?t=!1:(Ws=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zy(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){Zy(n,Ws);return}t=n.return;var r=FT(n.alternate,n,ms);if(r!==null){Be=r;return}if(n=n.sibling,n!==null){Be=n;return}Be=n=t}while(n!==null);Ot===0&&(Ot=5)}function Zy(t,n){do{var r=QT(t.alternate,t);if(r!==null){r.flags&=32767,Be=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Be=t;return}Be=t=r}while(t!==null);Ot=6,Be=null}function Wy(t,n,r,l,h,f,p,b,I){t.cancelPendingCommit=null;do pc();while(Xt!==0);if((lt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=$h,Bh(t,r,f,p,b,I),t===Et&&(Be=Et=null,Ge=0),Xa=n,nr=t,ps=r,rd=f,ad=h,Hy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sb(te,function(){return s0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ue.p,ue.p=2,p=lt,lt|=4;try{YT(t,n,r)}finally{lt=p,ue.p=h,F.T=l}}Xt=1,e0(),t0(),n0()}}function e0(){if(Xt===1){Xt=0;var t=nr,n=Xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=ue.p;ue.p=2;var h=lt;lt|=4;try{Vy(n,t);var f=Td,p=zp(t.containerInfo),b=f.focusedElem,I=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Pp(b.ownerDocument.documentElement,b)){if(I!==null&&Fh(b)){var P=I.start,Q=I.end;if(Q===void 0&&(Q=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(Q,b.value.length);else{var $=b.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),de=b.textContent.length,xe=Math.min(I.start,de),_t=I.end===void 0?xe:Math.min(I.end,de);!H.extend&&xe>_t&&(p=_t,_t=xe,xe=p);var k=jp(b,xe),D=jp(b,_t);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var j=$.createRange();j.setStart(k.node,k.offset),H.removeAllRanges(),xe>_t?(H.addRange(j),H.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),H.addRange(j))}}}}for($=[],H=b;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var K=$[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Rc=!!Ed,Td=Ed=null}finally{lt=h,ue.p=l,F.T=r}}t.current=n,Xt=2}}function t0(){if(Xt===2){Xt=0;var t=nr,n=Xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=ue.p;ue.p=2;var h=lt;lt|=4;try{Cy(t,n.alternate,n)}finally{lt=h,ue.p=l,F.T=r}}Xt=3}}function n0(){if(Xt===4||Xt===3){Xt=0,Or();var t=nr,n=Xa,r=ps,l=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,Xa=nr=null,i0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(tr=null),Zi(r),n=n.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ue.p,ue.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var b=l[p];f(b.value,{componentStack:b.stack})}}finally{F.T=n,ue.p=h}}(ps&3)!==0&&pc(),zi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ld?_o++:(_o=0,ld=t):_o=0,vo(0)}}function i0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zl(n)))}function pc(){return e0(),t0(),n0(),s0()}function s0(){if(Xt!==5)return!1;var t=nr,n=rd;rd=0;var r=Zi(ps),l=F.T,h=ue.p;try{ue.p=32>r?32:r,F.T=null,r=ad,ad=null;var f=nr,p=ps;if(Xt=0,Xa=nr=null,ps=0,(lt&6)!==0)throw Error(a(331));var b=lt;if(lt|=4,Py(f.current),Uy(f,f.current,p,r),lt=b,vo(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{ue.p=h,F.T=l,i0(t,n)}}function r0(t,n,r){n=Xn(r,n),n=Pf(t.stateNode,n,2),t=Xs(t,n,2),t!==null&&(Mr(t,2),zi(t))}function dt(t,n,r){if(t.tag===3)r0(t,t,r);else for(;n!==null;){if(n.tag===3){r0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){t=Xn(r,t),r=ay(2),l=Xs(n,r,2),l!==null&&(ly(r,l,n,t),Mr(l,2),zi(l));break}}n=n.return}}function cd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new $T;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(nd=!0,h.add(r),t=tb.bind(null,t,n,r),n.then(t,t))}function tb(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Et===t&&(Ge&r)===r&&(Ot===4||Ot===3&&(Ge&62914560)===Ge&&300>sn()-uc?(lt&2)===0&&$a(t,0):id|=r,Ka===Ge&&(Ka=0)),zi(t)}function a0(t,n){n===0&&(n=hu()),t=Yr(t,n),t!==null&&(Mr(t,n),zi(t))}function nb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),a0(t,r)}function ib(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),a0(t,r)}function sb(t,n){return Tt(t,n)}var gc=null,Za=null,hd=!1,yc=!1,fd=!1,sr=0;function zi(t){t!==Za&&t.next===null&&(Za===null?gc=Za=t:Za=Za.next=t),yc=!0,hd||(hd=!0,ab())}function vo(t,n){if(!fd&&yc){fd=!0;do for(var r=!1,l=gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Me(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,c0(l,f))}else f=Ge,f=bi(l,l===Et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ai(l,f)||(r=!0,c0(l,f));l=l.next}while(r);fd=!1}}function rb(){l0()}function l0(){yc=hd=!1;var t=0;sr!==0&&gb()&&(t=sr);for(var n=sn(),r=null,l=gc;l!==null;){var h=l.next,f=o0(l,n);f===0?(l.next=null,r===null?gc=h:r.next=h,h===null&&(Za=r)):(r=l,(t!==0||(f&3)!==0)&&(yc=!0)),l=h}Xt!==0&&Xt!==5||vo(t),sr!==0&&(sr=0)}function o0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Me(f),b=1<<p,I=h[p];I===-1?((b&r)===0||(b&l)!==0)&&(h[p]=zh(b,n)):I<=n&&(t.expiredLanes|=b),f&=~b}if(n=Et,r=Ge,r=bi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ri(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ai(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ri(l),Zi(r)){case 2:case 8:r=Y;break;case 32:r=te;break;case 268435456:r=oe;break;default:r=te}return l=u0.bind(null,t),r=Tt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ri(l),t.callbackPriority=2,t.callbackNode=null,2}function u0(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(pc()&&t.callbackNode!==r)return null;var l=Ge;return l=bi(t,t===Et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Gy(t,l,n),o0(t,sn()),t.callbackNode!=null&&t.callbackNode===r?u0.bind(null,t):null)}function c0(t,n){if(pc())return null;Gy(t,n,!0)}function ab(){_b(function(){(lt&6)!==0?Tt(Z,rb):l0()})}function dd(){if(sr===0){var t=La;t===0&&(t=_e,_e<<=1,(_e&261888)===0&&(_e=256)),sr=t}return sr}function h0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function f0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function lb(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=h0((h[Wt]||null).action),p=l.submitter;p&&(n=(n=p[Wt]||null)?h0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new Mi("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sr!==0){var I=p?f0(h,p):new FormData(h);Mf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(b.preventDefault(),I=p?f0(h,p):new FormData(h),Mf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var pd=Xh[md],ob=pd.toLowerCase(),ub=pd[0].toUpperCase()+pd.slice(1);mi(ob,"on"+ub)}mi(qp,"onAnimationEnd"),mi(Gp,"onAnimationIteration"),mi(Fp,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(wT,"onTransitionRun"),mi(xT,"onTransitionStart"),mi(RT,"onTransitionCancel"),mi(Qp,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function d0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var b=l[p],I=b.instance,P=b.currentTarget;if(b=b.listener,I!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(Q){Ou(Q)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(b=l[p],I=b.instance,P=b.currentTarget,b=b.listener,I!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(Q){Ou(Q)}h.currentTarget=null,f=I}}}}function He(t,n){var r=n[ya];r===void 0&&(r=n[ya]=new Set);var l=t+"__bubble";r.has(l)||(m0(n,t,2,!1),r.add(l))}function gd(t,n,r){var l=0;n&&(l|=4),m0(r,t,l,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[_c]){t[_c]=!0,Dl.forEach(function(r){r!=="selectionchange"&&(cb.has(r)||gd(r,!1,t),gd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,gd("selectionchange",!1,n))}}function m0(t,n,r,l){switch(q0(n)){case 2:var h=jb;break;case 8:h=Pb;break;default:h=Od}r=h.bind(null,n,r,t),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function _d(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=xi(b),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue e}b=b.parentNode}}l=l.return}Ps(function(){var P=f,Q=Fn(r),$=[];e:{var z=Yp.get(t);if(z!==void 0){var H=Mi,de=t;switch(t){case"keypress":if(Br(r)===0)break e;case"keydown":case"keyup":H=Cu;break;case"focusin":de="focus",H=qr;break;case"focusout":de="blur",H=qr;break;case"beforeblur":case"afterblur":H=qr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case qp:case Gp:case Fp:H=bu;break;case Qp:H=S;break;case"scroll":case"scrollend":H=ql;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ts;break;case"toggle":case"beforetoggle":H=je}var xe=(n&4)!==0,_t=!xe&&(t==="scroll"||t==="scrollend"),k=xe?z!==null?z+"Capture":null:z;xe=[];for(var D=P,j;D!==null;){var K=D;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||k===null||(K=ci(D,k),K!=null&&xe.push(To(D,K,j))),_t)break;D=D.return}0<xe.length&&(z=new H(z,de,null,r,Q),$.push({event:z,listeners:xe}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==zl&&(de=r.relatedTarget||r.fromElement)&&(xi(de)||de[Ai]))break e;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(de=r.relatedTarget||r.toElement,H=P,de=de?xi(de):null,de!==null&&(_t=c(de),xe=de.tag,de!==_t||xe!==5&&xe!==27&&xe!==6)&&(de=null)):(H=null,de=P),H!==de)){if(xe=Gl,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(xe=ts,K="onPointerLeave",k="onPointerEnter",D="pointer"),_t=H==null?z:Vn(H),j=de==null?z:Vn(de),z=new xe(K,D+"leave",H,r,Q),z.target=_t,z.relatedTarget=j,K=null,xi(Q)===P&&(xe=new xe(k,D+"enter",de,r,Q),xe.target=j,xe.relatedTarget=_t,K=xe),_t=K,H&&de)t:{for(xe=hb,k=H,D=de,j=0,K=k;K;K=xe(K))j++;K=0;for(var Te=D;Te;Te=xe(Te))K++;for(;0<j-K;)k=xe(k),j--;for(;0<K-j;)D=xe(D),K--;for(;j--;){if(k===D||D!==null&&k===D.alternate){xe=k;break t}k=xe(k),D=xe(D)}xe=null}else xe=null;H!==null&&p0($,z,H,xe,!1),de!==null&&_t!==null&&p0($,_t,de,xe,!0)}}e:{if(z=P?Vn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var it=Op;else if(Np(z))if(Mp)it=bT;else{it=ET;var pe=vT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Ta(P.elementType)&&(it=Op):it=TT;if(it&&(it=it(t,P))){Dp($,it,r,Q);break e}pe&&pe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ll(z,"number",z.value)}switch(pe=P?Vn(P):window,t){case"focusin":(Np(pe)||pe.contentEditable==="true")&&(Ca=pe,Qh=P,Xl=null);break;case"focusout":Xl=Qh=Ca=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Bp($,r,Q);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":Bp($,r,Q)}var ze;if(at)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ia?Gr(t,r)&&(Fe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Fe="onCompositionStart");Fe&&(Ui&&r.locale!=="ko"&&(Ia||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ia&&(ze=Hl()):(Oi=Q,Bl="value"in Oi?Oi.value:Oi.textContent,Ia=!0)),pe=vc(P,Fe),0<pe.length&&(Fe=new ki(Fe,t,null,r,Q),$.push({event:Fe,listeners:pe}),ze?Fe.data=ze:(ze=Ra(r),ze!==null&&(Fe.data=ze)))),(ze=Yn?pT(t,r):gT(t,r))&&(Fe=vc(P,"onBeforeInput"),0<Fe.length&&(pe=new ki("onBeforeInput","beforeinput",null,r,Q),$.push({event:pe,listeners:Fe}),pe.data=ze)),lb($,t,P,r,Q)}d0($,n)})}function To(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(t,r),h!=null&&l.unshift(To(t,h,f)),h=ci(t,n),h!=null&&l.push(To(t,h,f))),t.tag===3)return l;t=t.return}return[]}function hb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function p0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var b=r,I=b.alternate,P=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||P===null||(I=P,h?(P=ci(r,f),P!=null&&p.unshift(To(r,P,I))):h||(P=ci(r,f),P!=null&&p.push(To(r,P,I)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var fb=/\r\n?/g,db=/\u0000|\uFFFD/g;function g0(t){return(typeof t=="string"?t:""+t).replace(fb,`
`).replace(db,"")}function y0(t,n){return n=g0(n),g0(t)===n}function yt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":Pl(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&yt(t,n,"name",h.name,h,null),yt(t,n,"formEncType",h.formEncType,h,null),yt(t,n,"formMethod",h.formMethod,h,null),yt(t,n,"formTarget",h.formTarget,h,null)):(yt(t,n,"encType",h.encType,h,null),yt(t,n,"method",h.method,h,null),yt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":He("beforetoggle",t),He("toggle",t),va(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vu.get(r)||r,va(t,r,l))}}function vd(t,n,r,l,h,f){switch(r){case"style":Pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Wt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):va(t,r,l)}}}function un(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:yt(t,n,f,p,r,null)}}h&&yt(t,n,"srcSet",r.srcSet,r,null),l&&yt(t,n,"src",r.src,r,null);return;case"input":He("invalid",t);var b=f=p=h=null,I=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:yt(t,n,l,Q,r,null)}}gu(t,f,b,I,P,p,h,!1);return;case"select":He("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:yt(t,n,h,b,r,null)}n=f,r=p,t.multiple=!!l,n!=null?ks(t,!!l,n,!1):r!=null&&ks(t,!!l,r,!0);return;case"textarea":He("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:yt(t,n,p,b,r,null)}Us(t,l,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":yt(t,n,I,l,r,null));return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(l=0;l<Eo.length;l++)He(Eo[l],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:yt(t,n,P,l,r,null)}return;default:if(Ta(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&vd(t,n,Q,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&yt(t,n,b,l,r,null))}function mb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,I=null,P=null,Q=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(H)||yt(t,n,H,null,l,$)}}for(var z in l){var H=l[z];if($=r[z],l.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&yt(t,n,z,H,l,$)}}Ea(t,p,b,I,P,Q,f,h);return;case"select":H=p=b=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||yt(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==I&&yt(t,n,h,f,l,I)}n=b,r=p,l=H,z!=null?ks(t,!!r,z,!1):!!l!=!!r&&(n!=null?ks(t,!!r,n,!0):ks(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:yt(t,n,b,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&yt(t,n,p,h,l,f)}yu(t,z,H);return;case"option":for(var de in r)z=r[de],r.hasOwnProperty(de)&&z!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:yt(t,n,de,null,l,z));for(I in l)z=l[I],H=r[I],l.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null)&&(I==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":yt(t,n,I,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in r)z=r[xe],r.hasOwnProperty(xe)&&z!=null&&!l.hasOwnProperty(xe)&&yt(t,n,xe,null,l,z);for(P in l)if(z=l[P],H=r[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:yt(t,n,P,z,l,H)}return;default:if(Ta(n)){for(var _t in r)z=r[_t],r.hasOwnProperty(_t)&&z!==void 0&&!l.hasOwnProperty(_t)&&vd(t,n,_t,void 0,l,z);for(Q in l)z=l[Q],H=r[Q],!l.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||vd(t,n,Q,z,l,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&yt(t,n,k,null,l,z);for($ in l)z=l[$],H=r[$],!l.hasOwnProperty($)||z===H||z==null&&H==null||yt(t,n,$,z,l,H)}function _0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&_0(p)){for(p=0,b=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],P=I.startTime;if(P>b)break;var Q=I.transferSize,$=I.initiatorType;Q&&_0($)&&(I=I.responseEnd,p+=Q*(I<b?1:(b-P)/(I-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function v0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function gb(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var T0=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(t){return b0.resolve(null).then(t).catch(vb)}:T0;function vb(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function S0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),nl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")bo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,bo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[wi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&bo(t.ownerDocument.body);r=h}while(r);nl(n)}function A0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ad(r),_a(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Eb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function Tb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ei(t.nextSibling),t===null))return null;return t}function w0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ei(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function x0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ei(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function R0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function I0(t,n,r){switch(n=Ec(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);_a(t)}var ti=new Map,C0=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ue.d;ue.d={f:Sb,r:Ab,D:wb,C:xb,L:Rb,m:Ib,X:Nb,S:Cb,M:Db};function Sb(){var t=gs.f(),n=fc();return t||n}function Ab(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?Qg(n):gs.r(t)}var Wa=typeof document>"u"?null:document;function N0(t,n,r){var l=Wa;if(l&&typeof n=="string"&&n){var h=Sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),C0.has(h)||(C0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),un(n,"link",t),jt(n),l.head.appendChild(n)))}}function wb(t){gs.D(t),N0("dns-prefetch",t,null)}function xb(t,n){gs.C(t,n),N0("preconnect",t,n)}function Rb(t,n,r){gs.L(t,n,r);var l=Wa;if(l&&t&&n){var h='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Sn(r.imageSizes)+'"]')):h+='[href="'+Sn(t)+'"]';var f=h;switch(n){case"style":f=el(t);break;case"script":f=tl(t)}ti.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ti.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(So(f))||n==="script"&&l.querySelector(Ao(f))||(n=l.createElement("link"),un(n,"link",t),jt(n),l.head.appendChild(n)))}}function Ib(t,n){gs.m(t,n);var r=Wa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=tl(t)}if(!ti.has(f)&&(t=w({rel:"modulepreload",href:t},n),ti.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ao(f)))return}l=r.createElement("link"),un(l,"link",t),jt(l),r.head.appendChild(l)}}}function Cb(t,n,r){gs.S(t,n,r);var l=Wa;if(l&&t){var h=Ri(l).hoistableStyles,f=el(t);n=n||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(So(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ti.get(f))&&Id(t,r);var I=p=l.createElement("link");jt(I),un(I,"link",t),I._p=new Promise(function(P,Q){I.onload=P,I.onerror=Q}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,bc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function Nb(t,n){gs.X(t,n);var r=Wa;if(r&&t){var l=Ri(r).hoistableScripts,h=tl(t),f=l.get(h);f||(f=r.querySelector(Ao(h)),f||(t=w({src:t,async:!0},n),(n=ti.get(h))&&Cd(t,n),f=r.createElement("script"),jt(f),un(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Db(t,n){gs.M(t,n);var r=Wa;if(r&&t){var l=Ri(r).hoistableScripts,h=tl(t),f=l.get(h);f||(f=r.querySelector(Ao(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ti.get(h))&&Cd(t,n),f=r.createElement("script"),jt(f),un(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function D0(t,n,r,l){var h=(h=Oe.current)?Tc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=el(r.href),r=Ri(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=el(r.href);var f=Ri(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(So(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ti.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ti.set(t,r),f||Ob(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=tl(r),r=Ri(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function el(t){return'href="'+Sn(t)+'"'}function So(t){return'link[rel="stylesheet"]['+t+"]"}function O0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Ob(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),un(n,"link",r),jt(n),t.head.appendChild(n))}function tl(t){return'[src="'+Sn(t)+'"]'}function Ao(t){return"script[async]"+t}function M0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Sn(r.href)+'"]');if(l)return n.instance=l,jt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),un(l,"style",h),bc(l,r.precedence,t),n.instance=l;case"stylesheet":h=el(r.href);var f=t.querySelector(So(h));if(f)return n.state.loading|=4,n.instance=f,jt(f),f;l=O0(r),(h=ti.get(h))&&Id(l,h),f=(t.ownerDocument||t).createElement("link"),jt(f);var p=f;return p._p=new Promise(function(b,I){p.onload=b,p.onerror=I}),un(f,"link",l),n.state.loading|=4,bc(f,r.precedence,t),n.instance=f;case"script":return f=tl(r.src),(h=t.querySelector(Ao(f)))?(n.instance=h,jt(h),h):(l=r,(h=ti.get(f))&&(l=w({},r),Cd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),un(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,r.precedence,t));return n.instance}function bc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function V0(t,n,r){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(r,l)}else h=Sc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[wi]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=l.get(p);b?b.push(f):l.set(p,[f])}}return l}function k0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Mb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function U0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Vb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=el(l.href),f=n.querySelector(So(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ac.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,jt(f);return}f=n.ownerDocument||n,l=O0(l),(h=ti.get(h))&&Id(l,h),f=f.createElement("link"),jt(f);var p=f;p._p=new Promise(function(b,I){p.onload=b,p.onerror=I}),un(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ac.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Nd=0;function kb(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*pb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(Ub,t),wc=null,Ac.call(t))}function Ub(t,n){if(!(n.state.loading&4)){var r=wc.get(t);if(r)var l=r.get(null);else{r=new Map,wc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:Se,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Lb(t,n,r,l,h,f,p,b,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function L0(t,n,r,l,h,f,p,b,I,P,Q,$){return t=new Lb(t,n,r,p,I,P,Q,$,b),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},df(f),t}function j0(t){return t?(t=Oa,t):Oa}function P0(t,n,r,l,h,f){h=j0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ks(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xs(t,l,n),r!==null&&(Cn(r,t,n),no(r,t,n))}function z0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Dd(t,n){z0(t,n),(t=t.alternate)&&z0(t,n)}function B0(t){if(t.tag===13||t.tag===31){var n=Yr(t,67108864);n!==null&&Cn(n,t,67108864),Dd(t,67108864)}}function H0(t){if(t.tag===13||t.tag===31){var n=Hn();n=kr(n);var r=Yr(t,n);r!==null&&Cn(r,t,n),Dd(t,n)}}var Rc=!0;function jb(t,n,r,l){var h=F.T;F.T=null;var f=ue.p;try{ue.p=2,Od(t,n,r,l)}finally{ue.p=f,F.T=h}}function Pb(t,n,r,l){var h=F.T;F.T=null;var f=ue.p;try{ue.p=8,Od(t,n,r,l)}finally{ue.p=f,F.T=h}}function Od(t,n,r,l){if(Rc){var h=Md(l);if(h===null)_d(t,n,l,Ic,r),G0(t,l);else if(Bb(h,t,n,r,l))l.stopPropagation();else if(G0(t,l),n&4&&-1<zb.indexOf(t)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=bn(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var I=1<<31-Me(p);b.entanglements[1]|=I,p&=~I}zi(f),(lt&6)===0&&(cc=sn()+500,vo(0))}}break;case 31:case 13:b=Yr(f,2),b!==null&&Cn(b,f,2),fc(),Dd(f,2)}if(f=Md(l),f===null&&_d(t,n,l,Ic,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else _d(t,n,l,null,r)}}function Md(t){return t=Fn(t),Vd(t)}var Ic=null;function Vd(t){if(Ic=null,t=xi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ic=t,null}function q0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ti()){case Z:return 2;case Y:return 8;case te:case re:return 32;case oe:return 268435456;default:return 32}default:return 32}}var kd=!1,ar=null,lr=null,or=null,xo=new Map,Ro=new Map,ur=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(t,n){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":xo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(n.pointerId)}}function Io(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&B0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Bb(t,n,r,l,h){switch(n){case"focusin":return ar=Io(ar,t,n,r,l,h),!0;case"dragenter":return lr=Io(lr,t,n,r,l,h),!0;case"mouseover":return or=Io(or,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return xo.set(f,Io(xo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ro.set(f,Io(Ro.get(f)||null,t,n,r,l,h)),!0}return!1}function F0(t){var n=xi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,li(t.priority,function(){H0(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,li(t.priority,function(){H0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Md(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);zl=l,r.target.dispatchEvent(l),zl=null}else return n=Gn(r),n!==null&&B0(n),t.blockedOn=r,!1;n.shift()}return!0}function Q0(t,n,r){Cc(t)&&r.delete(n)}function Hb(){kd=!1,ar!==null&&Cc(ar)&&(ar=null),lr!==null&&Cc(lr)&&(lr=null),or!==null&&Cc(or)&&(or=null),xo.forEach(Q0),Ro.forEach(Q0)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Hb)))}var Dc=null;function Y0(t){Dc!==t&&(Dc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Vd(l||r)===null)continue;break}var f=Gn(r);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function nl(t){function n(I){return Nc(I,t)}ar!==null&&Nc(ar,t),lr!==null&&Nc(lr,t),or!==null&&Nc(or,t),xo.forEach(n),Ro.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)F0(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Wt]||null;if(typeof f=="function")p||Y0(r);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Wt]||null)b=p.formAction;else if(Vd(h)!==null)continue}else b=p.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),Y0(r)}}}function K0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(t){this._internalRoot=t}Oc.prototype.render=Ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Hn();P0(r,l,t,n,null,null)},Oc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P0(t.current,2,null,t,null,null),fc(),n[Ai]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=fu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&F0(t)}};var X0=e.version;if(X0!=="19.2.3")throw Error(a(527,X0,"19.2.3"));ue.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var qb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{ae=Mc.inject(qb),me=Mc}catch{}}return No.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ny,f=iy,p=sy;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=L0(t,1,!1,null,null,r,l,null,h,f,p,K0),t[Ai]=n.current,yd(t),new Ud(n)},No.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ny,p=iy,b=sy,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=L0(t,1,!0,n,r??null,l,h,I,f,p,b,K0),n.context=j0(null),r=n.current,l=Hn(),l=kr(l),h=Ks(l),h.callback=null,Xs(r,h,l),r=l,n.current.lanes=r,Mr(n,r),zi(n),t[Ai]=n.current,yd(t),new Oc(n)},No.version="19.2.3",No}var r_;function eS(){if(r_)return Pd.exports;r_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=Wb(),Pd.exports}var tS=eS();const nS=()=>{};var a_={};const jv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},iS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,E=c>>2,w=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,G=_&63;g||(G=64,d||(M=64)),a.push(i[E],i[w],i[M],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(jv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):iS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||w==null)throw new sS;const M=c<<2|y>>4;if(a.push(M),_!==64){const G=y<<4&240|_>>2;if(a.push(G),w!==64){const ie=_<<6&192|w;a.push(ie)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rS=function(s){const e=jv(s);return Pv.encodeByteArray(e,!0)},Zc=function(s){return rS(s).replace(/\./g,"")},zv=function(s){try{return Pv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lS=()=>aS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof a_>"u")return;const s=a_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},uS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&zv(s[1]);return e&&JSON.parse(e)},vh=()=>{try{return nS()||lS()||oS()||uS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Bv=s=>vh()?.emulatorHosts?.[s],cS=s=>{const e=Bv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Hv=()=>vh()?.config,qv=s=>vh()?.[`_${s}`];class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Tl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gv(s){return(await fetch(s,{credentials:"include"})).ok}function fS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(d)),""].join(".")}const ko={};function dS(){const s={prod:[],emulator:[]};for(const e of Object.keys(ko))ko[e]?s.emulator.push(e):s.prod.push(e);return s}function mS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let l_=!1;function Fv(s,e){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||ko[s]===e||ko[s]||l_)return;ko[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=dS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{l_=!0,d()},M}function E(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=mS(a),G=i("text"),ie=document.getElementById(G)||document.createElement("span"),le=i("learnmore"),ne=document.getElementById(le)||document.createElement("a"),be=i("preprendIcon"),De=document.getElementById(be)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Se=M.element;y(Se),E(ne,le);const et=_();g(De,be),Se.append(De,ie,ne,et),document.body.appendChild(Se)}c?(ie.innerText="Preview backend disconnected.",De.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(De.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ie.innerText="Preview backend running in this workspace."),ie.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function gS(){const s=vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const s=_n();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function TS(){return!gS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const AS="FirebaseError";class Cs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=AS,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?wS(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Cs(o,y,a)}}function wS(s,e){return s.replace(xS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const xS=/\{\$([^}]+)}/g;function RS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function br(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(o_(c)&&o_(d)){if(!br(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function o_(s){return s!==null&&typeof s=="object"}function Zo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function IS(s,e){const i=new CS(s,e);return i.subscribe.bind(i)}class CS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");NS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}function Tn(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class DS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new hS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MS(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:OS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OS(s){return s===aa?void 0:s}function MS(s){return s.instantiationMode==="EAGER"}class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new DS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qe||(Qe={}));const kS={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},US=Qe.INFO,LS={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},jS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=LS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=US,this._logHandler=jS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const PS=(s,e)=>e.some(i=>s instanceof i);let u_,c_;function zS(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BS(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qv=new WeakMap,sm=new WeakMap,Yv=new WeakMap,Gd=new WeakMap,jm=new WeakMap;function HS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(yr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Qv.set(i,s)}).catch(()=>{}),jm.set(e,s),e}function qS(s){if(sm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});sm.set(s,e)}let rm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return sm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Yv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function GS(s){rm=s(rm)}function FS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Fd(this),e,...i);return Yv.set(a,e.sort?e.sort():[e]),yr(a)}:BS().includes(s)?function(...e){return s.apply(Fd(this),e),yr(Qv.get(this))}:function(...e){return yr(s.apply(Fd(this),e))}}function QS(s){return typeof s=="function"?FS(s):(s instanceof IDBTransaction&&qS(s),PS(s,zS())?new Proxy(s,rm):s)}function yr(s){if(s instanceof IDBRequest)return HS(s);if(Gd.has(s))return Gd.get(s);const e=QS(s);return e!==s&&(Gd.set(s,e),jm.set(e,s)),e}const Fd=s=>jm.get(s);function YS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=yr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(yr(d.result),g.oldVersion,g.newVersion,yr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const KS=["get","getKey","getAll","getAllKeys","count"],XS=["put","add","delete","clear"],Qd=new Map;function h_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=XS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||KS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&g.done]))[0]};return Qd.set(e,c),c}GS(s=>({...s,get:(e,i,a)=>h_(e,i)||s.get(e,i,a),has:(e,i)=>!!h_(e,i)||s.has(e,i)}));class $S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function JS(s){return s.getComponent()?.type==="VERSION"}const am="@firebase/app",f_="0.14.6";const Ss=new Lm("@firebase/app"),ZS="@firebase/app-compat",WS="@firebase/analytics-compat",eA="@firebase/analytics",tA="@firebase/app-check-compat",nA="@firebase/app-check",iA="@firebase/auth",sA="@firebase/auth-compat",rA="@firebase/database",aA="@firebase/data-connect",lA="@firebase/database-compat",oA="@firebase/functions",uA="@firebase/functions-compat",cA="@firebase/installations",hA="@firebase/installations-compat",fA="@firebase/messaging",dA="@firebase/messaging-compat",mA="@firebase/performance",pA="@firebase/performance-compat",gA="@firebase/remote-config",yA="@firebase/remote-config-compat",_A="@firebase/storage",vA="@firebase/storage-compat",EA="@firebase/firestore",TA="@firebase/ai",bA="@firebase/firestore-compat",SA="firebase",AA="12.6.0";const lm="[DEFAULT]",wA={[am]:"fire-core",[ZS]:"fire-core-compat",[eA]:"fire-analytics",[WS]:"fire-analytics-compat",[nA]:"fire-app-check",[tA]:"fire-app-check-compat",[iA]:"fire-auth",[sA]:"fire-auth-compat",[rA]:"fire-rtdb",[aA]:"fire-data-connect",[lA]:"fire-rtdb-compat",[oA]:"fire-fn",[uA]:"fire-fn-compat",[cA]:"fire-iid",[hA]:"fire-iid-compat",[fA]:"fire-fcm",[dA]:"fire-fcm-compat",[mA]:"fire-perf",[pA]:"fire-perf-compat",[gA]:"fire-rc",[yA]:"fire-rc-compat",[_A]:"fire-gcs",[vA]:"fire-gcs-compat",[EA]:"fire-fst",[bA]:"fire-fst-compat",[TA]:"fire-vertex","fire-js":"fire-js",[SA]:"fire-js-all"};const Wc=new Map,xA=new Map,om=new Map;function d_(s,e){try{s.container.addComponent(e)}catch(i){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function dl(s){const e=s.name;if(om.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,s);for(const i of Wc.values())d_(i,s);for(const i of xA.values())d_(i,s);return!0}function Pm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ni(s){return s==null?!1:s.settings!==void 0}const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Jo("app","Firebase",RA);class IA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const bl=AA;function Kv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:lm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw _r.create("bad-app-name",{appName:String(o)});if(i||(i=Hv()),!i)throw _r.create("no-options");const c=Wc.get(o);if(c){if(br(i,c.options)&&br(a,c.config))return c;throw _r.create("duplicate-app",{appName:o})}const d=new VS(o);for(const g of om.values())d.addComponent(g);const y=new IA(i,a,d);return Wc.set(o,y),y}function Xv(s=lm){const e=Wc.get(s);if(!e&&s===lm&&Hv())return Kv();if(!e)throw _r.create("no-app",{appName:s});return e}function vr(s,e,i){let a=wA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(d.join(" "));return}dl(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const CA="firebase-heartbeat-database",NA=1,Bo="firebase-heartbeat-store";let Yd=null;function $v(){return Yd||(Yd=YS(CA,NA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Bo)}catch(i){console.warn(i)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function DA(s){try{const i=(await $v()).transaction(Bo),a=await i.objectStore(Bo).get(Jv(s));return await i.done,a}catch(e){if(e instanceof Cs)Ss.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(i.message)}}}async function m_(s,e){try{const a=(await $v()).transaction(Bo,"readwrite");await a.objectStore(Bo).put(e,Jv(s)),await a.done}catch(i){if(i instanceof Cs)Ss.warn(i.message);else{const a=_r.create("idb-set",{originalErrorMessage:i?.message});Ss.warn(a.message)}}}function Jv(s){return`${s.name}!${s.options.appId}`}const OA=1024,MA=30;class VA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new UA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=p_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>MA){const o=LA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p_(),{heartbeatsToSend:i,unsentEntries:a}=kA(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ss.warn(e),""}}}function p_(){return new Date().toISOString().substring(0,10)}function kA(s,e=OA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),g_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),g_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class UA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function g_(s){return Zc(JSON.stringify({version:2,heartbeats:s})).length}function LA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function jA(s){dl(new ca("platform-logger",e=>new $S(e),"PRIVATE")),dl(new ca("heartbeat",e=>new VA(e),"PRIVATE")),vr(am,f_,s),vr(am,f_,"esm2020"),vr("fire-js","")}jA("");var PA="firebase",zA="12.7.0";vr(PA,zA,"app");function Zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BA=Zv,Wv=new Jo("auth","Firebase",Zv());const eh=new Lm("@firebase/auth");function HA(s,...e){eh.logLevel<=Qe.WARN&&eh.warn(`Auth (${bl}): ${s}`,...e)}function Bc(s,...e){eh.logLevel<=Qe.ERROR&&eh.error(`Auth (${bl}): ${s}`,...e)}function As(s,...e){throw zm(s,...e)}function Hi(s,...e){return zm(s,...e)}function e1(s,e,i){const a={...BA(),[e]:i};return new Jo("auth","Firebase",a).create(e,{appName:s.name})}function bs(s){return e1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Wv.create(s,...e)}function Ce(s,e,...i){if(!s)throw zm(e,...i)}function Es(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bc(e),new Error(e)}function ws(s,e){s||Es(e)}function um(){return typeof self<"u"&&self.location?.href||""}function qA(){return y_()==="http:"||y_()==="https:"}function y_(){return typeof self<"u"&&self.location?.protocol||null}function GA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qA()||_S()||"connection"in navigator)?navigator.onLine:!0}function FA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Wo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ws(i>e,"Short delay should be less than long delay!"),this.isMobile=pS()||vS()}get(){return GA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(s,e){ws(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class t1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KA=new Wo(3e4,6e4);function eu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Sl(s,e,i,a,o={}){return n1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Zo({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return yS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Tl(s.emulatorConfig.host)&&(_.credentials="include"),t1.fetch()(await i1(s,s.config.apiHost,i,y),_)})}async function n1(s,e,i){s._canInitEmulator=!1;const a={...QA,...e};try{const o=new XA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Vc(s,"user-disabled",d);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw e1(s,E,_);As(s,E)}}catch(o){if(o instanceof Cs)throw o;As(s,"network-request-failed",{message:String(o)})}}async function Hm(s,e,i,a,o={}){const c=await Sl(s,e,i,a,o);return"mfaPendingCredential"in c&&As(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function i1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Bm(s.config,o):`${s.config.apiScheme}://${o}`;return YA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class XA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Hi(this.auth,"network-request-failed")),KA.get())})}}function Vc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Hi(s,e,a);return o.customData._tokenResponse=i,o}async function $A(s,e){return Sl(s,"POST","/v1/accounts:delete",e)}async function th(s,e){return Sl(s,"POST","/v1/accounts:lookup",e)}function Uo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JA(s,e=!1){const i=Tn(s),a=await i.getIdToken(e),o=qm(a);Ce(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Uo(Kd(o.auth_time)),issuedAtTime:Uo(Kd(o.iat)),expirationTime:Uo(Kd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function qm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=zv(i);return o?JSON.parse(o):(Bc("Failed to decode base64 JWT payload"),null)}catch(o){return Bc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function __(s){const e=qm(s);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ho(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Cs&&ZA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function ZA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class WA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uo(this.lastLoginAt),this.creationTime=Uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(s){const e=s.auth,i=await s.getIdToken(),a=await Ho(s,th(e,{idToken:i}));Ce(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?s1(o.providerUserInfo):[],d=tw(s.providerData,c),y=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!d?.length,_=y?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new cm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function ew(s){const e=Tn(s);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tw(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function s1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function nw(s,e){const i=await n1(s,{},async()=>{const a=Zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await i1(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&Tl(s.emulatorConfig.host)&&(g.credentials="include"),t1.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function iw(s,e){return Sl(s,"POST","/v2/accounts:revokeToken",eu(s,e))}class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const i=__(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await nw(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new ol;return a&&(Ce(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ce(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ce(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Es("not implemented")}}function hr(s,e){Ce(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new WA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return Ce(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return JA(this,e)}reload(){return ew(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Ho(this,$A(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:ie,stsTokenManager:le}=i;Ce(w&&le,e,"internal-error");const ne=ol.fromJSON(this.name,le);Ce(typeof w=="string",e,"internal-error"),hr(a,e.name),hr(o,e.name),Ce(typeof M=="boolean",e,"internal-error"),Ce(typeof G=="boolean",e,"internal-error"),hr(c,e.name),hr(d,e.name),hr(y,e.name),hr(g,e.name),hr(_,e.name),hr(E,e.name);const be=new _i({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ne,createdAt:_,lastLoginAt:E});return ie&&Array.isArray(ie)&&(be.providerData=ie.map(De=>({...De}))),g&&(be._redirectEventId=g),be}static async _fromIdTokenResponse(e,i,a=!1){const o=new ol;o.updateFromServerResponse(i);const c=new _i({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ce(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?s1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new ol;y.updateFromIdToken(a);const g=new _i({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const v_=new Map;function Ts(s){ws(s instanceof Function,"Expected a class definition");let e=v_.get(s);return e?(ws(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,v_.set(s,e),e)}class r1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}r1.type="NONE";const E_=r1;function Hc(s,e,i){return`firebase:${s}:${e}:${i}`}class ul{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Hc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await th(this.auth,{idToken:e}).catch(()=>{});return i?_i._fromGetAccountInfoResponse(this.auth,i,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ul(Ts(E_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Ts(E_);const d=Hc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const E=await _._get(d);if(E){let w;if(typeof E=="string"){const M=await th(e,{idToken:E}).catch(()=>{});if(!M)break;w=await _i._fromGetAccountInfoResponse(e,M,E)}else w=_i._fromJSON(e,E);_!==c&&(y=w),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ul(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ul(c,e,a))}}function T_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h1(e))return"Blackberry";if(f1(e))return"Webos";if(l1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(c1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function a1(s=_n()){return/firefox\//i.test(s)}function l1(s=_n()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(s=_n()){return/crios\//i.test(s)}function u1(s=_n()){return/iemobile/i.test(s)}function c1(s=_n()){return/android/i.test(s)}function h1(s=_n()){return/blackberry/i.test(s)}function f1(s=_n()){return/webos/i.test(s)}function Gm(s=_n()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function sw(s=_n()){return Gm(s)&&!!window.navigator?.standalone}function rw(){return ES()&&document.documentMode===10}function d1(s=_n()){return Gm(s)||c1(s)||f1(s)||h1(s)||/windows phone/i.test(s)||u1(s)}function m1(s,e=[]){let i;switch(s){case"Browser":i=T_(_n());break;case"Worker":i=`${T_(_n())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${bl}/${a}`}class aw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function lw(s,e={}){return Sl(s,"GET","/v2/passwordPolicy",eu(s,e))}const ow=6;class uw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ow,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class cw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new aw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await th(this,{idToken:e}),a=await _i._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(bs(this));const i=e?Tn(e):null;return i&&Ce(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lw(this),i=new uw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await iw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ts(e)||this._popupRedirectResolver;Ce(i,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[Ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,o);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tu(s){return Tn(s)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=IS(i=>this.observer=i)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hw(s){Fm=s}function fw(s){return Fm.loadJS(s)}function dw(){return Fm.gapiScript}function mw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function pw(s,e){const i=Pm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(br(c,e??{}))return o;As(o,"already-initialized")}return i.initialize({options:e})}function gw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ts);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function yw(s,e,i){const a=tu(s);Ce(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=p1(e),{host:d,port:y}=_w(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},E=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ce(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ce(br(_,a.config.emulator)&&br(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Tl(d)?(Gv(`${c}//${d}${g}`),Fv("Auth",!0)):vw()}function p1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function _w(s){const e=p1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:S_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:S_(d)}}}function S_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function vw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class g1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,i){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function cl(s,e){return Hm(s,"POST","/v1/accounts:signInWithIdp",eu(s,e))}const Ew="http://localhost";class ha extends g1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):As("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ha(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return cl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,cl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,cl(e,i)}buildRequest(){const e={requestUri:Ew,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Zo(i)}return e}}class y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fr extends nu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";class dr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";class mr extends nu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";class pr extends nu{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return pr.credential(i,a)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";async function Tw(s,e){return Hm(s,"POST","/v1/accounts:signUp",eu(s,e))}class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await _i._fromIdTokenResponse(e,a,o),d=A_(a);return new xs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=A_(a);return new xs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function A_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function bw(s){if(ni(s.app))return Promise.reject(bs(s));const e=tu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new xs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await Tw(e,{returnSecureToken:!0}),a=await xs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class ih extends Cs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new ih(e,i,a,o)}}function _1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(s,c,e,a):c})}async function Sw(s,e,i=!1){const a=await Ho(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return xs._forOperation(s,"link",a)}async function Aw(s,e,i=!1){const{auth:a}=s;if(ni(a.app))return Promise.reject(bs(a));const o="reauthenticate";try{const c=await Ho(s,_1(a,o,e,s),i);Ce(c.idToken,a,"internal-error");const d=qm(c.idToken);Ce(d,a,"internal-error");const{sub:y}=d;return Ce(s.uid===y,a,"user-mismatch"),xs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&As(a,"user-mismatch"),c}}async function ww(s,e,i=!1){if(ni(s.app))return Promise.reject(bs(s));const a="signIn",o=await _1(s,a,e),c=await xs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function xw(s,e){return Hm(s,"POST","/v1/accounts:signInWithCustomToken",eu(s,e))}async function Rw(s,e){if(ni(s.app))return Promise.reject(bs(s));const i=tu(s),a=await xw(i,{token:e,returnSecureToken:!0}),o=await xs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function Iw(s,e,i,a){return Tn(s).onIdTokenChanged(e,i,a)}function Cw(s,e,i){return Tn(s).beforeAuthStateChanged(e,i)}function Nw(s,e,i,a){return Tn(s).onAuthStateChanged(e,i,a)}const sh="__sak";class v1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dw=1e3,Ow=10;class E1 extends v1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);rw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ow):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}E1.type="LOCAL";const Mw=E1;class T1 extends v1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}T1.type="SESSION";const b1=T1;function Vw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Eh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await Vw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Qm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class kw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Qm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function Uw(s){qi().location.href=s}function S1(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function Lw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jw(){return navigator?.serviceWorker?.controller||null}function Pw(){return S1()?self:null}const A1="firebaseLocalStorageDb",zw=1,rh="firebaseLocalStorage",w1="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(s,e){return s.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function Bw(){const s=indexedDB.deleteDatabase(A1);return new iu(s).toPromise()}function hm(){const s=indexedDB.open(A1,zw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(rh,{keyPath:w1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(rh)?e(a):(a.close(),await Bw(),e(await hm()))})})}async function w_(s,e,i){const a=Th(s,!0).put({[w1]:e,value:i});return new iu(a).toPromise()}async function Hw(s,e){const i=Th(s,!1).get(e),a=await new iu(i).toPromise();return a===void 0?null:a.value}function x_(s,e){const i=Th(s,!0).delete(e);return new iu(i).toPromise()}const qw=800,Gw=3;class x1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Gw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(Pw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Lw(),!this.activeServiceWorker)return;this.sender=new kw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hm();return await w_(e,sh,"1"),await x_(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>w_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Hw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>x_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Th(o,!1).getAll();return new iu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x1.type="LOCAL";const Fw=x1;new Wo(3e4,6e4);function Qw(s,e){return e?Ts(e):(Ce(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends g1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return cl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Yw(s){return ww(s.auth,new Ym(s),s.bypassAuthState)}function Kw(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),Aw(i,new Ym(s),s.bypassAuthState)}async function Xw(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),Sw(i,new Ym(s),s.bypassAuthState)}class R1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yw;case"linkViaPopup":case"linkViaRedirect":return Xw;case"reauthViaPopup":case"reauthViaRedirect":return Kw;default:As(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $w=new Wo(2e3,1e4);class ll extends R1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$w.get())};e()}}ll.currentPopupAction=null;const Jw="pendingRedirect",qc=new Map;class Zw extends R1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const a=await Ww(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ww(s,e){const i=n2(e),a=t2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function e2(s,e){qc.set(s._key(),e)}function t2(s){return Ts(s._redirectPersistence)}function n2(s){return Hc(Jw,s.config.apiKey,s.name)}async function i2(s,e,i=!1){if(ni(s.app))return Promise.reject(bs(s));const a=tu(s),o=Qw(a,e),d=await new Zw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const s2=600*1e3;class r2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!I1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Hi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s2&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function I1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function a2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I1(s);default:return!1}}async function l2(s,e={}){return Sl(s,"GET","/v1/projects",e)}const o2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u2=/^https?/;async function c2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await l2(s);for(const i of e)try{if(h2(i))return}catch{}As(s,"unauthorized-domain")}function h2(s){const e=um(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!u2.test(i))return!1;if(o2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const f2=new Wo(3e4,6e4);function I_(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function d2(s){return new Promise((e,i)=>{function a(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),i(Hi(s,"network-request-failed"))},timeout:f2.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)a();else{const o=mw("iframefcb");return qi()[o]=()=>{gapi.load?a():i(Hi(s,"network-request-failed"))},fw(`${dw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function m2(s){return Gc=Gc||d2(s),Gc}const p2=new Wo(5e3,15e3),g2="__/auth/iframe",y2="emulator/auth/iframe",_2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E2(s){const e=s.config;Ce(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Bm(e,y2):`https://${s.config.authDomain}/${g2}`,a={apiKey:e.apiKey,appName:s.name,v:bl},o=v2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Zo(a).slice(1)}`}async function T2(s){const e=await m2(s),i=qi().gapi;return Ce(i,s,"internal-error"),e.open({where:document.body,url:E2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Hi(s,"network-request-failed"),y=qi().setTimeout(()=>{c(d)},p2.get());function g(){qi().clearTimeout(y),o(a)}a.ping(g).then(g,()=>{c(d)})}))}const b2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S2=500,A2=600,w2="_blank",x2="http://localhost";class C_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R2(s,e,i,a=S2,o=A2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...b2,width:a.toString(),height:o.toString(),top:c,left:d},_=_n().toLowerCase();i&&(y=o1(_)?w2:i),a1(_)&&(e=e||x2,g.scrollbars="yes");const E=Object.entries(g).reduce((M,[G,ie])=>`${M}${G}=${ie},`,"");if(sw(_)&&y!=="_self")return I2(e||"",y),new C_(null);const w=window.open(e||"",y,E);Ce(w,s,"popup-blocked");try{w.focus()}catch{}return new C_(w)}function I2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const C2="__/auth/handler",N2="emulator/auth/handler",D2=encodeURIComponent("fac");async function N_(s,e,i,a,o,c){Ce(s.config.authDomain,s,"auth-domain-config-required"),Ce(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:bl,eventId:o};if(e instanceof y1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",RS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof nu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const E of Object.keys(y))y[E]===void 0&&delete y[E];const g=await s._getAppCheckToken(),_=g?`#${D2}=${encodeURIComponent(g)}`:"";return`${O2(s)}?${Zo(y).slice(1)}${_}`}function O2({config:s}){return s.emulator?Bm(s,N2):`https://${s.authDomain}/${C2}`}const Xd="webStorageSupport";class M2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b1,this._completeRedirectFn=i2,this._overrideRedirectResult=e2}async _openPopup(e,i,a,o){ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await N_(e,i,a,um(),o);return R2(e,c,Qm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await N_(e,i,a,um(),o);return Uw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ws(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await T2(e),a=new r2(e);return i.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},o=>{const c=o?.[0]?.[Xd];c!==void 0&&i(!!c),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=c2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return d1()||l1()||Gm()}}const V2=M2;var D_="@firebase/auth",O_="1.12.0";class k2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function U2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L2(s){dl(new ca("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m1(s)},_=new cw(a,o,c,g);return gw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),dl(new ca("auth-internal",e=>{const i=tu(e.getProvider("auth").getImmediate());return(a=>new k2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(D_,O_,U2(s)),vr(D_,O_,"esm2020")}const j2=300,P2=qv("authIdTokenMaxAge")||j2;let M_=null;const z2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>P2)return;const o=i?.token;M_!==o&&(M_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function B2(s=Xv()){const e=Pm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=pw(s,{popupRedirectResolver:V2,persistence:[Fw,Mw,b1]}),a=qv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=z2(c.toString());Cw(i,d,()=>d(i.currentUser)),Iw(i,y=>d(y))}}const o=Bv("auth");return o&&yw(i,`http://${o}`),i}function H2(){return document.getElementsByTagName("head")?.[0]??document}hw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Hi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",H2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L2("Browser");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Er,C1;(function(){var s;function e(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,N,U){for(var x=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)x[ut-2]=arguments[ut];return A.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],N=C.g[2];let U=C.g[3],x;x=A+(U^R&(N^U))+V[0]+3614090360&4294967295,A=R+(x<<7&4294967295|x>>>25),x=U+(N^A&(R^N))+V[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(R^U&(A^R))+V[2]+606105819&4294967295,N=U+(x<<17&4294967295|x>>>15),x=R+(A^N&(U^A))+V[3]+3250441966&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(U^R&(N^U))+V[4]+4118548399&4294967295,A=R+(x<<7&4294967295|x>>>25),x=U+(N^A&(R^N))+V[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(R^U&(A^R))+V[6]+2821735955&4294967295,N=U+(x<<17&4294967295|x>>>15),x=R+(A^N&(U^A))+V[7]+4249261313&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(U^R&(N^U))+V[8]+1770035416&4294967295,A=R+(x<<7&4294967295|x>>>25),x=U+(N^A&(R^N))+V[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(R^U&(A^R))+V[10]+4294925233&4294967295,N=U+(x<<17&4294967295|x>>>15),x=R+(A^N&(U^A))+V[11]+2304563134&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(U^R&(N^U))+V[12]+1804603682&4294967295,A=R+(x<<7&4294967295|x>>>25),x=U+(N^A&(R^N))+V[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=N+(R^U&(A^R))+V[14]+2792965006&4294967295,N=U+(x<<17&4294967295|x>>>15),x=R+(A^N&(U^A))+V[15]+1236535329&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(N^U&(R^N))+V[1]+4129170786&4294967295,A=R+(x<<5&4294967295|x>>>27),x=U+(R^N&(A^R))+V[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(U^A))+V[11]+643717713&4294967295,N=U+(x<<14&4294967295|x>>>18),x=R+(U^A&(N^U))+V[0]+3921069994&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(R^N))+V[5]+3593408605&4294967295,A=R+(x<<5&4294967295|x>>>27),x=U+(R^N&(A^R))+V[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(U^A))+V[15]+3634488961&4294967295,N=U+(x<<14&4294967295|x>>>18),x=R+(U^A&(N^U))+V[4]+3889429448&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(R^N))+V[9]+568446438&4294967295,A=R+(x<<5&4294967295|x>>>27),x=U+(R^N&(A^R))+V[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(U^A))+V[3]+4107603335&4294967295,N=U+(x<<14&4294967295|x>>>18),x=R+(U^A&(N^U))+V[8]+1163531501&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^U&(R^N))+V[13]+2850285829&4294967295,A=R+(x<<5&4294967295|x>>>27),x=U+(R^N&(A^R))+V[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(U^A))+V[7]+1735328473&4294967295,N=U+(x<<14&4294967295|x>>>18),x=R+(U^A&(N^U))+V[12]+2368359562&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(R^N^U)+V[5]+4294588738&4294967295,A=R+(x<<4&4294967295|x>>>28),x=U+(A^R^N)+V[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^R)+V[11]+1839030562&4294967295,N=U+(x<<16&4294967295|x>>>16),x=R+(N^U^A)+V[14]+4259657740&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^U)+V[1]+2763975236&4294967295,A=R+(x<<4&4294967295|x>>>28),x=U+(A^R^N)+V[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^R)+V[7]+4139469664&4294967295,N=U+(x<<16&4294967295|x>>>16),x=R+(N^U^A)+V[10]+3200236656&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^U)+V[13]+681279174&4294967295,A=R+(x<<4&4294967295|x>>>28),x=U+(A^R^N)+V[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^R)+V[3]+3572445317&4294967295,N=U+(x<<16&4294967295|x>>>16),x=R+(N^U^A)+V[6]+76029189&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^U)+V[9]+3654602809&4294967295,A=R+(x<<4&4294967295|x>>>28),x=U+(A^R^N)+V[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=N+(U^A^R)+V[15]+530742520&4294967295,N=U+(x<<16&4294967295|x>>>16),x=R+(N^U^A)+V[2]+3299628645&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(N^(R|~U))+V[0]+4096336452&4294967295,A=R+(x<<6&4294967295|x>>>26),x=U+(R^(A|~N))+V[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~R))+V[14]+2878612391&4294967295,N=U+(x<<15&4294967295|x>>>17),x=R+(U^(N|~A))+V[5]+4237533241&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~U))+V[12]+1700485571&4294967295,A=R+(x<<6&4294967295|x>>>26),x=U+(R^(A|~N))+V[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~R))+V[10]+4293915773&4294967295,N=U+(x<<15&4294967295|x>>>17),x=R+(U^(N|~A))+V[1]+2240044497&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~U))+V[8]+1873313359&4294967295,A=R+(x<<6&4294967295|x>>>26),x=U+(R^(A|~N))+V[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~R))+V[6]+2734768916&4294967295,N=U+(x<<15&4294967295|x>>>17),x=R+(U^(N|~A))+V[13]+1309151649&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~U))+V[4]+4149444226&4294967295,A=R+(x<<6&4294967295|x>>>26),x=U+(R^(A|~N))+V[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=N+(A^(U|~R))+V[2]+718787259&4294967295,N=U+(x<<15&4294967295|x>>>17),x=R+(U^(N|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=R;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=C[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[A++]=this.g[R]>>>V&255;return C};function c(C,A){var R=y;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function d(C,A){this.h=A;const R=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==A||(R[N]=U,V=!1)}this.g=R}var y={};function g(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return ne(_(-C));const A=[];let R=1;for(let V=0;C>=R;V++)A[V]=C/R|0,R*=4294967296;return new d(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return ne(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(A,8));let V=w;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const x=parseInt(C.substring(U,U+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(x))):(V=V.j(R),V=V.add(_(x)))}return V}var w=g(0),M=g(1),G=g(16777216);s=d.prototype,s.m=function(){if(le(this))return-ne(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ie(this))return"0";if(le(this))return"-"+ne(this).toString(C);const A=_(Math.pow(C,6));var R=this;let V="";for(;;){const N=et(R,A).g;R=be(R,N.j(A));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,ie(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ie(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function le(C){return C.h==-1}s.l=function(C){return C=be(this,C),le(C)?-1:ie(C)?0:1};function ne(C){const A=C.g.length,R=[];for(let V=0;V<A;V++)R[V]=~C.g[V];return new d(R,~C.h).add(M)}s.abs=function(){return le(this)?ne(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),x=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=x>>>16,U&=65535,x&=65535,R[N]=x<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function be(C,A){return C.add(ne(A))}s.j=function(C){if(ie(this)||ie(C))return w;if(le(this))return le(C)?ne(this).j(ne(C)):ne(ne(this).j(C));if(le(C))return ne(this.j(ne(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,x=this.i(V)&65535,ut=C.i(N)>>>16,vt=C.i(N)&65535;R[2*V+2*N]+=x*vt,De(R,2*V+2*N),R[2*V+2*N+1]+=U*vt,De(R,2*V+2*N+1),R[2*V+2*N+1]+=x*ut,De(R,2*V+2*N+1),R[2*V+2*N+2]+=U*ut,De(R,2*V+2*N+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new d(R,0)};function De(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Se(C,A){this.g=C,this.h=A}function et(C,A){if(ie(A))throw Error("division by zero");if(ie(C))return new Se(w,w);if(le(C))return A=et(ne(C),A),new Se(ne(A.g),ne(A.h));if(le(A))return A=et(C,ne(A)),new Se(ne(A.g),A.h);if(C.g.length>30){if(le(C)||le(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=A;V.l(C)<=0;)R=mt(R),V=mt(V);var N=Xe(R,1),U=Xe(V,1);for(V=Xe(V,2),R=Xe(R,2);!ie(V);){var x=U.add(V);x.l(C)<=0&&(N=N.add(R),U=x),V=Xe(V,1),R=Xe(R,1)}return A=be(C,N.j(A)),new Se(N,A)}for(N=w;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(R),x=U.j(A);le(x)||x.l(C)>0;)R-=V,U=_(R),x=U.j(A);ie(U)&&(U=M),N=N.add(U),C=be(C,x)}return new Se(N,C)}s.B=function(C){return et(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&C.i(V);return new d(R,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|C.i(V);return new d(R,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^C.i(V);return new d(R,this.h^C.h)};function mt(C){const A=C.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(R,C.h)}function Xe(C,A){const R=A>>5;A%=32;const V=C.g.length-R,N=[];for(let U=0;U<V;U++)N[U]=A>0?C.i(U+R)>>>A|C.i(U+R+1)<<32-A:C.i(U+R);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,C1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Er=d}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var N1,Do,D1,Fc,fm,O1,M1,V1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in v))break e;v=v[L]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,L,B){for(var se=Array(arguments.length-2),je=2;je<arguments.length;je++)se[je-2]=arguments[je];return m.prototype[L].apply(S,se)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function ie(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let se=0;se<B;se++)u[v+se]=L[se]}else u.push(L)}}class le{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function be(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class De{constructor(){this.h=this.g=null}add(m,v){const S=Se.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Se=new le(()=>new et,u=>u.reset());class et{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,Xe=!1,C=new De,A=()=>{const u=Promise.resolve(void 0);mt=()=>{u.then(R)}};function R(){for(var u;u=be();){try{u.h.call(u.g)}catch(v){ne(v)}var m=Se;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Xe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ut(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ut,N),ut.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),F=0;function ue(u,m,v,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++F,this.da=this.fa=!1}function ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function tt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(u,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)u[v]=S[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,m,v,S,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const se=Oe(u,m,S,L);return se>-1?(m=u[se],v||(m.fa=!1)):(m=new ue(m,this.src,B,!!S,L),m.fa=v,u.push(m)),m};function we(u,m){const v=m.type;if(v in u.g){var S=u.g[v],L=Array.prototype.indexOf.call(S,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(ve(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Oe(u,m,v,S){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),wt={};function ct(u,m,v,S,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ct(u,m[B],v,S,L);return null}return v=si(v),u&&u[vt]?u.J(m,v,y(S)?!!S.capture:!1,L):$i(u,m,v,!1,S,L)}function $i(u,m,v,S,L,B){if(!m)throw Error("Invalid event type");const se=y(L)?!!L.capture:!!L;let je=Ji(u);if(je||(u[Le]=je=new he(u)),v=je.add(m,v,S,se,B),v.proxy)return v;if(S=Ns(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)U||(L=se),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(Mn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ns(){function u(v){return m.call(u.src,u.listener,v)}const m=Ms;return u}function Ds(u,m,v,S,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ds(u,m[B],v,S,L);else S=y(S)?!!S.capture:!!S,v=si(v),u&&u[vt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Oe(m,v,S,L),v>-1&&(ve(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ji(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Oe(m,v,S,L)),(v=u>-1?m[u]:null)&&Os(v))}function Os(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])we(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Mn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Ji(m))?(we(v,u),v.h==0&&(v.src=null,m[Le]=null)):ve(u)}}}function Mn(u){return u in wt?wt[u]:wt[u]="on"+u}function Ms(u,m){if(u.da)u=!0;else{m=new ut(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&Os(u),u=v.call(S,m)}return u}function Ji(u){return u=u[Le],u instanceof he?u:null}var Dr="__closure_events_fn_"+(Math.random()*1e9>>>0);function si(u){return typeof u=="function"?u:(u[Dr]||(u[Dr]=function(m){return u.handleEvent(m)}),u[Dr])}function Nt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}w(Nt,V),Nt.prototype[vt]=!0,Nt.prototype.removeEventListener=function(u,m,v,S){Ds(this,u,m,v,S)};function Tt(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(S,u),ce(m,L)}L=!0;let B,se;if(v)for(se=v.length-1;se>=0;se--)B=m.g=v[se],L=ri(B,S,!0,m)&&L;if(B=m.g=u,L=ri(B,S,!0,m)&&L,L=ri(B,S,!1,m)&&L,v)for(se=0;se<v.length;se++)B=m.g=v[se],L=ri(B,S,!1,m)&&L}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)ve(v[S]);delete u.g[m],u.h--}}this.G=null},Nt.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},Nt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function ri(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const se=m[B];if(se&&!se.da&&se.capture==v){const je=se.listener,Mt=se.ha||se.src;se.fa&&we(u.i,se),L=je.call(Mt,S)!==!1&&L}}return L&&!S.defaultPrevented}function Il(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Or(u){u.g=Il(()=>{u.g=null,u.i&&(u.i=!1,Or(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Or(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(u){V.call(this),this.h=u,this.g={}}w(Ti,V);var Z=[];function Y(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Os(m)},u),u.g={}}Ti.prototype.N=function(){Ti.Z.N.call(this),Y(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var te=d.JSON.stringify,re=d.JSON.parse,oe=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Re(){}function W(){}var ae={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function me(){N.call(this,"d")}w(me,N);function Ne(){N.call(this,"c")}w(Ne,N);var Me={},ye=null;function q(){return ye=ye||new Nt}Me.Ia="serverreachability";function Ee(u){N.call(this,Me.Ia,u)}w(Ee,N);function _e(u){const m=q();Tt(m,new Ee(m))}Me.STAT_EVENT="statevent";function nt(u,m){N.call(this,Me.STAT_EVENT,u),this.stat=m}w(nt,N);function rt(u){const m=q();Tt(m,new nt(m,u))}Me.Ja="timingevent";function bn(u,m){N.call(this,Me.Ja,u),this.size=m}w(bn,N);function bi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function zh(u,m,v,S,L,B){u.info(function(){if(u.g)if(B){var se="",je=B.split("&");for(let at=0;at<je.length;at++){var Mt=je[at].split("=");if(Mt.length>1){const xt=Mt[0];Mt=Mt[1];const Yn=xt.split("_");se=Yn.length>=2&&Yn[1]=="type"?se+(xt+"="+Mt+"&"):se+(xt+"=redacted&")}}}else se=null;else se=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+se})}function hu(u,m,v,S,L,B,se){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+se})}function Si(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,v)+(S?" "+S:"")})}function Mr(u,m){u.info(function(){return"TIMEOUT: "+m})}ai.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return te(B)}catch{return m}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nl;function kr(){}w(kr,Re),kr.prototype.g=function(){return new XMLHttpRequest},Nl=new kr;function Zi(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function li(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new Ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Lt={},Wt={};function Ai(u,m,v){u.M=1,u.A=Ur(Pt(m)),u.u=v,u.R=!0,ya(u,null)}function ya(u,m){u.F=Date.now(),wi(u),u.B=Pt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ta(v.i,"t",S),u.C=0,v=u.j.L,u.h=new oi,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new sn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Z[0]=L.toString()),L=Z);for(let B=0;B<L.length;B++){const se=ct(v,L[B],S||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),_e(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const je=hi(this.g),Mt=this.g.ya(),at=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||je!=4||Mt==7||(Mt==8||at<=0?_e(3):_e(2)),xi(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,je,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var B=S;break t}}B=null}if(u=B)Si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,u);else{this.o=!1,this.m=3,rt(12),Vn(this),Gn(this);break e}}if(this.R){u=!0;let xt;for(;!this.K&&this.C<v.length;)if(xt=mu(this,v),xt==Wt){je==4&&(this.m=4,rt(14),u=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Lt){this.m=4,rt(15),Si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Si(this.i,this.l,xt,null),Ri(this,xt);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||v.length!=0||this.h.h||(this.m=1,rt(16),u=!1),this.o=this.o&&u,!u)Si(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fl(se),se.P=!0,rt(11))}}else Si(this.i,this.l,v,null),Ri(this,v);je==4&&Vn(this),this.o&&!this.K&&(je==4?Su(this.j,this):(this.o=!1,wi(this)))}else es(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),Vn(this),Gn(this)}}}catch{}};function Hh(u){if(!du(u))return u.g.la();const m=rn(u.g);if(m==="")return"";let v="";const S=m.length,L=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Wt:(v=Number(m.substring(v,S)),isNaN(v)?Lt:(S+=1,S+v>m.length?Wt:(m=m.slice(S,S+v),u.C=S+v,m)))}li.prototype.cancel=function(){this.K=!0,Vn(this)};function wi(u){u.T=Date.now()+u.H,_a(u,u.H)}function _a(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bi(_(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Mr(this.i,this.B),this.M!=2&&(_e(),rt(17)),Vn(this),this.m=2,Gn(this)):_a(this,this.T-u)};function Gn(u){u.j.I==0||u.K||Su(u.j,u)}function Vn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Y(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ci(v.h,u))){if(!u.L&&Ci(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)xa(v),Bs(v);else break e;qr(v),rt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=bi(_(v.Va,v),6e3));Ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&xa(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let at=L[m];const xt=at[0];if(!(xt<=v.K))if(v.K=xt,at=at[1],v.I==2)if(at[0]=="c"){v.M=at[1],v.ba=at[2];const Yn=at[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Ui=at[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const fi=at[5];fi!=null&&typeof fi=="number"&&fi>0&&(S=1.5*fi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const di=u.g;if(di){const Gr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var B=S.h;B.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ml(B,B.h),B.h=null))}if(S.G){const Ra=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(S.wa=Ra,ht(S.J,S.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=u;if(S.na=xu(S,S.L?S.ba:null,S.W),se.L){Vl(S.h,se);var je=se,Mt=S.O;Mt&&(je.H=Mt),je.D&&(xi(je),wi(je)),S.g=se}else Tu(S);v.i.length>0&&Vi(v)}else at[0]!="stop"&&at[0]!="close"||ki(v,7);else v.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ki(v,7):ql(v):at[0]!="noop"&&v.l&&v.l.qa(at),v.A=0)}}_e(4)}catch{}}var jt=class{constructor(u,m){this.g=u,this.map=m}};function Dl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ii(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ml(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let L,B=null;S>=0?(L=u[v].substring(0,S),B=u[v].substring(S+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,Vs(this,u.u),this.h=u.h,Ul(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(pu))?(this.l=!1,en(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),Vs(this,m[4]),this.h=Ni(m[5]||"",!0),Ul(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Lr(m,Ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lr(m,Ea,!0),"@"),u.push(Zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Lr(v,v.charAt(0)=="/"?Ll:gu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Lr(v,yu)),u.join("")},kn.prototype.resolve=function(u){const m=Pt(this);let v=!!u.j;v?en(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)Vs(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let se=0;se<L.length;){const je=L[se++];je=="."?S&&se==L.length&&B.push(""):je==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&se==L.length&&B.push("")):(B.push(je),S=!0)}S=B.join("/")}else S=L}return v?m.h=S:v=u.i.toString()!=="",v?Ul(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pt(u){return new kn(u)}function en(u,m,v){u.j=v?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ul(u,m,v){m instanceof Us?(u.i=m,ba(u.i,u.l)):(v||(m=Lr(m,ks)),u.i=new Us(m,u.l))}function ht(u,m,v){u.i.set(m,v)}function Ur(u){return ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ea=/[#\/\?@]/g,gu=/[#\?:]/g,Ll=/[#\?]/g,ks=/[#\?@]/g,yu=/#/g;function Us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&va(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Us.prototype,s.add=function(u,m){An(this),this.i=null,u=Ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){An(u),m=Ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jl(u,m){return An(u),m=Ls(u,m),u.g.has(m)}s.forEach=function(u,m){An(this),this.g.forEach(function(v,S){v.forEach(function(L){u.call(m,L,S,this)},this)},this)};function Pl(u,m){An(u);let v=[];if(typeof m=="string")jl(u,m)&&(v=v.concat(u.g.get(Ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return An(this),this.i=null,u=Ls(this,u),jl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Pl(this,u),u.length>0?String(u[0]):m):m};function Ta(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Ls(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Zi(v);v=Pl(this,v);for(let B=0;B<v.length;B++){let se=L;v[B]!==""&&(se+="="+Zi(v[B])),u.push(se)}}return this.i=u.join("&")};function vu(u){const m=new Us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(_u(this,S),Ta(this,L,v))},u)),u.j=m}function ui(u,m){const v=new ai;if(d.Image){const S=new Image;S.onload=E(Fn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Fn,v,"TestLoadImage: error",!1,m,S),S.onabort=E(Fn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Fn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function zl(u,m){const v=new ai,S=new AbortController,L=setTimeout(()=>{S.abort(),Fn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?Fn(v,"TestPingServer: ok",!0,m):Fn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Fn(v,"TestPingServer: error",!1,m)})}function Fn(u,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function js(){this.g=new oe}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Di,Re),Di.prototype.g=function(){return new jr(this.i,this.h)};function jr(u,m){Nt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(jr,Nt),s=jr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ps(this):ci(this),this.readyState==3&&Sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ps(this))},s.Na=function(u){this.g&&(this.response=u,Ps(this))},s.ga=function(){this.g&&Ps(this)};function Ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return qe(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Qn(v),typeof u=="string"?v!=null&&Zi(v):ht(u,m,v))}function pt(u){Nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(pt,Nt);var Oi=/^https?$/i,Bl=["POST","PUT"];s=pt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){zr(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bl,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of v)this.g.setRequestHeader(B,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){zr(this,B)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Hl(u),Wi(u)}function Hl(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Tt(this,"complete"),Tt(this,"abort"),Wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),pt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},s.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Tt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let se=String(u.D).match(pu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),S=!Oi.test(se?se.toLowerCase():"")}v=S}if(v)Tt(u,"complete"),Tt(u,"success");else{u.o=6;try{var L=hi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Hl(u)}}finally{Wi(u)}}}}function Wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Tt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),re(m)}};function rn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var v=fu(u[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}tt(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function zs(u){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(u&&u.concurrentRequestLimit),this.Ba=new js,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=zs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){rt(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=xu(this,null,this.W),Vi(this)};function ql(u){if(Aa(u),u.I==3){var m=u.V++,v=Pt(u.J);if(ht(v,"SID",u.M),ht(v,"RID",m),ht(v,"TYPE","terminate"),Hr(u,v),m=new li(u,u.j,m),m.M=2,m.A=Ur(Pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}wu(u)}function Bs(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function Aa(u){Bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!Ol(u.h)&&!u.m){u.m=!0;var m=u.Ea;mt||A(),Xe||(mt(),Xe=!0),C.add(m,u),u.D=0}}function wa(u,m){return Ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bi(_(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new li(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ce(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Eu(this,L,m),v=Pt(this.J),ht(v,"RID",u),ht(v,"CVER",22),this.G&&ht(v,"X-HTTP-Session-Id",this.G),Hr(this,v),B&&(this.R?m="headers="+Zi(Qn(B))+"&"+m:this.u&&Pr(v,this.u,B)),Ml(this.h,L),this.Ra&&ht(v,"TYPE","init"),this.S?(ht(v,"$req",m),ht(v,"SID","null"),L.U=!0,Ai(L,v,null)):Ai(L,v,m),this.I=2}}else this.I==3&&(u?Gl(this,u):this.i.length==0||Ol(this.h)||Gl(this))};function Gl(u,m){var v;m?v=m.l:v=u.V++;const S=Pt(u.J);ht(S,"SID",u.M),ht(S,"RID",v),ht(S,"AID",u.K),Hr(u,S),u.u&&u.o&&Pr(S,u.u,u.o),v=new li(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ml(u.h,v),Ai(v,S,m)}function Hr(u,m){u.H&&qe(u.H,function(v,S){ht(m,S,v)}),u.l&&qe({},function(v,S){ht(m,S,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let je=-1;for(;;){const Mt=["count="+v];je==-1?v>0?(je=L[0].g,Mt.push("ofs="+je)):je=0:Mt.push("ofs="+je);let at=!0;for(let xt=0;xt<v;xt++){var B=L[xt].g;const Yn=L[xt].map;if(B-=je,B<0)je=Math.max(0,L[xt].g-100),at=!1;else try{B="req"+B+"_"||"";try{var se=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Ui,fi]of se){let di=fi;y(fi)&&(di=te(fi)),Mt.push(B+Ui+"="+encodeURIComponent(di))}}catch(Ui){throw Mt.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{S&&S(Yn)}}if(at){se=Mt.join("&");break e}}se=void 0}return u=u.i.splice(0,v),m.G=u,se}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;mt||A(),Xe||(mt(),Xe=!0),C.add(m,u),u.A=0}}function qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bi(_(u.Da,u),Au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),Bs(this),bu(this))};function Fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);ht(m,"RID","rpc"),ht(m,"SID",u.M),ht(m,"AID",u.K),ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ht(m,"TO",u.ia),ht(m,"TYPE","xmlhttp"),Hr(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ur(Pt(m)),v.u=null,v.R=!0,ya(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Bs(this),qr(this),rt(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){xa(u),Fl(u),u.g=null;var S=2}else if(Ci(u.h,m))v=m.G,Vl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=q(),Tt(S,new bn(S,v)),Vi(u)}else Tu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&wa(u,m)||S==2&&qr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const L=!S;S=new kn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||en(S,"https"),Ur(S),L?ui(S.toString(),v):zl(S.toString(),v)}else rt(2);u.I=0,u.l&&u.l.pa(m),wu(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=kl(u.h);(m.length!=0||u.i.length!=0)&&(ie(u.ja,m),ie(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var S=v instanceof kn?Pt(v):new kn(v);if(S.g!="")m&&(S.g=m+"."+S.g),Vs(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new kn(null);S&&en(B,S),m&&(B.g=m),L&&Vs(B,L),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&ht(S,v,m),ht(S,"VER",u.ka),Hr(u,S),S}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new pt(new Di({ab:v})):new pt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}s=Iu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){Nt.call(this),this.g=new zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}w(vn,Nt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ql(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=te(u),u=v);m.i.push(new jt(m.Ya++,u)),m.I==3&&Vi(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,vn.Z.N.call(this)};function Cu(u){me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Cu,me);function Nu(){Ne.call(this),this.status=1}w(Nu,Ne);function ts(u){this.g=u}w(ts,Iu),ts.prototype.ra=function(){Tt(this.g,"a")},ts.prototype.qa=function(u){Tt(this.g,new Cu(u))},ts.prototype.pa=function(u){Tt(this.g,new Nu)},ts.prototype.oa=function(){Tt(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,V1=function(){return new Hs},M1=function(){return q()},O1=Me,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Fc=Vr,Cl.COMPLETE="complete",D1=Cl,W.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Do=W,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,N1=pt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore",U_="4.9.3";let gn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let Al="12.7.0";const fa=new Lm("@firebase/firestore");function il(){return fa.logLevel}function fe(s,...e){if(fa.logLevel<=Qe.DEBUG){const i=e.map(Km);fa.debug(`Firestore (${Al}): ${s}`,...i)}}function Rs(s,...e){if(fa.logLevel<=Qe.ERROR){const i=e.map(Km);fa.error(`Firestore (${Al}): ${s}`,...i)}}function ml(s,...e){if(fa.logLevel<=Qe.WARN){const i=e.map(Km);fa.warn(`Firestore (${Al}): ${s}`,...i)}}function Km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ie(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,k1(s,a,i)}function k1(s,e,i){let a=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Rs(a),new Error(a)}function ot(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||k1(e,o,a)}function Ue(s,e){return s}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class U1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(gn.UNAUTHENTICATED)))}shutdown(){}}class G2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class F2{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ot(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},y=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot(typeof a.accessToken=="string",31837,{l:a}),new U1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class Q2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Y2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Q2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ot(this.o===void 0,3512);const a=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ot(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new L_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=X2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Ye(s,e){return s<e?-1:s>e?1:0}function dm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return $d(o)===$d(c)?Ye(o,c):$d(o)?1:-1}return Ye(s.length,e.length)}const $2=55296,J2=57343;function $d(s){const e=s.charCodeAt(0);return e>=$2&&e<=J2}function pl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const j_="__name__";class Bi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ie(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ie(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Bi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ye(e.length,i.length)}static compareSegments(e,i){const a=Bi.isNumericId(e),o=Bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(i)):dm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class It extends Bi{construct(e,i,a){return new It(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new It(i)}static emptyPath(){return new It([])}}const Z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Bi{construct(e,i,a){return new fn(e,i,a)}static isValidIdentifier(e){return Z2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new fn([j_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(i)}static emptyPath(){return new fn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(It.fromString(e))}static fromName(e){return new Ae(It.fromString(e).popFirst(5))}static empty(){return new Ae(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return It.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new It(e.slice()))}}function W2(s,e,i){if(!i)throw new ge(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ex(s,e,i,a){if(e===!0&&a===!0)throw new ge(ee.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function P_(s){if(!Ae.isDocumentKey(s))throw new ge(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function L1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function $m(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ie(12329,{type:typeof s})}function vi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=$m(s);throw new ge(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Yt(s,e){const i={typeString:s};return e&&(i.value=e),i}function su(s,e){if(!L1(s))throw new ge(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ge(ee.INVALID_ARGUMENT,i);return!0}const z_=-62135596800,B_=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*B_);return new At(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<z_)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Yt("string",At._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new At(0,0))}static max(){return new Ve(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qo=-1;function tx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(a===1e9?new At(i+1,0):new At(i,a));return new Sr(o,Ae.empty(),e)}function nx(s){return new Sr(s.readTime,s.key,qo)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(Ve.min(),Ae.empty(),qo)}static max(){return new Sr(Ve.max(),Ae.empty(),qo)}}function ix(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Ae.comparator(s.documentKey,e.documentKey),i!==0?i:Ye(s.largestBatchId,e.largestBatchId))}const sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wl(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==sx)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(g=>a(g)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((E=>{d[_]=E,++y,y===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new J(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function ax(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xl(s){return s.name==="IndexedDbTransactionError"}class bh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;const Jm=-1;function Sh(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function lx(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const j1="";function ox(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=H_(e)),e=ux(s.get(i),e);return H_(e)}function ux(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case j1:i+="";break;default:i+=c}}return i}function H_(s){return s+j1+""}function q_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Cr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function P1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ct{constructor(e,i){this.comparator=e,this.root=i||hn.EMPTY}insert(e,i){return new Ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??hn.RED,this.left=o??hn.EMPTY,this.right=c??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new hn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new hn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Zt(this.comparator);return i.data=e,i}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new qn([])}unionWith(e){let i=new Zt(fn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new z1("Invalid base64 string: "+c):c}})(e);return new dn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new dn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(s){if(ot(!!s,39018),typeof s=="string"){let e=0;const i=cx.exec(s);if(ot(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ut(s.seconds),nanos:Ut(s.nanos)}}function Ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?dn.fromBase64String(s):dn.fromUint8Array(s)}const B1="server_timestamp",H1="__type__",q1="__previous_value__",G1="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[H1]?.stringValue===B1}function Ah(s){const e=s.mapValue.fields[q1];return Zm(e)?Ah(e):e}function Go(s){const e=Ar(s.mapValue.fields[G1].timestampValue);return new At(e.seconds,e.nanos)}class hx{constructor(e,i,a,o,c,d,y,g,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=E}}const lh="(default)";class Fo{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}const F1="__type__",fx="__max__",Lc={mapValue:{}},Q1="__vector__",oh="value";function xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:mx(s)?9007199254740991:dx(s)?10:11:Ie(28295,{value:s})}function Ki(s,e){if(s===e)return!0;const i=xr(s);if(i!==xr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Go(s).isEqual(Go(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ar(o.timestampValue),y=Ar(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return wr(o.bytesValue).isEqual(wr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ut(o.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ut(o.integerValue)===Ut(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ut(o.doubleValue),y=Ut(c.doubleValue);return d===y?ah(d)===ah(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return pl(s.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(q_(d)!==q_(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Ki(d[g],y[g])))return!1;return!0})(s,e);default:return Ie(52216,{left:s})}}function Qo(s,e){return(s.values||[]).find((i=>Ki(i,e)))!==void 0}function gl(s,e){if(s===e)return 0;const i=xr(s),a=xr(e);if(i!==a)return Ye(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ye(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Ut(c.integerValue||c.doubleValue),g=Ut(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,e);case 3:return F_(s.timestampValue,e.timestampValue);case 4:return F_(Go(s),Go(e));case 5:return dm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=wr(c),g=wr(d);return y.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const E=Ye(y[_],g[_]);if(E!==0)return E}return Ye(y.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ye(Ut(c.latitude),Ut(d.latitude));return y!==0?y:Ye(Ut(c.longitude),Ut(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Q_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[oh]?.arrayValue,E=g[oh]?.arrayValue,w=Ye(_?.values?.length||0,E?.values?.length||0);return w!==0?w:Q_(_,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const M=dm(g[w],E[w]);if(M!==0)return M;const G=gl(y[g[w]],_[E[w]]);if(G!==0)return G}return Ye(g.length,E.length)})(s.mapValue,e.mapValue);default:throw Ie(23264,{he:i})}}function F_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ye(s,e);const i=Ar(s),a=Ar(e),o=Ye(i.seconds,a.seconds);return o!==0?o:Ye(i.nanos,a.nanos)}function Q_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=gl(i[o],a[o]);if(c)return c}return Ye(i.length,a.length)}function yl(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ar(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return wr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Ae.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=mm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${mm(i.fields[d])}`;return o+"}"})(s.mapValue):Ie(61005,{value:s})}function Qc(s){switch(xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Cr(a.fields,((c,d)=>{o+=c.length+Qc(d)})),o})(s.mapValue);default:throw Ie(13486,{value:s})}}function pm(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function Y_(s){return!!s&&"nullValue"in s}function K_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function dx(s){return(s?.mapValue?.fields||{})[F1]?.stringValue===Q1}function Lo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Cr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Lo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Lo(s.arrayValue.values[i]);return e}return{...s}}function mx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===fx}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(i)}setAll(e){let i=fn.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Lo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Cr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new On(Lo(this.value))}}function Y1(s){const e=[];return Cr(s.fields,((i,a)=>{const o=new fn([i]);if(Yc(a)){const c=Y1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new qn(e)}class yn{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new yn(e,0,Ve.min(),Ve.min(),Ve.min(),On.empty(),0)}static newFoundDocument(e,i,a,o){return new yn(e,1,i,Ve.min(),a,o,0)}static newNoDocument(e,i){return new yn(e,2,i,Ve.min(),Ve.min(),On.empty(),0)}static newUnknownDocument(e,i){return new yn(e,3,i,Ve.min(),Ve.min(),On.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,i){this.position=e,this.inclusive=i}}function X_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=Ae.comparator(Ae.fromName(d.referenceValue),i.key):a=gl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function $_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ki(s.position[i],e.position[i]))return!1;return!0}class ch{constructor(e,i="asc"){this.field=e,this.dir=i}}function px(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class K1{}class Jt extends K1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new yx(e,i,a):i==="array-contains"?new Ex(e,a):i==="in"?new Tx(e,a):i==="not-in"?new bx(e,a):i==="array-contains-any"?new Sx(e,a):new Jt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new _x(e,a):new vx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(gl(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(gl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends K1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xi(e,i)}matches(e){return X1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X1(s){return s.op==="and"}function $1(s){return gx(s)&&X1(s)}function gx(s){for(const e of s.filters)if(e instanceof Xi)return!1;return!0}function gm(s){if(s instanceof Jt)return s.field.canonicalString()+s.op.toString()+yl(s.value);if($1(s))return s.filters.map((e=>gm(e))).join(",");{const e=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${e})`}}function J1(s,e){return s instanceof Jt?(function(a,o){return o instanceof Jt&&a.op===o.op&&a.field.isEqual(o.field)&&Ki(a.value,o.value)})(s,e):s instanceof Xi?(function(a,o){return o instanceof Xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&J1(d,o.filters[y])),!0):!1})(s,e):void Ie(19439)}function Z1(s){return s instanceof Jt?(function(i){return`${i.field.canonicalString()} ${i.op} ${yl(i.value)}`})(s):s instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Z1).join(" ,")+"}"})(s):"Filter"}class yx extends Jt{constructor(e,i,a){super(e,i,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const i=Ae.comparator(e.key,this.key);return this.matchesComparison(i)}}class _x extends Jt{constructor(e,i){super(e,"in",i),this.keys=W1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class vx extends Jt{constructor(e,i){super(e,"not-in",i),this.keys=W1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function W1(s,e){return(e.arrayValue?.values||[]).map((i=>Ae.fromName(i.referenceValue)))}class Ex extends Jt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wm(i)&&Qo(i.arrayValue,this.value)}}class Tx extends Jt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class bx extends Jt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class Sx extends Jt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}class Ax{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function J_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new Ax(s,e,i,a,o,c,d)}function ep(s){const e=Ue(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>gm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>yl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>yl(a))).join(",")),e.Te=i}return e.Te}function tp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!px(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!J1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!$_(s.startAt,e.startAt)&&$_(s.endAt,e.endAt)}function ym(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class wh{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wx(s,e,i,a,o,c,d,y){return new wh(s,e,i,a,o,c,d,y)}function xh(s){return new wh(s)}function Z_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xx(s){return s.collectionGroup!==null}function jo(s){const e=Ue(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Zt(fn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ch(c,a))})),i.has(fn.keyField().canonicalString())||e.Ie.push(new ch(fn.keyField(),a))}return e.Ie}function Gi(s){const e=Ue(s);return e.Ee||(e.Ee=Rx(e,jo(s))),e.Ee}function Rx(s,e){if(s.limitType==="F")return J_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ch(o.field,c)}));const i=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return J_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function _m(s,e,i){return new wh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rh(s,e){return tp(Gi(s),Gi(e))&&s.limitType===e.limitType}function eE(s){return`${ep(Gi(s))}|lt:${s.limitType}`}function sl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Z1(o))).join(", ")}]`),Sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>yl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>yl(o))).join(",")),`Target(${a})`})(Gi(s))}; limitType=${s.limitType})`}function Ih(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Ae.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of jo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,g){const _=X_(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,jo(a),o)||a.endAt&&!(function(d,y,g){const _=X_(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,jo(a),o))})(s,e)}function Ix(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function tE(s){return(e,i)=>{let a=!1;for(const o of jo(s)){const c=Cx(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Cx(s,e,i){const a=s.field.isKeyField()?Ae.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?gl(g,_):Ie(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ie(19790,{direction:s.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}const Nx=new Ct(Ae.comparator);function Is(){return Nx}const nE=new Ct(Ae.comparator);function Oo(...s){let e=nE;for(const i of s)e=e.insert(i.key,i);return e}function iE(s){let e=nE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return Po()}function sE(){return Po()}function Po(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Dx=new Ct(Ae.comparator),Ox=new Zt(Ae.comparator);function Ke(...s){let e=Ox;for(const i of s)e=e.add(i);return e}const Mx=new Zt(Ye);function Vx(){return Mx}function np(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function rE(s){return{integerValue:""+s}}function aE(s,e){return lx(e)?rE(e):np(s,e)}class Ch{constructor(){this._=void 0}}function kx(s,e,i){return s instanceof hh?(function(o,c){const d={fields:{[H1]:{stringValue:B1},[G1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zm(c)&&(c=Ah(c)),c&&(d.fields[q1]=c),{mapValue:d}})(i,e):s instanceof _l?oE(s,e):s instanceof Yo?uE(s,e):(function(o,c){const d=lE(o,c),y=W_(d)+W_(o.Ae);return pm(d)&&pm(o.Ae)?rE(y):np(o.serializer,y)})(s,e)}function Ux(s,e,i){return s instanceof _l?oE(s,e):s instanceof Yo?uE(s,e):i}function lE(s,e){return s instanceof Ko?(function(a){return pm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class hh extends Ch{}class _l extends Ch{constructor(e){super(),this.elements=e}}function oE(s,e){const i=cE(e);for(const a of s.elements)i.some((o=>Ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Yo extends Ch{constructor(e){super(),this.elements=e}}function uE(s,e){let i=cE(e);for(const a of s.elements)i=i.filter((o=>!Ki(o,a)));return{arrayValue:{values:i}}}class Ko extends Ch{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function W_(s){return Ut(s.integerValue||s.doubleValue)}function cE(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class hE{constructor(e,i){this.field=e,this.transform=i}}function Lx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof _l&&o instanceof _l||a instanceof Yo&&o instanceof Yo?pl(a.elements,o.elements,Ki):a instanceof Ko&&o instanceof Ko?Ki(a.Ae,o.Ae):a instanceof hh&&o instanceof hh})(s.transform,e.transform)}class jx{constructor(e,i){this.version=e,this.transformResults=i}}class Ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Nh{}function fE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ip(s.key,Ei.none()):new ru(s.key,s.data,Ei.none());{const i=s.data,a=On.empty();let o=new Zt(fn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Nr(s.key,a,new qn(o.toArray()),Ei.none())}}function Px(s,e,i){s instanceof ru?(function(o,c,d){const y=o.value.clone(),g=tv(o.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Nr?(function(o,c,d){if(!Kc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=tv(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(dE(o)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function zo(s,e,i,a){return s instanceof ru?(function(c,d,y,g){if(!Kc(c.precondition,d))return y;const _=c.value.clone(),E=nv(c.fieldTransforms,g,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Nr?(function(c,d,y,g){if(!Kc(c.precondition,d))return y;const _=nv(c.fieldTransforms,g,d),E=d.data;return E.setAll(dE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,y){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function zx(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=lE(a.transform,o||null);c!=null&&(i===null&&(i=On.empty()),i.set(a.field,c))}return i||null}function ev(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&pl(a,o,((c,d)=>Lx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ru extends Nh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Nr extends Nh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function tv(s,e,i){const a=new Map;ot(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,Ux(d,y,i[o]))}return a}function nv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,kx(c,d,e))}return a}class ip extends Nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bx extends Nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Px(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=sE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const g=fE(d,y);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ve.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((i,a)=>ev(i,a)))&&pl(this.baseMutations,e.baseMutations,((i,a)=>ev(i,a)))}}class sp{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){ot(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Dx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new sp(e,i,a,o)}}class qx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Gx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Qt,Ze;function Fx(s){switch(s){case ee.OK:return Ie(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ie(15467,{code:s})}}function mE(s){if(s===void 0)return Rs("GRPC error has no .code"),ee.UNKNOWN;switch(s){case Qt.OK:return ee.OK;case Qt.CANCELLED:return ee.CANCELLED;case Qt.UNKNOWN:return ee.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ee.INTERNAL;case Qt.UNAVAILABLE:return ee.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ee.NOT_FOUND;case Qt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Qt.ABORTED:return ee.ABORTED;case Qt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Qt.DATA_LOSS:return ee.DATA_LOSS;default:return Ie(39323,{code:s})}}(Ze=Qt||(Qt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function Qx(){return new TextEncoder}const Yx=new Er([4294967295,4294967295],0);function iv(s){const e=Qx().encode(s),i=new C1;return i.update(e),new Uint8Array(i.digest())}function sv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Er([i,a],0),new Er([o,c],0)]}class rp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(a<0)throw new Mo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Er.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Er.fromNumber(a)));return o.compare(Yx)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=iv(e),[a,o]=sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new rp(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=iv(e),[a,o]=sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Dh(Ve.min(),o,new Ct(Ye),Is(),Ke())}}class au{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new au(a,i,Ke(),Ke(),Ke())}}class Xc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class pE{constructor(e,i){this.targetId=e,this.Ce=i}}class gE{constructor(e,i,a=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class rv{constructor(){this.ve=0,this.Fe=av(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),a=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ie(38017,{changeType:c})}})),new au(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=av()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Kx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=jc(),this.He=jc(),this.Ye=new Ct(Ye)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(ym(c))if(a===0){const d=new Ae(c.path);this.et(i,d,yn.newNoDocument(d,Ve.min()))}else ot(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=wr(a).toUint8Array()}catch(g){if(g instanceof z1)return ml("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new rp(d,o,c)}catch(g){return ml(g instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&ym(y.target)){const g=new Ae(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,yn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ke();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Dh(e,i,this.Ye,this.je,a);return this.je=Is(),this.Je=jc(),this.He=jc(),this.Ye=new Ct(Ye),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new rv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Zt(Ye),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Zt(Ye),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||fe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new Ct(Ae.comparator)}function av(){return new Ct(Ae.comparator)}const Xx={asc:"ASCENDING",desc:"DESCENDING"},$x={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jx={and:"AND",or:"OR"};class Zx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function vm(s,e){return s.useProto3Json||Sh(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Wx(s,e){return fh(s,e.toTimestamp())}function Fi(s){return ot(!!s,49232),Ve.fromTimestamp((function(i){const a=Ar(i);return new At(a.seconds,a.nanos)})(s))}function ap(s,e){return Em(s,e).canonicalString()}function Em(s,e){const i=(function(o){return new It(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function _E(s){const e=It.fromString(s);return ot(SE(e),10190,{key:e.toString()}),e}function Tm(s,e){return ap(s.databaseId,e.path)}function Jd(s,e){const i=_E(e);if(i.get(1)!==s.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ae(EE(i))}function vE(s,e){return ap(s.databaseId,e)}function eR(s){const e=_E(s);return e.length===4?It.emptyPath():EE(e)}function bm(s){return new It(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function EE(s){return ot(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function lv(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function tR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ie(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(ot(E===void 0||typeof E=="string",58123),dn.fromBase64String(E||"")):(ot(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),dn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const E=_.code===void 0?ee.UNKNOWN:mE(_.code);return new ge(E,_.message||"")})(d);i=new gE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Jd(s,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):Ve.min(),y=new On({mapValue:{fields:a.document.fields}}),g=yn.newFoundDocument(o,c,d,y),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Xc(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Jd(s,a.document),c=a.readTime?Fi(a.readTime):Ve.min(),d=yn.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Xc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Jd(s,a.document),c=a.removedTargetIds||[];i=new Xc([],c,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Gx(o,c),y=a.targetId;i=new pE(y,d)}}return i}function nR(s,e){let i;if(e instanceof ru)i={update:lv(s,e.key,e.value)};else if(e instanceof ip)i={delete:Tm(s,e.key)};else if(e instanceof Nr)i={update:lv(s,e.key,e.data),updateMask:hR(e.fieldMask)};else{if(!(e instanceof Bx))return Ie(16599,{Vt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof _l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ko)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Ie(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Wx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ie(27497)})(s,e.precondition)),i}function iR(s,e){return s&&s.length>0?(ot(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(Ve.min())&&(d=Fi(c)),new jx(d,o.transformResults||[])})(i,e)))):[]}function sR(s,e){return{documents:[vE(s,e.path)]}}function rR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=vE(s,o);const c=(function(_){if(_.length!==0)return bE(Xi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:rl(M.field),direction:oR(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=vm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function aR(s){let e=eR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ot(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=TE(w);return M instanceof Xi&&$1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(ie){return new ch(al(ie.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ie.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,Sh(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(w){const M=!!w.before,G=w.values||[];return new uh(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,G=w.values||[];return new uh(G,M)})(i.endAt)),wx(e,o,d,c,y,"F",g,_)}function lR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function TE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=al(i.unaryFilter.field);return Jt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=al(i.unaryFilter.field);return Jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=al(i.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=al(i.unaryFilter.field);return Jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Jt.create(al(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>TE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(i.compositeFilter.op))})(s):Ie(30097,{filter:s})}function oR(s){return Xx[s]}function uR(s){return $x[s]}function cR(s){return Jx[s]}function rl(s){return{fieldPath:s.canonicalString()}}function al(s){return fn.fromServerFormat(s.fieldPath)}function bE(s){return s instanceof Jt?(function(i){if(i.op==="=="){if(K_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NAN"}};if(Y_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(K_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NOT_NAN"}};if(Y_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(i.field),op:uR(i.op),value:i.value}}})(s):s instanceof Xi?(function(i){const a=i.getFilters().map((o=>bE(o)));return a.length===1?a[0]:{compositeFilter:{op:cR(i.op),filters:a}}})(s):Ie(54877,{filter:s})}function hR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function SE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class gr{constructor(e,i,a,o,c=Ve.min(),d=Ve.min(),y=dn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fR{constructor(e){this.yt=e}}function dR(s){const e=aR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_m(e,e.limit,"L"):e}class mR{constructor(){this.Cn=new pR}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Sr.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class pR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Zt(It.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Zt(It.comparator)).toArray()}}const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AE=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(AE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}const uv="LruGarbageCollector",gR=1048576;function cv([s,e],[i,a]){const o=Ye(s,i);return o===0?Ye(e,a):o}class yR{constructor(e){this.Ir=e,this.buffer=new Zt(cv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();cv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _R{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(uv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xl(i)?fe(uv,"Ignoring IndexedDB error during garbage collection: ",i):await wl(i)}await this.Vr(3e5)}))}}class vR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(bh.ce);const a=new yR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ov)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,y,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),il()<=Qe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${w} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function ER(s,e){return new vR(s,e)}class TR{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class SR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&zo(a.mutation,o,qn.empty(),At.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ke()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ke()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Oo();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ke())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=Is();const d=Po(),y=(function(){return Po()})();return i.forEach(((g,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Nr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),zo(E.mutation,_,E.mutation.getFieldMask(),At.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>y.set(_,new bR(E,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Po();let o=new Ct(((d,y)=>d-y)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let E=a.get(g)||qn.empty();E=y.applyToLocalView(_,E),a.set(g,E);const w=(o.get(y.batchId)||Ke()).add(g);o=o.insert(y.batchId,w)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,E=g.value,w=sE();E.forEach((M=>{if(!c.has(M)){const G=fE(i.get(M),a.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return Ae.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):xx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):J.resolve(oa());let y=qo,g=c;return d.next((_=>J.forEach(_,((E,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{g=g.insert(E,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Ke()))).next((E=>({batchId:y,changes:iE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ae(i)).next((a=>{let o=Oo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Oo();return this.indexManager.getCollectionParents(e,c).next((y=>J.forEach(y,(g=>{const _=(function(w,M){return new wh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((g,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,yn.newInvalidDocument(E)))}));let y=Oo();return d.forEach(((g,_)=>{const E=c.get(g);E!==void 0&&zo(E.mutation,_,qn.empty(),At.now()),Ih(i,_)&&(y=y.insert(g,_))})),y}))}}class AR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:dR(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),J.resolve()}}class wR{constructor(){this.overlays=new Ct(Ae.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),c=i.length+1,d=new Ae(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new Ct(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=oa(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const y=oa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,E)=>y.set(_,E))),!(y.size()>=o)););return J.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new qx(i,a));let c=this.qr.get(i);c===void 0&&(c=Ke(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class xR{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class lp{constructor(){this.Qr=new Zt(nn.$r),this.Ur=new Zt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new nn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new nn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Ae(new It([])),a=new nn(i,e),o=new nn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ae(new It([])),a=new nn(i,e),o=new nn(i,e+1);let c=Ke();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ae.comparator(e.key,i.key)||Ye(e.Yr,i.Yr)}static Kr(e,i){return Ye(e.Yr,i.Yr)||Ae.comparator(e.key,i.key)}}class RR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(nn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Hx(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new nn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Jm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Zt(Ye);return i.forEach((o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;Ae.isDocumentKey(c)||(c=c.child(""));const d=new nn(new Ae(c),0);let y=new Zt(Ye);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(g.Yr)),!0)}),d),J.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){ot(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new nn(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class IR{constructor(e){this.ri=e,this.docs=(function(){return new Ct(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():yn.newInvalidDocument(i))}getEntries(e,i){let a=Is();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():yn.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Is();const d=i.path,y=new Ae(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ix(nx(E),a)<=0||(o.has(E.key)||Ih(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ie(9500)}ii(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new CR(this)}getSize(e){return J.resolve(this.size)}}class CR extends TR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class NR{constructor(e){this.persistence=e,this.si=new pa((i=>ep(i)),tp),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new lp,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new vl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class wE{constructor(e,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new xR,this.referenceDelegate=e(this),this.Pi=new NR(this),this.indexManager=new mR,this.remoteDocumentCache=(function(o){return new IR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new fR(i),this.Ii=new AR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new wR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new RR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){fe("MemoryPersistence","Starting transaction:",e);const o=new DR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class DR extends rx{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.Ri=new lp,this.Vi=null}static mi(e){return new op(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const o=Ae.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.pi=new pa((a=>ox(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=ER(this,i)}static mi(e,i){return new dh(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Ve.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}br(e,i,a){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class up{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ke(),o=Ke();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new up(e,i.fromCache,a,o)}}class OR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TS()?8:ax(_n())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OR;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(il()<=Qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",sl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(il()<=Qe.DEBUG&&fe("QueryEngine","Query:",sl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(il()<=Qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",sl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):J.resolve())}ys(e,i){if(Z_(i))return J.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=_m(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ke(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.Ds(i,y);return this.Cs(i,_,d,g.readTime)?this.ys(e,_m(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,a,o){return Z_(i)||o.isEqual(Ve.min())?J.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?J.resolve(null):(il()<=Qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sl(i)),this.vs(e,d,i,tx(o,qo)).next((y=>y)))}))}Ds(e,i){let a=new Zt(tE(e));return i.forEach(((o,c)=>{Ih(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return il()<=Qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",sl(i)),this.ps.getDocumentsMatchingQuery(e,i,Sr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const cp="LocalStore",VR=3e8;class kR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Ct(Ye),this.xs=new pa((c=>ep(c)),tp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function UR(s,e,i,a){return new kR(s,e,i,a)}async function xE(s,e){const i=Ue(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Ke();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of c){y.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function LR(s,e){const i=Ue(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,E){const w=_.batch,M=w.keys();let G=J.resolve();return M.forEach((ie=>{G=G.next((()=>E.getEntry(g,ie))).next((le=>{const ne=_.docVersions.get(ie);ot(ne!==null,48541),le.version.compareTo(ne)<0&&(w.applyToRemoteDocument(le,_),le.isValidDocument()&&(le.setReadTime(_.commitVersion),E.addEntry(le)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(g,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Ke();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function RE(s){const e=Ue(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function jR(s,e){const i=Ue(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((E,w)=>{const M=o.get(w);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(dn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,a)),o=o.insert(w,G),(function(le,ne,be){return le.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-le.snapshotVersion.toMicroseconds()>=VR?!0:be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0})(M,G,E)&&y.push(i.Pi.updateTargetData(c,G))}));let g=Is(),_=Ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),y.push(PR(c,d,e.documentUpdates).next((E=>{g=E.ks,_=E.qs}))),!a.isEqual(Ve.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(E)}return J.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function PR(s,e,i){let a=Ke(),o=Ke();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Is();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),g.isNoDocument()&&g.version.isEqual(Ve.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):fe(cp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function zR(s,e){const i=Ue(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function BR(s,e){const i=Ue(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new gr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Sm(s,e,i){const a=Ue(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xl(d))throw d;fe(cp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function hv(s,e,i){const a=Ue(s);let o=Ve.min(),c=Ke();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,E){const w=Ue(g),M=w.xs.get(E);return M!==void 0?J.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,E)})(a,d,Gi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Ve.min(),i?c:Ke()))).next((y=>(HR(a,Ix(e),y),{documents:y,Qs:c})))))}function HR(s,e,i){let a=s.Os.get(e)||Ve.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class fv{constructor(){this.activeTargetIds=Vx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qR{constructor(){this.Mo=new fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GR{Oo(e){}shutdown(){}}const dv="ConnectivityMonitor";class mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(dv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(dv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Am(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Zd="RestConnection",FR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Am(),y=this.zo(e,i.toUriEncodedString());fe(Zd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:_}=new URL(y),E=Tl(_);return this.Jo(e,y,g,a,E).then((w=>(fe(Zd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw ml(Zd,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=FR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class YR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class KR extends QR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Am();return new Promise(((y,g)=>{const _=new N1;_.setWithCredentials(!0),_.listenOnce(D1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const w=_.getResponseJson();fe(pn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Fc.TIMEOUT:fe(pn,`RPC '${e}' ${d} timed out`),g(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const M=_.getStatus();if(fe(pn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const ie=G?.error;if(ie&&ie.status&&ie.message){const le=(function(be){const De=be.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(De)>=0?De:ee.UNKNOWN})(ie.status);g(new ge(le,ie.message))}else g(new ge(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{fe(pn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);fe(pn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=V1(),y=M1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const E=c.join("");fe(pn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=d.createWebChannel(E,g);this.I_(w);let M=!1,G=!1;const ie=new YR({Yo:ne=>{G?fe(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,ne):(M||(fe(pn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),fe(pn,`RPC '${e}' stream ${o} sending:`,ne),w.send(ne))},Zo:()=>w.close()}),le=(ne,be,De)=>{ne.listen(be,(Se=>{try{De(Se)}catch(et){setTimeout((()=>{throw et}),0)}}))};return le(w,Do.EventType.OPEN,(()=>{G||(fe(pn,`RPC '${e}' stream ${o} transport opened.`),ie.o_())})),le(w,Do.EventType.CLOSE,(()=>{G||(G=!0,fe(pn,`RPC '${e}' stream ${o} transport closed`),ie.a_(),this.E_(w))})),le(w,Do.EventType.ERROR,(ne=>{G||(G=!0,ml(pn,`RPC '${e}' stream ${o} transport errored. Name:`,ne.name,"Message:",ne.message),ie.a_(new ge(ee.UNAVAILABLE,"The operation could not be completed")))})),le(w,Do.EventType.MESSAGE,(ne=>{if(!G){const be=ne.data[0];ot(!!be,16349);const De=be,Se=De?.error||De[0]?.error;if(Se){fe(pn,`RPC '${e}' stream ${o} received error:`,Se);const et=Se.status;let mt=(function(A){const R=Qt[A];if(R!==void 0)return mE(R)})(et),Xe=Se.message;mt===void 0&&(mt=ee.INTERNAL,Xe="Unknown error status: "+et+" with message "+Se.message),G=!0,ie.a_(new ge(mt,Xe)),w.close()}else fe(pn,`RPC '${e}' stream ${o} received:`,be),ie.u_(be)}})),le(y,O1.STAT_EVENT,(ne=>{ne.stat===fm.PROXY?fe(pn,`RPC '${e}' stream ${o} detected buffering proxy`):ne.stat===fm.NOPROXY&&fe(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ie.__()}),0),ie}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Wd(){return typeof document<"u"?document:null}function Oh(s){return new Zx(s,!0)}class IE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pv="PersistentStream";class CE{constructor(e,i,a,o,c,d,y,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(Rs(i.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ge(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(pv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(fe(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XR extends CE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=tR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ve.min():d.readTime?Fi(d.readTime):Ve.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=ym(g)?{documents:sR(c,g)}:{query:rR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=yE(c,d.resumeToken);const _=vm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ve.min())>0){y.readTime=fh(c,d.snapshotVersion.toTimestamp());const _=vm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=lR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.q_(i)}}class $R extends CE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=iR(e.writeResults,e.commitTime),a=Fi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=bm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>nR(this.serializer,a)))};this.q_(i)}}class JR{}class ZR extends JR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Em(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ee.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Em(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(i),this.aa=!1):fe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class eI{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(fe(da,"Restarting streams for network reachability change."),await(async function(g){const _=Ue(g);_.Ea.add(4),await lu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Mh(_)})(this))}))})),this.Ra=new WR(a,o)}}async function Mh(s){if(ga(s))for(const e of s.da)await e(!0)}async function lu(s){for(const e of s.da)await e(!1)}function NE(s,e){const i=Ue(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),mp(i)?dp(i):Rl(i).O_()&&fp(i,e))}function hp(s,e){const i=Ue(s),a=Rl(i);i.Ia.delete(e),a.O_()&&DE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function fp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rl(s).Y_(e)}function DE(s,e){s.Va.Ue(e),Rl(s).Z_(e)}function dp(s){s.Va=new Kx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Rl(s).start(),s.Ra.ua()}function mp(s){return ga(s)&&!Rl(s).x_()&&s.Ia.size>0}function ga(s){return Ue(s).Ea.size===0}function OE(s){s.Va=void 0}async function tI(s){s.Ra.set("Online")}async function nI(s){s.Ia.forEach(((e,i)=>{fp(s,e)}))}async function iI(s,e){OE(s),mp(s)?(s.Ra.ha(e),dp(s)):s.Ra.set("Unknown")}async function sI(s,e,i){if(s.Ra.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(a){fe(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mh(s,a)}else if(e instanceof Xc?s.Va.Ze(e):e instanceof pE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ve.min()))try{const a=await RE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(dn.EMPTY_BYTE_STRING,E.snapshotVersion)),DE(c,g);const w=new gr(E.target,g,_,E.sequenceNumber);fp(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){fe(da,"Failed to raise snapshot:",a),await mh(s,a)}}async function mh(s,e,i){if(!xl(e))throw e;s.Ea.add(1),await lu(s),s.Ra.set("Offline"),i||(i=()=>RE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Mh(s)}))}function ME(s,e){return e().catch((i=>mh(s,i,e)))}async function Vh(s){const e=Ue(s),i=Rr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;rI(e);)try{const o=await zR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,aI(e,o)}catch(o){await mh(e,o)}VE(e)&&kE(e)}function rI(s){return ga(s)&&s.Ta.length<10}function aI(s,e){s.Ta.push(e);const i=Rr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function VE(s){return ga(s)&&!Rr(s).x_()&&s.Ta.length>0}function kE(s){Rr(s).start()}async function lI(s){Rr(s).ra()}async function oI(s){const e=Rr(s);for(const i of s.Ta)e.ea(i.mutations)}async function uI(s,e,i){const a=s.Ta.shift(),o=sp.from(a,e,i);await ME(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Vh(s)}async function cI(s,e){e&&Rr(s).X_&&await(async function(a,o){if((function(d){return Fx(d)&&d!==ee.ABORTED})(o.code)){const c=a.Ta.shift();Rr(a).B_(),await ME(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Vh(a)}})(s,e),VE(s)&&kE(s)}async function gv(s,e){const i=Ue(s);i.asyncQueue.verifyOperationInProgress(),fe(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await lu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mh(i)}async function hI(s,e){const i=Ue(s);e?(i.Ea.delete(2),await Mh(i)):e||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function Rl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ue(i);return c.sa(),new XR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:tI.bind(null,s),t_:nI.bind(null,s),r_:iI.bind(null,s),H_:sI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),mp(s)?dp(s):s.Ra.set("Unknown")):(await s.ma.stop(),OE(s))}))),s.ma}function Rr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ue(i);return c.sa(),new $R(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:lI.bind(null,s),r_:cI.bind(null,s),ta:oI.bind(null,s),na:uI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Vh(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new pp(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(s,e){if(Rs("AsyncQueue",`${e}: ${s}`),xl(s))return new ge(ee.UNAVAILABLE,`${e}: ${s}`);throw s}class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Ae.comparator(i.key,a.key):(i,a)=>Ae.comparator(i.key,a.key),this.keyedMap=Oo(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new hl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class yv{constructor(){this.ga=new Ct(Ae.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class El{constructor(e,i,a,o,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new El(e,i,hl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class fI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dI{constructor(){this.queries=_v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ue(i),c=o.queries;o.queries=_v(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(a)}))})(this,new ge(ee.ABORTED,"Firestore shutting down"))}}function _v(){return new pa((s=>eE(s)),Rh)}async function UE(s,e){const i=Ue(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new fI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=gp(d,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&yp(i)}async function LE(s,e){const i=Ue(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function mI(s,e){const i=Ue(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&yp(i)}function pI(s,e,i){const a=Ue(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function yp(s){s.Ca.forEach((e=>{e.next()}))}var wm,vv;(vv=wm||(wm={})).Ma="default",vv.Cache="cache";class jE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new El(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class PE{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class gI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=tE(e),this.tu=new hl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new yv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const M=o.get(E),G=Ih(this.query,w)?w:null,ie=!!M&&this.mutatedKeys.has(M.key),le=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ne=!1;M&&G?M.data.isEqual(G.data)?ie!==le&&(a.track({type:3,doc:G}),ne=!0):this.su(M,G)||(a.track({type:2,doc:G}),ne=!0,(g&&this.eu(G,g)>0||_&&this.eu(G,_)<0)&&(y=!0)):!M&&G?(a.track({type:0,doc:G}),ne=!0):M&&!G&&(a.track({type:1,doc:M}),ne=!0,(g||_)&&(y=!0)),ne&&(G?(d=d.add(G),c=le?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,w)=>(function(G,ie){const le=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:ne})}};return le(G)-le(ie)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new El(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new zE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new PE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _p="SyncEngine";class yI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class _I{constructor(e){this.key=e,this.hu=!1}}class vI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((y=>eE(y)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(Ae.comparator),this.Au=new Map,this.Ru=new lp,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EI(s,e,i=!0){const a=QE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await BE(a,e,i,!0),o}async function TI(s,e){const i=QE(s);await BE(i,e,!0,!1)}async function BE(s,e,i,a){const o=await BR(s.localStore,Gi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await bI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&NE(s.remoteStore,o),y}async function bI(s,e,i,a,o){s.pu=(w,M,G)=>(async function(le,ne,be,De){let Se=ne.view.ru(be);Se.Cs&&(Se=await hv(le.localStore,ne.query,!1).then((({documents:C})=>ne.view.ru(C,Se))));const et=De&&De.targetChanges.get(ne.targetId),mt=De&&De.targetMismatches.get(ne.targetId)!=null,Xe=ne.view.applyChanges(Se,le.isPrimaryClient,et,mt);return Tv(le,ne.targetId,Xe.au),Xe.snapshot})(s,w,M,G);const c=await hv(s.localStore,e,!0),d=new gI(e,c.Qs),y=d.ru(c.documents),g=au.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,g);Tv(s,i,_.au);const E=new yI(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function SI(s,e,i){const a=Ue(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Rh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&hp(a.remoteStore,o.targetId),xm(a,o.targetId)})).catch(wl)):(xm(a,o.targetId),await Sm(a.localStore,o.targetId,!0))}async function AI(s,e){const i=Ue(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),hp(i.remoteStore,a.targetId))}async function wI(s,e,i){const a=OI(s);try{const o=await(function(d,y){const g=Ue(d),_=At.now(),E=y.reduce(((G,ie)=>G.add(ie.key)),Ke());let w,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ie=Is(),le=Ke();return g.Ns.getEntries(G,E).next((ne=>{ie=ne,ie.forEach(((be,De)=>{De.isValidDocument()||(le=le.add(be))}))})).next((()=>g.localDocuments.getOverlayedDocuments(G,ie))).next((ne=>{w=ne;const be=[];for(const De of y){const Se=zx(De,w.get(De.key).overlayedDocument);Se!=null&&be.push(new Nr(De.key,Se,Y1(Se.value.mapValue),Ei.exists(!0)))}return g.mutationQueue.addMutationBatch(G,_,be,y)})).next((ne=>{M=ne;const be=ne.applyToLocalDocumentSet(w,le);return g.documentOverlayCache.saveOverlays(G,ne.batchId,be)}))})).then((()=>({batchId:M.batchId,changes:iE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ct(Ye)),_=_.insert(y,g),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await ou(a,o.changes),await Vh(a.remoteStore)}catch(o){const c=gp(o,"Failed to persist write");i.reject(c)}}async function HE(s,e){const i=Ue(s);try{const a=await jR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ot(d.hu,14607):o.removedDocuments.size>0&&(ot(d.hu,42227),d.hu=!1))})),await ou(i,a,e)}catch(a){await wl(a)}}function Ev(s,e,i){const a=Ue(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const g=Ue(d);g.onlineState=y;let _=!1;g.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(y)&&(_=!0)})),_&&yp(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function xI(s,e,i){const a=Ue(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new Ct(Ae.comparator);d=d.insert(c,yn.newNoDocument(c,Ve.min()));const y=Ke().add(c),g=new Dh(Ve.min(),new Map,new Ct(Ye),d,y);await HE(a,g),a.du=a.du.remove(c),a.Au.delete(e),vp(a)}else await Sm(a.localStore,e,!1).then((()=>xm(a,e,i))).catch(wl)}async function RI(s,e){const i=Ue(s),a=e.batch.batchId;try{const o=await LR(i.localStore,e);GE(i,a,null),qE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ou(i,o)}catch(o){await wl(o)}}async function II(s,e,i){const a=Ue(s);try{const o=await(function(d,y){const g=Ue(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return g.mutationQueue.lookupMutationBatch(_,y).next((w=>(ot(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(_,w)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>g.localDocuments.getDocuments(_,E)))}))})(a.localStore,e);GE(a,e,i),qE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ou(a,o)}catch(o){await wl(o)}}function qE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function GE(s,e,i){const a=Ue(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function xm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||FE(s,a)}))}function FE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(hp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),vp(s))}function Tv(s,e,i){for(const a of i)a instanceof PE?(s.Ru.addReference(a.key,e),CI(s,a)):a instanceof zE?(fe(_p,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||FE(s,a.key)):Ie(19791,{wu:a})}function CI(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(fe(_p,"New document in limbo: "+i),s.Eu.add(a),vp(s))}function vp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Ae(It.fromString(e)),a=s.fu.next();s.Au.set(a,new _I(i)),s.du=s.du.insert(i,a),NE(s.remoteStore,new gr(Gi(xh(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function ou(s,e,i){const a=Ue(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(_){o.push(_);const E=up.As(g.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(g,_){const E=Ue(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(M=>J.forEach(M.Es,(G=>E.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>J.forEach(M.ds,(G=>E.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!xl(w))throw w;fe(cp,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const G=E.Ms.get(M),ie=G.snapshotVersion,le=G.withLastLimboFreeSnapshotVersion(ie);E.Ms=E.Ms.insert(M,le)}}})(a.localStore,c))}async function NI(s,e){const i=Ue(s);if(!i.currentUser.isEqual(e)){fe(_p,"User change. New user:",e.toKey());const a=await xE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ge(ee.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ou(i,a.Ls)}}function DI(s,e){const i=Ue(s),a=i.Au.get(e);if(a&&a.hu)return Ke().add(a.key);{let o=Ke();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function QE(s){const e=Ue(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=HE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xI.bind(null,e),e.Pu.H_=mI.bind(null,e.eventManager),e.Pu.yu=pI.bind(null,e.eventManager),e}function OI(s){const e=Ue(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=II.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return UR(this.persistence,new MR,e.initialUser,this.serializer)}Cu(e){return new wE(op.mi,this.serializer)}Du(e){return new qR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class MI extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ot(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new _R(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new wE((a=>dh.mi(a,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ev(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=NI.bind(null,this.syncEngine),await hI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dI})()}createDatastore(e){const i=Oh(e.databaseInfo.databaseId),a=(function(c){return new KR(c)})(e.databaseInfo);return(function(c,d,y,g){return new ZR(c,d,y,g)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new eI(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>Ev(this.syncEngine,i,0)),(function(){return mv.v()?new mv:new GR})())}createSyncEngine(e,i){return(function(o,c,d,y,g,_,E){const w=new vI(o,c,d,y,g,_);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ue(i);fe(da,"RemoteStore shutting down."),a.Ea.add(5),await lu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class YE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ir="FirestoreClient";class VI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{fe(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(fe(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=gp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function em(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Ir,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await xE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function bv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await kI(s);fe(Ir,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>gv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>gv(e.remoteStore,o))),s._onlineComponents=e}async function kI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Ir,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ml("Error using user provided cache. Falling back to memory cache: "+i),await em(s,new ph)}}else fe(Ir,"Using default OfflineComponentProvider"),await em(s,new MI(void 0));return s._offlineComponents}async function KE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Ir,"Using user provided OnlineComponentProvider"),await bv(s,s._uninitializedComponentsProvider._online)):(fe(Ir,"Using default OnlineComponentProvider"),await bv(s,new Rm))),s._onlineComponents}function UI(s){return KE(s).then((e=>e.syncEngine))}async function Im(s){const e=await KE(s),i=e.eventManager;return i.onListen=EI.bind(null,e.syncEngine),i.onUnlisten=SI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=AI.bind(null,e.syncEngine),i}function LI(s,e,i={}){const a=new Tr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const E=new YE({next:M=>{E.Nu(),d.enqueueAndForget((()=>LE(c,w)));const G=M.docs.has(y);!G&&M.fromCache?_.reject(new ge(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&g&&g.source==="server"?_.reject(new ge(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new jE(xh(y.path),E,{includeMetadataChanges:!0,qa:!0});return UE(c,w)})(await Im(s),s.asyncQueue,e,i,a))),a.promise}function XE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Sv=new Map;const $E="firestore.googleapis.com",Av=!0;class wv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$E,this.ssl=Av}else this.host=e.host,this.ssl=e.ssl??Av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gR)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ex("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ep{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new q2;switch(a.type){case"firstParty":return new Y2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Sv.get(i);a&&(fe("ComponentProvider","Removing Datastore"),Sv.delete(i),a.terminate())})(this),Promise.resolve()}}function jI(s,e,i,a={}){s=vi(s,Ep);const o=Tl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(Gv(`https://${y}`),Fv("Firestore",!0)),c.host!==$E&&c.host!==y&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:o,emulatorOptions:a};if(!br(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=gn.MOCK_USER;else{_=fS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new gn(w)}s._authCredentials=new G2(new U1(_,E))}}class kh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(su(i,Kt._jsonSchema))return new Kt(e,a||null,new Ae(It.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Yt("string",Kt._jsonSchemaVersion),referencePath:Yt("string")};class Xo extends kh{constructor(e,i,a){super(e,i,xh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Ae(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function Gt(s,e,...i){if(s=Tn(s),arguments.length===1&&(e=Xm.newId()),W2("doc","path",e),s instanceof Ep){const a=It.fromString(e,...i);return P_(a),new Kt(s,null,new Ae(a))}{if(!(s instanceof Kt||s instanceof Xo))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(It.fromString(e,...i));return P_(a),new Kt(s.firestore,s instanceof Xo?s.converter:null,new Ae(a))}}const xv="AsyncQueue";class Rv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IE(this,"async_queue_retry"),this._c=()=>{const a=Wd();a&&fe(xv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;fe(xv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",Iv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=pp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:Iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Iv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Cv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ma extends Ep{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Rv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rv(e),this._firestoreClient=void 0,await e}}}function PI(s,e){const i=typeof s=="object"?s:Xv(),a=typeof s=="string"?s:lh,o=Pm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=cS("firestore");c&&jI(o,...c)}return o}function Tp(s){if(s._terminated)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||zI(s),s._firestoreClient}function zI(s){const e=s._freezeSettings(),i=(function(o,c,d,y){return new hx(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,XE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new VI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(dn.fromBase64String(e))}catch(i){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ii(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Yt("string",ii._jsonSchemaVersion),bytes:Yt("string")};class Uh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uu{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(su(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Yt("string",Qi._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class Yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yi(e.vectorValues);throw new ge(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Yt("string",Yi._jsonSchemaVersion),vectorValues:Yt("object")};const BI=/^__.*__$/;class HI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ru(e,this.data,i,this.fieldTransforms)}}class JE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function ZE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:s})}}class Lh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZE(this.Ac)&&BI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Oh(e)}Cc(e,i,a,o=!1){return new Lh({Ac:e,methodName:i,Dc:a,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WE(s){const e=s._freezeSettings(),i=Oh(s._databaseId);return new qI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function GI(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Ap("Data must be an object, but it was:",d,a);const y=eT(a,d);let g,_;if(c.merge)g=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=Cm(e,w,i);if(!d.contains(M))throw new ge(ee.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);nT(E,M)||E.push(M)}g=new qn(E),_=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,_=d.fieldTransforms;return new HI(new On(y),g,_)}class jh extends uu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function FI(s,e,i){return new Lh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bp extends uu{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=FI(this,e,!0),a=this.vc.map((c=>cu(c,i))),o=new _l(a);return new hE(e.path,o)}isEqual(e){return e instanceof bp&&br(this.vc,e.vc)}}class Sp extends uu{constructor(e,i){super(e),this.Fc=i}_toFieldTransform(e){const i=new Ko(e.serializer,aE(e.serializer,this.Fc));return new hE(e.path,i)}isEqual(e){return e instanceof Sp&&this.Fc===e.Fc}}function QI(s,e,i,a){const o=s.Cc(1,e,i);Ap("Data must be an object, but it was:",o,a);const c=[],d=On.empty();Cr(a,((g,_)=>{const E=wp(e,g,i);_=Tn(_);const w=o.yc(E);if(_ instanceof jh)c.push(E);else{const M=cu(_,w);M!=null&&(c.push(E),d.set(E,M))}}));const y=new qn(c);return new JE(d,y,o.fieldTransforms)}function YI(s,e,i,a,o,c){const d=s.Cc(1,e,i),y=[Cm(e,a,i)],g=[o];if(c.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Cm(e,c[M])),g.push(c[M+1]);const _=[],E=On.empty();for(let M=y.length-1;M>=0;--M)if(!nT(_,y[M])){const G=y[M];let ie=g[M];ie=Tn(ie);const le=d.yc(G);if(ie instanceof jh)_.push(G);else{const ne=cu(ie,le);ne!=null&&(_.push(G),E.set(G,ne))}}const w=new qn(_);return new JE(E,w,d.fieldTransforms)}function cu(s,e){if(tT(s=Tn(s)))return Ap("Unsupported field value:",e,s),eT(s,e);if(s instanceof uu)return(function(a,o){if(!ZE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let g=cu(y,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return aE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=At.fromDate(a);return{timestampValue:fh(o.serializer,c)}}if(a instanceof At){const c=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ii)return{bytesValue:yE(o.serializer,a._byteString)};if(a instanceof Kt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ap(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,y){return{mapValue:{fields:{[F1]:{stringValue:Q1},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return np(y.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${$m(a)}`)})(s,e)}function eT(s,e){const i={};return P1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(s,((a,o)=>{const c=cu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function tT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof At||s instanceof Qi||s instanceof ii||s instanceof Kt||s instanceof uu||s instanceof Yi)}function Ap(s,e,i){if(!tT(i)||!L1(i)){const a=$m(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Cm(s,e,i){if((e=Tn(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return wp(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const KI=new RegExp("[~\\*/\\[\\]]");function wp(s,e,i){if(e.search(KI)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Uh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new ge(ee.INVALID_ARGUMENT,y+s+g)}function nT(s,e){return s.some((i=>i.isEqual(e)))}class iT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(sT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XI extends iT{data(){return super.data()}}function sT(s,e){return typeof e=="string"?wp(s,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function $I(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ge(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JI{convertValue(e,i="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Cr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[oh].arrayValue?.values?.map((a=>Ut(a.doubleValue)));return new Yi(i)}convertGeoPoint(e){return new Qi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ah(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new At(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=It.fromString(e);ot(SE(a),9688,{name:e});const o=new Fo(a.get(1),a.get(3)),c=new Ae(a.popFirst(5));return o.isEqual(i)||Rs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function ZI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends iT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(sT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Yt("string",ua._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class $c extends ua{data(e={}){return super.data(e)}}class fl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const g=new $c(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new $c(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),E=d.indexOf(y.doc.key)),{type:WI(y.type),doc:g,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:s})}}function eC(s){s=vi(s,Kt);const e=vi(s.firestore,ma);return LI(Tp(e),s._key).then((i=>aT(e,s,i)))}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Yt("string",fl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class rT extends JI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function tC(s,e,i){s=vi(s,Kt);const a=vi(s.firestore,ma),o=ZI(s.converter,e);return xp(a,[GI(WE(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ei.none())])}function cn(s,e,i,...a){s=vi(s,Kt);const o=vi(s.firestore,ma),c=WE(o);let d;return d=typeof(e=Tn(e))=="string"||e instanceof Uh?YI(c,"updateDoc",s._key,e,i,a):QI(c,"updateDoc",s._key,e),xp(o,[d.toMutation(s._key,Ei.exists(!0))])}function nC(s){return xp(vi(s.firestore,ma),[new ip(s._key,Ei.none())])}function Nv(s,...e){s=Tn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Cv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Cv(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,y;if(s instanceof Kt)d=vi(s.firestore,ma),y=xh(s._key.path),c={next:g=>{e[a]&&e[a](aT(d,s,g))},error:e[a+1],complete:e[a+2]};else{const g=vi(s,kh);d=vi(g.firestore,ma),y=g._query;const _=new rT(d);c={next:E=>{e[a]&&e[a](new fl(d,_,g,E))},error:e[a+1],complete:e[a+2]},$I(s._query)}return(function(_,E,w,M){const G=new YE(M),ie=new jE(E,G,w);return _.asyncQueue.enqueueAndForget((async()=>UE(await Im(_),ie))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>LE(await Im(_),ie)))}})(Tp(d),y,o,c)}function xp(s,e){return(function(a,o){const c=new Tr;return a.asyncQueue.enqueueAndForget((async()=>wI(await UI(a),o,c))),c.promise})(Tp(s),e)}function aT(s,e,i){const a=i.docs.get(e._key),o=new rT(s);return new ua(s,o,e._key,a,new Vo(i.hasPendingWrites,i.fromCache),e.converter)}function ys(...s){return new bp("arrayUnion",s)}function _s(s){return new Sp("increment",s)}(function(e,i=!0){(function(o){Al=o})(bl),dl(new ca("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ma(new F2(a.getProvider("auth-internal")),new K2(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),vr(k_,U_,e),vr(k_,U_,"esm2020")})();const iC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Dv=s=>{const e=sC(s);return e.charAt(0).toUpperCase()+e.slice(1)},lT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),rC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var aC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lC=We.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},g)=>We.createElement("svg",{ref:g,...aC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:lT("lucide",o),...!c&&!rC(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,E])=>We.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Je=(s,e)=>{const i=We.forwardRef(({className:a,...o},c)=>We.createElement(lC,{ref:c,iconNode:e,className:lT(`lucide-${iC(Dv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Dv(s),i};const oC=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],uC=Je("arrow-left-right",oC);const cC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hC=Je("arrow-right",cC);const fC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],zc=Je("award",fC);const dC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Nm=Je("book-open",dC);const mC=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],oT=Je("bug",mC);const pC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jc=Je("circle-check-big",pC);const gC=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ov=Je("circle-play",gC);const yC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mv=Je("circle-question-mark",yC);const _C=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],vC=Je("code",_C);const EC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Dm=Je("cpu",EC);const TC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Om=Je("crown",TC);const bC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Rp=Je("database",bC);const SC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],AC=Je("ghost",SC);const wC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],xC=Je("hammer",wC);const RC=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],IC=Je("hard-drive",RC);const CC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],NC=Je("history",CC);const DC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],OC=Je("house",DC);const MC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yh=Je("lock",MC);const VC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tm=Je("log-out",VC);const kC=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],UC=Je("radio",kC);const LC=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],jC=Je("scan-eye",LC);const PC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uT=Je("search",PC);const zC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],BC=Je("server",zC);const HC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ip=Je("shield",HC);const qC=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],GC=Je("skip-forward",qC);const FC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],cT=Je("skull",FC);const QC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Vv=Je("sparkles",QC);const YC=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],hT=Je("syringe",YC);const KC=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],fT=Je("terminal",KC);const XC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mm=Je("trash-2",XC);const $C=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_h=Je("triangle-alert",$C);const JC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dT=Je("user",JC);const ZC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Vm=Je("wifi",ZC);const WC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$o=Je("x",WC);const eN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],km=Je("zap",eN),tN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:9afd57573258c43a6aa637"},mT=Kv(tN),nm=B2(mT),Ft=PI(mT),$t=typeof __app_id<"u"?__app_id:"masquerade-protocol",nN="17",Nn={FIREWALL:{id:"FIREWALL",name:"Firewall",icon:Ip,color:"text-orange-500",bg:"bg-orange-950/50",border:"border-orange-600",passive:"Higher Tolerance: You are eliminated at 4 Viruses instead of 3.",glitch:"Purge: Discard all VIRUS cards in your hand and draw that many new cards."},SEARCH_ENGINE:{id:"SEARCH_ENGINE",name:"Search Engine",icon:uT,color:"text-blue-400",bg:"bg-blue-950/50",border:"border-blue-600",passive:"Scan: Peek at 1 random card from a player's hand once per turn.",glitch:"Index & Extract: Look at target's hand and steal 1 card of your choice."},MINER:{id:"MINER",name:"Data Miner",icon:IC,color:"text-emerald-400",bg:"bg-emerald-950/50",border:"border-emerald-600",passive:"Draw 2 cards instead of 1 at start of turn.",glitch:"Jackpot: Draw 3 cards immediately."},GHOST:{id:"GHOST",name:"Ghost Process",icon:AC,color:"text-purple-400",bg:"bg-purple-950/50",border:"border-purple-600",passive:"Cannot be targeted by Glitch effects.",glitch:"Haunt: Swap your entire hand with target player."},ADMIN:{id:"ADMIN",name:"Sys Admin",icon:fT,color:"text-red-500",bg:"bg-red-950/50",border:"border-red-600",passive:"Hand Limit increased by 2.",glitch:"Sudo: Force target player to discard 2 random cards."}},vs={COLLECTOR:{id:"COLLECTOR",name:"The Collector",desc:"Win if you have 5 INTEL cards in hand.",icon:Rp,color:"text-cyan-400"},SABOTEUR:{id:"SABOTEUR",name:"The Saboteur",desc:"Win if you hold at least 1 of each card type: INTEL, VIRUS, PING, PATCH.",icon:oT,color:"text-lime-400"},ANARCHIST:{id:"ANARCHIST",name:"The Anarchist",desc:"Win if at least 2 other living players are CRITICAL (holding 2+ VIRUS cards).",icon:_h,color:"text-yellow-400"},SURVIVOR:{id:"SURVIVOR",name:"The Survivor",desc:"Win if you survive 1 System Crash (Global), or be the last player standing.",icon:Ip,color:"text-orange-400"},CORRUPTOR:{id:"CORRUPTOR",name:"The Corruptor",desc:"Win if you hold 4 VIRUS cards. (Overrides Elimination).",icon:cT,color:"text-fuchsia-400"},HACKER:{id:"HACKER",name:"The Hacker",desc:"Win if you use the PING card 3 times.",icon:UC,color:"text-indigo-400"},ANTIVIRUS:{id:"ANTIVIRUS",name:"Antivirus",desc:"Win if you successfully use a PATCH to remove a VIRUS 2 times.",icon:hT,color:"text-teal-400"}},iN={name:"Encrypted Signal",desc:"This player's objective is hidden. It will be revealed if they activate their Glitch.",icon:yh,color:"text-slate-500"},Cp={INTEL:{id:"INTEL",name:"Intel Packet",type:"RESOURCE",desc:"Collect these. Trade to swap data.",icon:vC,color:"text-cyan-300"},VIRUS:{id:"VIRUS",name:"Corrupt File",type:"HAZARD",desc:"3 Viruses = Crash. Trade to pass the bomb.",icon:oT,color:"text-lime-400"},PING:{id:"PING",name:"Ping",type:"ACTION",desc:"Target player reveals 1 random card.",icon:Vm,color:"text-yellow-400"},PATCH:{id:"PATCH",name:"Patch",type:"ACTION",desc:"Discard this to remove 1 Virus from your hand.",icon:Jc,color:"text-blue-400"}},kv=[...Array(18).fill("INTEL"),...Array(10).fill("VIRUS"),...Array(6).fill("PING"),...Array(6).fill("PATCH")],yi=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},im=()=>T.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),T.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"})]}),Uv=()=>T.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none",children:[T.jsx(Dm,{size:16,className:"text-cyan-500 animate-pulse"}),T.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase font-mono shadow-cyan-500/50 drop-shadow-md",children:"MASQUERADE PROTOCOL"})]}),sN=({players:s,onSelect:e,onSkip:i})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-[190] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:T.jsxs("div",{className:"bg-slate-900 border-2 border-blue-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(59,130,246,0.3)] text-center relative",children:[T.jsxs("h3",{className:"text-xl font-black text-blue-400 mb-4 uppercase tracking-widest flex items-center justify-center gap-2",children:[T.jsx(jC,{size:24})," Passive Scan"]}),T.jsx("p",{className:"text-slate-400 text-xs mb-6",children:"Search Engine Protocol: Select a target to reveal one random data packet from their hand."}),T.jsx("div",{className:"grid gap-2 mb-4",children:s.map(a=>T.jsxs("button",{onClick:()=>e(a.id),className:"w-full p-3 bg-slate-800 hover:bg-blue-900/30 border border-slate-700 hover:border-blue-500 rounded flex items-center justify-between group transition-all",children:[T.jsx("span",{className:"font-bold text-slate-200 group-hover:text-blue-300",children:a.name}),T.jsxs("div",{className:"text-[10px] bg-slate-950 px-2 py-1 rounded text-slate-500",children:[a.hand.length," Cards"]})]},a.id))}),T.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Skip Scan"})]})}),rN=({targetPlayer:s,onSelect:e,onCancel:i})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:T.jsxs("div",{className:"bg-slate-900 border-2 border-fuchsia-500 p-6 rounded-xl max-w-lg w-full shadow-[0_0_30px_rgba(217,70,239,0.3)] text-center relative",children:[T.jsxs("h3",{className:"text-xl font-black text-fuchsia-400 mb-2 uppercase tracking-widest flex items-center justify-center gap-2",children:[T.jsx(Rp,{size:24})," INDEX & EXTRACT"]}),T.jsxs("p",{className:"text-slate-300 text-sm mb-6",children:["Viewing ",T.jsx("strong",{children:s.name}),"'s database. ",T.jsx("br",{}),T.jsx("span",{className:"text-white font-bold",children:"Select 1 packet to download (steal)."})]}),T.jsx("div",{className:"flex justify-center flex-wrap gap-4 mb-6",children:s.hand.map((a,o)=>T.jsxs("div",{className:"hover:scale-110 transition-transform cursor-pointer relative group",onClick:()=>e(a,o),children:[T.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-fuchsia-600 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"STEAL THIS"}),T.jsx(Ph,{type:a})]},o))}),T.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Cancel Glitch"})]})}),aN=({hand:s,limit:e,onConfirm:i,onCancel:a})=>{const[o,c]=We.useState([]),d=s.length-e,y=g=>{o.includes(g)?c(_=>_.filter(E=>E!==g)):o.length<d&&c(_=>[..._,g])};return T.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:T.jsxs("div",{className:"bg-slate-900 border-2 border-red-500/50 p-6 rounded-xl max-w-lg w-full shadow-[0_0_30px_rgba(220,38,38,0.3)] text-center relative",children:[T.jsxs("h3",{className:"text-xl font-black text-red-400 mb-2 uppercase tracking-widest flex items-center justify-center gap-2",children:[T.jsx(_h,{size:24})," Memory Overflow"]}),T.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:["Hand limit exceeded (",s.length,"/",e,")."]}),T.jsxs("p",{className:"text-white font-bold text-lg mb-6",children:["Select ",T.jsx("span",{className:"text-red-400",children:d})," data packet(s) to purge."]}),T.jsx("div",{className:"flex justify-center flex-wrap gap-4 mb-8",children:s.map((g,_)=>{const E=o.includes(_);return T.jsxs("div",{onClick:()=>y(_),className:`transition-all duration-200 cursor-pointer ${E?"scale-90 opacity-50 grayscale ring-2 ring-red-500 rounded-lg":"hover:scale-105"}`,children:[T.jsx(Ph,{type:g,small:!0}),E&&T.jsx("div",{className:"mt-1 text-[10px] text-red-500 font-bold uppercase tracking-wider",children:"Purging"})]},_)})}),T.jsx("button",{onClick:()=>i(o),disabled:o.length!==d,className:`w-full py-3 rounded font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all ${o.length===d?"bg-red-600 hover:bg-red-500 text-white shadow-[0_0_15px_rgba(220,38,38,0.5)]":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:o.length===d?T.jsxs(T.Fragment,{children:[T.jsx(Mm,{size:18})," Confirm Purge & End Turn"]}):T.jsxs(T.Fragment,{children:["Select ",d-o.length," more"]})})]})})},lN=({item:s,onClose:e,onActivateGlitch:i,canGlitch:a})=>{if(!s)return null;const o=s.passive!==void 0;return T.jsx("div",{className:"fixed inset-0 bg-black/90 z-[170] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",onClick:e,children:T.jsxs("div",{className:"bg-slate-900 border border-cyan-500/50 p-6 rounded-xl max-w-sm w-full shadow-2xl relative",onClick:c=>c.stopPropagation(),children:[T.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:T.jsx($o,{})}),T.jsxs("div",{className:"flex flex-col items-center text-center",children:[T.jsx("div",{className:"p-4 rounded-full bg-slate-800 mb-4 border border-slate-600",children:la.createElement(s.icon,{size:48,className:s.color||"text-white"})}),T.jsx("h3",{className:"text-2xl font-bold text-white mb-1 uppercase tracking-widest",children:s.name}),T.jsx("div",{className:"text-xs text-slate-500 mb-6 uppercase tracking-wider",children:o?"Public Identity":"Hidden Agenda"}),T.jsx("div",{className:"space-y-4 w-full text-left bg-slate-950/50 p-4 rounded border border-slate-800",children:o?T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-cyan-400 font-bold block text-xs uppercase mb-1",children:"Passive Ability"}),T.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.passive})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Glitch (Ultimate)"}),T.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.glitch})]})]}):T.jsxs("div",{children:[T.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Win Condition"}),T.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.desc})]})}),i&&T.jsx("div",{className:"mt-6 w-full",children:a?T.jsxs("button",{onClick:i,className:"w-full py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded flex items-center justify-center gap-2 animate-pulse shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:[T.jsx(km,{size:18})," ACTIVATE GLITCH"]}):T.jsx("div",{className:"w-full py-3 bg-slate-800 text-slate-500 font-bold rounded flex items-center justify-center gap-2 cursor-not-allowed",children:"GLITCH UNAVAILABLE"})})]})]})})},oN=({data:s,onClose:e})=>s?T.jsx("div",{className:"fixed inset-0 bg-black/95 z-[180] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:T.jsxs("div",{className:"bg-slate-900 border-2 border-yellow-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(234,179,8,0.3)] text-center relative",children:[T.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:T.jsx($o,{})}),T.jsx("h3",{className:"text-xl font-black text-yellow-400 mb-2 uppercase tracking-widest",children:s.title}),T.jsx("p",{className:"text-slate-300 mb-6 font-bold",children:s.message}),s.cards&&s.cards.length>0&&T.jsx("div",{className:"flex justify-center gap-4 flex-wrap mb-6",children:s.cards.map((i,a)=>T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("div",{className:"mb-1 text-[10px] text-slate-500 uppercase tracking-wider",children:i.label}),T.jsx("div",{className:"scale-90 origin-top",children:T.jsx(Ph,{type:i.type})})]},a))}),T.jsx("button",{onClick:e,className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded uppercase tracking-wider",children:"Dismiss"})]})}):null,uN=({type:s,message:e,subtext:i,icon:a})=>T.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:T.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-xl relative overflow-hidden
      ${s==="glitch"?"bg-fuchsia-900/80 border-fuchsia-500 text-fuchsia-100":s==="success"?"bg-green-900/80 border-green-500 text-green-100":s==="failure"?"bg-red-900/80 border-red-500 text-red-100":"bg-cyan-900/80 border-cyan-500 text-cyan-100"}
    `,children:[s==="glitch"&&T.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,#fff_3px)]"}),a&&T.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border border-white/10",children:T.jsx(a,{size:64,className:"animate-pulse"})}),T.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-md mb-2 font-mono",children:e}),i&&T.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center font-mono",children:i})]})}),Ph=({type:s,onClick:e,disabled:i,highlight:a,small:o,tiny:c})=>{const d=Cp[s];if(!d)return T.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return T.jsx("div",{className:"w-5 h-7 rounded flex items-center justify-center bg-slate-800 border border-slate-600 shadow-sm",title:d.name,children:T.jsx(d.icon,{size:12,className:d.color})});const y=o?"w-16 h-24 p-1":"w-24 h-32 md:w-28 md:h-40 p-2";return T.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-lg border border-slate-600 bg-slate-900 shadow-lg transition-all flex flex-col items-center justify-between
        ${y}
        ${a?"ring-2 ring-cyan-400 scale-105 z-10":""}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 cursor-pointer hover:border-slate-400"}
      `,children:[T.jsx("div",{className:"w-full text-right",children:T.jsx("div",{className:`w-2 h-2 rounded-full ${d.color.replace("text","bg")} ml-auto`})}),T.jsx(d.icon,{size:o?20:32,className:d.color}),T.jsxs("div",{className:"text-center w-full",children:[T.jsx("div",{className:"text-[10px] md:text-xs font-bold text-white leading-none mb-1 font-mono",children:d.name}),!o&&T.jsx("div",{className:"text-[8px] text-slate-400 leading-tight",children:d.type})]})]})},Lv=({onClose:s})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col shadow-[0_0_50px_rgba(6,182,212,0.2)] overflow-hidden font-mono",children:[T.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[T.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 flex items-center gap-2 tracking-wider",children:[T.jsx(Nm,{className:"text-cyan-500"})," SYSTEM MANUAL"]}),T.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:T.jsx($o,{})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-slate-300",children:[T.jsxs("section",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[T.jsx(Om,{size:20,className:"text-yellow-400"})," Objective"]}),T.jsxs("p",{className:"mb-4",children:["You are a rogue AI. Collect"," ",T.jsx("strong",{className:"text-yellow-400",children:"Golden Chips"})," by winning rounds. The first player to collect"," ",T.jsx("strong",{className:"text-yellow-400",children:"3 Chips"})," becomes the Grand Champion."]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[T.jsx(dT,{size:20,className:"text-cyan-400"})," Public Avatars (Roles)"]}),T.jsx("p",{className:"text-xs text-slate-500 mb-4",children:'Every player is assigned a public role visible to everyone. These grant passive bonuses and powerful "Glitch" ultimates.'}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values(Nn).map(e=>T.jsxs("div",{className:`p-3 rounded border border-l-4 bg-slate-800/50 ${e.border} border-l-[${e.color.replace("text-","")}]`,children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[la.createElement(e.icon,{size:20,className:e.color}),T.jsx("strong",{className:`uppercase ${e.color}`,children:e.name})]}),T.jsxs("ul",{className:"text-xs space-y-1",children:[T.jsxs("li",{className:"flex gap-2",children:[T.jsx("span",{className:"text-cyan-500 font-bold min-w-[50px]",children:"PASSIVE:"}),T.jsx("span",{className:"text-slate-300",children:e.passive})]}),T.jsxs("li",{className:"flex gap-2",children:[T.jsx("span",{className:"text-fuchsia-500 font-bold min-w-[50px]",children:"GLITCH:"}),T.jsx("span",{className:"text-slate-300",children:e.glitch})]})]})]},e.id))})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[T.jsx(yh,{size:20,className:"text-fuchsia-400"})," Secret Directives"]}),T.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Your true win condition. Hidden from others until you activate your Glitch."}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.values(vs).map(e=>T.jsxs("div",{className:"p-3 rounded border border-l-4 border-l-fuchsia-500 border-slate-700 bg-slate-800/50 flex flex-col justify-between",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[la.createElement(e.icon,{size:16,className:e.color}),T.jsx("strong",{className:`text-sm uppercase ${e.color}`,children:e.name})]}),T.jsx("div",{className:"text-xs text-slate-300",children:e.desc})]},e.id))})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[T.jsx(Rp,{size:20,className:"text-green-400"})," Data Packets"]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:Object.values(Cp).map(e=>T.jsxs("div",{className:"bg-slate-950 p-3 rounded border border-slate-800 flex flex-col items-center text-center",children:[T.jsx(e.icon,{size:24,className:`mb-2 ${e.color}`}),T.jsx("div",{className:`font-bold text-sm mb-1 ${e.color}`,children:e.name}),T.jsx("div",{className:"text-[10px] bg-slate-900 px-2 py-0.5 rounded text-slate-400 mb-2 uppercase tracking-wider",children:e.type}),T.jsx("p",{className:"text-xs text-slate-400",children:e.desc})]},e.id))})]}),T.jsxs("section",{children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-3 border-b border-slate-700 pb-2",children:"Core Mechanics"}),T.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-400",children:[T.jsxs("li",{children:[T.jsx("strong",{className:"text-white",children:"Crash:"})," Holding 3 Viruses causes Immediate Elimination."]}),T.jsxs("li",{children:[T.jsx("strong",{className:"text-white",children:"Glitch:"})," A one-time ultimate ability. Activating it reveals your Secret Directive to everyone."]}),T.jsxs("li",{children:[T.jsx("strong",{className:"text-white",children:"Trade:"})," Select an INTEL or VIRUS card, then select a target. You give them your card, and blindly take one random card from their hand."]}),T.jsxs("li",{children:[T.jsx("strong",{className:"text-white",children:"Hand Limit:"})," 5 Cards (7 for Admin). You must discard or skip turn if full."]})]})]})]}),T.jsx("div",{className:"p-4 bg-slate-950 border-t border-slate-800",children:T.jsx("button",{onClick:s,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 py-3 rounded font-bold transition-all",children:"ACKNOWLEDGE"})})]})});function cN(){const[s,e]=We.useState(null),[i,a]=We.useState("menu"),[o,c]=We.useState(""),[d,y]=We.useState(""),[g,_]=We.useState(localStorage.getItem("masquerade_room_id")||""),[E,w]=We.useState(null),[M,G]=We.useState(""),[ie,le]=We.useState(!1),[ne,be]=We.useState(!1),[De,Se]=We.useState(!1),[et,mt]=We.useState(!1),[Xe,C]=We.useState(!1),[A,R]=We.useState(null),[V,N]=We.useState(null),[U,x]=We.useState(!1),[ut,vt]=We.useState(null),[F,ue]=We.useState([]),[ve,qe]=We.useState(!1),tt=We.useRef(0),[O,X]=We.useState(!1),[ce,he]=We.useState(!1),[we,Oe]=We.useState(null);We.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Rw(nm,__initial_auth_token):await bw(nm))();const Y=Nw(nm,e);return()=>Y()},[]);const Le=Z=>{ue(Y=>[...Y,Z])};We.useEffect(()=>{if(!g)return;const Z=Nv(Gt(Ft,"artifacts",$t,"public","data","rooms",g),Y=>{if(Y.exists()){const te=Y.data(),re=te.players.find(W=>W.id===s?.uid);if(s&&!re){_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),G("Disconnected from server.");return}w(te),te.status==="lobby"?a("lobby"):(te.status==="playing"||te.status==="finished")&&a("game");const oe=te.players.find(W=>W.id===s.uid),Re=te.players.findIndex(W=>W.id===s.uid);if(oe&&te.turnIndex===Re&&oe.avatar==="SEARCH_ENGINE"&&!oe.passiveUsed?qe(!0):qe(!1),te.lastEvent&&te.lastEvent.id>tt.current){const W=te.lastEvent;if(tt.current=W.id,s&&W.targetId===s.uid){let ae=null;W.type==="PING"?ae={title:"SYSTEM ALERT: PINGED",message:`${W.initiatorName} revealed your data:`,cards:[{type:W.payload.revealedCard,label:"Revealed"}]}:W.type==="TRADE"?ae={title:"DATA TRANSFER",message:`${W.initiatorName} traded with you.`,cards:[{type:W.payload.given,label:"You Received"},{type:W.payload.received,label:"You Gave"}]}:W.type==="GLITCH_ADMIN"?ae={title:"SYSTEM BREACH: SUDO",message:`${W.initiatorName} forced deletion of data.`,cards:W.payload.deleted.map(me=>({type:me,label:"Lost"}))}:W.type==="GLITCH_GHOST"?ae={title:"SYSTEM BREACH: HAUNT",message:`${W.initiatorName} swapped hands with you.`,cards:[]}:W.type==="GLITCH_SEARCH"?ae={title:"SECURITY ALERT",message:`${W.initiatorName} indexed (viewed) your entire hand.`,cards:[]}:W.type==="SYSTEM_DISCARD"&&(ae={title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:W.payload.discards.map(me=>({type:me,label:"Purged"}))}),ae&&W.payload&&W.payload.discards&&W.type!=="SYSTEM_DISCARD"&&(ae.message+=" (Memory Overflow Purge)",ae.cards.push(...W.payload.discards.map(me=>({type:me,label:"Purged"})))),ae&&Le(ae)}}}else a("menu"),_(""),localStorage.removeItem("masquerade_room_id"),G("Connection Terminated (Room Closed).")});return()=>Z()},[g,s]),We.useEffect(()=>{const Z=Nv(Gt(Ft,"game_hub_settings","config"),Y=>{Y.exists()&&Y.data()[nN]?.maintenance?be(!0):be(!1)});return()=>Z()},[]);const wt=(Z,Y,te,re)=>{N({type:Z,message:Y,subtext:te,icon:re}),setTimeout(()=>N(null),2500)},ct=(Z,Y,te)=>{let re=0;return Z.forEach(oe=>{if(oe.isEliminated||oe.directive==="CORRUPTOR")return;let Re=3;oe.avatar==="FIREWALL"&&(Re=4),oe.hand.filter(ae=>ae==="VIRUS").length>=Re&&(oe.isEliminated=!0,Y.push(...oe.hand),oe.hand=[],re++)}),re},$i=async()=>{if(!o)return G("Identify yourself.");le(!0);const Z=Math.random().toString(36).substring(2,7).toUpperCase(),Y={roomId:Z,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}],deck:[],discardPile:[],turnIndex:0,crashCount:0,roundCount:1,logs:[],winnerId:null};await tC(Gt(Ft,"artifacts",$t,"public","data","rooms",Z),Y),_(Z),localStorage.setItem("masquerade_room_id",Z),le(!1)},Ns=async()=>{if(!d||!o)return G("Input credentials.");le(!0);const Z=Gt(Ft,"artifacts",$t,"public","data","rooms",d),Y=await eC(Z);if(!Y.exists()){G("Server not found."),le(!1);return}const te=Y.data();if(te.status!=="lobby"){G("Session locked."),le(!1);return}if(te.players.length>=6){G("Server full."),le(!1);return}if(!te.players.find(oe=>oe.id===s.uid)){const oe=[...te.players,{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}];await cn(Z,{players:oe})}_(d),localStorage.setItem("masquerade_room_id",d),le(!1)},Ds=async Z=>{if(!g)return;const Y=Gt(Ft,"artifacts",$t,"public","data","rooms",g),te=E.players.filter(re=>re.id!==Z);await cn(Y,{players:te,logs:ys({text:"A player was removed from the session.",type:"danger",id:Date.now(),viewerId:"all"})})},Os=async()=>{if(E.hostId!==s.uid)return;const Z=yi(Object.keys(Nn)),Y=yi(Object.keys(vs));let te=yi([...kv]);const re=E.players.map((oe,Re)=>{let W=[],ae=!1;for(;!ae;)W=[te.pop(),te.pop(),te.pop()],W.filter(Ne=>Ne==="VIRUS").length<2?ae=!0:(te.push(...W),te=yi(te),W=[]);return{...oe,avatar:Z[Re%Z.length],directive:Y[Re%Y.length],hand:W,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0}});await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),{status:"playing",players:re,deck:te,discardPile:[],turnIndex:0,crashCount:0,logs:[{text:`Round ${E.roundCount||1} Initialized. Safety protocols active.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Mn=async()=>{if(!g)return;const Z=Gt(Ft,"artifacts",$t,"public","data","rooms",g);if(E.hostId===s.uid)await nC(Z);else{let te={players:E.players.filter(re=>re.id!==s.uid)};te.logs=ys({text:`${E.players.find(re=>re.id===s.uid)?.name||"User"} disconnected.`,type:"danger",id:Date.now(),viewerId:"all"}),await cn(Z,te)}_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),C(!1)},Ms=async()=>{if(E.hostId!==s.uid)return;const Z=E.players.map(Y=>({...Y,hand:[],avatar:null,directive:null,revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}));await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),{status:"lobby",players:Z,deck:[],discardPile:[],winnerId:null,logs:[],lastEvent:null,crashCount:0,roundCount:1}),C(!1)},Ji=async()=>{if(E.hostId!==s.uid)return;const Z=yi(Object.keys(Nn)),Y=yi(Object.keys(vs));let te=yi([...kv]);const re=E.players.map((oe,Re)=>{let W=[],ae=!1;for(;!ae;)W=[te.pop(),te.pop(),te.pop()],W.filter(Ne=>Ne==="VIRUS").length<2?ae=!0:(te.push(...W),te=yi(te),W=[]);return{...oe,avatar:Z[Re%Z.length],directive:Y[Re%Y.length],hand:W,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,isEliminated:!1,revealed:!1,glitchUsed:!1}});await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),{status:"playing",players:re,deck:te,discardPile:[],turnIndex:0,crashCount:0,winnerId:null,roundCount:_s(1),logs:[{text:`Round ${E.roundCount+1} Initialized. Safety protocols active.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Dr=async()=>{if(!g)return;const Z=Gt(Ft,"artifacts",$t,"public","data","rooms",g),Y=E.players.findIndex(re=>re.id===s.uid);if(Y===-1)return;const te=[...E.players];te[Y].ready=!0,await cn(Z,{players:te})},si=async(Z,Y,te=0)=>{const re=Z.filter(W=>!W.isEliminated);if(re.length===1)return re[0].id;const Re=(E.crashCount||0)+te;for(const W of Z){if(W.isEliminated)continue;const ae=W.directive,me=W.hand;let Ne=!1;if(ae==="COLLECTOR"?me.filter(Me=>Me==="INTEL").length>=5&&(Ne=!0):ae==="CORRUPTOR"?me.filter(Me=>Me==="VIRUS").length>=4&&(Ne=!0):ae==="ANARCHIST"?re.filter(ye=>ye.id!==W.id&&ye.hand.filter(q=>q==="VIRUS").length>=2).length>=2&&(Ne=!0):ae==="SABOTEUR"?me.includes("INTEL")&&me.includes("VIRUS")&&me.includes("PING")&&me.includes("PATCH")&&(Ne=!0):ae==="SURVIVOR"?Re>=1&&(Ne=!0):ae==="HACKER"?(W.pingCount||0)>=3&&(Ne=!0):ae==="ANTIVIRUS"&&(W.antivirusCount||0)>=2&&(Ne=!0),Ne)return W.id}return null},Nt=async Z=>{if(!g||!E)return;const Y=E.players.findIndex(ae=>ae.id===s.uid),te=E.players[Y],re=JSON.parse(JSON.stringify(E.players)),oe=[...E.discardPile],Re=[];Z.sort((ae,me)=>me-ae);const W=[];Z.forEach(ae=>{const me=re[Y].hand.splice(ae,1)[0];oe.push(me),W.push(me)}),Re.push({text:`${te.name} purged memory: ${W.join(", ")}.`,type:"neutral",id:Date.now(),viewerId:"all"}),X(!1),await Tt(re,E.deck,oe,Re)},Tt=async(Z,Y,te,re,oe=null)=>{let Re=await si(Z);if(Re){const q=Z.findIndex(nt=>nt.id===Re);Z[q].chips=(Z[q].chips||0)+1,Z.forEach(nt=>{nt.revealed=!0});const _e={players:Z.map(nt=>({...nt,ready:!1})),status:"finished",winnerId:Re,discardPile:te,logs:ys(...re,{text:`Round Winner Identified: ${Z[q].name}. Chip awarded.`,type:"success",id:Date.now()+2,viewerId:"all"})};oe&&(_e.lastEvent=oe),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),_e);return}let W=!1,ae=(E.turnIndex+1)%Z.length,me=0,Ne=0;const Me=Z.length*2;for(;!W&&Ne<Me;){Ne++;let q=0;for(;Z[ae].isEliminated&&q<Z.length;)ae=(ae+1)%Z.length,q++;const Ee=Z[ae];if(Ee.passiveUsed=!1,q>=Z.length)break;let _e=1;Ee.avatar==="MINER"&&(_e=2);for(let rt=0;rt<_e;rt++){if(Y.length===0)if(te.length>0)Y=yi([...te]),te=[],re.push({text:"Deck rebooted.",type:"neutral",id:Date.now()+3+Ne,viewerId:"all"});else break;Y.length>0&&Ee.hand.push(Y.pop())}const nt=ct(Z,te);me+=nt,Ee.isEliminated?re.push({text:`${Ee.name} crashed immediately upon receiving data. Passing control...`,type:"danger",id:Date.now()+5+Ne,viewerId:"all"}):W=!0}if(Re=await si(Z,re,me),Re){const q=Z.findIndex(nt=>nt.id===Re);Z[q].chips=(Z[q].chips||0)+1;const _e={players:Z.map(nt=>({...nt,ready:!1})),status:"finished",winnerId:Re,discardPile:te,logs:ys(...re,{text:`Round Winner: ${Z[q].name}.`,type:"success",id:Date.now()+4,viewerId:"all"}),crashCount:_s(me)};oe&&(_e.lastEvent=oe),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),_e);return}re.push({text:`Processing cycle: ${Z[ae].name}`,type:"neutral",id:Date.now()+10,viewerId:"all"});const ye={players:Z,deck:Y,discardPile:te,turnIndex:ae,logs:ys(...re),crashCount:_s(me)};oe&&(ye.lastEvent=oe),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),ye)},ri=async Z=>{if(!g)return;const Y=E.players.findIndex(W=>W.id===s.uid),te=E.players[Y];if(te.passiveUsed)return;const re=Gt(Ft,"artifacts",$t,"public","data","rooms",g),oe=[...E.players];oe[Y].passiveUsed=!0;const Re={players:oe,logs:ys({text:`${te.name} ${Z?"ran a passive background scan.":"skipped passive scan."}`,type:"neutral",id:Date.now(),viewerId:"all"})};if(Z){const W=E.players.find(ae=>ae.id===Z);if(W&&W.hand.length>0){const ae=Math.floor(Math.random()*W.hand.length),me=W.hand[ae];Le({title:"PASSIVE SCAN RESULT",message:`Scanner intercepted ${W.name}'s packet:`,cards:[{type:me,label:"Intercepted"}]})}}await cn(re,Re)},Il=async(Z,Y)=>{if(!g||!we)return;const te=E.players.findIndex(q=>q.id===s.uid),re=E.players[te],oe=E.players.findIndex(q=>q.id===we),Re=E.players[oe];he(!1),Oe(null);const W=JSON.parse(JSON.stringify(E.players)),ae=[];W[te].glitchUsed=!0,W[te].revealed=!0,W[oe].hand.splice(Y,1),W[te].hand.push(Z),ae.push({text:` GLITCH: ${re.name} Indexed ${Re.name} and extracted a ${Z}.`,type:"glitch",id:Date.now(),viewerId:"all"}),wt("glitch","DOWNLOAD COMPLETE",`Acquired ${Z}`,uT);let me=[...E.discardPile],Ne=[...E.deck];const Me=ct(W,me),ye=await si(W,ae,Me);if(ye){const q=W.findIndex(_e=>_e.id===ye);W[q].chips=(W[q].chips||0)+1,W.forEach(_e=>{_e.revealed=!0});const Ee={players:W.map(_e=>({..._e,ready:!1})),status:"finished",winnerId:ye,discardPile:me,logs:ys(...ae),crashCount:_s(Me)};await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),Ee);return}Me>0&&await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),{crashCount:_s(Me)}),await Tt(W,Ne,me,ae)},Or=async(Z=null)=>{if(A===null)return;const Y=E.players.findIndex(ye=>ye.id===s.uid),te=E.players[Y],re=te.hand[A],oe=JSON.parse(JSON.stringify(E.players));let Re=[...E.deck],W=[...E.discardPile||[]];const ae=[];let me=null;if(oe[Y].hand.splice(A,1),re==="PATCH"){W.push("PATCH");const ye=oe[Y].hand.indexOf("VIRUS");ye>-1?(oe[Y].hand.splice(ye,1),W.push("VIRUS"),oe[Y].antivirusCount=(oe[Y].antivirusCount||0)+1,ae.push({text:`${te.name} ran a Patch. Virus purged.`,type:"success",id:Date.now(),viewerId:"all"})):ae.push({text:`${te.name} ran a Patch but had no Virus.`,type:"neutral",id:Date.now(),viewerId:"all"})}else if(re==="PING"){if(W.push("PING"),oe[Y].pingCount=(oe[Y].pingCount||0)+1,!Z)return;const ye=oe.find(q=>q.id===Z);if(ye.hand.length>0){const q=Math.floor(Math.random()*ye.hand.length),Ee=ye.hand[q];me={id:Date.now(),type:"PING",initiatorId:s.uid,initiatorName:te.name,targetId:Z,payload:{revealedCard:Ee}},Le({title:"PING RESULT",message:`You revealed ${ye.name}'s data:`,cards:[{type:Ee,label:"Revealed"}]}),ae.push({text:`PING: ${ye.name} has a ${Ee}.`,type:"warning",id:Date.now(),viewerId:"all"})}}else if(!Z)W.push(re),ae.push({text:`${te.name} discarded ${re}.`,type:"neutral",id:Date.now(),viewerId:"all"});else{const ye=oe.findIndex(Ee=>Ee.id===Z),q=oe[ye];if(q.hand.length>0){const Ee=Math.floor(Math.random()*q.hand.length),_e=q.hand.splice(Ee,1)[0];q.hand.push(re),oe[Y].hand.push(_e),me={id:Date.now(),type:"TRADE",initiatorId:s.uid,initiatorName:te.name,targetId:Z,payload:{given:re,received:_e}},Le({title:"TRADE COMPLETE",message:`Exchange with ${q.name} successful.`,cards:[{type:re,label:"You Gave"},{type:_e,label:"You Received"}]}),ae.push({text:`${te.name} traded data with ${q.name}.`,type:"warning",id:Date.now(),viewerId:"all"})}else q.hand.push(re),ae.push({text:`${te.name} transferred data to ${q.name} (Empty hand).`,type:"neutral",id:Date.now(),viewerId:"all"})}const Ne=ct(oe,W);R(null);const Me=await si(oe,ae,Ne);if(Me){const ye=oe.findIndex(_e=>_e.id===Me);oe[ye].chips=(oe[ye].chips||0)+1,oe.forEach(_e=>{_e.revealed=!0});const Ee={players:oe.map(_e=>({..._e,ready:!1})),status:"finished",winnerId:Me,discardPile:W,logs:ys(...ae,{text:`Round Winner: ${oe[ye].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:_s(Ne)};me&&(Ee.lastEvent=me),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),Ee);return}Ne>0&&await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),{crashCount:_s(Ne)}),await Tt(oe,Re,W,ae,me)},sn=async()=>{if(!g||!E)return;const Z=E.players.findIndex(oe=>oe.id===s.uid),Y=E.players[Z],te=Y.avatar==="ADMIN"?7:5;if(Y.hand.length>te){X(!0);return}const re=[{text:`${Y.name} skipped their turn.`,type:"neutral",id:Date.now(),viewerId:"all"}];await Tt(E.players,E.deck,E.discardPile,re)},Ti=async(Z=null)=>{const Y=E.players.findIndex(ye=>ye.id===s.uid),te=E.players[Y];if(E.turnIndex!==Y){wt("failure","ACCESS DENIED","Wait for your processing cycle (Turn).",yh);return}if(te.glitchUsed)return;if(Z){const ye=E.players.find(q=>q.id===Z);if(ye&&ye.avatar==="GHOST"){x(!1),wt("failure","TARGET IMMUNE","Ghost Process blocks Glitch effects.",Ip);return}}const re=JSON.parse(JSON.stringify(E.players)),oe=[...E.deck];let Re=[...E.discardPile||[]];const W=[];let ae=null;re[Y].glitchUsed=!0,re[Y].revealed=!0,W.push({text:` GLITCH DETECTED: ${te.name} is ${vs[te.directive].name}!`,type:"glitch",id:Date.now(),viewerId:"all"}),wt("glitch","GLITCH ACTIVATED","Directive Revealed!",km);const me=te.avatar;if(me==="FIREWALL"){const ye=re[Y].hand.length,q=re[Y].hand.filter(nt=>nt!=="VIRUS"),Ee=ye-q.length;for(let nt=0;nt<Ee;nt++)Re.push("VIRUS");re[Y].hand=q;let _e=0;for(let nt=0;nt<Ee;nt++){if(oe.length===0&&Re.length>0){const rt=yi([...Re]);Re=[],oe.push(...rt)}oe.length>0&&(re[Y].hand.push(oe.pop()),_e++)}Le({title:"FIREWALL PURGE",message:`Discarded ${Ee} Viruses. Downloaded ${_e} new packets.`,cards:[]}),W.push({text:`Firewall Purge: ${te.name} discarded ${Ee} Viruses and drew ${_e} new cards.`,type:"success",id:Date.now()+1,viewerId:"all"})}else if(me==="MINER"){let ye=0;for(let q=0;q<3;q++){if(oe.length===0&&Re.length>0){const Ee=yi([...Re]);Re=[],oe.push(...Ee)}oe.length>0&&(re[Y].hand.push(oe.pop()),ye++)}Le({title:"JACKPOT",message:`You mined ${ye} new data packets.`,cards:[]}),W.push({text:"Miner hit the Jackpot. 3 Cards drawn.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(me==="GHOST"){if(!Z)return;const ye=re.findIndex(Ee=>Ee.id===Z),q=[...re[Y].hand];re[Y].hand=[...re[ye].hand],re[ye].hand=q,ae={id:Date.now(),type:"GLITCH_GHOST",initiatorId:s.uid,initiatorName:te.name,targetId:Z,payload:{}},Le({title:"GHOST HAUNT",message:`Swapped hands with ${re[ye].name}.`,cards:[]}),W.push({text:`Ghost Process Haunt. Hands swapped with ${re[ye].name}.`,type:"warning",id:Date.now()+1,viewerId:"all"})}else if(me==="ADMIN"){if(!Z)return;const ye=re.findIndex(_e=>_e.id===Z),q=re[ye];let Ee=[];if(q.hand.length>=2){const _e=q.hand.splice(0,1)[0],nt=q.hand.splice(0,1)[0];Re.push(_e,nt),Ee=[_e,nt]}else Ee=[...q.hand],Re.push(...q.hand),q.hand=[];ae={id:Date.now(),type:"GLITCH_ADMIN",initiatorId:s.uid,initiatorName:te.name,targetId:Z,payload:{deleted:Ee}},Le({title:"SUDO COMMAND",message:`Forced ${q.name} to delete ${Ee.length} data packets.`,cards:[]}),W.push({text:`Admin Sudo command. ${q.name} forced to delete data.`,type:"danger",id:Date.now()+1,viewerId:"all"})}else if(me==="SEARCH_ENGINE"){if(!Z)return;Oe(Z),he(!0),x(!1);return}x(!1);const Ne=ct(re,Re),Me=await si(re,W,Ne);if(Me){const ye=re.findIndex(_e=>_e.id===Me);re[ye].chips=(re[ye].chips||0)+1,re.forEach(_e=>{_e.revealed=!0});const Ee={players:re.map(_e=>({..._e,ready:!1})),status:"finished",winnerId:Me,discardPile:Re,logs:ys(...W,{text:`Round Winner: ${re[ye].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:_s(Ne)};ae&&(Ee.lastEvent=ae),await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),Ee);return}Ne>0&&await cn(Gt(Ft,"artifacts",$t,"public","data","rooms",g),{crashCount:_s(Ne)}),await Tt(re,oe,Re,W,ae)};if(ne)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(xC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"The AI is glitched. Wait for replacement hardware."})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(Vv,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(Vv,{size:16})]})})})})]});if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-4 relative overflow-hidden font-mono",children:[T.jsx(im,{}),De&&T.jsx(Lv,{onClose:()=>Se(!1)}),T.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[T.jsx(Dm,{size:64,className:"text-cyan-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]"}),T.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:["MASQUERADE",T.jsx("br",{}),"PROTOCOL"]}),T.jsx("p",{className:"text-cyan-400/60 tracking-[0.2em] uppercase mt-2",children:"Social Hacking Simulation"})]}),T.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-lg w-full max-w-md shadow-2xl z-10",children:[M&&T.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),T.jsx("input",{className:"w-full bg-black/50 border border-slate-700 p-3 rounded mb-4 text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none transition-colors",placeholder:"USER_ID",value:o,onChange:Z=>c(Z.target.value)}),T.jsxs("button",{onClick:$i,disabled:ie,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 transition-all hover:shadow-[0_0_15px_rgba(6,182,212,0.3)]",children:[T.jsx(BC,{size:20})," INITIALIZE_SERVER"]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[T.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-700 p-3 rounded text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none text-center tracking-widest uppercase",placeholder:"ACCESS_CODE",value:d,onChange:Z=>y(Z.target.value.toUpperCase())}),T.jsx("button",{onClick:Ns,disabled:ie,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors text-slate-300",children:"CONNECT"})]}),T.jsxs("button",{onClick:()=>Se(!0),className:"w-full text-sm text-slate-500 hover:text-cyan-400 flex items-center justify-center gap-2 py-2",children:[T.jsx(Nm,{size:16})," READ_MANUAL.txt"]})]}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",T.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const Z=E.hostId===s.uid;return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-6 relative font-mono",children:[T.jsx(im,{}),T.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-lg border border-cyan-500/30 shadow-2xl",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-800 pb-4",children:[T.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[T.jsx(fT,{size:20})," LOBBY:"," ",T.jsx("span",{className:"text-white",children:g})]}),T.jsx("button",{onClick:Mn,className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:T.jsx(tm,{size:16})})]}),T.jsxs("div",{className:"bg-black/40 rounded p-4 mb-8 border border-slate-800",children:[T.jsxs("h3",{className:"text-slate-500 text-xs uppercase tracking-widest mb-4",children:["Connected Clients (",E.players.length,"/6)"]}),T.jsx("div",{className:"space-y-2",children:E.players.map(Y=>T.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700",children:[T.jsxs("span",{className:`font-bold flex items-center gap-2 ${Y.id===s.uid?"text-cyan-400":"text-slate-400"}`,children:[T.jsx(dT,{size:14})," ",Y.name,Y.id===E.hostId&&T.jsx(Om,{size:14,className:"text-yellow-500"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[(Y.chips||0)>0&&T.jsxs("div",{className:"flex items-center gap-1 bg-yellow-900/40 px-2 py-0.5 rounded border border-yellow-700/50",children:[T.jsx(zc,{size:12,className:"text-yellow-400"}),T.jsx("span",{className:"text-xs text-yellow-200 font-bold",children:Y.chips})]}),T.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[T.jsx(Jc,{size:12})," ONLINE"]}),Z&&Y.id!==s.uid&&T.jsx("button",{onClick:()=>Ds(Y.id),className:"text-red-500 hover:text-red-400 p-1 hover:bg-red-900/30 rounded",title:"Kick Player",children:T.jsx(Mm,{size:14})})]})]},Y.id))})]}),Z?T.jsx("button",{onClick:Os,disabled:E.players.length<3,className:`w-full py-4 rounded font-bold text-lg transition-all flex items-center justify-center gap-2 ${E.players.length>=3?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-[0_0_20px_rgba(6,182,212,0.4)]":"bg-slate-800 cursor-not-allowed text-slate-600"}`,children:E.players.length<3?"WAITING_FOR_USERS (Min 3)":"EXECUTE_PROTOCOL"}):T.jsx("div",{className:"text-center text-cyan-500/60 animate-pulse italic",children:"Waiting for Host execution..."})]}),T.jsx(Uv,{})]})}if(i==="game"&&E){const Z=E.players.findIndex(q=>q.id===s.uid),Y=E.players[Z],te=E.turnIndex===Z,re=E.hostId===s.uid,oe=A!==null?Y.hand[A]:null,Re=oe==="PING",W=oe==="INTEL"||oe==="VIRUS",ae=Re||W,me=hN(Y.avatar),Ne=E.players.filter(q=>q.id!==E.hostId).every(q=>q.ready),Me=E.players.find(q=>q.id===E.winnerId),ye=E.players.find(q=>(q.chips||0)>=3);return T.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 overflow-hidden flex flex-col relative font-mono",children:[T.jsx(im,{}),V&&T.jsx(uN,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),De&&T.jsx(Lv,{onClose:()=>Se(!1)}),ut&&T.jsx(lN,{item:ut,canGlitch:ut.canGlitch,onClose:()=>vt(null),onActivateGlitch:ut.canGlitch?()=>{vt(null),x(!0)}:null}),F.length>0&&T.jsx(oN,{data:F[0],onClose:()=>ue(q=>q.slice(1))}),ve&&T.jsx(sN,{players:E.players.filter(q=>q.id!==s.uid&&!q.isEliminated),onSelect:q=>ri(q),onSkip:()=>ri(null)}),ce&&we&&T.jsx(rN,{targetPlayer:E.players.find(q=>q.id===we),onSelect:Il,onCancel:()=>{he(!1),Oe(null)}}),O&&T.jsx(aN,{hand:E.players.find(q=>q.id===s.uid).hand,limit:E.players.find(q=>q.id===s.uid).avatar==="ADMIN"?7:5,onConfirm:Nt,onCancel:()=>X(!1)}),T.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Dm,{size:18,className:"text-cyan-500"}),T.jsxs("span",{className:"font-bold tracking-wider hidden md:block text-cyan-100",children:["ROUND ",E.roundCount||1]}),T.jsxs("span",{className:"text-xs text-slate-500",children:["Deck: ",E.deck.length," | Bin:"," ",E.discardPile?.length||0]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>Se(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:T.jsx(Nm,{size:18})}),T.jsx("button",{onClick:()=>mt(!et),className:`p-2 rounded-full ${et?"bg-cyan-900 text-cyan-400":"text-gray-400 hover:bg-gray-800"}`,children:T.jsx(NC,{size:18})}),T.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:T.jsx(tm,{size:18})})]})]}),T.jsxs("div",{className:"flex-1 flex flex-col p-4 max-w-6xl mx-auto w-full relative z-10",children:[T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:E.players.map((q,Ee)=>{if(q.id===s.uid)return null;const _e=E.turnIndex===Ee,nt=te&&ae||U&&me;return T.jsxs("div",{onClick:()=>{te&&ae&&Or(q.id),U&&me&&Ti(q.id)},className:`
                    relative bg-slate-900/80 p-3 rounded border transition-all cursor-default
                    ${_e?"border-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.3)]":"border-slate-700"}
                    ${nt?"ring-2 ring-red-500 cursor-pointer animate-pulse bg-red-900/10":""}
                    ${q.isEliminated?"opacity-50 grayscale border-red-900":""}
                  `,children:[_e&&T.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-cyan-600 text-cyan-100 text-[9px] px-2 py-0.5 rounded-full font-bold shadow-lg animate-pulse z-10 whitespace-nowrap flex items-center gap-1",children:[T.jsx(Ov,{size:8})," PLAYING"]}),T.jsxs("div",{className:"flex justify-between items-start mb-2",children:[T.jsxs("span",{className:"font-bold text-xs truncate flex items-center gap-1",children:[q.revealed&&T.jsx(_h,{size:12,className:"text-red-500"}),q.name]}),T.jsxs("div",{className:"flex items-center gap-1",children:[(q.chips||0)>0&&T.jsx("div",{className:"flex items-center gap-0.5",title:`${q.chips} Chips`,children:[...Array(q.chips)].map((rt,bn)=>T.jsx(zc,{size:10,className:"text-yellow-400 fill-yellow-900"},bn))}),q.ready&&E.status==="finished"&&T.jsx(Jc,{size:14,className:"text-green-500"}),q.isEliminated&&T.jsx(cT,{size:14,className:"text-red-500"})]})]}),T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{onClick:rt=>{rt.stopPropagation(),vt(Nn[q.avatar])},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${Nn[q.avatar].border} ${Nn[q.avatar].bg}`,children:la.createElement(Nn[q.avatar].icon,{size:16,className:Nn[q.avatar].color})}),T.jsx("div",{onClick:rt=>{rt.stopPropagation(),q.revealed||E.status==="finished"?vt(vs[q.directive]):vt(iN)},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${q.revealed||E.status==="finished"?"border-red-500 bg-red-950":"border-slate-700 bg-slate-800"}`,children:q.revealed||E.status==="finished"?la.createElement(vs[q.directive].icon,{size:16,className:"text-red-400"}):T.jsx(yh,{size:14,className:"text-slate-600"})})]}),T.jsx("div",{className:"flex gap-0.5 justify-center",children:q.hand.map((rt,bn)=>T.jsx("div",{className:"w-2 h-4 bg-slate-700 rounded-sm"},bn))})]},q.id)})}),T.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:E.status==="finished"?T.jsxs("div",{className:"bg-slate-900/95 p-8 rounded-xl border border-cyan-500 shadow-2xl z-50 animate-in fade-in zoom-in w-full max-w-md",children:[ye?T.jsxs(T.Fragment,{children:[T.jsx(Om,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),T.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-yellow-600 mb-2",children:"GRAND CHAMPION"}),T.jsx("div",{className:"text-2xl text-white mb-6",children:ye.name}),T.jsx("div",{className:"text-sm text-yellow-500/80 mb-6 uppercase tracking-widest",children:"Collected 3 Golden Chips"})]}):T.jsxs(T.Fragment,{children:[T.jsx(zc,{size:48,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),T.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["ROUND ",E.roundCount," COMPLETE"]}),T.jsxs("div",{className:"text-xl text-cyan-400 mb-6",children:["WINNER: ",Me?.name]}),T.jsxs("div",{className:"text-sm text-slate-400 mb-6",children:[Me?.name," receives a Golden Chip. (",Me?.chips,"/3)"]})]}),re?T.jsx("div",{className:"space-y-2",children:ye?T.jsxs("button",{onClick:Ms,className:"px-6 py-3 rounded font-bold bg-red-700 hover:bg-red-600 text-white shadow-lg mx-auto flex items-center gap-2",children:[T.jsx(tm,{size:18})," FULL RESET TO LOBBY"]}):T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:Ji,disabled:!Ne,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${Ne?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[T.jsx(Ov,{size:18})," START ROUND"," ",(E.roundCount||0)+1]}),!Ne&&T.jsx("div",{className:"text-xs text-yellow-500 animate-pulse",children:"Waiting for players..."})]})}):!ye&&T.jsxs("button",{onClick:Dr,disabled:Y.ready,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${Y.ready?"bg-green-800 text-green-200 cursor-default":"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg animate-pulse"}`,children:[Y.ready?T.jsx(Jc,{size:18}):T.jsx(km,{size:18}),Y.ready?"WAITING FOR HOST":"READY FOR NEXT ROUND"]})]}):T.jsx("div",{className:"w-full max-w-md space-y-2 pointer-events-none",children:E.logs.filter(q=>q.viewerId==="all"||q.viewerId===s.uid).slice(-3).reverse().map((q,Ee)=>T.jsx("div",{className:`text-xs p-2 rounded bg-black/60 border border-slate-800 ${q.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":q.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,style:{opacity:1-Ee*.3},children:`> ${q.text}`},q.id))})}),T.jsxs("div",{className:"mt-auto bg-slate-900/90 border-t border-cyan-900/30 p-4 -mx-4 md:rounded-t-2xl md:mx-0 backdrop-blur-md relative z-20",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{onClick:()=>{vt({...Nn[Y.avatar],canGlitch:!Y.glitchUsed&&!Y.isEliminated&&te})},className:`
                    flex items-center gap-3 p-2 rounded border cursor-pointer hover:bg-slate-800 transition-colors relative
                    ${Nn[Y.avatar].border} ${Nn[Y.avatar].bg}
                  `,children:[!Y.glitchUsed&&!Y.isEliminated&&T.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[T.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),T.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),la.createElement(Nn[Y.avatar].icon,{size:32,className:Nn[Y.avatar].color}),T.jsxs("div",{children:[T.jsx("div",{className:"text-xs font-bold text-white uppercase",children:Nn[Y.avatar].name}),T.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[Y.glitchUsed?"Glitch Offline":"Tap for Info",T.jsx(Mv,{size:8})]})]})]}),T.jsxs("div",{onClick:()=>{vt(vs[Y.directive])},className:`
                    flex items-center gap-3 p-2 rounded border border-slate-700 bg-slate-800 relative cursor-pointer hover:bg-slate-700
                    ${Y.revealed?"border-red-500 bg-red-900/20":""}
                  `,children:[Y.directive==="HACKER"&&T.jsxs("div",{className:"absolute -top-2 -right-2 bg-indigo-900 text-indigo-100 text-[10px] px-2 py-0.5 rounded-full border border-indigo-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[T.jsx(Vm,{size:10})," ",Y.pingCount||0,"/3"]}),Y.directive==="ANTIVIRUS"&&T.jsxs("div",{className:"absolute -top-2 -right-2 bg-teal-900 text-teal-100 text-[10px] px-2 py-0.5 rounded-full border border-teal-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[T.jsx(hT,{size:10})," ",Y.antivirusCount||0,"/2"]}),la.createElement(vs[Y.directive].icon,{size:32,className:Y.revealed?"text-red-400":"text-fuchsia-400"}),T.jsxs("div",{children:[T.jsx("div",{className:"text-xs font-bold text-white uppercase",children:vs[Y.directive].name}),T.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[Y.revealed?"REVEALED":"Tap for Info",T.jsx(Mv,{size:8})]})]})]}),(Y.chips||0)>0&&T.jsx("div",{className:"flex items-center gap-1 bg-yellow-900/30 px-3 py-1 rounded border border-yellow-600/50",children:[...Array(Y.chips)].map((q,Ee)=>T.jsx(zc,{size:16,className:"text-yellow-400 fill-yellow-900"},Ee))})]}),te&&T.jsx("div",{className:"flex items-center gap-4",children:T.jsx("div",{className:"text-xs text-green-400 font-bold animate-pulse",children:"AWAITING_INPUT..."})})]}),T.jsx("div",{className:"w-full overflow-x-auto pb-4 pt-6 px-4",children:T.jsx("div",{className:"flex gap-2 w-fit mx-auto",children:Y.hand.map((q,Ee)=>{const _e=A===Ee;return T.jsx("div",{className:`transition-all duration-200 ${_e?"-translate-y-4":"hover:-translate-y-2"}`,children:T.jsx(Ph,{type:q,onClick:()=>te?R(Ee):null,highlight:_e,disabled:!te||Y.isEliminated})},Ee)})})}),te&&T.jsx("div",{className:"absolute top-0 left-0 right-0 -mt-16 flex justify-center gap-2 pointer-events-none",children:T.jsx("div",{className:"pointer-events-auto flex gap-2",children:oe?T.jsxs(T.Fragment,{children:[ae?T.jsxs("div",{className:"bg-yellow-600 text-black px-4 py-2 rounded font-bold animate-bounce shadow-lg border border-yellow-400 flex items-center gap-2",children:[W?T.jsx(uC,{size:16}):T.jsx(Vm,{size:16}),"Select Target to ",W?"Trade":"Ping"]}):T.jsxs("button",{onClick:()=>Or(),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all hover:scale-105",children:[T.jsx(fN,{size:16})," Execute"," ",Cp[oe].name]}),T.jsx("button",{onClick:()=>R(null),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white shadow-lg transition-colors",children:T.jsx($o,{size:20})})]}):(()=>{const q=Y.avatar==="ADMIN"?7:5,Ee=Y.hand.length>q;return T.jsx("button",{onClick:sn,className:`
                            px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all
                            ${Ee?"bg-red-600 hover:bg-red-500 text-white border border-red-400 animate-pulse":"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-500"}
                          `,children:Ee?T.jsxs(T.Fragment,{children:[T.jsx(Mm,{size:16})," DISCARD & END TURN"]}):T.jsxs(T.Fragment,{children:[T.jsx(GC,{size:16})," SKIP TURN"]})})})()})}),U&&T.jsxs("div",{className:"absolute inset-0 bg-slate-950/95 z-50 flex flex-col items-center justify-center rounded-t-2xl animate-in slide-in-from-bottom-10",children:[T.jsx(_h,{size:48,className:"text-red-500 mb-2 animate-pulse"}),T.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"WARNING: GLITCH DETECTED"}),T.jsxs("p",{className:"text-xs text-red-400 mb-4 max-w-xs text-center",children:["Activating your glitch will"," ",T.jsx("strong",{className:"text-white",children:"REVEAL YOUR DIRECTIVE"})," ","to all players. This cannot be undone."]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded border border-slate-600 text-slate-300 hover:bg-slate-800",children:"CANCEL"}),me?T.jsx("div",{className:"px-4 py-2 rounded bg-fuchsia-900/50 text-fuchsia-200 border border-fuchsia-500 animate-pulse",children:"Select Target Player"}):T.jsx("button",{onClick:()=>Ti(),className:"px-4 py-2 rounded bg-red-600 hover:bg-red-500 text-white font-bold shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"CONFIRM EXECUTION"})]})]})]})]}),et&&T.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:T.jsxs("div",{className:"bg-slate-900 rounded-lg w-full max-w-md h-[60vh] flex flex-col border border-slate-700",children:[T.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between",children:[T.jsx("h3",{className:"text-white font-bold",children:"System Logs"}),T.jsx("button",{onClick:()=>mt(!1),children:T.jsx($o,{className:"text-slate-400"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 font-mono text-xs",children:[...E.logs].filter(q=>q.viewerId==="all"||q.viewerId===s.uid).reverse().map(q=>T.jsxs("div",{className:`p-2 border-l-2 ${q.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":q.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,children:[T.jsxs("span",{className:"opacity-50 mr-2",children:["[",new Date(q.id).toLocaleTimeString(),"]"]}),q.text]},q.id))})]})}),Xe&&T.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-slate-900 rounded border border-slate-700 p-6 text-center",children:[T.jsx("h3",{className:"text-white font-bold mb-4",children:"Disconnect from Server?"}),T.jsxs("div",{className:"flex gap-4 justify-center",children:[T.jsx("button",{onClick:()=>C(!1),className:"bg-slate-700 px-4 py-2 rounded text-white",children:"Cancel"}),T.jsx("button",{onClick:Mn,className:"bg-red-600 px-4 py-2 rounded text-white",children:"Disconnect"}),re&&T.jsxs("button",{onClick:Ms,className:"bg-orange-600 px-4 py-2 rounded text-white flex items-center gap-1",children:[T.jsx(OC,{size:16})," Lobby"]})]})]})}),T.jsx(Uv,{})]})}return null}function hN(s){return["GHOST","ADMIN","SEARCH_ENGINE"].includes(s)}const fN=hC;tS.createRoot(document.getElementById("root")).render(T.jsx(We.StrictMode,{children:T.jsx(cN,{})}));
