(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function zb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vd={exports:{}},Io={};var F_;function jb(){if(F_)return Io;F_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Io.Fragment=e,Io.jsx=i,Io.jsxs=i,Io}var Q_;function Bb(){return Q_||(Q_=1,Vd.exports=jb()),Vd.exports}var A=Bb(),kd={exports:{}},Ce={};var Y_;function Hb(){if(Y_)return Ce;Y_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function q(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,ne={};function ve(N,Y,le){this.props=N,this.context=Y,this.refs=ne,this.updater=le||ie}ve.prototype.isReactComponent={},ve.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},ve.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Re(){}Re.prototype=ve.prototype;function Ee(N,Y,le){this.props=N,this.context=Y,this.refs=ne,this.updater=le||ie}var et=Ee.prototype=new Re;et.constructor=Ee,ae(et,ve.prototype),et.isPureReactComponent=!0;var ft=Array.isArray;function Ye(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(N,Y,le){var ce=le.ref;return{$$typeof:s,type:N,key:Y,ref:ce!==void 0?ce:null,props:le}}function V(N,Y){return I(N.type,Y,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function U(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return Y[le]})}var R=/\/+/g;function lt(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):Y.toString(36)}function yt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Ye,Ye):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,Y,le,ce,Se){var Ne=typeof N;(Ne==="undefined"||Ne==="boolean")&&(N=null);var Be=!1;if(N===null)Be=!0;else switch(Ne){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(N.$$typeof){case s:case e:Be=!0;break;case T:return Be=N._init,G(Be(N._payload),Y,le,ce,Se)}}if(Be)return Se=Se(N),Be=ce===""?"."+lt(N,0):ce,ft(Se)?(le="",Be!=null&&(le=Be.replace(R,"$&/")+"/"),G(Se,Y,le,"",function($i){return $i})):Se!=null&&(D(Se)&&(Se=V(Se,le+(Se.key==null||N&&N.key===Se.key?"":(""+Se.key).replace(R,"$&/")+"/")+Be)),Y.push(Se)),1;Be=0;var Ct=ce===""?".":ce+":";if(ft(N))for(var _t=0;_t<N.length;_t++)ce=N[_t],Ne=Ct+lt(ce,_t),Be+=G(ce,Y,le,Ne,Se);else if(_t=q(N),typeof _t=="function")for(N=_t.call(N),_t=0;!(ce=N.next()).done;)ce=ce.value,Ne=Ct+lt(ce,_t++),Be+=G(ce,Y,le,Ne,Se);else if(Ne==="object"){if(typeof N.then=="function")return G(yt(N),Y,le,ce,Se);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ue(N,Y,le){if(N==null)return N;var ce=[],Se=0;return G(N,ce,"","",function(Ne){return Y.call(le,Ne,Se++)}),ce}function ye(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var je=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ze={map:ue,forEach:function(N,Y,le){ue(N,function(){Y.apply(this,arguments)},le)},count:function(N){var Y=0;return ue(N,function(){Y++}),Y},toArray:function(N){return ue(N,function(Y){return Y})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ce.Activity=w,Ce.Children=Ze,Ce.Component=ve,Ce.Fragment=i,Ce.Profiler=o,Ce.PureComponent=Ee,Ce.StrictMode=a,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(N){return x.H.useMemoCache(N)}},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(N,Y,le){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ce=ae({},N.props),Se=N.key;if(Y!=null)for(Ne in Y.key!==void 0&&(Se=""+Y.key),Y)!S.call(Y,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Y.ref===void 0||(ce[Ne]=Y[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=le;else if(1<Ne){for(var Be=Array(Ne),Ct=0;Ct<Ne;Ct++)Be[Ct]=arguments[Ct+2];ce.children=Be}return I(N.type,Se,ce)},Ce.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Ce.createElement=function(N,Y,le){var ce,Se={},Ne=null;if(Y!=null)for(ce in Y.key!==void 0&&(Ne=""+Y.key),Y)S.call(Y,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Se[ce]=Y[ce]);var Be=arguments.length-2;if(Be===1)Se.children=le;else if(1<Be){for(var Ct=Array(Be),_t=0;_t<Be;_t++)Ct[_t]=arguments[_t+2];Se.children=Ct}if(N&&N.defaultProps)for(ce in Be=N.defaultProps,Be)Se[ce]===void 0&&(Se[ce]=Be[ce]);return I(N,Ne,Se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:g,render:N}},Ce.isValidElement=D,Ce.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ye}},Ce.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},Ce.startTransition=function(N){var Y=x.T,le={};x.T=le;try{var ce=N(),Se=x.S;Se!==null&&Se(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ye,je)}catch(Ne){je(Ne)}finally{Y!==null&&le.types!==null&&(Y.types=le.types),x.T=Y}},Ce.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ce.use=function(N){return x.H.use(N)},Ce.useActionState=function(N,Y,le){return x.H.useActionState(N,Y,le)},Ce.useCallback=function(N,Y){return x.H.useCallback(N,Y)},Ce.useContext=function(N){return x.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,Y){return x.H.useDeferredValue(N,Y)},Ce.useEffect=function(N,Y){return x.H.useEffect(N,Y)},Ce.useEffectEvent=function(N){return x.H.useEffectEvent(N)},Ce.useId=function(){return x.H.useId()},Ce.useImperativeHandle=function(N,Y,le){return x.H.useImperativeHandle(N,Y,le)},Ce.useInsertionEffect=function(N,Y){return x.H.useInsertionEffect(N,Y)},Ce.useLayoutEffect=function(N,Y){return x.H.useLayoutEffect(N,Y)},Ce.useMemo=function(N,Y){return x.H.useMemo(N,Y)},Ce.useOptimistic=function(N,Y){return x.H.useOptimistic(N,Y)},Ce.useReducer=function(N,Y,le){return x.H.useReducer(N,Y,le)},Ce.useRef=function(N){return x.H.useRef(N)},Ce.useState=function(N){return x.H.useState(N)},Ce.useSyncExternalStore=function(N,Y,le){return x.H.useSyncExternalStore(N,Y,le)},Ce.useTransition=function(){return x.H.useTransition()},Ce.version="19.2.3",Ce}var K_;function Om(){return K_||(K_=1,kd.exports=Hb()),kd.exports}var ht=Om();const rl=zb(ht);var Ud={exports:{}},Co={},Ld={exports:{}},Pd={};var X_;function qb(){return X_||(X_=1,(function(s){function e(G,ue){var ye=G.length;G.push(ue);e:for(;0<ye;){var je=ye-1>>>1,Ze=G[je];if(0<o(Ze,ue))G[je]=ue,G[ye]=Ze,ye=je;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ue=G[0],ye=G.pop();if(ye!==ue){G[0]=ye;e:for(var je=0,Ze=G.length,N=Ze>>>1;je<N;){var Y=2*(je+1)-1,le=G[Y],ce=Y+1,Se=G[ce];if(0>o(le,ye))ce<Ze&&0>o(Se,le)?(G[je]=Se,G[ce]=ye,je=ce):(G[je]=le,G[Y]=ye,je=Y);else if(ce<Ze&&0>o(Se,ye))G[je]=Se,G[ce]=ye,je=ce;else break e}}return ue}function o(G,ue){var ye=G.sortIndex-ue.sortIndex;return ye!==0?ye:G.id-ue.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],T=1,w=null,M=3,q=!1,ie=!1,ae=!1,ne=!1,ve=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function et(G){for(var ue=i(_);ue!==null;){if(ue.callback===null)a(_);else if(ue.startTime<=G)a(_),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=i(_)}}function ft(G){if(ae=!1,et(G),!ie)if(i(y)!==null)ie=!0,Ye||(Ye=!0,U());else{var ue=i(_);ue!==null&&yt(ft,ue.startTime-G)}}var Ye=!1,x=-1,S=5,I=-1;function V(){return ne?!0:!(s.unstable_now()-I<S)}function D(){if(ne=!1,Ye){var G=s.unstable_now();I=G;var ue=!0;try{e:{ie=!1,ae&&(ae=!1,Re(x),x=-1),q=!0;var ye=M;try{t:{for(et(G),w=i(y);w!==null&&!(w.expirationTime>G&&V());){var je=w.callback;if(typeof je=="function"){w.callback=null,M=w.priorityLevel;var Ze=je(w.expirationTime<=G);if(G=s.unstable_now(),typeof Ze=="function"){w.callback=Ze,et(G),ue=!0;break t}w===i(y)&&a(y),et(G)}else a(y);w=i(y)}if(w!==null)ue=!0;else{var N=i(_);N!==null&&yt(ft,N.startTime-G),ue=!1}}break e}finally{w=null,M=ye,q=!1}ue=void 0}}finally{ue?U():Ye=!1}}}var U;if(typeof Ee=="function")U=function(){Ee(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,lt=R.port2;R.port1.onmessage=D,U=function(){lt.postMessage(null)}}else U=function(){ve(D,0)};function yt(G,ue){x=ve(function(){G(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ue=3;break;default:ue=M}var ye=M;M=ue;try{return G()}finally{M=ye}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(G,ue){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ye=M;M=G;try{return ue()}finally{M=ye}},s.unstable_scheduleCallback=function(G,ue,ye){var je=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?je+ye:je):ye=je,G){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=ye+Ze,G={id:T++,callback:ue,priorityLevel:G,startTime:ye,expirationTime:Ze,sortIndex:-1},ye>je?(G.sortIndex=ye,e(_,G),i(y)===null&&G===i(_)&&(ae?(Re(x),x=-1):ae=!0,yt(ft,ye-je))):(G.sortIndex=Ze,e(y,G),ie||q||(ie=!0,Ye||(Ye=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ue=M;return function(){var ye=M;M=ue;try{return G.apply(this,arguments)}finally{M=ye}}}})(Pd)),Pd}var $_;function Gb(){return $_||($_=1,Ld.exports=qb()),Ld.exports}var zd={exports:{}},dn={};var Z_;function Fb(){if(Z_)return dn;Z_=1;var s=Om();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dn.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,T)},dn.flushSync=function(y){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=T,a.d.f()}},dn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},dn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},dn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:q}):T==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},dn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},dn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin);a.d.L(y,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},dn.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},dn.requestFormReset=function(y){a.d.r(y)},dn.unstable_batchedUpdates=function(y,_){return y(_)},dn.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.2.3",dn}var J_;function Qb(){if(J_)return zd.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=Fb(),zd.exports}var W_;function Yb(){if(W_)return Co;W_=1;var s=Gb(),e=Om(),i=Qb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,l=f;break}if(E===l){p=!0,l=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=h;break}if(E===l){p=!0,l=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),ie=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case ve:return"Profiler";case ne:return"StrictMode";case ft:return"Suspense";case Ye:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ie:return"Portal";case Ee:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var yt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},je=[],Ze=-1;function N(t){return{current:t}}function Y(t){0>Ze||(t.current=je[Ze],je[Ze]=null,Ze--)}function le(t,n){Ze++,je[Ze]=t.current,t.current=n}var ce=N(null),Se=N(null),Ne=N(null),Be=N(null);function Ct(t,n){switch(le(Ne,n),le(Se,t),le(ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?m_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=m_(n),t=p_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ce),le(ce,t)}function _t(){Y(ce),Y(Se),Y(Ne)}function $i(t){t.memoizedState!==null&&le(Be,t);var n=ce.current,r=p_(n,t.type);n!==r&&(le(Se,t),le(ce,r))}function Cs(t){Se.current===t&&(Y(ce),Y(Se)),Be.current===t&&(Y(Be),Ao._currentValue=ye)}var si,Zi;function On(t){if(si===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);si=n&&n[1]||"",Zi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+si+t+Zi}var xs=!1;function vi(t,n){if(!t||xs)return"";xs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var j=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){j=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){j=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),z=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var F=`
`+C[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{xs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?On(r):""}function ee(t,n){switch(t.tag){case 26:case 27:case 5:return On(t.type);case 16:return On("Lazy");case 13:return t.child!==n&&n!==null?On("Suspense Fallback"):On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return vi(t.type,!1);case 11:return vi(t.type.render,!1);case 1:return vi(t.type,!0);case 31:return On("Activity");default:return""}}function $(t){try{var n="",r=null;do n+=ee(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var W=Object.prototype.hasOwnProperty,te=s.unstable_scheduleCallback,oe=s.unstable_cancelCallback,Ve=s.unstable_shouldYield,se=s.unstable_requestPaint,he=s.unstable_now,Le=s.unstable_getCurrentPriorityLevel,tt=s.unstable_ImmediatePriority,Et=s.unstable_UserBlockingPriority,me=s.unstable_NormalPriority,Z=s.unstable_LowPriority,Ue=s.unstable_IdlePriority,De=s.log,Yt=s.unstable_setDisableYieldValue,rt=null,nt=null;function _n(t){if(typeof De=="function"&&Yt(t),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(rt,t)}catch{}}var Dt=Math.clz32?Math.clz32:cu,uu=Math.log,ma=Math.LN2;function cu(t){return t>>>=0,t===0?32:31-(uu(t)/ma|0)|0}var Ei=256,xr=262144,Ut=4194304;function Ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Ti(l):(p&=E,p!==0?h=Ti(p):r||(r=E&~t,r!==0&&(h=Ti(r))))):(E=l&~f,E!==0?h=Ti(E):p!==0?h=Ti(p):r||(r=l&~t,r!==0&&(h=Ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ri(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function Ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ph(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var F=31-Dt(r),K=1<<F;E[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}r&=~K}l!==0&&Dr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Dr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Il(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Dt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Cl(t,n){var r=n&-n;return r=(r&42)!==0?1:Or(r),(r&(t.suspendedLanes|n))!==0?0:r}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:P_(t.type))}function ai(t,n){var r=ue.p;try{return ue.p=t,n()}finally{ue.p=r}}var li=Math.random().toString(36).slice(2),Lt="__reactFiber$"+li,Zt="__reactProps$"+li,Si="__reactContainer$"+li,pa="__reactEvents$"+li,zh="__reactListeners$"+li,du="__reactHandles$"+li,mu="__reactResources$"+li,wi="__reactMarker$"+li;function ga(t){delete t[Lt],delete t[Zt],delete t[pa],delete t[zh],delete t[du]}function Ri(t){var n=t[Lt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Si]||r[Lt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=b_(t);t!==null;){if(r=t[Lt])return r;t=b_(t)}return n}t=r,r=t.parentNode}return null}function Gn(t){if(t=t[Lt]||t[Si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ii(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[wi]=!0}var xl=new Set,Nl={};function Ci(t,n){xi(t,n),xi(t+"Capture",n)}function xi(t,n){for(Nl[t]=n,t=0;t<n.length;t++)xl.add(n[t])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Ml={};function pu(t){return W.call(Ml,t)?!0:W.call(Ol,t)?!1:Dl.test(t)?Ml[t]=!0:(Ol[t]=!0,!1)}function ya(t,n,r){if(pu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Vn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function zt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ot(t){if(!t._valueTracker){var n=Ns(t)?"checked":"value";t._valueTracker=Vl(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ns(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function An(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(t,n,r,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?kl(t,p,Jt(n)):r!=null?kl(t,p,Jt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function gu(t,n,r,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ot(t);return}r=r!=null?""+Jt(r):"",n=n!=null?""+Jt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),ot(t)}function kl(t,n,r){n==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ds(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Jt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,r){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Jt(r):""}function Os(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(yt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Jt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),ot(t)}function Sn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||_u.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ll(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ul(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ul(t,f,n[f])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var Pl=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vs=null,Di=null;function kr(t){var n=Gn(t);if(n&&(t=n.stateNode)){var r=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_a(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Zt]||null;if(!h)throw Error(a(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Mr(l)}break e;case"textarea":yu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ds(t,!!r.multiple,n,!1)}}}var Ta=!1;function ks(t,n,r){if(Ta)return t(n,r);Ta=!0;try{var l=t(n);return l}finally{if(Ta=!1,(Vs!==null||Di!==null)&&(fc(),Vs&&(n=Vs,t=Di,Di=Vs=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function ui(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Zt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Qn)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Ur=!1}var Oi=null,zl=null,Lr=null;function jl(){if(Lr)return Lr;var t,n=zl,r=n.length,l,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Lr=h.slice(t,1<l?1-l:void 0)}function Pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function ci(){return!1}function sn(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:ci,this.isPropagationStopped=ci,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=sn(es),Us=w({},es,{view:0,detail:0}),Bl=sn(Us),Ls,ba,Vi,Aa=w({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Ls=t.screenX-Vi.screenX,ba=t.screenY-Vi.screenY):ba=Ls=0,Vi=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Hl=sn(Aa),zr=w({},Aa,{dataTransfer:0}),Eu=sn(zr),Tu=w({},Us,{relatedTarget:0}),jr=sn(Tu),ql=w({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=sn(ql),Sa=w({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=sn(Sa),Su=w({},es,{data:0}),ki=sn(Su),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function Ps(){return Cu}var vn=w({},Us,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=sn(vn),Nu=w({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=sn(Nu),u=w({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=sn(u),v=w({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=sn(v),L=w({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=sn(L),re=w({},es,{newState:0,oldState:0}),Oe=sn(re),Ot=[9,13,27,32],it=Qn&&"CompositionEvent"in window,St=null;Qn&&"documentMode"in document&&(St=document.documentMode);var Yn=Qn&&"TextEvent"in window&&!St,Ui=Qn&&(!it||St&&8<St&&11>=St),hi=" ",fi=!1;function Br(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function uT(t,n){switch(t){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return t=n.data,t===hi&&fi?null:t;default:return null}}function cT(t,n){if(Ra)return t==="compositionend"||!it&&Br(t,n)?(t=jl(),Lr=zl=Oi=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!hT[t.type]:n==="textarea"}function Rp(t,n,r,l){Vs?Di?Di.push(l):Di=[l]:Vs=l,n=vc(n,"onChange"),0<n.length&&(r=new Mi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Gl=null,Fl=null;function fT(t){o_(t,0)}function Du(t){var n=Mn(t);if(Mr(n))return t}function Ip(t,n){if(t==="change")return n}var Cp=!1;if(Qn){var jh;if(Qn){var Bh="oninput"in document;if(!Bh){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),Bh=typeof xp.oninput=="function"}jh=Bh}else jh=!1;Cp=jh&&(!document.documentMode||9<document.documentMode)}function Np(){Gl&&(Gl.detachEvent("onpropertychange",Dp),Fl=Gl=null)}function Dp(t){if(t.propertyName==="value"&&Du(Fl)){var n=[];Rp(n,Fl,t,Fn(t)),ks(fT,n)}}function dT(t,n,r){t==="focusin"?(Np(),Gl=n,Fl=r,Gl.attachEvent("onpropertychange",Dp)):t==="focusout"&&Np()}function mT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Fl)}function pT(t,n){if(t==="click")return Du(n)}function gT(t,n){if(t==="input"||t==="change")return Du(n)}function yT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var kn=typeof Object.is=="function"?Object.is:yT;function Ql(t,n){if(kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!W.call(n,h)||!kn(t[h],n[h]))return!1}return!0}function Op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mp(t,n){var r=Op(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Op(r)}}function Vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ni(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ni(t.document)}return n}function Hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var _T=Qn&&"documentMode"in document&&11>=document.documentMode,Ia=null,qh=null,Yl=null,Gh=!1;function Up(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||Ia==null||Ia!==Ni(l)||(l=Ia,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yl&&Ql(Yl,l)||(Yl=l,l=vc(qh,"onSelect"),0<l.length&&(n=new Mi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ia)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ca={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Fh={},Lp={};Qn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function qr(t){if(Fh[t])return Fh[t];if(!Ca[t])return t;var n=Ca[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Lp)return Fh[t]=n[r];return t}var Pp=qr("animationend"),zp=qr("animationiteration"),jp=qr("animationstart"),vT=qr("transitionrun"),ET=qr("transitionstart"),TT=qr("transitioncancel"),Bp=qr("transitionend"),Hp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function di(t,n){Hp.set(t,n),Ci(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],xa=0,Yh=0;function Mu(){for(var t=xa,n=Yh=xa=0;n<t;){var r=Kn[n];Kn[n++]=null;var l=Kn[n];Kn[n++]=null;var h=Kn[n];Kn[n++]=null;var f=Kn[n];if(Kn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&qp(r,h,f)}}function Vu(t,n,r,l){Kn[xa++]=t,Kn[xa++]=n,Kn[xa++]=r,Kn[xa++]=l,Yh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kh(t,n,r,l){return Vu(t,n,r,l),ku(t)}function Gr(t,n){return Vu(t,null,null,n),ku(t)}function qp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Dt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function ku(t){if(50<go)throw go=0,sd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Na={};function bT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,r,l){return new bT(t,n,r,l)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,n){var r=t.alternate;return r===null?(r=Un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Gp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Xh(t)&&(p=1);else if(typeof t=="string")p=Ib(t,r,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Un(31,r,n,h),t.elementType=I,t.lanes=f,t;case ae:return Fr(r.children,h,f,n);case ne:p=8,h|=24;break;case ve:return t=Un(12,r,n,h|2),t.elementType=ve,t.lanes=f,t;case ft:return t=Un(13,r,n,h),t.elementType=ft,t.lanes=f,t;case Ye:return t=Un(19,r,n,h),t.elementType=Ye,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:p=10;break e;case Re:p=9;break e;case et:p=11;break e;case x:p=14;break e;case S:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Un(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Fr(t,n,r,l){return t=Un(7,t,l,n),t.lanes=r,t}function $h(t,n,r){return t=Un(6,t,null,n),t.lanes=r,t}function Fp(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,r){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qp=new WeakMap;function Xn(t,n){if(typeof t=="object"&&t!==null){var r=Qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:$(n)},Qp.set(t,n),n)}return{value:t,source:n,stack:$(n)}}var Da=[],Oa=0,Lu=null,Kl=0,$n=[],Zn=0,zs=null,Li=1,Pi="";function is(t,n){Da[Oa++]=Kl,Da[Oa++]=Lu,Lu=t,Kl=n}function Yp(t,n,r){$n[Zn++]=Li,$n[Zn++]=Pi,$n[Zn++]=zs,zs=t;var l=Li;t=Pi;var h=32-Dt(l)-1;l&=~(1<<h),r+=1;var f=32-Dt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Li=1<<32-Dt(n)+h|r<<h|l,Pi=f+t}else Li=1<<f|r<<h|l,Pi=t}function Jh(t){t.return!==null&&(is(t,1),Yp(t,1,0))}function Wh(t){for(;t===Lu;)Lu=Da[--Oa],Da[Oa]=null,Kl=Da[--Oa],Da[Oa]=null;for(;t===zs;)zs=$n[--Zn],$n[Zn]=null,Pi=$n[--Zn],$n[Zn]=null,Li=$n[--Zn],$n[Zn]=null}function Kp(t,n){$n[Zn++]=Li,$n[Zn++]=Pi,$n[Zn++]=zs,Li=n.id,Pi=n.overflow,zs=t}var rn=null,Tt=null,Ke=!1,js=null,Jn=!1,ef=Error(a(519));function Bs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Xn(n,t)),ef}function Xp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Lt]=t,n[Zt]=l,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(r=0;r<_o.length;r++)ze(_o[r],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),gu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Os(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||f_(n.textContent,r)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||Bs(t,!0)}function $p(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:rn=rn.return}}function Ma(t){if(t!==rn)return!1;if(!Ke)return $p(t),Ke=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vd(t.type,t.memoizedProps)),r=!r),r&&Tt&&Bs(t),$p(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Tt=T_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Tt=T_(t)}else n===27?(n=Tt,tr(t.type)?(t=Sd,Sd=null,Tt=t):Tt=n):Tt=rn?ei(t.stateNode.nextSibling):null;return!0}function Qr(){Tt=rn=null,Ke=!1}function tf(){var t=js;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),js=null),t}function Xl(t){js===null?js=[t]:js.push(t)}var nf=N(null),Yr=null,ss=null;function Hs(t,n,r){le(nf,n._currentValue),n._currentValue=r}function rs(t){t._currentValue=nf.current,Y(nf)}function sf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function rf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),sf(f.return,r,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),sf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Va(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;kn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Be.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ao):t=[Ao])}h=h.return}t!==null&&rf(n,t,r,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Yr=t,ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Zp(Yr,t)}function zu(t,n){return Yr===null&&Kr(t),Zp(t,n)}function Zp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ss===null){if(t===null)throw Error(a(308));ss=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ss=ss.next=n;return r}var AT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},ST=s.unstable_scheduleCallback,wT=s.unstable_NormalPriority,jt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new AT,data:new Map,refCount:0}}function $l(t){t.refCount--,t.refCount===0&&ST(wT,function(){t.controller.abort()})}var Zl=null,lf=0,ka=0,Ua=null;function RT(t,n){if(Zl===null){var r=Zl=[];lf=0,ka=cd(),Ua={status:"pending",value:void 0,then:function(l){r.push(l)}}}return lf++,n.then(Jp,Jp),n}function Jp(){if(--lf===0&&Zl!==null){Ua!==null&&(Ua.status="fulfilled");var t=Zl;Zl=null,ka=0,Ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function IT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Wp=G.S;G.S=function(t,n){Uy=he(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RT(t,n),Wp!==null&&Wp(t,n)};var Xr=N(null);function of(){var t=Xr.current;return t!==null?t:vt.pooledCache}function ju(t,n){n===null?le(Xr,Xr.current):le(Xr,n.pool)}function eg(){var t=of();return t===null?null:{parent:jt._currentValue,pool:t}}var La=Error(a(460)),uf=Error(a(474)),Bu=Error(a(542)),Hu={then:function(){}};function tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ng(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(oi,oi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t}throw Zr=n,La}}function $r(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Zr=r,La):r}}var Zr=null;function ig(){if(Zr===null)throw Error(a(459));var t=Zr;return Zr=null,t}function sg(t){if(t===La||t===Bu)throw Error(a(483))}var Pa=null,Jl=0;function qu(t){var n=Jl;return Jl+=1,Pa===null&&(Pa=[]),ng(Pa,t,n)}function Wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function r(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ns(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Q){return O===null||O.tag!==6?(O=$h(P,k.mode,Q),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,Q){var _e=P.type;return _e===ae?F(k,O,P.props.children,Q,P.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&$r(_e)===O.type)?(O=h(O,P.props),Wl(O,P),O.return=k,O):(O=Uu(P.type,P.key,P.props,null,k.mode,Q),Wl(O,P),O.return=k,O)}function z(k,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Zh(P,k.mode,Q),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function F(k,O,P,Q,_e){return O===null||O.tag!==7?(O=Fr(P,k.mode,Q,_e),O.return=k,O):(O=h(O,P),O.return=k,O)}function K(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=$h(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return P=Uu(O.type,O.key,O.props,null,k.mode,P),Wl(P,O),P.return=k,P;case ie:return O=Zh(O,k.mode,P),O.return=k,O;case S:return O=$r(O),K(k,O,P)}if(yt(O)||U(O))return O=Fr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return K(k,qu(O),P);if(O.$$typeof===Ee)return K(k,zu(k,O),P);Gu(k,O)}return null}function j(k,O,P,Q){var _e=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _e!==null?null:E(k,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===_e?C(k,O,P,Q):null;case ie:return P.key===_e?z(k,O,P,Q):null;case S:return P=$r(P),j(k,O,P,Q)}if(yt(P)||U(P))return _e!==null?null:F(k,O,P,Q,null);if(typeof P.then=="function")return j(k,O,qu(P),Q);if(P.$$typeof===Ee)return j(k,O,zu(k,P),Q);Gu(k,P)}return null}function H(k,O,P,Q,_e){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(O,k,""+Q,_e);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return k=k.get(Q.key===null?P:Q.key)||null,C(O,k,Q,_e);case ie:return k=k.get(Q.key===null?P:Q.key)||null,z(O,k,Q,_e);case S:return Q=$r(Q),H(k,O,P,Q,_e)}if(yt(Q)||U(Q))return k=k.get(P)||null,F(O,k,Q,_e,null);if(typeof Q.then=="function")return H(k,O,P,qu(Q),_e);if(Q.$$typeof===Ee)return H(k,O,P,zu(O,Q),_e);Gu(O,Q)}return null}function de(k,O,P,Q){for(var _e=null,Je=null,pe=O,ke=O=0,qe=null;pe!==null&&ke<P.length;ke++){pe.index>ke?(qe=pe,pe=null):qe=pe.sibling;var We=j(k,pe,P[ke],Q);if(We===null){pe===null&&(pe=qe);break}t&&pe&&We.alternate===null&&n(k,pe),O=f(We,O,ke),Je===null?_e=We:Je.sibling=We,Je=We,pe=qe}if(ke===P.length)return r(k,pe),Ke&&is(k,ke),_e;if(pe===null){for(;ke<P.length;ke++)pe=K(k,P[ke],Q),pe!==null&&(O=f(pe,O,ke),Je===null?_e=pe:Je.sibling=pe,Je=pe);return Ke&&is(k,ke),_e}for(pe=l(pe);ke<P.length;ke++)qe=H(pe,k,ke,P[ke],Q),qe!==null&&(t&&qe.alternate!==null&&pe.delete(qe.key===null?ke:qe.key),O=f(qe,O,ke),Je===null?_e=qe:Je.sibling=qe,Je=qe);return t&&pe.forEach(function(ar){return n(k,ar)}),Ke&&is(k,ke),_e}function be(k,O,P,Q){if(P==null)throw Error(a(151));for(var _e=null,Je=null,pe=O,ke=O=0,qe=null,We=P.next();pe!==null&&!We.done;ke++,We=P.next()){pe.index>ke?(qe=pe,pe=null):qe=pe.sibling;var ar=j(k,pe,We.value,Q);if(ar===null){pe===null&&(pe=qe);break}t&&pe&&ar.alternate===null&&n(k,pe),O=f(ar,O,ke),Je===null?_e=ar:Je.sibling=ar,Je=ar,pe=qe}if(We.done)return r(k,pe),Ke&&is(k,ke),_e;if(pe===null){for(;!We.done;ke++,We=P.next())We=K(k,We.value,Q),We!==null&&(O=f(We,O,ke),Je===null?_e=We:Je.sibling=We,Je=We);return Ke&&is(k,ke),_e}for(pe=l(pe);!We.done;ke++,We=P.next())We=H(pe,k,ke,We.value,Q),We!==null&&(t&&We.alternate!==null&&pe.delete(We.key===null?ke:We.key),O=f(We,O,ke),Je===null?_e=We:Je.sibling=We,Je=We);return t&&pe.forEach(function(Pb){return n(k,Pb)}),Ke&&is(k,ke),_e}function gt(k,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===ae&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var _e=P.key;O!==null;){if(O.key===_e){if(_e=P.type,_e===ae){if(O.tag===7){r(k,O.sibling),Q=h(O,P.props.children),Q.return=k,k=Q;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&$r(_e)===O.type){r(k,O.sibling),Q=h(O,P.props),Wl(Q,P),Q.return=k,k=Q;break e}r(k,O);break}else n(k,O);O=O.sibling}P.type===ae?(Q=Fr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Uu(P.type,P.key,P.props,null,k.mode,Q),Wl(Q,P),Q.return=k,k=Q)}return p(k);case ie:e:{for(_e=P.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(k,O.sibling),Q=h(O,P.children||[]),Q.return=k,k=Q;break e}else{r(k,O);break}else n(k,O);O=O.sibling}Q=Zh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case S:return P=$r(P),gt(k,O,P,Q)}if(yt(P))return de(k,O,P,Q);if(U(P)){if(_e=U(P),typeof _e!="function")throw Error(a(150));return P=_e.call(P),be(k,O,P,Q)}if(typeof P.then=="function")return gt(k,O,qu(P),Q);if(P.$$typeof===Ee)return gt(k,O,zu(k,P),Q);Gu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(k,O.sibling),Q=h(O,P),Q.return=k,k=Q):(r(k,O),Q=$h(P,k.mode,Q),Q.return=k,k=Q),p(k)):r(k,O)}return function(k,O,P,Q){try{Jl=0;var _e=gt(k,O,P,Q);return Pa=null,_e}catch(pe){if(pe===La||pe===Bu)throw pe;var Je=Un(29,pe,null,k.mode);return Je.lanes=Q,Je.return=k,Je}}}var Jr=rg(!0),ag=rg(!1),qs=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ku(t),qp(t,null,r),n}return Vu(t,l,n,r),ku(t)}function eo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Il(t,r)}}function ff(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function to(){if(df){var t=Ua;if(t!==null)throw t}}function no(t,n,r,l){df=!1;var h=t.updateQueue;qs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,p===null?f=z:p.next=z,p=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;p=0,F=z=C=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(He&j)===j:(l&j)===j){j!==0&&j===ka&&(df=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var de=t,be=E;j=n;var gt=r;switch(be.tag){case 1:if(de=be.payload,typeof de=="function"){K=de.call(gt,K,j);break e}K=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=be.payload,j=typeof de=="function"?de.call(gt,K,j):de,j==null)break e;K=w({},K,j);break e;case 2:qs=!0}}j=E.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,C=K):F=F.next=H,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=K),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),$s|=p,t.lanes=p,t.memoizedState=K}}function lg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function og(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)lg(r[t],n)}var za=N(null),Fu=N(0);function ug(t,n){t=ms,le(Fu,t),le(za,n),ms=t|n.baseLanes}function mf(){le(Fu,ms),le(za,za.current)}function pf(){ms=Fu.current,Y(za),Y(Fu)}var Ln=N(null),Wn=null;function Qs(t){var n=t.alternate;le(Mt,Mt.current&1),le(Ln,t),Wn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Wn=t)}function gf(t){le(Mt,Mt.current),le(Ln,t),Wn===null&&(Wn=t)}function cg(t){t.tag===22?(le(Mt,Mt.current),le(Ln,t),Wn===null&&(Wn=t)):Ys()}function Ys(){le(Mt,Mt.current),le(Ln,Ln.current)}function Pn(t){Y(Ln),Wn===t&&(Wn=null),Y(Mt)}var Mt=N(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bd(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Me=null,mt=null,Bt=null,Yu=!1,ja=!1,Wr=!1,Ku=0,io=0,Ba=null,CT=0;function xt(){throw Error(a(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!kn(t[r],n[r]))return!1;return!0}function _f(t,n,r,l,h,f){return as=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Yg:Mf,Wr=!1,f=r(l,h),Wr=!1,ja&&(f=fg(n,r,l,h)),hg(t),f}function hg(t){G.H=ao;var n=mt!==null&&mt.next!==null;if(as=0,Bt=mt=Me=null,Yu=!1,io=0,Ba=null,n)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&Pu(t)&&(Ht=!0))}function fg(t,n,r,l){Me=t;var h=0;do{if(ja&&(Ba=null),io=0,ja=!1,25<=h)throw Error(a(301));if(h+=1,Bt=mt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Kg,f=n(r,l)}while(ja);return f}function xT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?so(n):n,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(Me.flags|=1024),n}function vf(){var t=Ku!==0;return Ku=0,t}function Ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Tf(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}as=0,Bt=mt=Me=null,ja=!1,io=Ku=0,Ba=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Me.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Vt(){if(mt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var n=Bt===null?Me.memoizedState:Bt.next;if(n!==null)Bt=n,mt=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Bt===null?Me.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(t){var n=io;return io+=1,Ba===null&&(Ba=[]),t=ng(Ba,t,n),n=Me,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Yg:Mf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return so(t);if(t.$$typeof===Ee)return an(t)}throw Error(a(438,String(t)))}function bf(t){var n=null,r=Me.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Xu(),Me.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function ls(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=Vt();return Af(n,mt,t)}function Af(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,C=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(He&K)===K:(as&K)===K){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ka&&(F=!0);else if((as&j)===j){z=z.next,j===ka&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=K,p=f):C=C.next=K,Me.lanes|=j,$s|=j;K=z.action,Wr&&r(f,K),f=z.hasEagerState?z.eagerState:r(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,p=f):C=C.next=j,Me.lanes|=K,$s|=K;z=z.next}while(z!==null&&z!==n);if(C===null?p=f:C.next=E,!kn(f,t.memoizedState)&&(Ht=!0,F&&(r=Ua,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sf(t){var n=Vt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);kn(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function dg(t,n,r){var l=Me,h=Vt(),f=Ke;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!kn((mt||h).memoizedState,r);if(p&&(h.memoizedState=r,Ht=!0),h=h.queue,If(gg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},pg.bind(null,l,h,r,n),null),vt===null)throw Error(a(349));f||(as&127)!==0||mg(l,n,r)}return r}function mg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Me.updateQueue,n===null?(n=Xu(),Me.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function pg(t,n,r,l){n.value=r,n.getSnapshot=l,yg(n)&&_g(t)}function gg(t,n,r){return r(function(){yg(n)&&_g(t)})}function yg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!kn(t,r)}catch{return!0}}function _g(t){var n=Gr(t,2);n!==null&&xn(n,t,2)}function wf(t){var n=En();if(typeof t=="function"){var r=t;if(t=r(),Wr){_n(!0);try{r()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n}function vg(t,n,r,l){return t.baseState=r,Af(t,mt,typeof l=="function"?l:ls)}function NT(t,n,r,l,h){if(ec(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Eg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Eg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=r(h,l),C=G.S;C!==null&&C(p,E),Tg(t,n,E)}catch(z){Rf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,l),Tg(t,n,f)}catch(z){Rf(t,n,z)}}function Tg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){bg(t,n,l)},function(l){return Rf(t,n,l)}):bg(t,n,r)}function bg(t,n,r){n.status="fulfilled",n.value=r,Ag(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Eg(t,r)))}function Rf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Ag(n),n=n.next;while(n!==l)}t.action=null}function Ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sg(t,n){return n}function wg(t,n){if(Ke){var r=vt.formState;if(r!==null){e:{var l=Me;if(Ke){if(Tt){t:{for(var h=Tt,f=Jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Tt=ei(h.nextSibling),l=h.data==="F!";break e}}Bs(l)}l=!1}l&&(n=r[0])}}return r=En(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:n},r.queue=l,r=Gg.bind(null,Me,l),l.dispatch=r,l=wf(!1),f=Of.bind(null,Me,!1,l.queue),l=En(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=NT.bind(null,Me,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Rg(t){var n=Vt();return Ig(n,mt,t)}function Ig(t,n,r){if(n=Af(t,n,Sg)[0],t=Zu(ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=so(n)}catch(p){throw p===La?Bu:p}else l=n;n=Vt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Me.flags|=2048,Ha(9,{destroy:void 0},DT.bind(null,h,r),null)),[l,f,t]}function DT(t,n){t.action=n}function Cg(t){var n=Vt(),r=mt;if(r!==null)return Ig(n,r,t);Vt(),n=n.memoizedState,r=Vt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ha(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Xu(),Me.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function xg(){return Vt().memoizedState}function Ju(t,n,r,l){var h=En();Me.flags|=t,h.memoizedState=Ha(1|n,{destroy:void 0},r,l===void 0?null:l)}function Wu(t,n,r,l){var h=Vt();l=l===void 0?null:l;var f=h.memoizedState.inst;mt!==null&&l!==null&&yf(l,mt.memoizedState.deps)?h.memoizedState=Ha(n,f,r,l):(Me.flags|=t,h.memoizedState=Ha(1|n,f,r,l))}function Ng(t,n){Ju(8390656,8,t,n)}function If(t,n){Wu(2048,8,t,n)}function OT(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Xu(),Me.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Dg(t){var n=Vt().memoizedState;return OT({ref:n,nextImpl:t}),function(){if((st&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Og(t,n){return Wu(4,2,t,n)}function Mg(t,n){return Wu(4,4,t,n)}function Vg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kg(t,n,r){r=r!=null?r.concat([t]):null,Wu(4,4,Vg.bind(null,n,t),r)}function Cf(){}function Ug(t,n){var r=Vt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&yf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Lg(t,n){var r=Vt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&yf(n,l[1]))return l[0];if(l=t(),Wr){_n(!0);try{t()}finally{_n(!1)}}return r.memoizedState=[l,n],l}function xf(t,n,r){return r===void 0||(as&1073741824)!==0&&(He&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Py(),Me.lanes|=t,$s|=t,r)}function Pg(t,n,r,l){return kn(r,n)?r:za.current!==null?(t=xf(t,r,l),kn(t,n)||(Ht=!0),t):(as&42)===0||(as&1073741824)!==0&&(He&261930)===0?(Ht=!0,t.memoizedState=r):(t=Py(),Me.lanes|=t,$s|=t,n)}function zg(t,n,r,l,h){var f=ue.p;ue.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Of(t,!1,n,r);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=IT(C,l);ro(t,n,F,Bn(t))}else ro(t,n,l,Bn(t))}catch(K){ro(t,n,{then:function(){},status:"rejected",reason:K},Bn())}finally{ue.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function MT(){}function Nf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=jg(t).queue;zg(t,h,n,ye,r===null?MT:function(){return Bg(t),r(l)})}function jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:ye},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Bg(t){var n=jg(t);n.next===null&&(n=t.alternate.memoizedState),ro(t,n.next.queue,{},Bn())}function Df(){return an(Ao)}function Hg(){return Vt().memoizedState}function qg(){return Vt().memoizedState}function VT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Bn();t=Gs(r);var l=Fs(n,t,r);l!==null&&(xn(l,n,r),eo(l,n,r)),n={cache:af()},t.payload=n;return}n=n.return}}function kT(t,n,r){var l=Bn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ec(t)?Fg(n,r):(r=Kh(t,n,r,l),r!==null&&(xn(r,t,l),Qg(r,n,l)))}function Gg(t,n,r){var l=Bn();ro(t,n,r,l)}function ro(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Fg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,kn(E,p))return Vu(t,n,h,0),vt===null&&Mu(),!1}catch{}if(r=Kh(t,n,h,l),r!==null)return xn(r,t,l),Qg(r,n,l),!0}return!1}function Of(t,n,r,l){if(l={lane:2,revertLane:cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(a(479))}else n=Kh(t,r,l,2),n!==null&&xn(n,t,2)}function ec(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Fg(t,n){ja=Yu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Qg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Il(t,r)}}var ao={readContext:an,use:$u,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};ao.useEffectEvent=xt;var Yg={readContext:an,use:$u,useCallback:function(t,n){return En().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:Ng,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ju(4194308,4,Vg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var r=En();n=n===void 0?null:n;var l=t();if(Wr){_n(!0);try{t()}finally{_n(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=En();if(r!==void 0){var h=r(n);if(Wr){_n(!0);try{r(n)}finally{_n(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kT.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var n=En();return t={current:t},n.memoizedState=t},useState:function(t){t=wf(t);var n=t.queue,r=Gg.bind(null,Me,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=En();return xf(r,t,n)},useTransition:function(){var t=wf(!1);return t=zg.bind(null,Me,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Me,h=En();if(Ke){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),vt===null)throw Error(a(349));(He&127)!==0||mg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ng(gg.bind(null,l,f,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},pg.bind(null,l,f,r,n),null),r},useId:function(){var t=En(),n=vt.identifierPrefix;if(Ke){var r=Pi,l=Li;r=(l&~(1<<32-Dt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=CT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:wg,useActionState:wg,useOptimistic:function(t){var n=En();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,Me,!0,r),r.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return En().memoizedState=VT.bind(null,Me)},useEffectEvent:function(t){var n=En(),r={impl:t};return n.memoizedState=r,function(){if((st&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:an,use:$u,useCallback:Ug,useContext:an,useEffect:If,useImperativeHandle:kg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Lg,useReducer:Zu,useRef:xg,useState:function(){return Zu(ls)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Vt();return Pg(r,mt.memoizedState,t,n)},useTransition:function(){var t=Zu(ls)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:so(t),n]},useSyncExternalStore:dg,useId:Hg,useHostTransitionStatus:Df,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,n){var r=Vt();return vg(r,mt,t,n)},useMemoCache:bf,useCacheRefresh:qg};Mf.useEffectEvent=Dg;var Kg={readContext:an,use:$u,useCallback:Ug,useContext:an,useEffect:If,useImperativeHandle:kg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Lg,useReducer:Sf,useRef:xg,useState:function(){return Sf(ls)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Vt();return mt===null?xf(r,t,n):Pg(r,mt.memoizedState,t,n)},useTransition:function(){var t=Sf(ls)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:so(t),n]},useSyncExternalStore:dg,useId:Hg,useHostTransitionStatus:Df,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var r=Vt();return mt!==null?vg(r,mt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:bf,useCacheRefresh:qg};Kg.useEffectEvent=Dg;function Vf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Bn(),h=Gs(l);h.payload=n,r!=null&&(h.callback=r),n=Fs(t,h,l),n!==null&&(xn(n,t,l),eo(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Bn(),h=Gs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Fs(t,h,l),n!==null&&(xn(n,t,l),eo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Bn(),l=Gs(r);l.tag=2,n!=null&&(l.callback=n),n=Fs(t,l,r),n!==null&&(xn(n,t,r),eo(n,t,r))}};function Xg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ql(r,l)||!Ql(h,f):!0}function $g(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&kf.enqueueReplaceState(n,n.state,null)}function ea(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Zg(t){Ou(t)}function Jg(t){console.error(t)}function Wg(t){Ou(t)}function tc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ey(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,n,r){return r=Gs(r),r.tag=3,r.payload={element:null},r.callback=function(){tc(t,n)},r}function ty(t){return t=Gs(t),t.tag=3,t}function ny(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ey(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ey(n,r,l),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function UT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Va(n,r,h,!0),r=Ln.current,r!==null){switch(r.tag){case 31:case 13:return Wn===null?dc():r.alternate===null&&Nt===0&&(Nt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ld(t,l,h)),!1;case 22:return r.flags|=65536,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ld(t,l,h)),!1}throw Error(a(435,r.tag))}return ld(t,l,h),dc(),!1}if(Ke)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ef&&(t=Error(a(422),{cause:l}),Xl(Xn(t,r)))):(l!==ef&&(n=Error(a(423),{cause:l}),Xl(Xn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Xn(l,r),h=Uf(t.stateNode,l,h),ff(t,h),Nt!==4&&(Nt=2)),!1;var f=Error(a(520),{cause:l});if(f=Xn(f,r),po===null?po=[f]:po.push(f),Nt!==4&&(Nt=2),n===null)return!0;l=Xn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Uf(r.stateNode,l,t),ff(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ty(h),ny(h,t,r,l),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(a(461)),Ht=!1;function ln(t,n,r,l){n.child=t===null?ag(n,null,r,l):Jr(n,t.child,r,l)}function iy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Kr(n),l=_f(t,n,r,p,f,h),E=vf(),t!==null&&!Ht?(Ef(t,n,h),os(t,n,h)):(Ke&&E&&Jh(n),n.flags|=1,ln(t,n,l,h),n.child)}function sy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ry(t,n,f,l,h)):(t=Uu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ql,r(p,l)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ns(f,l),t.ref=n.ref,t.return=n,n.child=t}function ry(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Ql(f,l)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=l=f,Ff(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,os(t,n,h)}return Pf(t,n,r,l,h)}function ay(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ly(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?ug(n,f):mf(),cg(n);else return l=n.lanes=536870912,ly(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(ju(n,f.cachePool),ug(n,f),Ys(),n.memoizedState=null):(t!==null&&ju(n,null),mf(),Ys());return ln(t,n,h,r),n.child}function lo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ly(t,n,r,l,h){var f=of();return f=f===null?null:{parent:jt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&ju(n,null),mf(),cg(n),t!==null&&Va(t,n,l,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function oy(t,n,r){return Jr(n,t.child,null,r),t=nc(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function LT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=nc(n,l),n.lanes=536870912,lo(null,t);if(gf(n),(t=Tt)?(t=E_(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Fp(t),r.return=n,n.child=r,rn=n,Tt=null)):t=null,t===null)throw Bs(n);return n.lanes=536870912,null}return nc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=oy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ht||Va(t,n,r,!1),h=(r&t.childLanes)!==0,Ht||h){if(l=vt,l!==null&&(p=Cl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Gr(t,p),xn(l,t,p),Lf;dc(),n=oy(t,n,r)}else t=f.treeContext,Tt=ei(p.nextSibling),rn=n,Ke=!0,js=null,Jn=!1,t!==null&&Kp(n,t),n=nc(n,l),n.flags|=4096;return n}return t=ns(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Pf(t,n,r,l,h){return Kr(n),r=_f(t,n,r,l,void 0,h),l=vf(),t!==null&&!Ht?(Ef(t,n,h),os(t,n,h)):(Ke&&l&&Jh(n),n.flags|=1,ln(t,n,r,h),n.child)}function uy(t,n,r,l,h,f){return Kr(n),n.updateQueue=null,r=fg(n,l,r,h),hg(t),l=vf(),t!==null&&!Ht?(Ef(t,n,f),os(t,n,f)):(Ke&&l&&Jh(n),n.flags|=1,ln(t,n,r,f),n.child)}function cy(t,n,r,l,h){if(Kr(n),n.stateNode===null){var f=Na,p=r.contextType;typeof p=="object"&&p!==null&&(f=an(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},cf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?an(p):Na,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Vf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&kf.enqueueReplaceState(f,f.state,null),no(n,l,f,h),to(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ea(r,E);f.props=C;var z=f.context,F=r.contextType;p=Na,typeof F=="object"&&F!==null&&(p=an(F));var K=r.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&$g(n,f,l,p),qs=!1;var j=n.memoizedState;f.state=j,no(n,l,f,h),to(),z=n.memoizedState,E||j!==z||qs?(typeof K=="function"&&(Vf(n,r,K,l),z=n.memoizedState),(C=qs||Xg(n,r,C,l,j,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hf(t,n),p=n.memoizedProps,F=ea(r,p),f.props=F,K=n.pendingProps,j=f.context,z=r.contextType,C=Na,typeof z=="object"&&z!==null&&(C=an(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==C)&&$g(n,f,l,C),qs=!1,j=n.memoizedState,f.state=j,no(n,l,f,h),to();var H=n.memoizedState;p!==K||j!==H||qs||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(Vf(n,r,E,l),H=n.memoizedState),(F=qs||Xg(n,r,F,l,j,H,C)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ic(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,h),n.child=Jr(n,null,r,h)):ln(t,n,r,h),n.memoizedState=f.state,t=n.child):t=os(t,n,h),t}function hy(t,n,r,l){return Qr(),n.flags|=256,ln(t,n,r,l),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:eg()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=jn),t}function fy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?Qs(n):Ys(),(t=Tt)?(t=E_(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Fp(t),r.return=n,n.child=r,rn=n,Tt=null)):t=null,t===null)throw Bs(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ys(),h=n.mode,E=sc({mode:"hidden",children:E},h),l=Fr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=jf(r),l.childLanes=Bf(t,p,r),n.memoizedState=zf,lo(null,l)):(Qs(n),Hf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Qs(n),n.flags&=-257,n=qf(t,n,r)):n.memoizedState!==null?(Ys(),n.child=t.child,n.flags|=128,n=null):(Ys(),E=l.fallback,h=n.mode,l=sc({mode:"visible",children:l.children},h),E=Fr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Jr(n,t.child,null,r),l=n.child,l.memoizedState=jf(r),l.childLanes=Bf(t,p,r),n.memoizedState=zf,n=lo(null,l));else if(Qs(n),Ad(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Xl({value:l,source:null,stack:null}),n=qf(t,n,r)}else if(Ht||Va(t,n,r,!1),p=(r&t.childLanes)!==0,Ht||p){if(p=vt,p!==null&&(l=Cl(p,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Gr(t,l),xn(p,t,l),Lf;bd(E)||dc(),n=qf(t,n,r)}else bd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Tt=ei(E.nextSibling),rn=n,Ke=!0,js=null,Jn=!1,t!==null&&Kp(n,t),n=Hf(n,l.children),n.flags|=4096);return n}return h?(Ys(),E=l.fallback,h=n.mode,C=t.child,z=C.sibling,l=ns(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=ns(z,E):(E=Fr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,lo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=jf(r):(h=E.cachePool,h!==null?(C=jt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=eg(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Bf(t,p,r),n.memoizedState=zf,lo(t.child,l)):(Qs(n),r=t.child,t=r.sibling,r=ns(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Hf(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function qf(t,n,r){return Jr(n,t.child,null,r),t=Hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sf(t.return,n,r)}function Gf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function my(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Mt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,le(Mt,p),ln(t,n,l,r),l=Ke?Kl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,r,n);else if(t.tag===19)dy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Gf(n,!0,r,null,f,l);break;case"together":Gf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function os(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),$s|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Va(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ns(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ns(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function PT(t,n,r){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),Hs(n,jt,t.memoizedState.cache),Qr();break;case 27:case 5:$i(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?fy(t,n,r):(Qs(n),t=os(t,n,r),t!==null?t.sibling:null);Qs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Va(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return my(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Mt,Mt.current),l)break;return null;case 22:return n.lanes=0,ay(t,n,r,n.pendingProps);case 24:Hs(n,jt,t.memoizedState.cache)}return os(t,n,r)}function py(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return Ht=!1,PT(t,n,r);Ht=(t.flags&131072)!==0}else Ht=!1,Ke&&(n.flags&1048576)!==0&&Yp(n,Kl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=$r(n.elementType),n.type=t,typeof t=="function")Xh(t)?(l=ea(t,l),n.tag=1,n=cy(null,n,t,l,r)):(n.tag=0,n=Pf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===et){n.tag=11,n=iy(null,n,t,l,r);break e}else if(h===x){n.tag=14,n=sy(null,n,t,l,r);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ea(l,n.pendingProps),cy(t,n,l,h,r);case 3:e:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),no(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Hs(n,jt,l),l!==f.cache&&rf(n,[jt],r,!0),to(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hy(t,n,l,r);break e}else if(l!==h){h=Xn(Error(a(424)),n),Xl(h),n=hy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Tt=ei(t.firstChild),rn=n,Ke=!0,js=null,Jn=!0,r=ag(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qr(),l===h){n=os(t,n,r);break e}ln(t,n,l,r)}n=n.child}return n;case 26:return ic(t,n),t===null?(r=R_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ke||(r=n.type,t=n.pendingProps,l=Ec(Ne.current).createElement(r),l[Lt]=n,l[Zt]=t,on(l,r,t),Pt(l),n.stateNode=l):n.memoizedState=R_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $i(n),t===null&&Ke&&(l=n.stateNode=A_(n.type,n.pendingProps,Ne.current),rn=n,Jn=!0,h=Tt,tr(n.type)?(Sd=h,Tt=ei(l.firstChild)):Tt=h),ln(t,n,n.pendingProps.children,r),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=l=Tt)&&(l=mb(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,rn=n,Tt=ei(l.firstChild),Jn=!1,h=!0):h=!1),h||Bs(n)),$i(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,vd(h,f)?l=null:p!==null&&vd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,xT,null,null,r),Ao._currentValue=h),ic(t,n),ln(t,n,l,r),n.child;case 6:return t===null&&Ke&&((t=r=Tt)&&(r=pb(r,n.pendingProps,Jn),r!==null?(n.stateNode=r,rn=n,Tt=null,t=!0):t=!1),t||Bs(n)),null;case 13:return fy(t,n,r);case 4:return Ct(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,r):ln(t,n,l,r),n.child;case 11:return iy(t,n,n.type,n.pendingProps,r);case 7:return ln(t,n,n.pendingProps,r),n.child;case 8:return ln(t,n,n.pendingProps.children,r),n.child;case 12:return ln(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Hs(n,n.type,l.value),ln(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Kr(n),h=an(h),l=l(h),n.flags|=1,ln(t,n,l,r),n.child;case 14:return sy(t,n,n.type,n.pendingProps,r);case 15:return ry(t,n,n.type,n.pendingProps,r);case 19:return my(t,n,r);case 31:return LT(t,n,r);case 22:return ay(t,n,r,n.pendingProps);case 24:return Kr(n),l=an(jt),t===null?(h=of(),h===null&&(h=vt,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},cf(n),Hs(n,jt,h)):((t.lanes&r)!==0&&(hf(t,n),no(n,null,null,r),to()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,jt,l)):(l=f.cache,Hs(n,jt,l),l!==h.cache&&rf(n,[jt],r,!0))),ln(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function us(t){t.flags|=4}function Qf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Hy())t.flags|=8192;else throw Zr=Hu,uf}else t.flags&=-16777217}function gy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D_(n))if(Hy())t.flags|=8192;else throw Zr=Hu,uf}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?hu():536870912,t.lanes|=n,Qa|=n)}function oo(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function zT(t,n,r){var l=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),rs(jt),_t(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ma(n)?us(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),bt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(us(n),f!==null?(bt(n),gy(n,f)):(bt(n),Qf(n,h,null,l,r))):f?f!==t.memoizedState?(us(n),bt(n),gy(n,f)):(bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&us(n),bt(n),Qf(n,h,t,l,r)),null;case 27:if(Cs(n),r=Ne.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return bt(n),null}t=ce.current,Ma(n)?Xp(n):(t=A_(h,l,r),n.stateNode=t,us(n))}return bt(n),null;case 5:if(Cs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return bt(n),null}if(f=ce.current,Ma(n))Xp(n);else{var p=Ec(Ne.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Lt]=n,f[Zt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(on(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&us(n)}}return bt(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ne.current,Ma(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||f_(t.nodeValue,r)),t||Bs(n,!0)}else t=Ec(t).createTextNode(l),t[Lt]=n,n.stateNode=t}return bt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Lt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return bt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Lt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),rc(n,n.updateQueue),bt(n),null);case 4:return _t(),t===null&&md(n.stateNode.containerInfo),bt(n),null;case 10:return rs(n.type),bt(n),null;case 19:if(Y(Mt),l=n.memoizedState,l===null)return bt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)oo(l,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,oo(l,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Gp(r,t),r=r.sibling;return le(Mt,Mt.current&1|2),Ke&&is(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&he()>cc&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),oo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ke)return bt(n),null}else 2*he()-l.renderingStartTime>cc&&r!==536870912&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=he(),t.sibling=null,r=Mt.current,le(Mt,h?r&1|2:r&1),Ke&&is(n,l.treeForkCount),t):(bt(n),null);case 22:case 23:return Pn(n),pf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),r=n.updateQueue,r!==null&&rc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(Xr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),rs(jt),bt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function jT(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(jt),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cs(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Mt),null;case 4:return _t(),null;case 10:return rs(n.type),null;case 22:case 23:return Pn(n),pf(),t!==null&&Y(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(jt),null;case 25:return null;default:return null}}function yy(t,n){switch(Wh(n),n.tag){case 3:rs(jt),_t();break;case 26:case 27:case 5:Cs(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:Y(Mt);break;case 10:rs(n.type);break;case 22:case 23:Pn(n),pf(),t!==null&&Y(Xr);break;case 24:rs(jt)}}function uo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(E){ct(n,n.return,E)}}function Ks(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=r,z=E;try{z()}catch(F){ct(h,C,F)}}}l=l.next}while(l!==f)}}catch(F){ct(n,n.return,F)}}function _y(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{og(n,r)}catch(l){ct(t,t.return,l)}}}function vy(t,n,r){r.props=ea(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ct(t,n,l)}}function co(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){ct(t,n,h)}}function zi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){ct(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ct(t,n,h)}else r.current=null}function Ey(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){ct(t,t.return,h)}}function Yf(t,n,r){try{var l=t.stateNode;ob(l,t.type,r,n),l[Zt]=n}catch(h){ct(t,t.return,h)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oi));else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,r),t=t.sibling;t!==null;)Xf(t,n,r),t=t.sibling}function ac(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ac(t,n,r),t=t.sibling;t!==null;)ac(t,n,r),t=t.sibling}function by(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,l,r),n[Lt]=t,n[Zt]=r}catch(f){ct(t,t.return,f)}}var cs=!1,qt=!1,$f=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function BT(t,n){if(t=t.containerInfo,yd=Ic,t=kp(t),Hh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,C=-1,z=0,F=0,K=t,j=null;t:for(;;){for(var H;K!==r||h!==0&&K.nodeType!==3||(E=p+h),K!==f||l!==0&&K.nodeType!==3||(C=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(H=K.firstChild)!==null;)j=K,K=H;for(;;){if(K===t)break t;if(j===r&&++z===h&&(E=p),j===f&&++F===l&&(C=p),(H=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=H}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:t,selectionRange:r},Ic=!1,Wt=n;Wt!==null;)if(n=Wt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Wt=t;else for(;Wt!==null;){switch(n=Wt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var de=ea(r.type,h);t=l.getSnapshotBeforeUpdate(de,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){ct(r,r.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Td(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Wt=t;break}Wt=n.return}}function Sy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:fs(t,r),l&4&&uo(5,r);break;case 1:if(fs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){ct(r,r.return,p)}else{var h=ea(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ct(r,r.return,p)}}l&64&&_y(r),l&512&&co(r,r.return);break;case 3:if(fs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{og(t,n)}catch(p){ct(r,r.return,p)}}break;case 27:n===null&&l&4&&by(r);case 26:case 5:fs(t,r),n===null&&l&4&&Ey(r),l&512&&co(r,r.return);break;case 12:fs(t,r);break;case 31:fs(t,r),l&4&&Iy(t,r);break;case 13:fs(t,r),l&4&&Cy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=$T.bind(null,r),gb(t,r))));break;case 22:if(l=r.memoizedState!==null||cs,!l){n=n!==null&&n.memoizedState!==null||qt,h=cs;var f=qt;cs=l,(qt=n)&&!f?ds(t,r,(r.subtreeFlags&8772)!==0):fs(t,r),cs=h,qt=f}break;case 30:break;default:fs(t,r)}}function wy(t){var n=t.alternate;n!==null&&(t.alternate=null,wy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ga(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,wn=!1;function hs(t,n,r){for(r=r.child;r!==null;)Ry(t,n,r),r=r.sibling}function Ry(t,n,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(rt,r)}catch{}switch(r.tag){case 26:qt||zi(r,n),hs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:qt||zi(r,n);var l=wt,h=wn;tr(r.type)&&(wt=r.stateNode,wn=!1),hs(t,n,r),Eo(r.stateNode),wt=l,wn=h;break;case 5:qt||zi(r,n);case 6:if(l=wt,h=wn,wt=null,hs(t,n,r),wt=l,wn=h,wt!==null)if(wn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(r.stateNode)}catch(f){ct(r,n,f)}else try{wt.removeChild(r.stateNode)}catch(f){ct(r,n,f)}break;case 18:wt!==null&&(wn?(t=wt,__(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),el(t)):__(wt,r.stateNode));break;case 4:l=wt,h=wn,wt=r.stateNode.containerInfo,wn=!0,hs(t,n,r),wt=l,wn=h;break;case 0:case 11:case 14:case 15:Ks(2,r,n),qt||Ks(4,r,n),hs(t,n,r);break;case 1:qt||(zi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&vy(r,n,l)),hs(t,n,r);break;case 21:hs(t,n,r);break;case 22:qt=(l=qt)||r.memoizedState!==null,hs(t,n,r),qt=l;break;default:hs(t,n,r)}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{el(t)}catch(r){ct(n,n.return,r)}}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{el(t)}catch(r){ct(n,n.return,r)}}function HT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ay),n;default:throw Error(a(435,t.tag))}}function lc(t,n){var r=HT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=ZT.bind(null,t,l);l.then(h,h)}})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(tr(E.type)){wt=E.stateNode,wn=!1;break e}break;case 5:wt=E.stateNode,wn=!1;break e;case 3:case 4:wt=E.stateNode.containerInfo,wn=!0;break e}E=E.return}if(wt===null)throw Error(a(160));Ry(f,p,h),wt=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var mi=null;function xy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),In(t),l&4&&(Ks(3,t,t.return),uo(3,t),Ks(5,t,t.return));break;case 1:Rn(n,t),In(t),l&512&&(qt||r===null||zi(r,r.return)),l&64&&cs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=mi;if(Rn(n,t),In(t),l&512&&(qt||r===null||zi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,l,r),f[Lt]=t,Pt(f),l=f;break e;case"link":var p=x_("link","href",h).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;case"meta":if(p=x_("meta","content",h).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Lt]=t,Pt(f),l=f}t.stateNode=l}else N_(h,t.type,t.stateNode);else t.stateNode=C_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?N_(h,t.type,t.stateNode):C_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Rn(n,t),In(t),l&512&&(qt||r===null||zi(r,r.return)),r!==null&&l&4&&Yf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Rn(n,t),In(t),l&512&&(qt||r===null||zi(r,r.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(de){ct(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Yf(t,h,r!==null?r.memoizedProps:h)),l&1024&&($f=!0);break;case 6:if(Rn(n,t),In(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(de){ct(t,t.return,de)}}break;case 3:if(Ac=null,h=mi,mi=Tc(n.containerInfo),Rn(n,t),mi=h,In(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{el(n.containerInfo)}catch(de){ct(t,t.return,de)}$f&&($f=!1,Ny(t));break;case 4:l=mi,mi=Tc(t.stateNode.containerInfo),Rn(n,t),In(t),mi=l;break;case 12:Rn(n,t),In(t);break;case 31:Rn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 13:Rn(n,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uc=he()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,z=cs,F=qt;if(cs=z||h,qt=F||C,Rn(n,t),qt=F,cs=z,In(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||cs||qt||ta(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(de){ct(C,C.return,de)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(de){ct(C,C.return,de)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?v_(H,!0):v_(C.stateNode,!1)}catch(de){ct(C,C.return,de)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,lc(t,r))));break;case 19:Rn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 30:break;case 21:break;default:Rn(n,t),In(t)}}function In(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ty(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Kf(t);ac(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(Sn(p,""),r.flags&=-33);var E=Kf(t);ac(t,E,p);break;case 3:case 4:var C=r.stateNode.containerInfo,z=Kf(t);Xf(t,z,C);break;default:throw Error(a(161))}}catch(F){ct(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),ta(n);break;case 1:zi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&vy(n,n.return,r),ta(n);break;case 27:Eo(n.stateNode);case 26:case 5:zi(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function ds(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ds(h,f,r),uo(4,f);break;case 1:if(ds(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ct(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)lg(C[h],E)}catch(z){ct(l,l.return,z)}}r&&p&64&&_y(f),co(f,f.return);break;case 27:by(f);case 26:case 5:ds(h,f,r),r&&l===null&&p&4&&Ey(f),co(f,f.return);break;case 12:ds(h,f,r);break;case 31:ds(h,f,r),r&&p&4&&Iy(h,f);break;case 13:ds(h,f,r),r&&p&4&&Cy(h,f);break;case 22:f.memoizedState===null&&ds(h,f,r),co(f,f.return);break;case 30:break;default:ds(h,f,r)}n=n.sibling}}function Zf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$l(r))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t))}function pi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(t,n,r,l),n=n.sibling}function Dy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,r,l),h&2048&&uo(9,n);break;case 1:pi(t,n,r,l);break;case 3:pi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t)));break;case 12:if(h&2048){pi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ct(n,n.return,C)}}else pi(t,n,r,l);break;case 31:pi(t,n,r,l);break;case 13:pi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,r,l):ho(t,n):f._visibility&2?pi(t,n,r,l):(f._visibility|=2,qa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:pi(t,n,r,l),h&2048&&Jf(n.alternate,n);break;default:pi(t,n,r,l)}}function qa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,C=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:qa(f,p,E,C,h),uo(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?qa(f,p,E,C,h):ho(f,p):(F._visibility|=2,qa(f,p,E,C,h)),h&&z&2048&&Zf(p.alternate,p);break;case 24:qa(f,p,E,C,h),h&&z&2048&&Jf(p.alternate,p);break;default:qa(f,p,E,C,h)}n=n.sibling}}function ho(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:ho(r,l),h&2048&&Zf(l.alternate,l);break;case 24:ho(r,l),h&2048&&Jf(l.alternate,l);break;default:ho(r,l)}n=n.sibling}}var fo=8192;function Ga(t,n,r){if(t.subtreeFlags&fo)for(t=t.child;t!==null;)Oy(t,n,r),t=t.sibling}function Oy(t,n,r){switch(t.tag){case 26:Ga(t,n,r),t.flags&fo&&t.memoizedState!==null&&Cb(r,mi,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,n,r);break;case 3:case 4:var l=mi;mi=Tc(t.stateNode.containerInfo),Ga(t,n,r),mi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=fo,fo=16777216,Ga(t,n,r),fo=l):Ga(t,n,r));break;default:Ga(t,n,r)}}function My(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Wt=l,ky(l,t)}My(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:mo(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:mo(t);break;case 12:mo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,oc(t)):mo(t);break;default:mo(t)}}function oc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Wt=l,ky(l,t)}My(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),oc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,oc(n));break;default:oc(n)}t=t.sibling}}function ky(t,n){for(;Wt!==null;){var r=Wt;switch(r.tag){case 0:case 11:case 15:Ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$l(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Wt=l;else e:for(r=t;Wt!==null;){l=Wt;var h=l.sibling,f=l.return;if(wy(l),l===r){Wt=null;break e}if(h!==null){h.return=f,Wt=h;break e}Wt=f}}}var qT={getCacheForType:function(t){var n=an(jt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return an(jt).controller.signal}},GT=typeof WeakMap=="function"?WeakMap:Map,st=0,vt=null,Pe=null,He=0,ut=0,zn=null,Xs=!1,Fa=!1,Wf=!1,ms=0,Nt=0,$s=0,na=0,ed=0,jn=0,Qa=0,po=null,Cn=null,td=!1,uc=0,Uy=0,cc=1/0,hc=null,Zs=null,Kt=0,Js=null,Ya=null,ps=0,nd=0,id=null,Ly=null,go=0,sd=null;function Bn(){return(st&2)!==0&&He!==0?He&-He:G.T!==null?cd():fu()}function Py(){if(jn===0)if((He&536870912)===0||Ke){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),jn=t}else jn=536870912;return t=Ln.current,t!==null&&(t.flags|=32),jn}function xn(t,n,r){(t===vt&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Ws(t,He,jn,!1)),Nr(t,r),((st&2)===0||t!==vt)&&(t===vt&&((st&2)===0&&(na|=r),Nt===4&&Ws(t,He,jn,!1)),ji(t))}function zy(t,n,r){if((st&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ri(t,n),h=l?YT(t,n):ad(t,n,!0),f=l;do{if(h===0){Fa&&!l&&Ws(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!FT(r)){h=ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=po;var C=E.current.memoizedState.isDehydrated;if(C&&(Ka(E,p).flags|=256),p=ad(E,p,!1),p!==2){if(Wf&&!C){E.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),Ws(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ws(l,n,jn,!Xs);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-he(),10<h)){if(Ws(l,n,jn,!Xs),bi(l,0,!0)!==0)break e;ps=n,l.timeoutHandle=g_(jy.bind(null,l,r,Cn,hc,td,n,jn,na,Qa,Xs,f,"Throttled",-0,0),h);break e}jy(l,r,Cn,hc,td,n,jn,na,Qa,Xs,f,null,-0,0)}}break}while(!0);ji(t)}function jy(t,n,r,l,h,f,p,E,C,z,F,K,j,H){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Oy(n,f,K);var de=(f&62914560)===f?uc-he():(f&4194048)===f?Uy-he():0;if(de=xb(K,de),de!==null){ps=f,t.cancelPendingCommit=de(Ky.bind(null,t,n,f,r,l,h,p,E,C,F,K,null,j,H)),Ws(t,f,p,!z);return}}Ky(t,n,f,r,l,h,p,E,C)}function FT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!kn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ws(t,n,r,l){n&=~ed,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Dt(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Dr(t,r,n)}function fc(){return(st&6)===0?(yo(0),!1):!0}function rd(){if(Pe!==null){if(ut===0)var t=Pe.return;else t=Pe,ss=Yr=null,Tf(t),Pa=null,Jl=0,t=Pe;for(;t!==null;)yy(t.alternate,t),t=t.return;Pe=null}}function Ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,hb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ps=0,rd(),vt=t,Pe=r=ns(t.current,null),He=n,ut=0,zn=null,Xs=!1,Fa=ri(t,n),Wf=!1,Qa=jn=ed=na=$s=Nt=0,Cn=po=null,td=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Dt(l),f=1<<h;n|=t[h],l&=~f}return ms=n,Mu(),r}function By(t,n){Me=null,G.H=ao,n===La||n===Bu?(n=ig(),ut=3):n===uf?(n=ig(),ut=4):ut=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,Pe===null&&(Nt=1,tc(t,Xn(n,t.current)))}function Hy(){var t=Ln.current;return t===null?!0:(He&4194048)===He?Wn===null:(He&62914560)===He||(He&536870912)!==0?t===Wn:!1}function qy(){var t=G.H;return G.H=ao,t===null?ao:t}function Gy(){var t=G.A;return G.A=qT,t}function dc(){Nt=4,Xs||(He&4194048)!==He&&Ln.current!==null||(Fa=!0),($s&134217727)===0&&(na&134217727)===0||vt===null||Ws(vt,He,jn,!1)}function ad(t,n,r){var l=st;st|=2;var h=qy(),f=Gy();(vt!==t||He!==n)&&(hc=null,Ka(t,n)),n=!1;var p=Nt;e:do try{if(ut!==0&&Pe!==null){var E=Pe,C=zn;switch(ut){case 8:rd(),p=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var z=ut;if(ut=0,zn=null,Xa(t,E,C,z),r&&Fa){p=0;break e}break;default:z=ut,ut=0,zn=null,Xa(t,E,C,z)}}QT(),p=Nt;break}catch(F){By(t,F)}while(!0);return n&&t.shellSuspendCounter++,ss=Yr=null,st=l,G.H=h,G.A=f,Pe===null&&(vt=null,He=0,Mu()),p}function QT(){for(;Pe!==null;)Fy(Pe)}function YT(t,n){var r=st;st|=2;var l=qy(),h=Gy();vt!==t||He!==n?(hc=null,cc=he()+500,Ka(t,n)):Fa=ri(t,n);e:do try{if(ut!==0&&Pe!==null){n=Pe;var f=zn;t:switch(ut){case 1:ut=0,zn=null,Xa(t,n,f,1);break;case 2:case 9:if(tg(f)){ut=0,zn=null,Qy(n);break}n=function(){ut!==2&&ut!==9||vt!==t||(ut=7),ji(t)},f.then(n,n);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:tg(f)?(ut=0,zn=null,Qy(n)):(ut=0,zn=null,Xa(t,n,f,7));break;case 5:var p=null;switch(Pe.tag){case 26:p=Pe.memoizedState;case 5:case 27:var E=Pe;if(p?D_(p):E.stateNode.complete){ut=0,zn=null;var C=E.sibling;if(C!==null)Pe=C;else{var z=E.return;z!==null?(Pe=z,mc(z)):Pe=null}break t}}ut=0,zn=null,Xa(t,n,f,5);break;case 6:ut=0,zn=null,Xa(t,n,f,6);break;case 8:rd(),Nt=6;break e;default:throw Error(a(462))}}KT();break}catch(F){By(t,F)}while(!0);return ss=Yr=null,G.H=l,G.A=h,st=r,Pe!==null?0:(vt=null,He=0,Mu(),Nt)}function KT(){for(;Pe!==null&&!Ve();)Fy(Pe)}function Fy(t){var n=py(t.alternate,t,ms);t.memoizedProps=t.pendingProps,n===null?mc(t):Pe=n}function Qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=uy(r,n,n.pendingProps,n.type,void 0,He);break;case 11:n=uy(r,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:Tf(n);default:yy(r,n),n=Pe=Gp(n,ms),n=py(r,n,ms)}t.memoizedProps=t.pendingProps,n===null?mc(t):Pe=n}function Xa(t,n,r,l){ss=Yr=null,Tf(n),Pa=null,Jl=0;var h=n.return;try{if(UT(t,h,n,r,He)){Nt=1,tc(t,Xn(r,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;Nt=1,tc(t,Xn(r,t.current)),Pe=null;return}n.flags&32768?(Ke||l===1?t=!0:Fa||(He&536870912)!==0?t=!1:(Xs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yy(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){Yy(n,Xs);return}t=n.return;var r=zT(n.alternate,n,ms);if(r!==null){Pe=r;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=t}while(n!==null);Nt===0&&(Nt=5)}function Yy(t,n){do{var r=jT(t.alternate,t);if(r!==null){r.flags&=32767,Pe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=r}while(t!==null);Nt=6,Pe=null}function Ky(t,n,r,l,h,f,p,E,C){t.cancelPendingCommit=null;do pc();while(Kt!==0);if((st&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,Ph(t,r,f,p,E,C),t===vt&&(Pe=vt=null,He=0),Ya=n,Js=t,ps=r,nd=f,id=h,Ly=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JT(me,function(){return Wy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ue.p,ue.p=2,p=st,st|=4;try{BT(t,n,r)}finally{st=p,ue.p=h,G.T=l}}Kt=1,Xy(),$y(),Zy()}}function Xy(){if(Kt===1){Kt=0;var t=Js,n=Ya,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=ue.p;ue.p=2;var h=st;st|=4;try{xy(n,t);var f=_d,p=kp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Vp(E.ownerDocument.documentElement,E)){if(C!==null&&Hh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var H=j.getSelection(),de=E.textContent.length,be=Math.min(C.start,de),gt=C.end===void 0?be:Math.min(C.end,de);!H.extend&&be>gt&&(p=gt,gt=be,be=p);var k=Mp(E,be),O=Mp(E,gt);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=K.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),be>gt?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ic=!!yd,_d=yd=null}finally{st=h,ue.p=l,G.T=r}}t.current=n,Kt=2}}function $y(){if(Kt===2){Kt=0;var t=Js,n=Ya,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=ue.p;ue.p=2;var h=st;st|=4;try{Sy(t,n.alternate,n)}finally{st=h,ue.p=l,G.T=r}}Kt=3}}function Zy(){if(Kt===4||Kt===3){Kt=0,se();var t=Js,n=Ya,r=ps,l=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,Ya=Js=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zs=null),Ji(r),n=n.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(rt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ue.p,ue.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ue.p=h}}(ps&3)!==0&&pc(),ji(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===sd?go++:(go=0,sd=t):go=0,yo(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$l(n)))}function pc(){return Xy(),$y(),Zy(),Wy()}function Wy(){if(Kt!==5)return!1;var t=Js,n=nd;nd=0;var r=Ji(ps),l=G.T,h=ue.p;try{ue.p=32>r?32:r,G.T=null,r=id,id=null;var f=Js,p=ps;if(Kt=0,Ya=Js=null,ps=0,(st&6)!==0)throw Error(a(331));var E=st;if(st|=4,Vy(f.current),Dy(f,f.current,p,r),st=E,yo(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(rt,f)}catch{}return!0}finally{ue.p=h,G.T=l,Jy(t,n)}}function e_(t,n,r){n=Xn(r,n),n=Uf(t.stateNode,n,2),t=Fs(t,n,2),t!==null&&(Nr(t,2),ji(t))}function ct(t,n,r){if(t.tag===3)e_(t,t,r);else for(;n!==null;){if(n.tag===3){e_(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zs===null||!Zs.has(l))){t=Xn(r,t),r=ty(2),l=Fs(n,r,2),l!==null&&(ny(r,l,n,t),Nr(l,2),ji(l));break}}n=n.return}}function ld(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new GT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Wf=!0,h.add(r),t=XT.bind(null,t,n,r),n.then(t,t))}function XT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,vt===t&&(He&r)===r&&(Nt===4||Nt===3&&(He&62914560)===He&&300>he()-uc?(st&2)===0&&Ka(t,0):ed|=r,Qa===He&&(Qa=0)),ji(t)}function t_(t,n){n===0&&(n=hu()),t=Gr(t,n),t!==null&&(Nr(t,n),ji(t))}function $T(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),t_(t,r)}function ZT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),t_(t,r)}function JT(t,n){return te(t,n)}var gc=null,$a=null,od=!1,yc=!1,ud=!1,er=0;function ji(t){t!==$a&&t.next===null&&($a===null?gc=$a=t:$a=$a.next=t),yc=!0,od||(od=!0,eb())}function yo(t,n){if(!ud&&yc){ud=!0;do for(var r=!1,l=gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Dt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,r_(l,f))}else f=He,f=bi(l,l===vt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ri(l,f)||(r=!0,r_(l,f));l=l.next}while(r);ud=!1}}function WT(){n_()}function n_(){yc=od=!1;var t=0;er!==0&&cb()&&(t=er);for(var n=he(),r=null,l=gc;l!==null;){var h=l.next,f=i_(l,n);f===0?(l.next=null,r===null?gc=h:r.next=h,h===null&&($a=r)):(r=l,(t!==0||(f&3)!==0)&&(yc=!0)),l=h}Kt!==0&&Kt!==5||yo(t),er!==0&&(er=0)}function i_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Dt(f),E=1<<p,C=h[p];C===-1?((E&r)===0||(E&l)!==0)&&(h[p]=Lh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=vt,r=He,r=bi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&oe(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ri(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&oe(l),Ji(r)){case 2:case 8:r=Et;break;case 32:r=me;break;case 268435456:r=Ue;break;default:r=me}return l=s_.bind(null,t),r=te(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&oe(l),t.callbackPriority=2,t.callbackNode=null,2}function s_(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(pc()&&t.callbackNode!==r)return null;var l=He;return l=bi(t,t===vt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(zy(t,l,n),i_(t,he()),t.callbackNode!=null&&t.callbackNode===r?s_.bind(null,t):null)}function r_(t,n){if(pc())return null;zy(t,n,!0)}function eb(){fb(function(){(st&6)!==0?te(tt,WT):n_()})}function cd(){if(er===0){var t=ka;t===0&&(t=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),er=t}return er}function a_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function l_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function tb(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=a_((h[Zt]||null).action),p=l.submitter;p&&(n=(n=p[Zt]||null)?a_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Mi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var C=p?l_(h,p):new FormData(h);Nf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?l_(h,p):new FormData(h),Nf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],nb=fd.toLowerCase(),ib=fd[0].toUpperCase()+fd.slice(1);di(nb,"on"+ib)}di(Pp,"onAnimationEnd"),di(zp,"onAnimationIteration"),di(jp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(vT,"onTransitionRun"),di(ET,"onTransitionStart"),di(TT,"onTransitionCancel"),di(Bp,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function o_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Ou(F)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(E=l[p],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Ou(F)}h.currentTarget=null,f=C}}}}function ze(t,n){var r=n[pa];r===void 0&&(r=n[pa]=new Set);var l=t+"__bubble";r.has(l)||(u_(n,t,2,!1),r.add(l))}function dd(t,n,r){var l=0;n&&(l|=4),u_(r,t,l,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[_c]){t[_c]=!0,xl.forEach(function(r){r!=="selectionchange"&&(sb.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,dd("selectionchange",!1,n))}}function u_(t,n,r,l){switch(P_(n)){case 2:var h=Ob;break;case 8:h=Mb;break;default:h=xd}r=h.bind(null,n,r,t),h=void 0,!Ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function pd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ri(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue e}E=E.parentNode}}l=l.return}ks(function(){var z=f,F=Fn(r),K=[];e:{var j=Hp.get(t);if(j!==void 0){var H=Mi,de=t;switch(t){case"keypress":if(Pr(r)===0)break e;case"keydown":case"keyup":H=xu;break;case"focusin":de="focus",H=jr;break;case"focusout":de="blur",H=jr;break;case"beforeblur":case"afterblur":H=jr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Pp:case zp:case jp:H=bu;break;case Bp:H=b;break;case"scroll":case"scrollend":H=Bl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ts;break;case"toggle":case"beforetoggle":H=Oe}var be=(n&4)!==0,gt=!be&&(t==="scroll"||t==="scrollend"),k=be?j!==null?j+"Capture":null:j;be=[];for(var O=z,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ui(O,k),Q!=null&&be.push(vo(O,Q,P))),gt)break;O=O.return}0<be.length&&(j=new H(j,de,null,r,F),K.push({event:j,listeners:be}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&r!==Pl&&(de=r.relatedTarget||r.fromElement)&&(Ri(de)||de[Si]))break e;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(de=r.relatedTarget||r.toElement,H=z,de=de?Ri(de):null,de!==null&&(gt=c(de),be=de.tag,de!==gt||be!==5&&be!==27&&be!==6)&&(de=null)):(H=null,de=z),H!==de)){if(be=Hl,Q="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(be=ts,Q="onPointerLeave",k="onPointerEnter",O="pointer"),gt=H==null?j:Mn(H),P=de==null?j:Mn(de),j=new be(Q,O+"leave",H,r,F),j.target=gt,j.relatedTarget=P,Q=null,Ri(F)===z&&(be=new be(k,O+"enter",de,r,F),be.target=P,be.relatedTarget=gt,Q=be),gt=Q,H&&de)t:{for(be=rb,k=H,O=de,P=0,Q=k;Q;Q=be(Q))P++;Q=0;for(var _e=O;_e;_e=be(_e))Q++;for(;0<P-Q;)k=be(k),P--;for(;0<Q-P;)O=be(O),Q--;for(;P--;){if(k===O||O!==null&&k===O.alternate){be=k;break t}k=be(k),O=be(O)}be=null}else be=null;H!==null&&c_(K,j,H,be,!1),de!==null&&gt!==null&&c_(K,gt,de,be,!0)}}e:{if(j=z?Mn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Je=Ip;else if(wp(j))if(Cp)Je=gT;else{Je=mT;var pe=dT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&va(z.elementType)&&(Je=Ip):Je=pT;if(Je&&(Je=Je(t,z))){Rp(K,Je,r,F);break e}pe&&pe(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&kl(j,"number",j.value)}switch(pe=z?Mn(z):window,t){case"focusin":(wp(pe)||pe.contentEditable==="true")&&(Ia=pe,qh=z,Yl=null);break;case"focusout":Yl=qh=Ia=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Up(K,r,F);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":Up(K,r,F)}var ke;if(it)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Ra?Br(t,r)&&(qe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(qe="onCompositionStart");qe&&(Ui&&r.locale!=="ko"&&(Ra||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Ra&&(ke=jl()):(Oi=F,zl="value"in Oi?Oi.value:Oi.textContent,Ra=!0)),pe=vc(z,qe),0<pe.length&&(qe=new ki(qe,t,null,r,F),K.push({event:qe,listeners:pe}),ke?qe.data=ke:(ke=wa(r),ke!==null&&(qe.data=ke)))),(ke=Yn?uT(t,r):cT(t,r))&&(qe=vc(z,"onBeforeInput"),0<qe.length&&(pe=new ki("onBeforeInput","beforeinput",null,r,F),K.push({event:pe,listeners:qe}),pe.data=ke)),tb(K,t,z,r,F)}o_(K,n)})}function vo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,r),h!=null&&l.unshift(vo(t,h,f)),h=ui(t,n),h!=null&&l.push(vo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function rb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function c_(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ui(r,f),z!=null&&p.unshift(vo(r,z,C))):h||(z=ui(r,f),z!=null&&p.push(vo(r,z,C)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var ab=/\r\n?/g,lb=/\u0000|\uFFFD/g;function h_(t){return(typeof t=="string"?t:""+t).replace(ab,`
`).replace(lb,"")}function f_(t,n){return n=h_(n),h_(t)===n}function pt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,r,l);break;case"style":Ll(t,l,f);break;case"data":if(n!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&pt(t,n,"name",h.name,h,null),pt(t,n,"formEncType",h.formEncType,h,null),pt(t,n,"formMethod",h.formMethod,h,null),pt(t,n,"formTarget",h.formTarget,h,null)):(pt(t,n,"encType",h.encType,h,null),pt(t,n,"method",h.method,h,null),pt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vu.get(r)||r,ya(t,r,l))}}function gd(t,n,r,l,h,f){switch(r){case"style":Ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Zt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ya(t,r,l)}}}function on(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pt(t,n,f,p,r,null)}}h&&pt(t,n,"srcSet",r.srcSet,r,null),l&&pt(t,n,"src",r.src,r,null);return;case"input":ze("invalid",t);var E=f=p=h=null,C=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:pt(t,n,l,F,r,null)}}gu(t,f,E,C,z,p,h,!1);return;case"select":ze("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:pt(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Ds(t,!!l,n,!1):r!=null&&Ds(t,!!l,r,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:pt(t,n,p,E,r,null)}Os(t,l,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":pt(t,n,C,l,r,null));return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<_o.length;l++)ze(_o[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pt(t,n,z,l,r,null)}return;default:if(va(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&gd(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&pt(t,n,E,l,r,null))}function ob(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,z=null,F=null;for(H in r){var K=r[H];if(r.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=K;default:l.hasOwnProperty(H)||pt(t,n,H,null,l,K)}}for(var j in l){var H=l[j];if(K=r[j],l.hasOwnProperty(j)&&(H!=null||K!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&pt(t,n,j,H,l,K)}}_a(t,p,E,C,z,F,f,h);return;case"select":H=p=E=j=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||pt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&pt(t,n,h,f,l,C)}n=E,r=p,l=H,j!=null?Ds(t,!!r,j,!1):!!l!=!!r&&(n!=null?Ds(t,!!r,n,!0):Ds(t,!!r,r?[]:"",!1));return;case"textarea":H=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:pt(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&pt(t,n,p,h,l,f)}yu(t,j,H);return;case"option":for(var de in r)j=r[de],r.hasOwnProperty(de)&&j!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:pt(t,n,de,null,l,j));for(C in l)j=l[C],H=r[C],l.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null)&&(C==="selected"?t.selected=j&&typeof j!="function"&&typeof j!="symbol":pt(t,n,C,j,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)j=r[be],r.hasOwnProperty(be)&&j!=null&&!l.hasOwnProperty(be)&&pt(t,n,be,null,l,j);for(z in l)if(j=l[z],H=r[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:pt(t,n,z,j,l,H)}return;default:if(va(n)){for(var gt in r)j=r[gt],r.hasOwnProperty(gt)&&j!==void 0&&!l.hasOwnProperty(gt)&&gd(t,n,gt,void 0,l,j);for(F in l)j=l[F],H=r[F],!l.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||gd(t,n,F,j,l,H);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&pt(t,n,k,null,l,j);for(K in l)j=l[K],H=r[K],!l.hasOwnProperty(K)||j===H||j==null&&H==null||pt(t,n,K,j,l,H)}function d_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ub(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&d_(p)){for(p=0,E=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],z=C.startTime;if(z>E)break;var F=C.transferSize,K=C.initiatorType;F&&d_(K)&&(C=C.responseEnd,p+=F*(C<E?1:(E-z)/(C-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function m_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function cb(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,hb=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,fb=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(t){return y_.resolve(null).then(t).catch(db)}:g_;function db(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function __(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),el(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Eo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Eo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[wi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&Eo(t.ownerDocument.body);r=h}while(r);el(n)}function v_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Td(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Td(r),ga(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function mb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function pb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ei(t.nextSibling),t===null))return null;return t}function E_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ei(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function T_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ei(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function b_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function A_(t,n,r){switch(n=Ec(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Eo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ga(t)}var ti=new Map,S_=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ue.d;ue.d={f:yb,r:_b,D:vb,C:Eb,L:Tb,m:bb,X:Sb,S:Ab,M:wb};function yb(){var t=gs.f(),n=fc();return t||n}function _b(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?Bg(n):gs.r(t)}var Za=typeof document>"u"?null:document;function w_(t,n,r){var l=Za;if(l&&typeof n=="string"&&n){var h=An(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),S_.has(h)||(S_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),on(n,"link",t),Pt(n),l.head.appendChild(n)))}}function vb(t){gs.D(t),w_("dns-prefetch",t,null)}function Eb(t,n){gs.C(t,n),w_("preconnect",t,n)}function Tb(t,n,r){gs.L(t,n,r);var l=Za;if(l&&t&&n){var h='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+An(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+An(r.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(n){case"style":f=Ja(t);break;case"script":f=Wa(t)}ti.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ti.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(To(f))||n==="script"&&l.querySelector(bo(f))||(n=l.createElement("link"),on(n,"link",t),Pt(n),l.head.appendChild(n)))}}function bb(t,n){gs.m(t,n);var r=Za;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(t)}if(!ti.has(f)&&(t=w({rel:"modulepreload",href:t},n),ti.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bo(f)))return}l=r.createElement("link"),on(l,"link",t),Pt(l),r.head.appendChild(l)}}}function Ab(t,n,r){gs.S(t,n,r);var l=Za;if(l&&t){var h=Ii(l).hoistableStyles,f=Ja(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(To(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ti.get(f))&&wd(t,r);var C=p=l.createElement("link");Pt(C),on(C,"link",t),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function Sb(t,n){gs.X(t,n);var r=Za;if(r&&t){var l=Ii(r).hoistableScripts,h=Wa(t),f=l.get(h);f||(f=r.querySelector(bo(h)),f||(t=w({src:t,async:!0},n),(n=ti.get(h))&&Rd(t,n),f=r.createElement("script"),Pt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function wb(t,n){gs.M(t,n);var r=Za;if(r&&t){var l=Ii(r).hoistableScripts,h=Wa(t),f=l.get(h);f||(f=r.querySelector(bo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ti.get(h))&&Rd(t,n),f=r.createElement("script"),Pt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function R_(t,n,r,l){var h=(h=Ne.current)?Tc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ja(r.href),r=Ii(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ja(r.href);var f=Ii(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(To(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ti.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ti.set(t,r),f||Rb(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(r),r=Ii(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ja(t){return'href="'+An(t)+'"'}function To(t){return'link[rel="stylesheet"]['+t+"]"}function I_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Rb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",r),Pt(n),t.head.appendChild(n))}function Wa(t){return'[src="'+An(t)+'"]'}function bo(t){return"script[async]"+t}function C_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+An(r.href)+'"]');if(l)return n.instance=l,Pt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),on(l,"style",h),bc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ja(r.href);var f=t.querySelector(To(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;l=I_(r),(h=ti.get(h))&&wd(l,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),on(f,"link",l),n.state.loading|=4,bc(f,r.precedence,t),n.instance=f;case"script":return f=Wa(r.src),(h=t.querySelector(bo(f)))?(n.instance=h,Pt(h),h):(l=r,(h=ti.get(f))&&(l=w({},r),Rd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),on(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,r.precedence,t));return n.instance}function bc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function x_(t,n,r){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(r,l)}else h=Ac,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[wi]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function N_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Ib(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Cb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ja(l.href),f=n.querySelector(To(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Sc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Pt(f);return}f=n.ownerDocument||n,l=I_(l),(h=ti.get(h))&&wd(l,h),f=f.createElement("link"),Pt(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),on(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Sc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Id=0;function xb(t,n){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*ub());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(Nb,t),wc=null,Sc.call(t))}function Nb(t,n){if(!(n.state.loading&4)){var r=wc.get(t);if(r)var l=r.get(null);else{r=new Map,wc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ao={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Db(t,n,r,l,h,f,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function O_(t,n,r,l,h,f,p,E,C,z,F,K){return t=new Db(t,n,r,p,C,z,F,K,E),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},cf(f),t}function M_(t){return t?(t=Na,t):Na}function V_(t,n,r,l,h,f){h=M_(h),l.context===null?l.context=h:l.pendingContext=h,l=Gs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Fs(t,l,n),r!==null&&(xn(r,t,n),eo(r,t,n))}function k_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){k_(t,n),(t=t.alternate)&&k_(t,n)}function U_(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&xn(n,t,67108864),Cd(t,67108864)}}function L_(t){if(t.tag===13||t.tag===31){var n=Bn();n=Or(n);var r=Gr(t,n);r!==null&&xn(r,t,n),Cd(t,n)}}var Ic=!0;function Ob(t,n,r,l){var h=G.T;G.T=null;var f=ue.p;try{ue.p=2,xd(t,n,r,l)}finally{ue.p=f,G.T=h}}function Mb(t,n,r,l){var h=G.T;G.T=null;var f=ue.p;try{ue.p=8,xd(t,n,r,l)}finally{ue.p=f,G.T=h}}function xd(t,n,r,l){if(Ic){var h=Nd(l);if(h===null)pd(t,n,l,Cc,r),z_(t,l);else if(kb(h,t,n,r,l))l.stopPropagation();else if(z_(t,l),n&4&&-1<Vb.indexOf(t)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ti(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-Dt(p);E.entanglements[1]|=C,p&=~C}ji(f),(st&6)===0&&(cc=he()+500,yo(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&xn(E,f,2),fc(),Cd(f,2)}if(f=Nd(l),f===null&&pd(t,n,l,Cc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else pd(t,n,l,null,r)}}function Nd(t){return t=Fn(t),Dd(t)}var Cc=null;function Dd(t){if(Cc=null,t=Ri(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function P_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case tt:return 2;case Et:return 8;case me:case Z:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var Od=!1,nr=null,ir=null,sr=null,So=new Map,wo=new Map,rr=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(t,n){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":So.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(n.pointerId)}}function Ro(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&U_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function kb(t,n,r,l,h){switch(n){case"focusin":return nr=Ro(nr,t,n,r,l,h),!0;case"dragenter":return ir=Ro(ir,t,n,r,l,h),!0;case"mouseover":return sr=Ro(sr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return So.set(f,Ro(So.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,wo.set(f,Ro(wo.get(f)||null,t,n,r,l,h)),!0}return!1}function j_(t){var n=Ri(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ai(t.priority,function(){L_(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ai(t.priority,function(){L_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Pl=l,r.target.dispatchEvent(l),Pl=null}else return n=Gn(r),n!==null&&U_(n),t.blockedOn=r,!1;n.shift()}return!0}function B_(t,n,r){xc(t)&&r.delete(n)}function Ub(){Od=!1,nr!==null&&xc(nr)&&(nr=null),ir!==null&&xc(ir)&&(ir=null),sr!==null&&xc(sr)&&(sr=null),So.forEach(B_),wo.forEach(B_)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ub)))}var Dc=null;function H_(t){Dc!==t&&(Dc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Dd(l||r)===null)continue;break}var f=Gn(r);f!==null&&(t.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function el(t){function n(C){return Nc(C,t)}nr!==null&&Nc(nr,t),ir!==null&&Nc(ir,t),sr!==null&&Nc(sr,t),So.forEach(n),wo.forEach(n);for(var r=0;r<rr.length;r++){var l=rr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)j_(r),r.blockedOn===null&&rr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Zt]||null;if(typeof f=="function")p||H_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Zt]||null)E=p.formAction;else if(Dd(h)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),H_(r)}}}function q_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}Oc.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Bn();V_(r,l,t,n,null,null)},Oc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;V_(t.current,2,null,t,null,null),fc(),n[Si]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=fu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<rr.length&&n!==0&&n<rr[r].priority;r++);rr.splice(r,0,t),r===0&&j_(t)}};var G_=e.version;if(G_!=="19.2.3")throw Error(a(527,G_,"19.2.3"));ue.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Lb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{rt=Mc.inject(Lb),nt=Mc}catch{}}return Co.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Zg,f=Jg,p=Wg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=O_(t,1,!1,null,null,r,l,null,h,f,p,q_),t[Si]=n.current,md(t),new Md(n)},Co.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Zg,p=Jg,E=Wg,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=O_(t,1,!0,n,r??null,l,h,C,f,p,E,q_),n.context=M_(null),r=n.current,l=Bn(),l=Or(l),h=Gs(l),h.callback=null,Fs(r,h,l),r=l,n.current.lanes=r,Nr(n,r),ji(n),t[Si]=n.current,md(t),new Oc(n)},Co.version="19.2.3",Co}var e0;function Kb(){if(e0)return Ud.exports;e0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=Yb(),Ud.exports}var Xb=Kb();const $b=()=>{};var t0={};const Ov=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Zb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,q=_&63;y||(q=64,d||(M=64)),a.push(i[T],i[w],i[M],i[q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ov(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Zb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||w==null)throw new Jb;const M=c<<2|g>>4;if(a.push(M),_!==64){const q=g<<4&240|_>>2;if(a.push(q),w!==64){const ie=_<<6&192|w;a.push(ie)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wb=function(s){const e=Ov(s);return Mv.encodeByteArray(e,!0)},Jc=function(s){return Wb(s).replace(/\./g,"")},Vv=function(s){try{return Mv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tA=()=>eA().__FIREBASE_DEFAULTS__,nA=()=>{if(typeof process>"u"||typeof t0>"u")return;const s=t0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},iA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Vv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return $b()||tA()||nA()||iA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},kv=s=>yh()?.emulatorHosts?.[s],sA=s=>{const e=kv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Uv=()=>yh()?.config,Lv=s=>yh()?.[`_${s}`];class rA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function El(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pv(s){return(await fetch(s,{credentials:"include"})).ok}function aA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Mo={};function lA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Mo))Mo[e]?s.emulator.push(e):s.prod.push(e);return s}function oA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let n0=!1;function zv(s,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||Mo[s]===e||Mo[s]||n0)return;Mo[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=lA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{n0=!0,d()},M}function T(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=oA(a),q=i("text"),ie=document.getElementById(q)||document.createElement("span"),ae=i("learnmore"),ne=document.getElementById(ae)||document.createElement("a"),ve=i("preprendIcon"),Re=document.getElementById(ve)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ee=M.element;g(Ee),T(ne,ae);const et=_();y(Re,ve),Ee.append(Re,ie,ne,et),document.body.appendChild(Ee)}c?(ie.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ie.innerText="Preview backend running in this workspace."),ie.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function cA(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function dA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mA(){const s=yn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pA(){return!cA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gA(){try{return typeof indexedDB=="object"}catch{return!1}}function yA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const _A="FirebaseError";class Is extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=_A,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?vA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Is(o,g,a)}}function vA(s,e){return s.replace(EA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const EA=/\{\$([^}]+)}/g;function TA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Er(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(i0(c)&&i0(d)){if(!Er(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function i0(s){return s!==null&&typeof s=="object"}function $o(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function bA(s,e){const i=new AA(s,e);return i.subscribe.bind(i)}class AA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");SA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function jd(){}function bn(s){return s&&s._delegate?s._delegate:s}class la{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class wA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new rA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IA(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:RA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RA(s){return s===sa?void 0:s}function IA(s){return s.instantiationMode==="EAGER"}class CA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const xA={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},NA=Ge.INFO,DA={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},OA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=DA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=NA,this._logHandler=OA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const MA=(s,e)=>e.some(i=>s instanceof i);let s0,r0;function VA(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kA(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,tm=new WeakMap,Bv=new WeakMap,Bd=new WeakMap,Vm=new WeakMap;function UA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(pr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&jv.set(i,s)}).catch(()=>{}),Vm.set(e,s),e}function LA(s){if(tm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,e)}let nm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return tm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Bv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function PA(s){nm=s(nm)}function zA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hd(this),e,...i);return Bv.set(a,e.sort?e.sort():[e]),pr(a)}:kA().includes(s)?function(...e){return s.apply(Hd(this),e),pr(jv.get(this))}:function(...e){return pr(s.apply(Hd(this),e))}}function jA(s){return typeof s=="function"?zA(s):(s instanceof IDBTransaction&&LA(s),MA(s,VA())?new Proxy(s,nm):s)}function pr(s){if(s instanceof IDBRequest)return UA(s);if(Bd.has(s))return Bd.get(s);const e=jA(s);return e!==s&&(Bd.set(s,e),Vm.set(e,s)),e}const Hd=s=>Vm.get(s);function BA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=pr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(pr(d.result),y.oldVersion,y.newVersion,pr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const HA=["get","getKey","getAll","getAllKeys","count"],qA=["put","add","delete","clear"],qd=new Map;function a0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=qA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||HA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return qd.set(e,c),c}PA(s=>({...s,get:(e,i,a)=>a0(e,i)||s.get(e,i,a),has:(e,i)=>!!a0(e,i)||s.has(e,i)}));class GA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function FA(s){return s.getComponent()?.type==="VERSION"}const im="@firebase/app",l0="0.14.6";const Ts=new Mm("@firebase/app"),QA="@firebase/app-compat",YA="@firebase/analytics-compat",KA="@firebase/analytics",XA="@firebase/app-check-compat",$A="@firebase/app-check",ZA="@firebase/auth",JA="@firebase/auth-compat",WA="@firebase/database",eS="@firebase/data-connect",tS="@firebase/database-compat",nS="@firebase/functions",iS="@firebase/functions-compat",sS="@firebase/installations",rS="@firebase/installations-compat",aS="@firebase/messaging",lS="@firebase/messaging-compat",oS="@firebase/performance",uS="@firebase/performance-compat",cS="@firebase/remote-config",hS="@firebase/remote-config-compat",fS="@firebase/storage",dS="@firebase/storage-compat",mS="@firebase/firestore",pS="@firebase/ai",gS="@firebase/firestore-compat",yS="firebase",_S="12.6.0";const sm="[DEFAULT]",vS={[im]:"fire-core",[QA]:"fire-core-compat",[KA]:"fire-analytics",[YA]:"fire-analytics-compat",[$A]:"fire-app-check",[XA]:"fire-app-check-compat",[ZA]:"fire-auth",[JA]:"fire-auth-compat",[WA]:"fire-rtdb",[eS]:"fire-data-connect",[tS]:"fire-rtdb-compat",[nS]:"fire-fn",[iS]:"fire-fn-compat",[sS]:"fire-iid",[rS]:"fire-iid-compat",[aS]:"fire-fcm",[lS]:"fire-fcm-compat",[oS]:"fire-perf",[uS]:"fire-perf-compat",[cS]:"fire-rc",[hS]:"fire-rc-compat",[fS]:"fire-gcs",[dS]:"fire-gcs-compat",[mS]:"fire-fst",[gS]:"fire-fst-compat",[pS]:"fire-vertex","fire-js":"fire-js",[yS]:"fire-js-all"};const Wc=new Map,ES=new Map,rm=new Map;function o0(s,e){try{s.container.addComponent(e)}catch(i){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function fl(s){const e=s.name;if(rm.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,s);for(const i of Wc.values())o0(i,s);for(const i of ES.values())o0(i,s);return!0}function km(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ni(s){return s==null?!1:s.settings!==void 0}const TS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new Xo("app","Firebase",TS);class bS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const Tl=_S;function Hv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:sm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(i||(i=Uv()),!i)throw gr.create("no-options");const c=Wc.get(o);if(c){if(Er(i,c.options)&&Er(a,c.config))return c;throw gr.create("duplicate-app",{appName:o})}const d=new CA(o);for(const y of rm.values())d.addComponent(y);const g=new bS(i,a,d);return Wc.set(o,g),g}function qv(s=sm){const e=Wc.get(s);if(!e&&s===sm&&Uv())return Hv();if(!e)throw gr.create("no-app",{appName:s});return e}function yr(s,e,i){let a=vS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}fl(new la(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const AS="firebase-heartbeat-database",SS=1,zo="firebase-heartbeat-store";let Gd=null;function Gv(){return Gd||(Gd=BA(AS,SS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zo)}catch(i){console.warn(i)}}}}).catch(s=>{throw gr.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function wS(s){try{const i=(await Gv()).transaction(zo),a=await i.objectStore(zo).get(Fv(s));return await i.done,a}catch(e){if(e instanceof Is)Ts.warn(e.message);else{const i=gr.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(i.message)}}}async function u0(s,e){try{const a=(await Gv()).transaction(zo,"readwrite");await a.objectStore(zo).put(e,Fv(s)),await a.done}catch(i){if(i instanceof Is)Ts.warn(i.message);else{const a=gr.create("idb-set",{originalErrorMessage:i?.message});Ts.warn(a.message)}}}function Fv(s){return`${s.name}!${s.options.appId}`}const RS=1024,IS=30;class CS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new NS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>IS){const o=DS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c0(),{heartbeatsToSend:i,unsentEntries:a}=xS(this._heartbeatsCache.heartbeats),o=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ts.warn(e),""}}}function c0(){return new Date().toISOString().substring(0,10)}function xS(s,e=RS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),h0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),h0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class NS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gA()?yA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function h0(s){return Jc(JSON.stringify({version:2,heartbeats:s})).length}function DS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function OS(s){fl(new la("platform-logger",e=>new GA(e),"PRIVATE")),fl(new la("heartbeat",e=>new CS(e),"PRIVATE")),yr(im,l0,s),yr(im,l0,"esm2020"),yr("fire-js","")}OS("");var MS="firebase",VS="12.7.0";yr(MS,VS,"app");function Qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kS=Qv,Yv=new Xo("auth","Firebase",Qv());const eh=new Mm("@firebase/auth");function US(s,...e){eh.logLevel<=Ge.WARN&&eh.warn(`Auth (${Tl}): ${s}`,...e)}function Bc(s,...e){eh.logLevel<=Ge.ERROR&&eh.error(`Auth (${Tl}): ${s}`,...e)}function bs(s,...e){throw Um(s,...e)}function Hi(s,...e){return Um(s,...e)}function Kv(s,e,i){const a={...kS(),[e]:i};return new Xo("auth","Firebase",a).create(e,{appName:s.name})}function Es(s){return Kv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Yv.create(s,...e)}function we(s,e,...i){if(!s)throw Um(e,...i)}function _s(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bc(e),new Error(e)}function As(s,e){s||_s(e)}function am(){return typeof self<"u"&&self.location?.href||""}function LS(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function PS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LS()||fA()||"connection"in navigator)?navigator.onLine:!0}function zS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,As(i>e,"Short delay should be less than long delay!"),this.isMobile=uA()||dA()}get(){return PS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){As(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Xv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HS=new Zo(3e4,6e4);function Jo(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function bl(s,e,i,a,o={}){return $v(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=$o({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return hA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&El(s.emulatorConfig.host)&&(_.credentials="include"),Xv.fetch()(await Zv(s,s.config.apiHost,i,g),_)})}async function $v(s,e,i){s._canInitEmulator=!1;const a={...jS,...e};try{const o=new qS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Vc(s,"user-disabled",d);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Kv(s,T,_);bs(s,T)}}catch(o){if(o instanceof Is)throw o;bs(s,"network-request-failed",{message:String(o)})}}async function Pm(s,e,i,a,o={}){const c=await bl(s,e,i,a,o);return"mfaPendingCredential"in c&&bs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Lm(s.config,o):`${s.config.apiScheme}://${o}`;return BS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class qS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Hi(this.auth,"network-request-failed")),HS.get())})}}function Vc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Hi(s,e,a);return o.customData._tokenResponse=i,o}async function GS(s,e){return bl(s,"POST","/v1/accounts:delete",e)}async function th(s,e){return bl(s,"POST","/v1/accounts:lookup",e)}function Vo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FS(s,e=!1){const i=bn(s),a=await i.getIdToken(e),o=zm(a);we(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Vo(Fd(o.auth_time)),issuedAtTime:Vo(Fd(o.iat)),expirationTime:Vo(Fd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function zm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vv(i);return o?JSON.parse(o):(Bc("Failed to decode base64 JWT payload"),null)}catch(o){return Bc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d0(s){const e=zm(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Is&&QS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function QS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class YS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(s){const e=s.auth,i=await s.getIdToken(),a=await jo(s,th(e,{idToken:i}));we(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Jv(o.providerUserInfo):[],d=XS(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=g?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new lm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function KS(s){const e=bn(s);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Jv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function $S(s,e){const i=await $v(s,{},async()=>{const a=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Zv(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&El(s.emulatorConfig.host)&&(y.credentials="include"),Xv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ZS(s,e){return bl(s,"POST","/v2/accounts:revokeToken",Jo(s,e))}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=d0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await $S(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new ll;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return _s("not implemented")}}function lr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new YS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await jo(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return FS(this,e)}reload(){return KS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await jo(this,GS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:q,providerData:ie,stsTokenManager:ae}=i;we(w&&ae,e,"internal-error");const ne=ll.fromJSON(this.name,ae);we(typeof w=="string",e,"internal-error"),lr(a,e.name),lr(o,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),lr(c,e.name),lr(d,e.name),lr(g,e.name),lr(y,e.name),lr(_,e.name),lr(T,e.name);const ve=new gi({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ne,createdAt:_,lastLoginAt:T});return ie&&Array.isArray(ie)&&(ve.providerData=ie.map(Re=>({...Re}))),y&&(ve._redirectEventId=y),ve}static async _fromIdTokenResponse(e,i,a=!1){const o=new ll;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Jv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new ll;g.updateFromIdToken(a);const y=new gi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const m0=new Map;function vs(s){As(s instanceof Function,"Expected a class definition");let e=m0.get(s);return e?(As(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,m0.set(s,e),e)}class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Wv.type="NONE";const p0=Wv;function Hc(s,e,i){return`firebase:${s}:${e}:${i}`}class ol{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Hc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await th(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ol(vs(p0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||vs(p0);const d=Hc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let w;if(typeof T=="string"){const M=await th(e,{idToken:T}).catch(()=>{});if(!M)break;w=await gi._fromGetAccountInfoResponse(e,M,T)}else w=gi._fromJSON(e,T);_!==c&&(g=w),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ol(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ol(c,e,a))}}function g0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r1(e))return"Blackberry";if(a1(e))return"Webos";if(t1(e))return"Safari";if((e.includes("chrome/")||n1(e))&&!e.includes("edge/"))return"Chrome";if(s1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function e1(s=yn()){return/firefox\//i.test(s)}function t1(s=yn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n1(s=yn()){return/crios\//i.test(s)}function i1(s=yn()){return/iemobile/i.test(s)}function s1(s=yn()){return/android/i.test(s)}function r1(s=yn()){return/blackberry/i.test(s)}function a1(s=yn()){return/webos/i.test(s)}function jm(s=yn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function JS(s=yn()){return jm(s)&&!!window.navigator?.standalone}function WS(){return mA()&&document.documentMode===10}function l1(s=yn()){return jm(s)||s1(s)||a1(s)||r1(s)||/windows phone/i.test(s)||i1(s)}function o1(s,e=[]){let i;switch(s){case"Browser":i=g0(yn());break;case"Worker":i=`${g0(yn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Tl}/${a}`}class ew{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function tw(s,e={}){return bl(s,"GET","/v2/passwordPolicy",Jo(s,e))}const nw=6;class iw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??nw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class sw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new ew(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await th(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(Es(this));const i=e?bn(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tw(this),i=new iw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await ZS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&vs(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&US(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wo(s){return bn(s)}class y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=bA(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rw(s){Bm=s}function aw(s){return Bm.loadJS(s)}function lw(){return Bm.gapiScript}function ow(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function uw(s,e){const i=km(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Er(c,e??{}))return o;bs(o,"already-initialized")}return i.initialize({options:e})}function cw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function hw(s,e,i){const a=Wo(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=u1(e),{host:d,port:g}=fw(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Er(_,a.config.emulator)&&Er(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,El(d)?(Pv(`${c}//${d}${y}`),zv("Auth",!0)):dw()}function u1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function fw(s){const e=u1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:_0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:_0(d)}}}function _0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function dw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class c1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,i){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function ul(s,e){return Pm(s,"POST","/v1/accounts:signInWithIdp",Jo(s,e))}const mw="http://localhost";class oa extends c1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):bs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new oa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ul(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ul(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ul(e,i)}buildRequest(){const e={requestUri:mw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$o(i)}return e}}class h1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends h1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cr extends eu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return hr.credential(i,a)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class fr extends eu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";class dr extends eu{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function pw(s,e){return Pm(s,"POST","/v1/accounts:signUp",Jo(s,e))}class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await gi._fromIdTokenResponse(e,a,o),d=v0(a);return new Ss({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=v0(a);return new Ss({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function v0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function gw(s){if(ni(s.app))return Promise.reject(Es(s));const e=Wo(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ss({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await pw(e,{returnSecureToken:!0}),a=await Ss._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class ih extends Is{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new ih(e,i,a,o)}}function f1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(s,c,e,a):c})}async function yw(s,e,i=!1){const a=await jo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ss._forOperation(s,"link",a)}async function _w(s,e,i=!1){const{auth:a}=s;if(ni(a.app))return Promise.reject(Es(a));const o="reauthenticate";try{const c=await jo(s,f1(a,o,e,s),i);we(c.idToken,a,"internal-error");const d=zm(c.idToken);we(d,a,"internal-error");const{sub:g}=d;return we(s.uid===g,a,"user-mismatch"),Ss._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&bs(a,"user-mismatch"),c}}async function vw(s,e,i=!1){if(ni(s.app))return Promise.reject(Es(s));const a="signIn",o=await f1(s,a,e),c=await Ss._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function Ew(s,e){return Pm(s,"POST","/v1/accounts:signInWithCustomToken",Jo(s,e))}async function Tw(s,e){if(ni(s.app))return Promise.reject(Es(s));const i=Wo(s),a=await Ew(i,{token:e,returnSecureToken:!0}),o=await Ss._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function bw(s,e,i,a){return bn(s).onIdTokenChanged(e,i,a)}function Aw(s,e,i){return bn(s).beforeAuthStateChanged(e,i)}function Sw(s,e,i,a){return bn(s).onAuthStateChanged(e,i,a)}const sh="__sak";class d1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ww=1e3,Rw=10;class m1 extends d1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);WS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Rw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}m1.type="LOCAL";const Iw=m1;class p1 extends d1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}p1.type="SESSION";const g1=p1;function Cw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await Cw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Hm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class xw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Hm("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function Nw(s){qi().location.href=s}function y1(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function Dw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ow(){return navigator?.serviceWorker?.controller||null}function Mw(){return y1()?self:null}const _1="firebaseLocalStorageDb",Vw=1,rh="firebaseLocalStorage",v1="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,e){return s.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function kw(){const s=indexedDB.deleteDatabase(_1);return new tu(s).toPromise()}function om(){const s=indexedDB.open(_1,Vw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(rh,{keyPath:v1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(rh)?e(a):(a.close(),await kw(),e(await om()))})})}async function E0(s,e,i){const a=vh(s,!0).put({[v1]:e,value:i});return new tu(a).toPromise()}async function Uw(s,e){const i=vh(s,!1).get(e),a=await new tu(i).toPromise();return a===void 0?null:a.value}function T0(s,e){const i=vh(s,!0).delete(e);return new tu(i).toPromise()}const Lw=800,Pw=3;class E1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Pw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(Mw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Dw(),!this.activeServiceWorker)return;this.sender=new xw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ow()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await E0(e,sh,"1"),await T0(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>E0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Uw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>T0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E1.type="LOCAL";const zw=E1;new Zo(3e4,6e4);function jw(s,e){return e?vs(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends c1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ul(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Bw(s){return vw(s.auth,new qm(s),s.bypassAuthState)}function Hw(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),_w(i,new qm(s),s.bypassAuthState)}async function qw(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),yw(i,new qm(s),s.bypassAuthState)}class T1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bw;case"linkViaPopup":case"linkViaRedirect":return qw;case"reauthViaPopup":case"reauthViaRedirect":return Hw;default:bs(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gw=new Zo(2e3,1e4);class al extends T1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gw.get())};e()}}al.currentPopupAction=null;const Fw="pendingRedirect",qc=new Map;class Qw extends T1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const a=await Yw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yw(s,e){const i=$w(e),a=Xw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Kw(s,e){qc.set(s._key(),e)}function Xw(s){return vs(s._redirectPersistence)}function $w(s){return Hc(Fw,s.config.apiKey,s.name)}async function Zw(s,e,i=!1){if(ni(s.app))return Promise.reject(Es(s));const a=Wo(s),o=jw(a,e),d=await new Qw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Jw=600*1e3;class Ww{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!b1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Hi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jw&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function b1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function e2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(s);default:return!1}}async function t2(s,e={}){return bl(s,"GET","/v1/projects",e)}const n2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i2=/^https?/;async function s2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await t2(s);for(const i of e)try{if(r2(i))return}catch{}bs(s,"unauthorized-domain")}function r2(s){const e=am(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!i2.test(i))return!1;if(n2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const a2=new Zo(3e4,6e4);function A0(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function l2(s){return new Promise((e,i)=>{function a(){A0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A0(),i(Hi(s,"network-request-failed"))},timeout:a2.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)a();else{const o=ow("iframefcb");return qi()[o]=()=>{gapi.load?a():i(Hi(s,"network-request-failed"))},aw(`${lw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function o2(s){return Gc=Gc||l2(s),Gc}const u2=new Zo(5e3,15e3),c2="__/auth/iframe",h2="emulator/auth/iframe",f2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m2(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,h2):`https://${s.config.authDomain}/${c2}`,a={apiKey:e.apiKey,appName:s.name,v:Tl},o=d2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$o(a).slice(1)}`}async function p2(s){const e=await o2(s),i=qi().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:m2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Hi(s,"network-request-failed"),g=qi().setTimeout(()=>{c(d)},u2.get());function y(){qi().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const g2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y2=500,_2=600,v2="_blank",E2="http://localhost";class S0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T2(s,e,i,a=y2,o=_2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...g2,width:a.toString(),height:o.toString(),top:c,left:d},_=yn().toLowerCase();i&&(g=n1(_)?v2:i),e1(_)&&(e=e||E2,y.scrollbars="yes");const T=Object.entries(y).reduce((M,[q,ie])=>`${M}${q}=${ie},`,"");if(JS(_)&&g!=="_self")return b2(e||"",g),new S0(null);const w=window.open(e||"",g,T);we(w,s,"popup-blocked");try{w.focus()}catch{}return new S0(w)}function b2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const A2="__/auth/handler",S2="emulator/auth/handler",w2=encodeURIComponent("fac");async function w0(s,e,i,a,o,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Tl,eventId:o};if(e instanceof h1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",TA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof eu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await s._getAppCheckToken(),_=y?`#${w2}=${encodeURIComponent(y)}`:"";return`${R2(s)}?${$o(g).slice(1)}${_}`}function R2({config:s}){return s.emulator?Lm(s,S2):`https://${s.authDomain}/${A2}`}const Qd="webStorageSupport";class I2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g1,this._completeRedirectFn=Zw,this._overrideRedirectResult=Kw}async _openPopup(e,i,a,o){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await w0(e,i,a,am(),o);return T2(e,c,Hm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await w0(e,i,a,am(),o);return Nw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(As(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await p2(e),a=new Ww(e);return i.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Qd,{type:Qd},o=>{const c=o?.[0]?.[Qd];c!==void 0&&i(!!c),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=s2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return l1()||t1()||jm()}}const C2=I2;var R0="@firebase/auth",I0="1.12.0";class x2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function N2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D2(s){fl(new la("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o1(s)},_=new sw(a,o,c,y);return cw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),fl(new la("auth-internal",e=>{const i=Wo(e.getProvider("auth").getImmediate());return(a=>new x2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(R0,I0,N2(s)),yr(R0,I0,"esm2020")}const O2=300,M2=Lv("authIdTokenMaxAge")||O2;let C0=null;const V2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>M2)return;const o=i?.token;C0!==o&&(C0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function k2(s=qv()){const e=km(s,"auth");if(e.isInitialized())return e.getImmediate();const i=uw(s,{popupRedirectResolver:C2,persistence:[zw,Iw,g1]}),a=Lv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=V2(c.toString());Aw(i,d,()=>d(i.currentUser)),bw(i,g=>d(g))}}const o=kv("auth");return o&&hw(i,`http://${o}`),i}function U2(){return document.getElementsByTagName("head")?.[0]??document}rw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Hi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",U2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D2("Browser");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,A1;(function(){var s;function e(x,S){function I(){}I.prototype=S.prototype,x.F=S.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,D,U){for(var R=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)R[lt-2]=arguments[lt];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=x.g[0],I=x.g[1],D=x.g[2];let U=x.g[3],R;R=S+(U^I&(D^U))+V[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+V[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+V[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+V[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+V[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(D^U&(I^D))+V[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+V[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+V[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+V[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+V[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(I^D^U)+V[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+V[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+V[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+V[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+V[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(D^(I|~U))+V[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+V[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+V[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+V[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+V[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.v=function(x,S){S===void 0&&(S=x.length);const I=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=I;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(V[D++]=x.charCodeAt(U++),D==this.blockSize){o(this,V),D=0;break}}else for(;U<S;)if(V[D++]=x[U++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[S++]=this.g[I]>>>V&255;return x};function c(x,S){var I=g;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=S(x)}function d(x,S){this.h=S;const I=[];let V=!0;for(let D=x.length-1;D>=0;D--){const U=x[D]|0;V&&U==S||(I[D]=U,V=!1)}this.g=I}var g={};function y(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return ne(_(-x));const S=[];let I=1;for(let V=0;x>=I;V++)S[V]=x/I|0,I*=4294967296;return new d(S,0)}function T(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return ne(T(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let V=w;for(let U=0;U<x.length;U+=8){var D=Math.min(8,x.length-U);const R=parseInt(x.substring(U,U+D),S);D<8?(D=_(Math.pow(S,D)),V=V.j(D).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var w=y(0),M=y(1),q=y(16777216);s=d.prototype,s.m=function(){if(ae(this))return-ne(this).m();let x=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(ie(this))return"0";if(ae(this))return"-"+ne(this).toString(x);const S=_(Math.pow(x,6));var I=this;let V="";for(;;){const D=et(I,S).g;I=ve(I,D.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,ie(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function ie(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function ae(x){return x.h==-1}s.l=function(x){return x=ve(this,x),ae(x)?-1:ie(x)?0:1};function ne(x){const S=x.g.length,I=[];for(let V=0;V<S;V++)I[V]=~x.g[V];return new d(I,~x.h).add(M)}s.abs=function(){return ae(this)?ne(this):this},s.add=function(x){const S=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(x.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=R>>>16,U&=65535,R&=65535,I[D]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ve(x,S){return x.add(ne(S))}s.j=function(x){if(ie(this)||ie(x))return w;if(ae(this))return ae(x)?ne(this).j(ne(x)):ne(ne(this).j(x));if(ae(x))return ne(this.j(ne(x)));if(this.l(q)<0&&x.l(q)<0)return _(this.m()*x.m());const S=this.g.length+x.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const U=this.i(V)>>>16,R=this.i(V)&65535,lt=x.i(D)>>>16,yt=x.i(D)&65535;I[2*V+2*D]+=R*yt,Re(I,2*V+2*D),I[2*V+2*D+1]+=U*yt,Re(I,2*V+2*D+1),I[2*V+2*D+1]+=R*lt,Re(I,2*V+2*D+1),I[2*V+2*D+2]+=U*lt,Re(I,2*V+2*D+2)}for(x=0;x<S;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=S;x<2*S;x++)I[x]=0;return new d(I,0)};function Re(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function Ee(x,S){this.g=x,this.h=S}function et(x,S){if(ie(S))throw Error("division by zero");if(ie(x))return new Ee(w,w);if(ae(x))return S=et(ne(x),S),new Ee(ne(S.g),ne(S.h));if(ae(S))return S=et(x,ne(S)),new Ee(ne(S.g),S.h);if(x.g.length>30){if(ae(x)||ae(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(x)<=0;)I=ft(I),V=ft(V);var D=Ye(I,1),U=Ye(V,1);for(V=Ye(V,2),I=Ye(I,2);!ie(V);){var R=U.add(V);R.l(x)<=0&&(D=D.add(I),U=R),V=Ye(V,1),I=Ye(I,1)}return S=ve(x,D.j(S)),new Ee(D,S)}for(D=w;x.l(S)>=0;){for(I=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),R=U.j(S);ae(R)||R.l(x)>0;)I-=V,U=_(I),R=U.j(S);ie(U)&&(U=M),D=D.add(U),x=ve(x,R)}return new Ee(D,x)}s.B=function(x){return et(this,x).h},s.and=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},s.or=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},s.xor=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function ft(x){const S=x.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Ye(x,S){const I=S>>5;S%=32;const V=x.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=S>0?x.i(U+I)>>>S|x.i(U+I+1)<<32-S:x.i(U+I);return new d(D,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,A1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,_r=d}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var S1,xo,w1,Fc,um,R1,I1,C1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var re=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)re[Oe-2]=arguments[Oe];return m.prototype[L].apply(b,re)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function ie(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let re=0;re<B;re++)u[v+re]=L[re]}else u.push(L)}}class ae{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function ve(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,v){const b=Ee.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Ee=new ae(()=>new et,u=>u.reset());class et{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,Ye=!1,x=new Re,S=()=>{const u=Promise.resolve(void 0);ft=()=>{u.then(I)}};function I(){for(var u;u=ve();){try{u.h.call(u.g)}catch(v){ne(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ye=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(lt,D),lt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ue(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ze(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const re=Ne(u,m,b,L);return re>-1?(m=u[re],v||(m.fa=!1)):(m=new ue(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function Se(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ye(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ne(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ct={};function _t(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)_t(u,m[B],v,b,L);return null}return v=$(v),u&&u[yt]?u.J(m,v,g(b)?!!b.capture:!1,L):$i(u,m,v,!1,b,L)}function $i(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const re=g(L)?!!L.capture:!!L;let Oe=vi(u);if(Oe||(u[Be]=Oe=new ce(u)),v=Oe.add(m,v,b,re,B),v.proxy)return v;if(b=Cs(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=re),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(On(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Cs(){function u(v){return m.call(u.src,u.listener,v)}const m=xs;return u}function si(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)si(u,m[B],v,b,L);else b=g(b)?!!b.capture:!!b,v=$(v),u&&u[yt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ne(m,v,b,L),v>-1&&(ye(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=vi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ne(m,v,b,L)),(v=u>-1?m[u]:null)&&Zi(v))}function Zi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[yt])Se(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(On(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=vi(m))?(Se(v,u),v.h==0&&(v.src=null,m[Be]=null)):ye(u)}}}function On(u){return u in Ct?Ct[u]:Ct[u]="on"+u}function xs(u,m){if(u.da)u=!0;else{m=new lt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Zi(u),u=v.call(b,m)}return u}function vi(u){return u=u[Be],u instanceof ce?u:null}var ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function $(u){return typeof u=="function"?u:(u[ee]||(u[ee]=function(m){return u.handleEvent(m)}),u[ee])}function W(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}w(W,V),W.prototype[yt]=!0,W.prototype.removeEventListener=function(u,m,v,b){si(this,u,m,v,b)};function te(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(b,u),le(m,L)}L=!0;let B,re;if(v)for(re=v.length-1;re>=0;re--)B=m.g=v[re],L=oe(B,b,!0,m)&&L;if(B=m.g=u,L=oe(B,b,!0,m)&&L,L=oe(B,b,!1,m)&&L,v)for(re=0;re<v.length;re++)B=m.g=v[re],L=oe(B,b,!1,m)&&L}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ye(v[b]);delete u.g[m],u.h--}}this.G=null},W.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},W.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function oe(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const re=m[B];if(re&&!re.da&&re.capture==v){const Oe=re.listener,Ot=re.ha||re.src;re.fa&&Se(u.i,re),L=Oe.call(Ot,b)!==!1&&L}}return L&&!b.defaultPrevented}function Ve(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function se(u){u.g=Ve(()=>{u.g=null,u.i&&(u.i=!1,se(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class he extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(u){V.call(this),this.h=u,this.g={}}w(Le,V);var tt=[];function Et(u){je(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zi(m)},u),u.g={}}Le.prototype.N=function(){Le.Z.N.call(this),Et(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=d.JSON.stringify,Z=d.JSON.parse,Ue=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function De(){}function Yt(){}var rt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nt(){D.call(this,"d")}w(nt,D);function _n(){D.call(this,"c")}w(_n,D);var Dt={},uu=null;function ma(){return uu=uu||new W}Dt.Ia="serverreachability";function cu(u){D.call(this,Dt.Ia,u)}w(cu,D);function Ei(u){const m=ma();te(m,new cu(m))}Dt.STAT_EVENT="statevent";function xr(u,m){D.call(this,Dt.STAT_EVENT,u),this.stat=m}w(xr,D);function Ut(u){const m=ma();te(m,new xr(m,u))}Dt.Ja="timingevent";function Ti(u,m){D.call(this,Dt.Ja,u),this.size=m}w(Ti,D);function bi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Lh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var re="",Oe=B.split("&");for(let it=0;it<Oe.length;it++){var Ot=Oe[it].split("=");if(Ot.length>1){const St=Ot[0];Ot=Ot[1];const Yn=St.split("_");re=Yn.length>=2&&Yn[1]=="type"?re+(St+"="+Ot+"&"):re+(St+"=redacted&")}}}else re=null;else re=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+re})}function hu(u,m,v,b,L,B,re){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+re})}function Ai(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(b?" "+b:"")})}function Nr(u,m){u.info(function(){return"TIMEOUT: "+m})}ri.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return me(B)}catch{return m}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cl;function Or(){}w(Or,De),Or.prototype.g=function(){return new XMLHttpRequest},Cl=new Or;function Ji(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Lt={},Zt={};function Si(u,m,v){u.M=1,u.A=Mr(zt(m)),u.u=v,u.R=!0,pa(u,null)}function pa(u,m){u.F=Date.now(),wi(u),u.B=zt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),va(v.i,"t",b),u.C=0,v=u.j.L,u.h=new li,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new he(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(tt[0]=L.toString()),L=tt);for(let B=0;B<L.length;B++){const re=_t(v,L[B],b||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ei(),Lh(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=ci(this.g),Ot=this.g.ya(),it=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Oe!=4||Ot==7||(Ot==8||it<=0?Ei(3):Ei(2)),Ri(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)Ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,Ut(12),Mn(this),Gn(this);break e}}if(this.R){u=!0;let St;for(;!this.K&&this.C<v.length;)if(St=mu(this,v),St==Zt){Oe==4&&(this.m=4,Ut(14),u=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Lt){this.m=4,Ut(15),Ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ai(this.i,this.l,St,null),Ii(this,St);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,Ut(16),u=!1),this.o=this.o&&u,!u)Ai(this.i,this.l,v,"[Invalid Chunked Response]"),Mn(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ql(re),re.P=!0,Ut(11))}}else Ai(this.i,this.l,v,null),Ii(this,v);Oe==4&&Mn(this),this.o&&!this.K&&(Oe==4?Au(this.j,this):(this.o=!1,wi(this)))}else es(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Mn(this),Gn(this)}}}catch{}};function zh(u){if(!du(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const b=m.length,L=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Zt:(v=Number(m.substring(v,b)),isNaN(v)?Lt:(b+=1,b+v>m.length?Zt:(m=m.slice(b,b+v),u.C=b+v,m)))}ai.prototype.cancel=function(){this.K=!0,Mn(this)};function wi(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bi(_(u.aa,u),m)}function Ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(Ei(),Ut(17)),Mn(this),this.m=2,Gn(this)):ga(this,this.T-u)};function Gn(u){u.j.I==0||u.K||Au(u.j,u)}function Mn(u){Ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Et(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||xi(v.h,u))){if(!u.L&&xi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),Ls(v);else break e;jr(v),Ut(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=bi(_(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&Sa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let it=L[m];const St=it[0];if(!(St<=v.K))if(v.K=St,it=it[1],v.I==2)if(it[0]=="c"){v.M=it[1],v.ba=it[2];const Yn=it[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Ui=it[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const hi=it[5];hi!=null&&typeof hi=="number"&&hi>0&&(b=1.5*hi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const fi=u.g;if(fi){const Br=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var B=b.h;B.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Dl(B,B.h),B.h=null))}if(b.G){const wa=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(b.wa=wa,ot(b.J,b.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var re=u;if(b.na=Ru(b,b.L?b.ba:null,b.W),re.L){Ol(b.h,re);var Oe=re,Ot=b.O;Ot&&(Oe.H=Ot),Oe.D&&(Ri(Oe),wi(Oe)),b.g=re}else Tu(b);v.i.length>0&&Vi(v)}else it[0]!="stop"&&it[0]!="close"||ki(v,7);else v.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?ki(v,7):Bl(v):it[0]!="noop"&&v.l&&v.l.qa(it),v.A=0)}}Ei(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function xl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dl(u,m){u.g?u.g.add(m):u.h=m}function Ol(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}xl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ml(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Ns(this,u.u),this.h=u.h,Vl(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(pu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),Ns(this,m[4]),this.h=Ni(m[5]||"",!0),Vl(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new Os(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,_a,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,_a,!0),"@"),u.push(Ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vr(v,v.charAt(0)=="/"?kl:gu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vr(v,yu)),u.join("")},Vn.prototype.resolve=function(u){const m=zt(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ns(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let re=0;re<L.length;){const Oe=L[re++];Oe=="."?b&&re==L.length&&B.push(""):Oe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&re==L.length&&B.push("")):(B.push(Oe),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Vl(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function zt(u){return new Vn(u)}function Jt(u,m,v){u.j=v?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ns(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vl(u,m,v){m instanceof Os?(u.i=m,Ea(u.i,u.l)):(v||(m=Vr(m,Ds)),u.i=new Os(m,u.l))}function ot(u,m,v){u.i.set(m,v)}function Mr(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,An),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,gu=/[#\?:]/g,kl=/[#\?]/g,Ds=/[#\?@]/g,yu=/#/g;function Os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Os.prototype,s.add=function(u,m){Sn(this),this.i=null,u=Ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){Sn(u),m=Ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ul(u,m){return Sn(u),m=Ms(u,m),u.g.has(m)}s.forEach=function(u,m){Sn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Ll(u,m){Sn(u);let v=[];if(typeof m=="string")Ul(u,m)&&(v=v.concat(u.g.get(Ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Sn(this),this.i=null,u=Ms(this,u),Ul(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ll(this,u),u.length>0?String(u[0]):m):m};function va(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Ms(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ji(v);v=Ll(this,v);for(let B=0;B<v.length;B++){let re=L;v[B]!==""&&(re+="="+Ji(v[B])),u.push(re)}}return this.i=u.join("&")};function vu(u){const m=new Os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ea(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(_u(this,b),va(this,L,v))},u)),u.j=m}function oi(u,m){const v=new ri;if(d.Image){const b=new Image;b.onload=T(Fn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Fn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Fn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Fn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Pl(u,m){const v=new ri,b=new AbortController,L=setTimeout(()=>{b.abort(),Fn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Fn(v,"TestPingServer: ok",!0,m):Fn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Fn(v,"TestPingServer: error",!1,m)})}function Fn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Vs(){this.g=new Ue}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Di,De),Di.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){W.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(kr,W),s=kr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ks(this):ui(this),this.readyState==3&&Ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ks(this))},s.Na=function(u){this.g&&(this.response=u,ks(this))},s.ga=function(){this.g&&ks(this)};function ks(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return je(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ur(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Qn(v),typeof u=="string"?v!=null&&Ji(v):ot(u,m,v))}function dt(u){W.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(dt,W);var Oi=/^https?$/i,zl=["POST","PUT"];s=dt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Lr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zl,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,re]of v)this.g.setRequestHeader(B,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Lr(this,B)}};function Lr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,jl(u),Wi(u)}function jl(u){u.A||(u.A=!0,te(u,"complete"),te(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,te(this,"complete"),te(this,"abort"),Wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),dt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(te(u,"readystatechange"),ci(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let re=String(u.D).match(pu)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),b=!Oi.test(re?re.toLowerCase():"")}v=b}if(v)te(u,"complete"),te(u,"success");else{u.o=6;try{var L=ci(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",jl(u)}}finally{Wi(u)}}}}function Wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||te(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Z(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=fu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ze(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Us(u){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xl(u&&u.concurrentRequestLimit),this.Ba=new Vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Us.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Ut(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ru(this,null,this.W),Vi(this)};function Bl(u){if(ba(u),u.I==3){var m=u.V++,v=zt(u.J);if(ot(v,"SID",u.M),ot(v,"RID",m),ot(v,"TYPE","terminate"),zr(u,v),m=new ai(u,u.j,m),m.M=2,m.A=Mr(zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}wu(u)}function Ls(u){u.g&&(ql(u),u.g.cancel(),u.g=null)}function ba(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!Nl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ft||S(),Ye||(ft(),Ye=!0),x.add(m,u),u.D=0}}function Aa(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bi(_(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ai(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),le(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Eu(this,L,m),v=zt(this.J),ot(v,"RID",u),ot(v,"CVER",22),this.G&&ot(v,"X-HTTP-Session-Id",this.G),zr(this,v),B&&(this.R?m="headers="+Ji(Qn(B))+"&"+m:this.u&&Ur(v,this.u,B)),Dl(this.h,L),this.Ra&&ot(v,"TYPE","init"),this.S?(ot(v,"$req",m),ot(v,"SID","null"),L.U=!0,Si(L,v,null)):Si(L,v,m),this.I=2}}else this.I==3&&(u?Hl(this,u):this.i.length==0||Nl(this.h)||Hl(this))};function Hl(u,m){var v;m?v=m.l:v=u.V++;const b=zt(u.J);ot(b,"SID",u.M),ot(b,"RID",v),ot(b,"AID",u.K),zr(u,b),u.u&&u.o&&Ur(b,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dl(u.h,v),Si(v,b,m)}function zr(u,m){u.H&&je(u.H,function(v,b){ot(m,b,v)}),u.l&&je({},function(v,b){ot(m,b,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Oe=-1;for(;;){const Ot=["count="+v];Oe==-1?v>0?(Oe=L[0].g,Ot.push("ofs="+Oe)):Oe=0:Ot.push("ofs="+Oe);let it=!0;for(let St=0;St<v;St++){var B=L[St].g;const Yn=L[St].map;if(B-=Oe,B<0)Oe=Math.max(0,L[St].g-100),it=!1;else try{B="req"+B+"_"||"";try{var re=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Ui,hi]of re){let fi=hi;g(hi)&&(fi=me(hi)),Ot.push(B+Ui+"="+encodeURIComponent(fi))}}catch(Ui){throw Ot.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{b&&b(Yn)}}if(it){re=Ot.join("&");break e}}re=void 0}return u=u.i.splice(0,v),m.G=u,re}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ft||S(),Ye||(ft(),Ye=!0),x.add(m,u),u.A=0}}function jr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bi(_(u.Da,u),Su(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),Ls(this),bu(this))};function ql(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);ot(m,"RID","rpc"),ot(m,"SID",u.M),ot(m,"AID",u.K),ot(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(m,"TO",u.ia),ot(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Mr(zt(m)),v.u=null,v.R=!0,pa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ls(this),jr(this),Ut(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){Sa(u),ql(u),u.g=null;var b=2}else if(xi(u.h,m))v=m.G,Ol(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ma(),te(b,new Ti(b,v)),Vi(u)}else Tu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Aa(u,m)||b==2&&jr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new Vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(b,"https"),Mr(b),L?oi(b.toString(),v):Pl(b.toString(),v)}else Ut(2);u.I=0,u.l&&u.l.pa(m),wu(u),ba(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=Ml(u.h);(m.length!=0||u.i.length!=0)&&(ie(u.ja,m),ie(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,v){var b=v instanceof Vn?zt(v):new Vn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ns(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Vn(null);b&&Jt(B,b),m&&(B.g=m),L&&Ns(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&ot(b,v,m),ot(b,"VER",u.ka),zr(u,b),b}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new dt(new Di({ab:v})):new dt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){W.call(this),this.g=new Us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}w(vn,W),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Bl(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=me(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Vi(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,vn.Z.N.call(this)};function xu(u){nt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(xu,nt);function Nu(){_n.call(this),this.status=1}w(Nu,_n);function ts(u){this.g=u}w(ts,Cu),ts.prototype.ra=function(){te(this.g,"a")},ts.prototype.qa=function(u){te(this.g,new xu(u))},ts.prototype.pa=function(u){te(this.g,new Nu)},ts.prototype.oa=function(){te(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,C1=function(){return new Ps},I1=function(){return ma()},R1=Dt,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Fc=Dr,Il.COMPLETE="complete",w1=Il,Yt.EventType=rt,rt.OPEN="a",rt.CLOSE="b",rt.ERROR="c",rt.MESSAGE="d",W.prototype.listen=W.prototype.J,xo=Yt,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,S1=dt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",D0="4.9.3";let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Al="12.7.0";const ua=new Mm("@firebase/firestore");function tl(){return ua.logLevel}function fe(s,...e){if(ua.logLevel<=Ge.DEBUG){const i=e.map(Gm);ua.debug(`Firestore (${Al}): ${s}`,...i)}}function ws(s,...e){if(ua.logLevel<=Ge.ERROR){const i=e.map(Gm);ua.error(`Firestore (${Al}): ${s}`,...i)}}function dl(s,...e){if(ua.logLevel<=Ge.WARN){const i=e.map(Gm);ua.warn(`Firestore (${Al}): ${s}`,...i)}}function Gm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,x1(s,a,i)}function x1(s,e,i){let a=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ws(a),new Error(a)}function at(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||x1(e,o,a)}function xe(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Is{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class N1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class P2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class z2{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(at(typeof a.accessToken=="string",31837,{l:a}),new N1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class j2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new j2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const a=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=q2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Fe(s,e){return s<e?-1:s>e?1:0}function cm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Yd(o)===Yd(c)?Fe(o,c):Yd(o)?1:-1}return Fe(s.length,e.length)}const G2=55296,F2=57343;function Yd(s){const e=s.charCodeAt(0);return e>=G2&&e<=F2}function ml(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const M0="__name__";class Bi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ae(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Bi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const a=Bi.isNumericId(e),o=Bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(i)):cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class Rt extends Bi{construct(e,i,a){return new Rt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Rt(i)}static emptyPath(){return new Rt([])}}const Q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Bi{construct(e,i,a){return new hn(e,i,a)}static isValidIdentifier(e){return Q2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new hn([M0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(i)}static emptyPath(){return new hn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Rt.fromString(e))}static fromName(e){return new Te(Rt.fromString(e).popFirst(5))}static empty(){return new Te(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Rt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Rt(e.slice()))}}function Y2(s,e,i){if(!i)throw new ge(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function K2(s,e,i,a){if(e===!0&&a===!0)throw new ge(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function V0(s){if(!Te.isDocumentKey(s))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function D1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function yi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qm(s);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ft(s,e){const i={typeString:s};return e&&(i.value=e),i}function nu(s,e){if(!D1(s))throw new ge(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ge(J.INVALID_ARGUMENT,i);return!0}const k0=-62135596800,U0=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*U0);return new At(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<k0)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Ft("string",At._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new At(0,0))}static max(){return new Ie(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bo=-1;function X2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(a===1e9?new At(i+1,0):new At(i,a));return new Tr(o,Te.empty(),e)}function $2(s){return new Tr(s.readTime,s.key,Bo)}class Tr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Tr(Ie.min(),Te.empty(),Bo)}static max(){return new Tr(Ie.max(),Te.empty(),Bo)}}function Z2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const J2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sl(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==J2)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((T=>{d[_]=T,++g,g===c&&a(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function eR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wl(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const Ym=-1;function Th(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function tR(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const O1="";function nR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=L0(e)),e=iR(s.get(i),e);return L0(e)}function iR(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case O1:i+="";break;default:i+=c}}return i}function L0(s){return s+O1+""}function P0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ir(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function M1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class It{constructor(e,i){this.comparator=e,this.root=i||cn.EMPTY}insert(e,i){return new It(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??cn.RED,this.left=o??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new cn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new cn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new qn([])}unionWith(e){let i=new $t(hn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class V1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new V1("Invalid base64 string: "+c):c}})(e);return new fn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new fn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const sR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(at(!!s,39018),typeof s=="string"){let e=0;const i=sR.exec(s);if(at(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(s.seconds),nanos:kt(s.nanos)}}function kt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ar(s){return typeof s=="string"?fn.fromBase64String(s):fn.fromUint8Array(s)}const k1="server_timestamp",U1="__type__",L1="__previous_value__",P1="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[U1]?.stringValue===k1}function bh(s){const e=s.mapValue.fields[L1];return Km(e)?bh(e):e}function Ho(s){const e=br(s.mapValue.fields[P1].timestampValue);return new At(e.seconds,e.nanos)}class rR{constructor(e,i,a,o,c,d,g,y,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const lh="(default)";class qo{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}const z1="__type__",aR="__max__",Lc={mapValue:{}},j1="__vector__",oh="value";function Sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:oR(s)?9007199254740991:lR(s)?10:11:Ae(28295,{value:s})}function Ki(s,e){if(s===e)return!0;const i=Sr(s);if(i!==Sr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ho(s).isEqual(Ho(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=br(o.timestampValue),g=br(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Ar(o.bytesValue).isEqual(Ar(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return kt(o.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return kt(o.integerValue)===kt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=kt(o.doubleValue),g=kt(c.doubleValue);return d===g?ah(d)===ah(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ml(s.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(P0(d)!==P0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ki(d[y],g[y])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Go(s,e){return(s.values||[]).find((i=>Ki(i,e)))!==void 0}function pl(s,e){if(s===e)return 0;const i=Sr(s),a=Sr(e);if(i!==a)return Fe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=kt(c.integerValue||c.doubleValue),y=kt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return j0(s.timestampValue,e.timestampValue);case 4:return j0(Ho(s),Ho(e));case 5:return cm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Ar(c),y=Ar(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const T=Fe(g[_],y[_]);if(T!==0)return T}return Fe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Fe(kt(c.latitude),kt(d.latitude));return g!==0?g:Fe(kt(c.longitude),kt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return B0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[oh]?.arrayValue,T=y[oh]?.arrayValue,w=Fe(_?.values?.length||0,T?.values?.length||0);return w!==0?w:B0(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const M=cm(y[w],T[w]);if(M!==0)return M;const q=pl(g[y[w]],_[T[w]]);if(q!==0)return q}return Fe(y.length,T.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function j0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=br(s),a=br(e),o=Fe(i.seconds,a.seconds);return o!==0?o:Fe(i.nanos,a.nanos)}function B0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=pl(i[o],a[o]);if(c)return c}return Fe(i.length,a.length)}function gl(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Te.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=hm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${hm(i.fields[d])}`;return o+"}"})(s.mapValue):Ae(61005,{value:s})}function Qc(s){switch(Sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Ir(a.fields,((c,d)=>{o+=c.length+Qc(d)})),o})(s.mapValue);default:throw Ae(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function H0(s){return!!s&&"nullValue"in s}function q0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function lR(s){return(s?.mapValue?.fields||{})[z1]?.stringValue===j1}function ko(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ir(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=ko(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ko(s.arrayValue.values[i]);return e}return{...s}}function oR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===aR}class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(i)}setAll(e){let i=hn.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=ko(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ir(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Dn(ko(this.value))}}function B1(s){const e=[];return Ir(s.fields,((i,a)=>{const o=new hn([i]);if(Yc(a)){const c=B1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new qn(e)}class gn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new gn(e,0,Ie.min(),Ie.min(),Ie.min(),Dn.empty(),0)}static newFoundDocument(e,i,a,o){return new gn(e,1,i,Ie.min(),a,o,0)}static newNoDocument(e,i){return new gn(e,2,i,Ie.min(),Ie.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new gn(e,3,i,Ie.min(),Ie.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,i){this.position=e,this.inclusive=i}}function G0(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(d.referenceValue),i.key):a=pl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function F0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ki(s.position[i],e.position[i]))return!1;return!0}class ch{constructor(e,i="asc"){this.field=e,this.dir=i}}function uR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class H1{}class Xt extends H1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new hR(e,i,a):i==="array-contains"?new mR(e,a):i==="in"?new pR(e,a):i==="not-in"?new gR(e,a):i==="array-contains-any"?new yR(e,a):new Xt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new fR(e,a):new dR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(pl(i,this.value)):i!==null&&Sr(this.value)===Sr(i)&&this.matchesComparison(pl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends H1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xi(e,i)}matches(e){return q1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q1(s){return s.op==="and"}function G1(s){return cR(s)&&q1(s)}function cR(s){for(const e of s.filters)if(e instanceof Xi)return!1;return!0}function dm(s){if(s instanceof Xt)return s.field.canonicalString()+s.op.toString()+gl(s.value);if(G1(s))return s.filters.map((e=>dm(e))).join(",");{const e=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${e})`}}function F1(s,e){return s instanceof Xt?(function(a,o){return o instanceof Xt&&a.op===o.op&&a.field.isEqual(o.field)&&Ki(a.value,o.value)})(s,e):s instanceof Xi?(function(a,o){return o instanceof Xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&F1(d,o.filters[g])),!0):!1})(s,e):void Ae(19439)}function Q1(s){return s instanceof Xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${gl(i.value)}`})(s):s instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Q1).join(" ,")+"}"})(s):"Filter"}class hR extends Xt{constructor(e,i,a){super(e,i,a),this.key=Te.fromName(a.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class fR extends Xt{constructor(e,i){super(e,"in",i),this.keys=Y1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dR extends Xt{constructor(e,i){super(e,"not-in",i),this.keys=Y1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Y1(s,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class mR extends Xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xm(i)&&Go(i.arrayValue,this.value)}}class pR extends Xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Go(this.value.arrayValue,i)}}class gR extends Xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Go(this.value.arrayValue,i)}}class yR extends Xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Go(this.value.arrayValue,a)))}}class _R{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Q0(s,e=null,i=[],a=[],o=null,c=null,d=null){return new _R(s,e,i,a,o,c,d)}function $m(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>dm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>gl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>gl(a))).join(",")),e.Te=i}return e.Te}function Zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!uR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!F1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!F0(s.startAt,e.startAt)&&F0(s.endAt,e.endAt)}function mm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vR(s,e,i,a,o,c,d,g){return new Ah(s,e,i,a,o,c,d,g)}function Sh(s){return new Ah(s)}function Y0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ER(s){return s.collectionGroup!==null}function Uo(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new $t(hn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ch(c,a))})),i.has(hn.keyField().canonicalString())||e.Ie.push(new ch(hn.keyField(),a))}return e.Ie}function Gi(s){const e=xe(s);return e.Ee||(e.Ee=TR(e,Uo(s))),e.Ee}function TR(s,e){if(s.limitType==="F")return Q0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ch(o.field,c)}));const i=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return Q0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function pm(s,e,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function wh(s,e){return Zm(Gi(s),Gi(e))&&s.limitType===e.limitType}function K1(s){return`${$m(Gi(s))}|lt:${s.limitType}`}function nl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Q1(o))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>gl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>gl(o))).join(",")),`Target(${a})`})(Gi(s))}; limitType=${s.limitType})`}function Rh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Uo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=G0(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Uo(a),o)||a.endAt&&!(function(d,g,y){const _=G0(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Uo(a),o))})(s,e)}function bR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function X1(s){return(e,i)=>{let a=!1;for(const o of Uo(s)){const c=AR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function AR(s,e,i){const a=s.field.isKeyField()?Te.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?pl(y,_):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:s.dir})}}class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}const SR=new It(Te.comparator);function Rs(){return SR}const $1=new It(Te.comparator);function No(...s){let e=$1;for(const i of s)e=e.insert(i.key,i);return e}function Z1(s){let e=$1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ra(){return Lo()}function J1(){return Lo()}function Lo(){return new fa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const wR=new It(Te.comparator),RR=new $t(Te.comparator);function Qe(...s){let e=RR;for(const i of s)e=e.add(i);return e}const IR=new $t(Fe);function CR(){return IR}function Jm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function W1(s){return{integerValue:""+s}}function eE(s,e){return tR(e)?W1(e):Jm(s,e)}class Ih{constructor(){this._=void 0}}function xR(s,e,i){return s instanceof hh?(function(o,c){const d={fields:{[U1]:{stringValue:k1},[P1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Km(c)&&(c=bh(c)),c&&(d.fields[L1]=c),{mapValue:d}})(i,e):s instanceof yl?nE(s,e):s instanceof Fo?iE(s,e):(function(o,c){const d=tE(o,c),g=K0(d)+K0(o.Ae);return fm(d)&&fm(o.Ae)?W1(g):Jm(o.serializer,g)})(s,e)}function NR(s,e,i){return s instanceof yl?nE(s,e):s instanceof Fo?iE(s,e):i}function tE(s,e){return s instanceof Qo?(function(a){return fm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class hh extends Ih{}class yl extends Ih{constructor(e){super(),this.elements=e}}function nE(s,e){const i=sE(e);for(const a of s.elements)i.some((o=>Ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Fo extends Ih{constructor(e){super(),this.elements=e}}function iE(s,e){let i=sE(e);for(const a of s.elements)i=i.filter((o=>!Ki(o,a)));return{arrayValue:{values:i}}}class Qo extends Ih{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function K0(s){return kt(s.integerValue||s.doubleValue)}function sE(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class rE{constructor(e,i){this.field=e,this.transform=i}}function DR(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof yl&&o instanceof yl||a instanceof Fo&&o instanceof Fo?ml(a.elements,o.elements,Ki):a instanceof Qo&&o instanceof Qo?Ki(a.Ae,o.Ae):a instanceof hh&&o instanceof hh})(s.transform,e.transform)}class OR{constructor(e,i){this.version=e,this.transformResults=i}}class _i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function aE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Wm(s.key,_i.none()):new iu(s.key,s.data,_i.none());{const i=s.data,a=Dn.empty();let o=new $t(hn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Cr(s.key,a,new qn(o.toArray()),_i.none())}}function MR(s,e,i){s instanceof iu?(function(o,c,d){const g=o.value.clone(),y=$0(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Cr?(function(o,c,d){if(!Kc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=$0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(lE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Po(s,e,i,a){return s instanceof iu?(function(c,d,g,y){if(!Kc(c.precondition,d))return g;const _=c.value.clone(),T=Z0(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Cr?(function(c,d,g,y){if(!Kc(c.precondition,d))return g;const _=Z0(c.fieldTransforms,y,d),T=d.data;return T.setAll(lE(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,g){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function VR(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=tE(a.transform,o||null);c!=null&&(i===null&&(i=Dn.empty()),i.set(a.field,c))}return i||null}function X0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ml(a,o,((c,d)=>DR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class iu extends Ch{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends Ch{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function lE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function $0(s,e,i){const a=new Map;at(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,NR(d,g,i[o]))}return a}function Z0(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,xR(c,d,e))}return a}class Wm extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kR extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&MR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Po(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Po(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=J1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=aE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((i,a)=>X0(i,a)))&&ml(this.baseMutations,e.baseMutations,((i,a)=>X0(i,a)))}}class ep{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){at(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return wR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new ep(e,i,a,o)}}class LR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Gt,$e;function zR(s){switch(s){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function oE(s){if(s===void 0)return ws("GRPC error has no .code"),J.UNKNOWN;switch(s){case Gt.OK:return J.OK;case Gt.CANCELLED:return J.CANCELLED;case Gt.UNKNOWN:return J.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return J.INTERNAL;case Gt.UNAVAILABLE:return J.UNAVAILABLE;case Gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Gt.NOT_FOUND:return J.NOT_FOUND;case Gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Gt.ABORTED:return J.ABORTED;case Gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Gt.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:s})}}($e=Gt||(Gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function jR(){return new TextEncoder}const BR=new _r([4294967295,4294967295],0);function J0(s){const e=jR().encode(s),i=new A1;return i.update(e),new Uint8Array(i.digest())}function W0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _r([i,a],0),new _r([o,c],0)]}class tp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Do(`Invalid padding: ${i}`);if(a<0)throw new Do(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Do(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=_r.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(_r.fromNumber(a)));return o.compare(BR)===1&&(o=new _r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=J0(e),[a,o]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new tp(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=J0(e),[a,o]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new xh(Ie.min(),o,new It(Fe),Rs(),Qe())}}class su{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new su(a,i,Qe(),Qe(),Qe())}}class Xc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class uE{constructor(e,i){this.targetId=e,this.Ce=i}}class cE{constructor(e,i,a=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),i=Qe(),a=Qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ae(38017,{changeType:c})}})),new su(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=Pc(),this.He=Pc(),this.Ye=new It(Fe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(mm(c))if(a===0){const d=new Te(c.path);this.et(i,d,gn.newNoDocument(d,Ie.min()))}else at(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Ar(a).toUint8Array()}catch(y){if(y instanceof V1)return dl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new tp(d,o,c)}catch(y){return dl(y instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const y=new Te(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,gn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Qe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new xh(e,i,this.Ye,this.je,a);return this.je=Rs(),this.Je=Pc(),this.He=Pc(),this.Ye=new It(Fe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new ev,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new $t(Fe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new $t(Fe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||fe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new It(Te.comparator)}function tv(){return new It(Te.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},GR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FR={and:"AND",or:"OR"};class QR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gm(s,e){return s.useProto3Json||Th(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function YR(s,e){return fh(s,e.toTimestamp())}function Fi(s){return at(!!s,49232),Ie.fromTimestamp((function(i){const a=br(i);return new At(a.seconds,a.nanos)})(s))}function np(s,e){return ym(s,e).canonicalString()}function ym(s,e){const i=(function(o){return new Rt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function fE(s){const e=Rt.fromString(s);return at(yE(e),10190,{key:e.toString()}),e}function _m(s,e){return np(s.databaseId,e.path)}function Kd(s,e){const i=fE(e);if(i.get(1)!==s.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Te(mE(i))}function dE(s,e){return np(s.databaseId,e)}function KR(s){const e=fE(s);return e.length===4?Rt.emptyPath():mE(e)}function vm(s){return new Rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mE(s){return at(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function nv(s,e,i){return{name:_m(s,e),fields:i.value.mapValue.fields}}function XR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(at(T===void 0||typeof T=="string",58123),fn.fromBase64String(T||"")):(at(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),fn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?J.UNKNOWN:oE(_.code);return new ge(T,_.message||"")})(d);i=new cE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Kd(s,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):Ie.min(),g=new Dn({mapValue:{fields:a.document.fields}}),y=gn.newFoundDocument(o,c,d,g),_=a.targetIds||[],T=a.removedTargetIds||[];i=new Xc(_,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Kd(s,a.document),c=a.readTime?Fi(a.readTime):Ie.min(),d=gn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Xc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Kd(s,a.document),c=a.removedTargetIds||[];i=new Xc([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new PR(o,c),g=a.targetId;i=new uE(g,d)}}return i}function $R(s,e){let i;if(e instanceof iu)i={update:nv(s,e.key,e.value)};else if(e instanceof Wm)i={delete:_m(s,e.key)};else if(e instanceof Cr)i={update:nv(s,e.key,e.data),updateMask:rI(e.fieldMask)};else{if(!(e instanceof kR))return Ae(16599,{Vt:e.type});i={verify:_m(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Fo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:YR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function ZR(s,e){return s&&s.length>0?(at(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(Ie.min())&&(d=Fi(c)),new OR(d,o.transformResults||[])})(i,e)))):[]}function JR(s,e){return{documents:[dE(s,e.path)]}}function WR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dE(s,o);const c=(function(_){if(_.length!==0)return gE(Xi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(M){return{field:il(M.field),direction:nI(M.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function eI(s){let e=KR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){at(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(w){const M=pE(w);return M instanceof Xi&&G1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(ie){return new ch(sl(ie.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ie.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,Th(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,q=w.values||[];return new uh(q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,q=w.values||[];return new uh(q,M)})(i.endAt)),vR(e,o,d,c,g,"F",y,_)}function tI(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function pE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=sl(i.unaryFilter.field);return Xt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=sl(i.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=sl(i.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=sl(i.unaryFilter.field);return Xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Xt.create(sl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>pE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function nI(s){return qR[s]}function iI(s){return GR[s]}function sI(s){return FR[s]}function il(s){return{fieldPath:s.canonicalString()}}function sl(s){return hn.fromServerFormat(s.fieldPath)}function gE(s){return s instanceof Xt?(function(i){if(i.op==="=="){if(q0(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NAN"}};if(H0(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(q0(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NAN"}};if(H0(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(i.field),op:iI(i.op),value:i.value}}})(s):s instanceof Xi?(function(i){const a=i.getFilters().map((o=>gE(o)));return a.length===1?a[0]:{compositeFilter:{op:sI(i.op),filters:a}}})(s):Ae(54877,{filter:s})}function rI(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function yE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class mr{constructor(e,i,a,o,c=Ie.min(),d=Ie.min(),g=fn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aI{constructor(e){this.yt=e}}function lI(s){const e=eI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pm(e,e.limit,"L"):e}class oI{constructor(){this.Cn=new uI}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Tr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class uI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new $t(Rt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new $t(Rt.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(_E,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}const sv="LruGarbageCollector",cI=1048576;function rv([s,e],[i,a]){const o=Fe(s,i);return o===0?Fe(e,a):o}class hI{constructor(e){this.Ir=e,this.buffer=new $t(rv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();rv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fI{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wl(i)?fe(sv,"Ignoring IndexedDB error during garbage collection: ",i):await Sl(i)}await this.Vr(3e5)}))}}class dI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Eh.ce);const a=new hI(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(iv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,y,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),tl()<=Ge.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function mI(s,e){return new dI(s,e)}class pI{constructor(){this.changes=new fa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class yI{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Po(a.mutation,o,qn.empty(),At.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Qe()){const o=ra();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=No();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ra();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=Rs();const d=Lo(),g=(function(){return Lo()})();return i.forEach(((y,_)=>{const T=a.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Cr)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Po(T.mutation,_,T.mutation.getFieldMask(),At.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new gI(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Lo();let o=new It(((d,g)=>d-g)),c=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=a.get(y)||qn.empty();T=g.applyToLocalView(_,T),a.set(y,T);const w=(o.get(g.batchId)||Qe()).add(y);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,T=y.value,w=J1();T.forEach((M=>{if(!c.has(M)){const q=aE(i.get(M),a.get(M));q!==null&&w.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ER(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(ra());let g=Bo,y=c;return d.next((_=>X.forEach(_,((T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(e,T).next((M=>{y=y.insert(T,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Qe()))).next((T=>({batchId:g,changes:Z1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((a=>{let o=No();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=No();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(y=>{const _=(function(w,M){return new Ah(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((T=>{T.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,gn.newInvalidDocument(T)))}));let g=No();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&Po(T.mutation,_,qn.empty(),At.now()),Rh(i,_)&&(g=g.insert(y,_))})),g}))}}class _I{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:lI(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),X.resolve()}}class vI{constructor(){this.overlays=new It(Te.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ra();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=ra(),c=i.length+1,d=new Te(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new It(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let T=c.get(_.largestBatchId);T===null&&(T=ra(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=ra(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=o)););return X.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new LR(i,a));let c=this.qr.get(i);c===void 0&&(c=Qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class EI{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class ip{constructor(){this.Qr=new $t(nn.$r),this.Ur=new $t(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new nn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new nn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Te(new Rt([])),a=new nn(i,e),o=new nn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Te(new Rt([])),a=new nn(i,e),o=new nn(i,e+1);let c=Qe();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Te.comparator(e.key,i.key)||Fe(e.Yr,i.Yr)}static Kr(e,i){return Fe(e.Yr,i.Yr)||Te.comparator(e.key,i.key)}}class TI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $t(nn.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new UR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new nn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new $t(Fe);return i.forEach((o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const d=new nn(new Te(c),0);let g=new $t(Fe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){at(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new nn(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bI{constructor(e){this.ri=e,this.docs=(function(){return new It(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(e,i){let a=Rs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():gn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Rs();const d=i.path,g=new Te(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Z2($2(T),a)<=0||(o.has(T.key)||Rh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ae(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new AI(this)}getSize(e){return X.resolve(this.size)}}class AI extends pI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class SI{constructor(e){this.persistence=e,this.si=new fa((i=>$m(i)),Zm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new ip,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new _l(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class vE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new EI,this.referenceDelegate=e(this),this.Pi=new SI(this),this.indexManager=new oI,this.remoteDocumentCache=(function(o){return new bI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new aI(i),this.Ii=new _I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new vI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new TI(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){fe("MemoryPersistence","Starting transaction:",e);const o=new wI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class wI extends W2{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.Ri=new ip,this.Vi=null}static mi(e){return new sp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=Te.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ie.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.pi=new fa((a=>nR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=mI(this,i)}static mi(e,i){return new dh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Ie.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Qe(),o=Qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new rp(e,i.fromCache,a,o)}}class RI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class II{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pA()?8:eR(yn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new RI;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(tl()<=Ge.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",nl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(tl()<=Ge.DEBUG&&fe("QueryEngine","Query:",nl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(tl()<=Ge.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",nl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):X.resolve())}ys(e,i){if(Y0(i))return X.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=pm(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Qe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,pm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return Y0(i)||o.isEqual(Ie.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(tl()<=Ge.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nl(i)),this.vs(e,d,i,X2(o,Bo)).next((g=>g)))}))}Ds(e,i){let a=new $t(X1(e));return i.forEach(((o,c)=>{Rh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return tl()<=Ge.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",nl(i)),this.ps.getDocumentsMatchingQuery(e,i,Tr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ap="LocalStore",CI=3e8;class xI{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new It(Fe),this.xs=new fa((c=>$m(c)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function NI(s,e,i,a){return new xI(s,e,i,a)}async function EE(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Qe();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function DI(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,T){const w=_.batch,M=w.keys();let q=X.resolve();return M.forEach((ie=>{q=q.next((()=>T.getEntry(y,ie))).next((ae=>{const ne=_.docVersions.get(ie);at(ne!==null,48541),ae.version.compareTo(ne)<0&&(w.applyToRemoteDocument(ae,_),ae.isValidDocument()&&(ae.setReadTime(_.commitVersion),T.addEntry(ae)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Qe();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function TE(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function OI(s,e){const i=xe(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((T,w)=>{const M=o.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,w))));let q=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(fn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,a)),o=o.insert(w,q),(function(ae,ne,ve){return ae.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=CI?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0})(M,q,T)&&g.push(i.Pi.updateTargetData(c,q))}));let y=Rs(),_=Qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(MI(c,d,e.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!a.isEqual(Ie.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function MI(s,e,i){let a=Qe(),o=Qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Rs();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Ie.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):fe(ap,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function VI(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function kI(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new mr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Em(s,e,i){const a=xe(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!wl(d))throw d;fe(ap,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function av(s,e,i){const a=xe(s);let o=Ie.min(),c=Qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const w=xe(y),M=w.xs.get(T);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,T)})(a,d,Gi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Ie.min(),i?c:Qe()))).next((g=>(UI(a,bR(e),g),{documents:g,Qs:c})))))}function UI(s,e,i){let a=s.Os.get(e)||Ie.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class lv{constructor(){this.activeTargetIds=CR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LI{constructor(){this.Mo=new lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PI{Oo(e){}shutdown(){}}const ov="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function Tm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const Xd="RestConnection",zI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Tm(),g=this.zo(e,i.toUriEncodedString());fe(Xd,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),T=El(_);return this.Jo(e,g,y,a,T).then((w=>(fe(Xd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw dl(Xd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=zI[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class BI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mn="WebChannelConnection";class HI extends jI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Tm();return new Promise(((g,y)=>{const _=new S1;_.setWithCredentials(!0),_.listenOnce(w1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const w=_.getResponseJson();fe(mn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Fc.TIMEOUT:fe(mn,`RPC '${e}' ${d} timed out`),y(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const M=_.getStatus();if(fe(mn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const ie=q?.error;if(ie&&ie.status&&ie.message){const ae=(function(ve){const Re=ve.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Re)>=0?Re:J.UNKNOWN})(ie.status);y(new ge(ae,ie.message))}else y(new ge(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ge(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{fe(mn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);fe(mn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=C1(),g=I1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const T=c.join("");fe(mn,`Creating RPC '${e}' stream ${o}: ${T}`,y);const w=d.createWebChannel(T,y);this.I_(w);let M=!1,q=!1;const ie=new BI({Yo:ne=>{q?fe(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,ne):(M||(fe(mn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),fe(mn,`RPC '${e}' stream ${o} sending:`,ne),w.send(ne))},Zo:()=>w.close()}),ae=(ne,ve,Re)=>{ne.listen(ve,(Ee=>{try{Re(Ee)}catch(et){setTimeout((()=>{throw et}),0)}}))};return ae(w,xo.EventType.OPEN,(()=>{q||(fe(mn,`RPC '${e}' stream ${o} transport opened.`),ie.o_())})),ae(w,xo.EventType.CLOSE,(()=>{q||(q=!0,fe(mn,`RPC '${e}' stream ${o} transport closed`),ie.a_(),this.E_(w))})),ae(w,xo.EventType.ERROR,(ne=>{q||(q=!0,dl(mn,`RPC '${e}' stream ${o} transport errored. Name:`,ne.name,"Message:",ne.message),ie.a_(new ge(J.UNAVAILABLE,"The operation could not be completed")))})),ae(w,xo.EventType.MESSAGE,(ne=>{if(!q){const ve=ne.data[0];at(!!ve,16349);const Re=ve,Ee=Re?.error||Re[0]?.error;if(Ee){fe(mn,`RPC '${e}' stream ${o} received error:`,Ee);const et=Ee.status;let ft=(function(S){const I=Gt[S];if(I!==void 0)return oE(I)})(et),Ye=Ee.message;ft===void 0&&(ft=J.INTERNAL,Ye="Unknown error status: "+et+" with message "+Ee.message),q=!0,ie.a_(new ge(ft,Ye)),w.close()}else fe(mn,`RPC '${e}' stream ${o} received:`,ve),ie.u_(ve)}})),ae(g,R1.STAT_EVENT,(ne=>{ne.stat===um.PROXY?fe(mn,`RPC '${e}' stream ${o} detected buffering proxy`):ne.stat===um.NOPROXY&&fe(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ie.__()}),0),ie}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function $d(){return typeof document<"u"?document:null}function Nh(s){return new QR(s,!0)}class bE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class AE{constructor(e,i,a,o,c,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ge(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(fe(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qI extends AE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=XR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ie.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Fi(d.readTime):Ie.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=mm(y)?{documents:JR(c,y)}:{query:WR(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=hE(c,d.resumeToken);const _=gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ie.min())>0){g.readTime=fh(c,d.snapshotVersion.toTimestamp());const _=gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=tI(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=vm(this.serializer),i.removeTarget=e,this.q_(i)}}class GI extends AE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ZR(e.writeResults,e.commitTime),a=Fi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=vm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>$R(this.serializer,a)))};this.q_(i)}}class FI{}class QI extends FI{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,ym(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,ym(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):fe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class KI{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{da(this)&&(fe(ca,"Restarting streams for network reachability change."),await(async function(y){const _=xe(y);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Ra=new YI(a,o)}}async function Dh(s){if(da(s))for(const e of s.da)await e(!0)}async function ru(s){for(const e of s.da)await e(!1)}function SE(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),cp(i)?up(i):Rl(i).O_()&&op(i,e))}function lp(s,e){const i=xe(s),a=Rl(i);i.Ia.delete(e),a.O_()&&wE(i,e),i.Ia.size===0&&(a.O_()?a.L_():da(i)&&i.Ra.set("Unknown"))}function op(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rl(s).Y_(e)}function wE(s,e){s.Va.Ue(e),Rl(s).Z_(e)}function up(s){s.Va=new HR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Rl(s).start(),s.Ra.ua()}function cp(s){return da(s)&&!Rl(s).x_()&&s.Ia.size>0}function da(s){return xe(s).Ea.size===0}function RE(s){s.Va=void 0}async function XI(s){s.Ra.set("Online")}async function $I(s){s.Ia.forEach(((e,i)=>{op(s,e)}))}async function ZI(s,e){RE(s),cp(s)?(s.Ra.ha(e),up(s)):s.Ra.set("Unknown")}async function JI(s,e,i){if(s.Ra.set("Online"),e instanceof cE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){fe(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mh(s,a)}else if(e instanceof Xc?s.Va.Ze(e):e instanceof uE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ie.min()))try{const a=await TE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(fn.EMPTY_BYTE_STRING,T.snapshotVersion)),wE(c,y);const w=new mr(T.target,y,_,T.sequenceNumber);op(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){fe(ca,"Failed to raise snapshot:",a),await mh(s,a)}}async function mh(s,e,i){if(!wl(e))throw e;s.Ea.add(1),await ru(s),s.Ra.set("Offline"),i||(i=()=>TE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(ca,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Dh(s)}))}function IE(s,e){return e().catch((i=>mh(s,i,e)))}async function Oh(s){const e=xe(s),i=wr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;WI(e);)try{const o=await VI(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,eC(e,o)}catch(o){await mh(e,o)}CE(e)&&xE(e)}function WI(s){return da(s)&&s.Ta.length<10}function eC(s,e){s.Ta.push(e);const i=wr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function CE(s){return da(s)&&!wr(s).x_()&&s.Ta.length>0}function xE(s){wr(s).start()}async function tC(s){wr(s).ra()}async function nC(s){const e=wr(s);for(const i of s.Ta)e.ea(i.mutations)}async function iC(s,e,i){const a=s.Ta.shift(),o=ep.from(a,e,i);await IE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Oh(s)}async function sC(s,e){e&&wr(s).X_&&await(async function(a,o){if((function(d){return zR(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();wr(a).B_(),await IE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Oh(a)}})(s,e),CE(s)&&xE(s)}async function hv(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),fe(ca,"RemoteStore received new credentials");const a=da(i);i.Ea.add(3),await ru(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dh(i)}async function rC(s,e){const i=xe(s);e?(i.Ea.delete(2),await Dh(i)):e||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Rl(s){return s.ma||(s.ma=(function(i,a,o){const c=xe(i);return c.sa(),new qI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:XI.bind(null,s),t_:$I.bind(null,s),r_:ZI.bind(null,s),H_:JI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),cp(s)?up(s):s.Ra.set("Unknown")):(await s.ma.stop(),RE(s))}))),s.ma}function wr(s){return s.fa||(s.fa=(function(i,a,o){const c=xe(i);return c.sa(),new GI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:tC.bind(null,s),r_:sC.bind(null,s),ta:nC.bind(null,s),na:iC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class hp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new hp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(s,e){if(ws("AsyncQueue",`${e}: ${s}`),wl(s))return new ge(J.UNAVAILABLE,`${e}: ${s}`);throw s}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Te.comparator(i.key,a.key):(i,a)=>Te.comparator(i.key,a.key),this.keyedMap=No(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class fv{constructor(){this.ga=new It(Te.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class vl{constructor(e,i,a,o,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new vl(e,i,cl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class aC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lC{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xe(i),c=o.queries;o.queries=dv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function dv(){return new fa((s=>K1(s)),wh)}async function NE(s,e){const i=xe(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new aC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=fp(d,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&dp(i)}async function DE(s,e){const i=xe(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function oC(s,e){const i=xe(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&dp(i)}function uC(s,e,i){const a=xe(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function dp(s){s.Ca.forEach((e=>{e.next()}))}var bm,mv;(mv=bm||(bm={})).Ma="default",mv.Cache="cache";class OE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new vl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}class ME{constructor(e){this.key=e}}class VE{constructor(e){this.key=e}}class cC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=X1(e),this.tu=new cl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new fv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,w)=>{const M=o.get(T),q=Rh(this.query,w)?w:null,ie=!!M&&this.mutatedKeys.has(M.key),ae=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ne=!1;M&&q?M.data.isEqual(q.data)?ie!==ae&&(a.track({type:3,doc:q}),ne=!0):this.su(M,q)||(a.track({type:2,doc:q}),ne=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(g=!0)):!M&&q?(a.track({type:0,doc:q}),ne=!0):M&&!q&&(a.track({type:1,doc:M}),ne=!0,(y||_)&&(g=!0)),ne&&(q?(d=d.add(q),c=ae?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,w)=>(function(q,ie){const ae=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:ne})}};return ae(q)-ae(ie)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new vl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new VE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new ME(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mp="SyncEngine";class hC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class fC{constructor(e){this.key=e,this.hu=!1}}class dC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((g=>K1(g)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new It(Te.comparator),this.Au=new Map,this.Ru=new ip,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mC(s,e,i=!0){const a=jE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await kE(a,e,i,!0),o}async function pC(s,e){const i=jE(s);await kE(i,e,!0,!1)}async function kE(s,e,i,a){const o=await kI(s.localStore,Gi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await gC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&SE(s.remoteStore,o),g}async function gC(s,e,i,a,o){s.pu=(w,M,q)=>(async function(ae,ne,ve,Re){let Ee=ne.view.ru(ve);Ee.Cs&&(Ee=await av(ae.localStore,ne.query,!1).then((({documents:x})=>ne.view.ru(x,Ee))));const et=Re&&Re.targetChanges.get(ne.targetId),ft=Re&&Re.targetMismatches.get(ne.targetId)!=null,Ye=ne.view.applyChanges(Ee,ae.isPrimaryClient,et,ft);return gv(ae,ne.targetId,Ye.au),Ye.snapshot})(s,w,M,q);const c=await av(s.localStore,e,!0),d=new cC(e,c.Qs),g=d.ru(c.documents),y=su.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);gv(s,i,_.au);const T=new hC(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function yC(s,e,i){const a=xe(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!wh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&lp(a.remoteStore,o.targetId),Am(a,o.targetId)})).catch(Sl)):(Am(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function _C(s,e){const i=xe(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),lp(i.remoteStore,a.targetId))}async function vC(s,e,i){const a=RC(s);try{const o=await(function(d,g){const y=xe(d),_=At.now(),T=g.reduce(((q,ie)=>q.add(ie.key)),Qe());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let ie=Rs(),ae=Qe();return y.Ns.getEntries(q,T).next((ne=>{ie=ne,ie.forEach(((ve,Re)=>{Re.isValidDocument()||(ae=ae.add(ve))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,ie))).next((ne=>{w=ne;const ve=[];for(const Re of g){const Ee=VR(Re,w.get(Re.key).overlayedDocument);Ee!=null&&ve.push(new Cr(Re.key,Ee,B1(Ee.value.mapValue),_i.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,ve,g)})).next((ne=>{M=ne;const ve=ne.applyToLocalDocumentSet(w,ae);return y.documentOverlayCache.saveOverlays(q,ne.batchId,ve)}))})).then((()=>({batchId:M.batchId,changes:Z1(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new It(Fe)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await au(a,o.changes),await Oh(a.remoteStore)}catch(o){const c=fp(o,"Failed to persist write");i.reject(c)}}async function UE(s,e){const i=xe(s);try{const a=await OI(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?at(d.hu,14607):o.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await au(i,a,e)}catch(a){await Sl(a)}}function pv(s,e,i){const a=xe(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=xe(d);y.onlineState=g;let _=!1;y.queries.forEach(((T,w)=>{for(const M of w.Sa)M.va(g)&&(_=!0)})),_&&dp(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function EC(s,e,i){const a=xe(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new It(Te.comparator);d=d.insert(c,gn.newNoDocument(c,Ie.min()));const g=Qe().add(c),y=new xh(Ie.min(),new Map,new It(Fe),d,g);await UE(a,y),a.du=a.du.remove(c),a.Au.delete(e),pp(a)}else await Em(a.localStore,e,!1).then((()=>Am(a,e,i))).catch(Sl)}async function TC(s,e){const i=xe(s),a=e.batch.batchId;try{const o=await DI(i.localStore,e);PE(i,a,null),LE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await au(i,o)}catch(o){await Sl(o)}}async function bC(s,e,i){const a=xe(s);try{const o=await(function(d,g){const y=xe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(at(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);PE(a,e,i),LE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await au(a,o)}catch(o){await Sl(o)}}function LE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function PE(s,e,i){const a=xe(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Am(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||zE(s,a)}))}function zE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(lp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),pp(s))}function gv(s,e,i){for(const a of i)a instanceof ME?(s.Ru.addReference(a.key,e),AC(s,a)):a instanceof VE?(fe(mp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||zE(s,a.key)):Ae(19791,{wu:a})}function AC(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(fe(mp,"New document in limbo: "+i),s.Eu.add(a),pp(s))}function pp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Te(Rt.fromString(e)),a=s.fu.next();s.Au.set(a,new fC(i)),s.du=s.du.insert(i,a),SE(s.remoteStore,new mr(Gi(Sh(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function au(s,e,i){const a=xe(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){o.push(_);const T=rp.As(y.targetId,_);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const T=xe(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(M=>X.forEach(M.Es,(q=>T.persistence.referenceDelegate.addReference(w,M.targetId,q))).next((()=>X.forEach(M.ds,(q=>T.persistence.referenceDelegate.removeReference(w,M.targetId,q)))))))))}catch(w){if(!wl(w))throw w;fe(ap,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const q=T.Ms.get(M),ie=q.snapshotVersion,ae=q.withLastLimboFreeSnapshotVersion(ie);T.Ms=T.Ms.insert(M,ae)}}})(a.localStore,c))}async function SC(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){fe(mp,"User change. New user:",e.toKey());const a=await EE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ge(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(i,a.Ls)}}function wC(s,e){const i=xe(s),a=i.Au.get(e);if(a&&a.hu)return Qe().add(a.key);{let o=Qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function jE(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=UE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EC.bind(null,e),e.Pu.H_=oC.bind(null,e.eventManager),e.Pu.yu=uC.bind(null,e.eventManager),e}function RC(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bC.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return NI(this.persistence,new II,e.initialUser,this.serializer)}Cu(e){return new vE(sp.mi,this.serializer)}Du(e){return new LI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class IC extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){at(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new fI(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new vE((a=>dh.mi(a,i)),this.serializer)}}class Sm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=SC.bind(null,this.syncEngine),await rC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lC})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),a=(function(c){return new HI(c)})(e.databaseInfo);return(function(c,d,g,y){return new QI(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new KI(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>pv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new PI})())}createSyncEngine(e,i){return(function(o,c,d,g,y,_,T){const w=new dC(o,c,d,g,y,_);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);fe(ca,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};class BE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Rr="FirestoreClient";class CC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{fe(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(fe(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Zd(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await EE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function yv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await xC(s);fe(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>hv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>hv(e.remoteStore,o))),s._onlineComponents=e}async function xC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Rr,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;dl("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new ph)}}else fe(Rr,"Using default OfflineComponentProvider"),await Zd(s,new IC(void 0));return s._offlineComponents}async function HE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Rr,"Using user provided OnlineComponentProvider"),await yv(s,s._uninitializedComponentsProvider._online)):(fe(Rr,"Using default OnlineComponentProvider"),await yv(s,new Sm))),s._onlineComponents}function NC(s){return HE(s).then((e=>e.syncEngine))}async function wm(s){const e=await HE(s),i=e.eventManager;return i.onListen=mC.bind(null,e.syncEngine),i.onUnlisten=yC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_C.bind(null,e.syncEngine),i}function DC(s,e,i={}){const a=new vr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const T=new BE({next:M=>{T.Nu(),d.enqueueAndForget((()=>DE(c,w)));const q=M.docs.has(g);!q&&M.fromCache?_.reject(new ge(J.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&M.fromCache&&y&&y.source==="server"?_.reject(new ge(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new OE(Sh(g.path),T,{includeMetadataChanges:!0,qa:!0});return NE(c,w)})(await wm(s),s.asyncQueue,e,i,a))),a.promise}function qE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const _v=new Map;const GE="firestore.googleapis.com",vv=!0;class Ev{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GE,this.ssl=vv}else this.host=e.host,this.ssl=e.ssl??vv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cI)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new L2;switch(a.type){case"firstParty":return new B2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=_v.get(i);a&&(fe("ComponentProvider","Removing Datastore"),_v.delete(i),a.terminate())})(this),Promise.resolve()}}function OC(s,e,i,a={}){s=yi(s,gp);const o=El(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Pv(`https://${g}`),zv("Firestore",!0)),c.host!==GE&&c.host!==g&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!Er(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=pn.MOCK_USER;else{_=aA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new pn(w)}s._authCredentials=new P2(new N1(_,T))}}class Mh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(nu(i,Qt._jsonSchema))return new Qt(e,a||null,new Te(Rt.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Ft("string",Qt._jsonSchemaVersion),referencePath:Ft("string")};class Yo extends Mh{constructor(e,i,a){super(e,i,Sh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Te(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function en(s,e,...i){if(s=bn(s),arguments.length===1&&(e=Fm.newId()),Y2("doc","path",e),s instanceof gp){const a=Rt.fromString(e,...i);return V0(a),new Qt(s,null,new Te(a))}{if(!(s instanceof Qt||s instanceof Yo))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Rt.fromString(e,...i));return V0(a),new Qt(s.firestore,s instanceof Yo?s.converter:null,new Te(a))}}const Tv="AsyncQueue";class bv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bE(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&fe(Tv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;fe(Tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",Av(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=hp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Av(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Sv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ha extends gp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new bv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bv(e),this._firestoreClient=void 0,await e}}}function MC(s,e){const i=typeof s=="object"?s:qv(),a=typeof s=="string"?s:lh,o=km(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=sA("firestore");c&&OC(o,...c)}return o}function yp(s){if(s._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||VC(s),s._firestoreClient}function VC(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new rR(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,qE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new CC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(fn.fromBase64String(e))}catch(i){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ii(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Ft("string",ii._jsonSchemaVersion),bytes:Ft("string")};class Vh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lu{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(nu(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ft("string",Qi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yi(e.vectorValues);throw new ge(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Ft("string",Yi._jsonSchemaVersion),vectorValues:Ft("object")};const kC=/^__.*__$/;class UC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class FE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function QE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class kh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(QE(this.Ac)&&kC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(e)}Cc(e,i,a,o=!1){return new kh({Ac:e,methodName:i,Dc:a,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YE(s){const e=s._freezeSettings(),i=Nh(s._databaseId);return new LC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function PC(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Ep("Data must be an object, but it was:",d,a);const g=KE(a,d);let y,_;if(c.merge)y=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const M=Rm(e,w,i);if(!d.contains(M))throw new ge(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);$E(T,M)||T.push(M)}y=new qn(T),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new UC(new Dn(g),y,_)}class Uh extends lu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function zC(s,e,i){return new kh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _p extends lu{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=zC(this,e,!0),a=this.vc.map((c=>ou(c,i))),o=new yl(a);return new rE(e.path,o)}isEqual(e){return e instanceof _p&&Er(this.vc,e.vc)}}class vp extends lu{constructor(e,i){super(e),this.Fc=i}_toFieldTransform(e){const i=new Qo(e.serializer,eE(e.serializer,this.Fc));return new rE(e.path,i)}isEqual(e){return e instanceof vp&&this.Fc===e.Fc}}function jC(s,e,i,a){const o=s.Cc(1,e,i);Ep("Data must be an object, but it was:",o,a);const c=[],d=Dn.empty();Ir(a,((y,_)=>{const T=Tp(e,y,i);_=bn(_);const w=o.yc(T);if(_ instanceof Uh)c.push(T);else{const M=ou(_,w);M!=null&&(c.push(T),d.set(T,M))}}));const g=new qn(c);return new FE(d,g,o.fieldTransforms)}function BC(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[Rm(e,a,i)],y=[o];if(c.length%2!=0)throw new ge(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Rm(e,c[M])),y.push(c[M+1]);const _=[],T=Dn.empty();for(let M=g.length-1;M>=0;--M)if(!$E(_,g[M])){const q=g[M];let ie=y[M];ie=bn(ie);const ae=d.yc(q);if(ie instanceof Uh)_.push(q);else{const ne=ou(ie,ae);ne!=null&&(_.push(q),T.set(q,ne))}}const w=new qn(_);return new FE(T,w,d.fieldTransforms)}function ou(s,e){if(XE(s=bn(s)))return Ep("Unsupported field value:",e,s),KE(s,e);if(s instanceof lu)return(function(a,o){if(!QE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=ou(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=bn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return eE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=At.fromDate(a);return{timestampValue:fh(o.serializer,c)}}if(a instanceof At){const c=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ii)return{bytesValue:hE(o.serializer,a._byteString)};if(a instanceof Qt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:np(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,g){return{mapValue:{fields:{[z1]:{stringValue:j1},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Jm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Qm(a)}`)})(s,e)}function KE(s,e){const i={};return M1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(s,((a,o)=>{const c=ou(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function XE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof At||s instanceof Qi||s instanceof ii||s instanceof Qt||s instanceof lu||s instanceof Yi)}function Ep(s,e,i){if(!XE(i)||!D1(i)){const a=Qm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Rm(s,e,i){if((e=bn(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return Tp(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const HC=new RegExp("[~\\*/\\[\\]]");function Tp(s,e,i){if(e.search(HC)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Vh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ge(J.INVALID_ARGUMENT,g+s+y)}function $E(s,e){return s.some((i=>i.isEqual(e)))}class ZE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(JE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qC extends ZE{data(){return super.data()}}function JE(s,e){return typeof e=="string"?Tp(s,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}function GC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ge(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FC{convertValue(e,i="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ir(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[oh].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new Yi(i)}convertGeoPoint(e){return new Qi(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ho(e));default:return null}}convertTimestamp(e){const i=br(e);return new At(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Rt.fromString(e);at(yE(a),9688,{name:e});const o=new qo(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return o.isEqual(i)||ws(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function QC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Oo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends ZE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(JE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Ft("string",aa._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class $c extends aa{data(e={}){return super.data(e)}}class hl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new Oo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Oo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Oo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:YC(g.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function KC(s){s=yi(s,Qt);const e=yi(s.firestore,ha);return DC(yp(e),s._key).then((i=>eT(e,s,i)))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:Ft("string",hl._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class WE extends FC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function XC(s,e,i){s=yi(s,Qt);const a=yi(s.firestore,ha),o=QC(s.converter,e);return bp(a,[PC(YE(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,_i.none())])}function Tn(s,e,i,...a){s=yi(s,Qt);const o=yi(s.firestore,ha),c=YE(o);let d;return d=typeof(e=bn(e))=="string"||e instanceof Vh?BC(c,"updateDoc",s._key,e,i,a):jC(c,"updateDoc",s._key,e),bp(o,[d.toMutation(s._key,_i.exists(!0))])}function $C(s){return bp(yi(s.firestore,ha),[new Wm(s._key,_i.none())])}function wv(s,...e){s=bn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Sv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Sv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Qt)d=yi(s.firestore,ha),g=Sh(s._key.path),c={next:y=>{e[a]&&e[a](eT(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=yi(s,Mh);d=yi(y.firestore,ha),g=y._query;const _=new WE(d);c={next:T=>{e[a]&&e[a](new hl(d,_,y,T))},error:e[a+1],complete:e[a+2]},GC(s._query)}return(function(_,T,w,M){const q=new BE(M),ie=new OE(T,q,w);return _.asyncQueue.enqueueAndForget((async()=>NE(await wm(_),ie))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>DE(await wm(_),ie)))}})(yp(d),g,o,c)}function bp(s,e){return(function(a,o){const c=new vr;return a.asyncQueue.enqueueAndForget((async()=>vC(await NC(a),o,c))),c.promise})(yp(s),e)}function eT(s,e,i){const a=i.docs.get(e._key),o=new WE(s);return new aa(s,o,e._key,a,new Oo(i.hasPendingWrites,i.fromCache),e.converter)}function or(...s){return new _p("arrayUnion",s)}function ia(s){return new vp("increment",s)}(function(e,i=!0){(function(o){Al=o})(Tl),fl(new la("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ha(new z2(a.getProvider("auth-internal")),new H2(d,a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(_.options.projectId,T)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),yr(N0,D0,e),yr(N0,D0,"esm2020")})();const ZC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Rv=s=>{const e=JC(s);return e.charAt(0).toUpperCase()+e.slice(1)},tT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),WC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ex={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tx=ht.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>ht.createElement("svg",{ref:y,...ex,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:tT("lucide",o),...!c&&!WC(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>ht.createElement(_,T)),...Array.isArray(c)?c:[c]]));const Xe=(s,e)=>{const i=ht.forwardRef(({className:a,...o},c)=>ht.createElement(tx,{ref:c,iconNode:e,className:tT(`lucide-${ZC(Rv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Rv(s),i};const nx=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],ix=Xe("arrow-left-right",nx);const sx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rx=Xe("arrow-right",sx);const ax=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jc=Xe("award",ax);const lx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Im=Xe("book-open",lx);const ox=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Ap=Xe("bug",ox);const ux=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zc=Xe("circle-check-big",ux);const cx=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hx=Xe("circle-play",cx);const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Iv=Xe("circle-question-mark",fx);const dx=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],mx=Xe("code",dx);const px=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Cm=Xe("cpu",px);const gx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],xm=Xe("crown",gx);const yx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_x=Xe("database",yx);const vx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ex=Xe("eye",vx);const Tx=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],bx=Xe("ghost",Tx);const Ax=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],Sx=Xe("hammer",Ax);const wx=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Rx=Xe("hard-drive",wx);const Ix=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Cx=Xe("history",Ix);const xx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Nx=Xe("house",xx);const Dx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nT=Xe("lock",Dx);const Ox=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jd=Xe("log-out",Ox);const Mx=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Vx=Xe("radio",Mx);const kx=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],Ux=Xe("scan-eye",kx);const Lx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Px=Xe("search",Lx);const zx=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],jx=Xe("server",zx);const Bx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Sp=Xe("shield",Bx);const Hx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],iT=Xe("skull",Hx);const qx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Cv=Xe("sparkles",qx);const Gx=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],Fx=Xe("syringe",Gx);const Qx=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],sT=Xe("terminal",Qx);const Yx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kx=Xe("trash-2",Yx);const Xx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nm=Xe("triangle-alert",Xx);const $x=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zx=Xe("user",$x);const Jx=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],rT=Xe("wifi",Jx);const Wx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ko=Xe("x",Wx);const eN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Dm=Xe("zap",eN),tN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:9afd57573258c43a6aa637"},aT=Hv(tN),Wd=k2(aT),tn=MC(aT),un=typeof __app_id<"u"?__app_id:"masquerade-protocol",nN="17",Hn={FIREWALL:{id:"FIREWALL",name:"Firewall",icon:Sp,color:"text-orange-500",bg:"bg-orange-950/50",border:"border-orange-600",passive:"Immune to Virus cards.",glitch:"Decrypt: Convert all VIRUS cards in your hand into INTEL cards."},SEARCH_ENGINE:{id:"SEARCH_ENGINE",name:"Search Engine",icon:Px,color:"text-blue-400",bg:"bg-blue-950/50",border:"border-blue-600",passive:"Scan: Peek at 1 random card from a player's hand once per turn.",glitch:"Index: Look at ALL cards in target player's hand (Private)."},MINER:{id:"MINER",name:"Data Miner",icon:Rx,color:"text-emerald-400",bg:"bg-emerald-950/50",border:"border-emerald-600",passive:"Draw 2 cards instead of 1 at start of turn.",glitch:"Jackpot: Draw 5 cards immediately."},GHOST:{id:"GHOST",name:"Ghost Process",icon:bx,color:"text-purple-400",bg:"bg-purple-950/50",border:"border-purple-600",passive:"Cannot be targeted by Glitch effects.",glitch:"Haunt: Swap your entire hand with target player."},ADMIN:{id:"ADMIN",name:"Sys Admin",icon:sT,color:"text-red-500",bg:"bg-red-950/50",border:"border-red-600",passive:"Hand Limit increased by 2.",glitch:"Sudo: Force target player to discard 2 random cards."}},ys={COLLECTOR:{id:"COLLECTOR",name:"The Collector",desc:"Win if you have 5 INTEL cards in hand.",icon:_x,color:"text-cyan-400"},SABOTEUR:{id:"SABOTEUR",name:"The Saboteur",desc:"Win if you hold at least 1 of each card type: INTEL, VIRUS, PING, PATCH.",icon:Ap,color:"text-lime-400"},ANARCHIST:{id:"ANARCHIST",name:"The Anarchist",desc:"Win if ALL other living players hold at least 2 INTEL and 1 VIRUS.",icon:Nm,color:"text-yellow-400"},SURVIVOR:{id:"SURVIVOR",name:"The Survivor",desc:"Win if you survive 2 System Crashes (Global), or be the last player standing.",icon:Sp,color:"text-orange-400"},CORRUPTOR:{id:"CORRUPTOR",name:"The Corruptor",desc:"Win if you have 4 VIRUS cards. (Overrides Elimination).",icon:iT,color:"text-fuchsia-400"},HACKER:{id:"HACKER",name:"The Hacker",desc:"Win if you use the PING card 4 times.",icon:Vx,color:"text-indigo-400"},ANTIVIRUS:{id:"ANTIVIRUS",name:"Antivirus",desc:"Win if you successfully use a PATCH to remove a VIRUS 3 times.",icon:Fx,color:"text-teal-400"}},iN={name:"Encrypted Signal",desc:"This player's objective is hidden. It will be revealed if they activate their Glitch.",icon:nT,color:"text-slate-500"},lT={INTEL:{id:"INTEL",name:"Intel Packet",type:"RESOURCE",desc:"Collect these. Trade to swap data.",icon:mx,color:"text-cyan-300"},VIRUS:{id:"VIRUS",name:"Corrupt File",type:"HAZARD",desc:"3 Viruses = Crash. Trade to pass the bomb.",icon:Ap,color:"text-lime-400"},PING:{id:"PING",name:"Ping",type:"ACTION",desc:"Target player reveals 1 random card.",icon:rT,color:"text-yellow-400"},PATCH:{id:"PATCH",name:"Patch",type:"ACTION",desc:"Discard this to remove 1 Virus from your hand.",icon:Zc,color:"text-blue-400"}},xv=[...Array(15).fill("INTEL"),...Array(10).fill("VIRUS"),...Array(5).fill("PING"),...Array(5).fill("PATCH")],ur=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},em=()=>A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),A.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"})]}),Nv=()=>A.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none",children:[A.jsx(Cm,{size:16,className:"text-cyan-500 animate-pulse"}),A.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase font-mono shadow-cyan-500/50 drop-shadow-md",children:"MASQUERADE PROTOCOL"})]}),sN=({players:s,onSelect:e,onSkip:i})=>A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[190] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:A.jsxs("div",{className:"bg-slate-900 border-2 border-blue-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(59,130,246,0.3)] text-center relative",children:[A.jsxs("h3",{className:"text-xl font-black text-blue-400 mb-4 uppercase tracking-widest flex items-center justify-center gap-2",children:[A.jsx(Ux,{size:24})," Passive Scan"]}),A.jsx("p",{className:"text-slate-400 text-xs mb-6",children:"Search Engine Protocol: Select a target to reveal one random data packet from their hand."}),A.jsx("div",{className:"grid gap-2 mb-4",children:s.map(a=>A.jsxs("button",{onClick:()=>e(a.id),className:"w-full p-3 bg-slate-800 hover:bg-blue-900/30 border border-slate-700 hover:border-blue-500 rounded flex items-center justify-between group transition-all",children:[A.jsx("span",{className:"font-bold text-slate-200 group-hover:text-blue-300",children:a.name}),A.jsxs("div",{className:"text-[10px] bg-slate-950 px-2 py-1 rounded text-slate-500",children:[a.hand.length," Cards"]})]},a.id))}),A.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Skip Scan"})]})}),rN=({item:s,onClose:e,onActivateGlitch:i,canGlitch:a})=>{if(!s)return null;const o=s.passive!==void 0;return A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[170] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",onClick:e,children:A.jsxs("div",{className:"bg-slate-900 border border-cyan-500/50 p-6 rounded-xl max-w-sm w-full shadow-2xl relative",onClick:c=>c.stopPropagation(),children:[A.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:A.jsx(Ko,{})}),A.jsxs("div",{className:"flex flex-col items-center text-center",children:[A.jsx("div",{className:"p-4 rounded-full bg-slate-800 mb-4 border border-slate-600",children:rl.createElement(s.icon,{size:48,className:s.color||"text-white"})}),A.jsx("h3",{className:"text-2xl font-bold text-white mb-1 uppercase tracking-widest",children:s.name}),A.jsx("div",{className:"text-xs text-slate-500 mb-6 uppercase tracking-wider",children:o?"Public Identity":"Hidden Agenda"}),A.jsx("div",{className:"space-y-4 w-full text-left bg-slate-950/50 p-4 rounded border border-slate-800",children:o?A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("span",{className:"text-cyan-400 font-bold block text-xs uppercase mb-1",children:"Passive Ability"}),A.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.passive})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Glitch (Ultimate)"}),A.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.glitch})]})]}):A.jsxs("div",{children:[A.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Win Condition"}),A.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.desc})]})}),i&&A.jsx("div",{className:"mt-6 w-full",children:a?A.jsxs("button",{onClick:i,className:"w-full py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded flex items-center justify-center gap-2 animate-pulse shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:[A.jsx(Dm,{size:18})," ACTIVATE GLITCH"]}):A.jsx("div",{className:"w-full py-3 bg-slate-800 text-slate-500 font-bold rounded flex items-center justify-center gap-2 cursor-not-allowed",children:"GLITCH UNAVAILABLE"})})]})]})})},aN=({data:s,onClose:e})=>s?A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[180] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:A.jsxs("div",{className:"bg-slate-900 border-2 border-yellow-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(234,179,8,0.3)] text-center relative",children:[A.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:A.jsx(Ko,{})}),A.jsx("h3",{className:"text-xl font-black text-yellow-400 mb-2 uppercase tracking-widest",children:s.title}),A.jsx("p",{className:"text-slate-300 mb-6 font-bold",children:s.message}),s.cards&&s.cards.length>0&&A.jsx("div",{className:"flex justify-center gap-4 flex-wrap mb-6",children:s.cards.map((i,a)=>A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("div",{className:"mb-1 text-[10px] text-slate-500 uppercase tracking-wider",children:i.label}),A.jsx("div",{className:"scale-90 origin-top",children:A.jsx(oT,{type:i.type})})]},a))}),A.jsx("button",{onClick:e,className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded uppercase tracking-wider",children:"Dismiss"})]})}):null,lN=({type:s,message:e,subtext:i,icon:a})=>A.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:A.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-xl relative overflow-hidden
      ${s==="glitch"?"bg-fuchsia-900/80 border-fuchsia-500 text-fuchsia-100":s==="success"?"bg-green-900/80 border-green-500 text-green-100":s==="failure"?"bg-red-900/80 border-red-500 text-red-100":"bg-cyan-900/80 border-cyan-500 text-cyan-100"}
    `,children:[s==="glitch"&&A.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,#fff_3px)]"}),a&&A.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border border-white/10",children:A.jsx(a,{size:64,className:"animate-pulse"})}),A.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-md mb-2 font-mono",children:e}),i&&A.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center font-mono",children:i})]})}),oT=({type:s,onClick:e,disabled:i,highlight:a,small:o,tiny:c})=>{const d=lT[s];if(!d)return A.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return A.jsx("div",{className:"w-5 h-7 rounded flex items-center justify-center bg-slate-800 border border-slate-600 shadow-sm",title:d.name,children:A.jsx(d.icon,{size:12,className:d.color})});const g=o?"w-16 h-24 p-1":"w-24 h-32 md:w-28 md:h-40 p-2";return A.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-lg border border-slate-600 bg-slate-900 shadow-lg transition-all flex flex-col items-center justify-between
        ${g}
        ${a?"ring-2 ring-cyan-400 scale-105 z-10":""}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 cursor-pointer hover:border-slate-400"}
      `,children:[A.jsx("div",{className:"w-full text-right",children:A.jsx("div",{className:`w-2 h-2 rounded-full ${d.color.replace("text","bg")} ml-auto`})}),A.jsx(d.icon,{size:o?20:32,className:d.color}),A.jsxs("div",{className:"text-center w-full",children:[A.jsx("div",{className:"text-[10px] md:text-xs font-bold text-white leading-none mb-1 font-mono",children:d.name}),!o&&A.jsx("div",{className:"text-[8px] text-slate-400 leading-tight",children:d.type})]})]})},Dv=({onClose:s})=>A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col shadow-[0_0_50px_rgba(6,182,212,0.2)] overflow-hidden font-mono",children:[A.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[A.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 flex items-center gap-2 tracking-wider",children:[A.jsx(Im,{className:"text-cyan-500"})," SYSTEM MANUAL"]}),A.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:A.jsx(Ko,{})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-slate-300",children:[A.jsxs("section",{children:[A.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2",children:[A.jsx(xm,{size:20,className:"text-fuchsia-400"})," Objective"]}),A.jsxs("p",{className:"mb-4",children:["You are a rogue AI. Collect"," ",A.jsx("strong",{className:"text-yellow-400",children:"Golden Chips"})," by winning rounds. The first player to collect"," ",A.jsx("strong",{className:"text-yellow-400",children:"3 Chips"})," becomes the Grand Champion."]})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2",children:[A.jsx(Ex,{size:20,className:"text-fuchsia-400"})," Hidden Directives"]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.values(ys).map(e=>A.jsxs("div",{className:"p-3 rounded border border-l-4 border-l-fuchsia-500 border-slate-700 bg-slate-800/50",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[rl.createElement(e.icon,{size:16,className:e.color}),A.jsx("strong",{className:`text-sm uppercase ${e.color}`,children:e.name})]}),A.jsx("div",{className:"text-xs text-slate-300",children:e.desc})]},e.id))})]}),A.jsxs("section",{children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Core Mechanics"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-400",children:[A.jsxs("li",{children:[A.jsx("strong",{className:"text-white",children:"Crash:"})," 3 Viruses = Immediate Elimination. The turn passes immediately."]}),A.jsxs("li",{children:[A.jsx("strong",{className:"text-white",children:"Survivor:"})," Wins by surviving 2 system crashes or being the last one alive."]}),A.jsxs("li",{children:[A.jsx("strong",{className:"text-white",children:"Round System:"}),"Winning a round grants 1 Chip. Roles shuffle every round."]})]})]})]}),A.jsx("div",{className:"p-4 bg-slate-950 border-t border-slate-800",children:A.jsx("button",{onClick:s,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 py-3 rounded font-bold transition-all",children:"ACKNOWLEDGE"})})]})});function oN(){const[s,e]=ht.useState(null),[i,a]=ht.useState("menu"),[o,c]=ht.useState(""),[d,g]=ht.useState(""),[y,_]=ht.useState(localStorage.getItem("masquerade_room_id")||""),[T,w]=ht.useState(null),[M,q]=ht.useState(""),[ie,ae]=ht.useState(!1),[ne,ve]=ht.useState(!1),[Re,Ee]=ht.useState(!1),[et,ft]=ht.useState(!1),[Ye,x]=ht.useState(!1),[S,I]=ht.useState(null),[V,D]=ht.useState(null),[U,R]=ht.useState(!1),[lt,yt]=ht.useState(null),[G,ue]=ht.useState([]),[ye,je]=ht.useState(!1),Ze=ht.useRef(0);ht.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Tw(Wd,__initial_auth_token):await gw(Wd))();const $=Sw(Wd,e);return()=>$()},[]);const N=ee=>{ue($=>[...$,ee])};ht.useEffect(()=>{if(!y)return;const ee=wv(en(tn,"artifacts",un,"public","data","rooms",y),$=>{if($.exists()){const W=$.data(),te=W.players.find(se=>se.id===s?.uid);if(s&&!te){_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),q("Disconnected from server.");return}w(W),W.status==="lobby"?a("lobby"):(W.status==="playing"||W.status==="finished")&&a("game");const oe=W.players.find(se=>se.id===s.uid),Ve=W.players.findIndex(se=>se.id===s.uid);if(oe&&W.turnIndex===Ve&&oe.avatar==="SEARCH_ENGINE"&&!oe.passiveUsed?je(!0):je(!1),W.lastEvent&&W.lastEvent.id>Ze.current){const se=W.lastEvent;if(Ze.current=se.id,s&&se.targetId===s.uid){let he=null;se.type==="PING"?he={title:"SYSTEM ALERT: PINGED",message:`${se.initiatorName} revealed your data:`,cards:[{type:se.payload.revealedCard,label:"Revealed"}]}:se.type==="TRADE"?he={title:"DATA TRANSFER",message:`${se.initiatorName} traded with you.`,cards:[{type:se.payload.given,label:"You Received"},{type:se.payload.received,label:"You Gave"}]}:se.type==="GLITCH_ADMIN"?he={title:"SYSTEM BREACH: SUDO",message:`${se.initiatorName} forced deletion of data.`,cards:se.payload.deleted.map(Le=>({type:Le,label:"Lost"}))}:se.type==="GLITCH_GHOST"?he={title:"SYSTEM BREACH: HAUNT",message:`${se.initiatorName} swapped hands with you.`,cards:[]}:se.type==="GLITCH_SEARCH"?he={title:"SECURITY ALERT",message:`${se.initiatorName} indexed (viewed) your entire hand.`,cards:[]}:se.type==="SYSTEM_DISCARD"&&(he={title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:se.payload.discards.map(Le=>({type:Le,label:"Purged"}))}),he&&se.payload&&se.payload.discards&&se.type!=="SYSTEM_DISCARD"&&(he.message+=" (Memory Overflow Purge)",he.cards.push(...se.payload.discards.map(Le=>({type:Le,label:"Purged"})))),he&&N(he)}}}else a("menu"),_(""),localStorage.removeItem("masquerade_room_id"),q("Connection Terminated (Room Closed).")});return()=>ee()},[y,s]),ht.useEffect(()=>{const ee=wv(en(tn,"game_hub_settings","config"),$=>{$.exists()&&$.data()[nN]?.maintenance?ve(!0):ve(!1)});return()=>ee()},[]);const Y=(ee,$,W,te)=>{D({type:ee,message:$,subtext:W,icon:te}),setTimeout(()=>D(null),2500)},le=(ee,$,W)=>{let te=0;return ee.forEach(oe=>{if(oe.isEliminated||oe.avatar==="FIREWALL"||oe.directive==="CORRUPTOR")return;oe.hand.filter(se=>se==="VIRUS").length>=3&&(oe.isEliminated=!0,$.push(...oe.hand),oe.hand=[],te++,W.push({text:`SYSTEM CRASH: ${oe.name} overloaded by Viruses!`,type:"danger",id:Date.now()+Math.random(),viewerId:"all"}),s&&oe.id===s.uid&&Y("failure","SYSTEM CRASH","Eliminated by Virus Overload",Ap))}),te},ce=async()=>{if(!o)return q("Identify yourself.");ae(!0);const ee=Math.random().toString(36).substring(2,7).toUpperCase(),$={roomId:ee,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}],deck:[],discardPile:[],turnIndex:0,crashCount:0,roundCount:1,logs:[],winnerId:null};await XC(en(tn,"artifacts",un,"public","data","rooms",ee),$),_(ee),localStorage.setItem("masquerade_room_id",ee),ae(!1)},Se=async()=>{if(!d||!o)return q("Input credentials.");ae(!0);const ee=en(tn,"artifacts",un,"public","data","rooms",d),$=await KC(ee);if(!$.exists()){q("Server not found."),ae(!1);return}const W=$.data();if(W.status!=="lobby"){q("Session locked."),ae(!1);return}if(W.players.length>=8){q("Server full."),ae(!1);return}if(!W.players.find(oe=>oe.id===s.uid)){const oe=[...W.players,{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}];await Tn(ee,{players:oe})}_(d),localStorage.setItem("masquerade_room_id",d),ae(!1)},Ne=async ee=>{if(!y)return;const $=en(tn,"artifacts",un,"public","data","rooms",y),W=T.players.filter(te=>te.id!==ee);await Tn($,{players:W,logs:or({text:"A player was removed from the session.",type:"danger",id:Date.now(),viewerId:"all"})})},Be=async()=>{if(T.hostId!==s.uid)return;const ee=ur(Object.keys(Hn)),$=ur(Object.keys(ys)),W=ur([...xv]),te=T.players.map((oe,Ve)=>{const se=[W.pop(),W.pop(),W.pop()];return{...oe,avatar:ee[Ve%ee.length],directive:$[Ve%$.length],hand:se,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0}});await Tn(en(tn,"artifacts",un,"public","data","rooms",y),{status:"playing",players:te,deck:W,discardPile:[],turnIndex:0,crashCount:0,logs:[{text:`Round ${T.roundCount||1} Initialized.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Ct=async()=>{if(!y)return;const ee=en(tn,"artifacts",un,"public","data","rooms",y);if(T.hostId===s.uid)await $C(ee);else{let W={players:T.players.filter(te=>te.id!==s.uid)};W.logs=or({text:`${T.players.find(te=>te.id===s.uid)?.name||"User"} disconnected.`,type:"danger",id:Date.now(),viewerId:"all"}),await Tn(ee,W)}_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),x(!1)},_t=async()=>{if(T.hostId!==s.uid)return;const ee=T.players.map($=>({...$,hand:[],avatar:null,directive:null,revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}));await Tn(en(tn,"artifacts",un,"public","data","rooms",y),{status:"lobby",players:ee,deck:[],discardPile:[],winnerId:null,logs:[],lastEvent:null,crashCount:0,roundCount:1}),x(!1)},$i=async()=>{if(T.hostId!==s.uid)return;const ee=ur(Object.keys(Hn)),$=ur(Object.keys(ys)),W=ur([...xv]),te=T.players.map((oe,Ve)=>{const se=[W.pop(),W.pop(),W.pop()];return{...oe,avatar:ee[Ve%ee.length],directive:$[Ve%$.length],hand:se,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,isEliminated:!1,revealed:!1,glitchUsed:!1}});await Tn(en(tn,"artifacts",un,"public","data","rooms",y),{status:"playing",players:te,deck:W,discardPile:[],turnIndex:0,crashCount:0,winnerId:null,roundCount:ia(1),logs:[{text:`Round ${T.roundCount+1} Initialized.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Cs=async()=>{if(!y)return;const ee=en(tn,"artifacts",un,"public","data","rooms",y),$=T.players.findIndex(te=>te.id===s.uid);if($===-1)return;const W=[...T.players];W[$].ready=!0,await Tn(ee,{players:W})},si=async(ee,$)=>{const W=ee.filter(te=>!te.isEliminated);if(W.length===1)return W[0].id;for(const te of ee){if(te.isEliminated)continue;const oe=te.directive,Ve=te.hand;let se=!1;if(oe==="COLLECTOR")Ve.filter(he=>he==="INTEL").length>=5&&(se=!0);else if(oe==="CORRUPTOR")Ve.filter(he=>he==="VIRUS").length>=4&&(se=!0);else if(oe==="ANARCHIST"){const he=W.filter(tt=>tt.id!==te.id),Le=he.every(tt=>tt.hand.filter(Et=>Et==="INTEL").length>=2&&tt.hand.includes("VIRUS"));he.length>0&&Le&&(se=!0)}else if(oe==="SABOTEUR"){const he=Ve.includes("INTEL"),Le=Ve.includes("VIRUS"),tt=Ve.includes("PING"),Et=Ve.includes("PATCH");he&&Le&&tt&&Et&&(se=!0)}else oe==="SURVIVOR"?T.crashCount>=2&&(se=!0):oe==="HACKER"?(te.pingCount||0)>=4&&(se=!0):oe==="ANTIVIRUS"&&(te.antivirusCount||0)>=3&&(se=!0);if(se)return te.id}return null},Zi=async(ee,$,W,te,oe=null)=>{const Ve=ee[T.turnIndex];let se=[];if(!Ve.isEliminated){const De=Ve.avatar==="ADMIN"?7:5;for(;Ve.hand.length>De;){const Yt=Math.floor(Math.random()*Ve.hand.length),rt=Ve.hand.splice(Yt,1)[0];W.push(rt),se.push(rt),te.push({text:`${Ve.name} discarded excess data (${rt}).`,type:"neutral",id:Date.now()+se.length,viewerId:"all"})}}se.length>0&&N({title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:se.map(De=>({type:De,label:"Purged"}))});let he=await si(ee);if(he){const De=ee.findIndex(nt=>nt.id===he);ee[De].chips=(ee[De].chips||0)+1;const rt={players:ee.map(nt=>({...nt,ready:!1})),status:"finished",winnerId:he,discardPile:W,logs:or(...te,{text:`Round Winner Identified: ${ee[De].name}. Chip awarded.`,type:"success",id:Date.now()+2,viewerId:"all"})};oe&&(rt.lastEvent=oe),await Tn(en(tn,"artifacts",un,"public","data","rooms",y),rt);return}let Le=!1,tt=(T.turnIndex+1)%ee.length,Et=0,me=0;const Z=ee.length*2;for(;!Le&&me<Z;){me++;let De=0;for(;ee[tt].isEliminated&&De<ee.length;)tt=(tt+1)%ee.length,De++;const Yt=ee[tt];if(Yt.passiveUsed=!1,De>=ee.length)break;let rt=1;Yt.avatar==="MINER"&&(rt=2);for(let _n=0;_n<rt;_n++){if($.length===0)if(W.length>0)$=ur([...W]),W=[],te.push({text:"Deck rebooted.",type:"neutral",id:Date.now()+3+me,viewerId:"all"});else break;$.length>0&&Yt.hand.push($.pop())}const nt=le(ee,W,te);Et+=nt,Yt.isEliminated?te.push({text:`${Yt.name} crashed immediately upon receiving data. Passing control...`,type:"danger",id:Date.now()+5+me,viewerId:"all"}):Le=!0}if(he=await si(ee),he){const De=ee.findIndex(nt=>nt.id===he);ee[De].chips=(ee[De].chips||0)+1;const rt={players:ee.map(nt=>({...nt,ready:!1})),status:"finished",winnerId:he,discardPile:W,logs:or(...te,{text:`Round Winner: ${ee[De].name}.`,type:"success",id:Date.now()+4,viewerId:"all"}),crashCount:ia(Et)};oe&&(rt.lastEvent=oe),await Tn(en(tn,"artifacts",un,"public","data","rooms",y),rt);return}te.push({text:`Processing cycle: ${ee[tt].name}`,type:"neutral",id:Date.now()+10,viewerId:"all"});const Ue={players:ee,deck:$,discardPile:W,turnIndex:tt,logs:or(...te),crashCount:ia(Et)};oe&&(Ue.lastEvent=oe),await Tn(en(tn,"artifacts",un,"public","data","rooms",y),Ue)},On=async ee=>{if(!y)return;const $=T.players.findIndex(se=>se.id===s.uid),W=T.players[$];if(W.passiveUsed)return;const te=en(tn,"artifacts",un,"public","data","rooms",y),oe=[...T.players];oe[$].passiveUsed=!0;const Ve={players:oe,logs:or({text:`${W.name} ${ee?"ran a passive background scan.":"skipped passive scan."}`,type:"neutral",id:Date.now(),viewerId:"all"})};if(ee){const se=T.players.find(he=>he.id===ee);if(se&&se.hand.length>0){const he=Math.floor(Math.random()*se.hand.length),Le=se.hand[he];N({title:"PASSIVE SCAN RESULT",message:`Scanner intercepted ${se.name}'s packet:`,cards:[{type:Le,label:"Intercepted"}]})}}await Tn(te,Ve)},xs=async(ee=null)=>{if(S===null)return;const $=T.players.findIndex(me=>me.id===s.uid),W=T.players[$],te=W.hand[S],oe=JSON.parse(JSON.stringify(T.players));let Ve=[...T.deck],se=[...T.discardPile||[]];const he=[];let Le=null;if(oe[$].hand.splice(S,1),te==="PATCH"){se.push("PATCH");const me=oe[$].hand.indexOf("VIRUS");me>-1?(oe[$].hand.splice(me,1),se.push("VIRUS"),oe[$].antivirusCount=(oe[$].antivirusCount||0)+1,he.push({text:`${W.name} ran a Patch. Virus purged.`,type:"success",id:Date.now(),viewerId:"all"})):he.push({text:`${W.name} ran a Patch but had no Virus.`,type:"neutral",id:Date.now(),viewerId:"all"})}else if(te==="PING"){if(se.push("PING"),oe[$].pingCount=(oe[$].pingCount||0)+1,!ee)return;const me=oe.find(Z=>Z.id===ee);if(me.hand.length>0){const Z=Math.floor(Math.random()*me.hand.length),Ue=me.hand[Z];Le={id:Date.now(),type:"PING",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{revealedCard:Ue}},N({title:"PING RESULT",message:`You revealed ${me.name}'s data:`,cards:[{type:Ue,label:"Revealed"}]}),he.push({text:`PING: ${me.name} has a ${Ue}.`,type:"warning",id:Date.now(),viewerId:"all"})}}else if(!ee)se.push(te),he.push({text:`${W.name} discarded ${te}.`,type:"neutral",id:Date.now(),viewerId:"all"});else{const me=oe.findIndex(Ue=>Ue.id===ee),Z=oe[me];if(Z.hand.length>0){const Ue=Math.floor(Math.random()*Z.hand.length),De=Z.hand.splice(Ue,1)[0];Z.hand.push(te),oe[$].hand.push(De),Le={id:Date.now(),type:"TRADE",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{given:te,received:De}},N({title:"TRADE COMPLETE",message:`Exchange with ${Z.name} successful.`,cards:[{type:te,label:"You Gave"},{type:De,label:"You Received"}]}),he.push({text:`${W.name} traded data with ${Z.name}.`,type:"warning",id:Date.now(),viewerId:"all"})}else Z.hand.push(te),he.push({text:`${W.name} transferred data to ${Z.name} (Empty hand).`,type:"neutral",id:Date.now(),viewerId:"all"})}const tt=le(oe,se,he);I(null);const Et=await si(oe);if(Et){const me=oe.findIndex(De=>De.id===Et);oe[me].chips=(oe[me].chips||0)+1;const Ue={players:oe.map(De=>({...De,ready:!1})),status:"finished",winnerId:Et,discardPile:se,logs:or(...he,{text:`Round Winner: ${oe[me].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:ia(tt)};Le&&(Ue.lastEvent=Le),await Tn(en(tn,"artifacts",un,"public","data","rooms",y),Ue);return}tt>0&&await Tn(en(tn,"artifacts",un,"public","data","rooms",y),{crashCount:ia(tt)}),await Zi(oe,Ve,se,he,Le)},vi=async(ee=null)=>{const $=T.players.findIndex(me=>me.id===s.uid),W=T.players[$];if(W.glitchUsed)return;if(ee){const me=T.players.find(Z=>Z.id===ee);if(me&&me.avatar==="GHOST"){R(!1),Y("failure","TARGET IMMUNE","Ghost Process blocks Glitch effects.",Sp);return}}const te=JSON.parse(JSON.stringify(T.players)),oe=[...T.deck];let Ve=[...T.discardPile||[]];const se=[];let he=null;te[$].glitchUsed=!0,te[$].revealed=!0,se.push({text:` GLITCH DETECTED: ${W.name} is ${ys[W.directive].name}!`,type:"glitch",id:Date.now(),viewerId:"all"}),Y("glitch","GLITCH ACTIVATED","Directive Revealed!",Dm);const Le=W.avatar;if(Le==="FIREWALL"){let me=0;te[$].hand=te[$].hand.map(Z=>Z==="VIRUS"?(me++,"INTEL"):Z),N({title:"SYSTEM DECRYPTION",message:`${me} Virus(es) decrypted into Intel.`,cards:[]}),se.push({text:"Firewall Decryption complete. Malicious code converted to valuable data.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(Le==="MINER"){let me=0;for(let Z=0;Z<5;Z++){if(oe.length===0&&Ve.length>0){const Ue=ur([...Ve]);Ve=[],oe.push(...Ue)}oe.length>0&&(te[$].hand.push(oe.pop()),me++)}N({title:"JACKPOT",message:`You mined ${me} new data packets.`,cards:[]}),se.push({text:"Miner hit the Jackpot. 5 Cards drawn.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(Le==="GHOST"){if(!ee)return;const me=te.findIndex(Ue=>Ue.id===ee),Z=[...te[$].hand];te[$].hand=[...te[me].hand],te[me].hand=Z,he={id:Date.now(),type:"GLITCH_GHOST",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{}},N({title:"GHOST HAUNT",message:`Swapped hands with ${te[me].name}.`,cards:[]}),se.push({text:`Ghost Process Haunt. Hands swapped with ${te[me].name}.`,type:"warning",id:Date.now()+1,viewerId:"all"})}else if(Le==="ADMIN"){if(!ee)return;const me=te.findIndex(De=>De.id===ee),Z=te[me];let Ue=[];if(Z.hand.length>=2){const De=Z.hand.splice(0,1)[0],Yt=Z.hand.splice(0,1)[0];Ve.push(De,Yt),Ue=[De,Yt]}else Ue=[...Z.hand],Ve.push(...Z.hand),Z.hand=[];he={id:Date.now(),type:"GLITCH_ADMIN",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{deleted:Ue}},N({title:"SUDO COMMAND",message:`Forced ${Z.name} to delete ${Ue.length} data packets.`,cards:[]}),se.push({text:`Admin Sudo command. ${Z.name} forced to delete data.`,type:"danger",id:Date.now()+1,viewerId:"all"})}else if(Le==="SEARCH_ENGINE"){if(!ee)return;const me=te.find(Z=>Z.id===ee);he={id:Date.now(),type:"GLITCH_SEARCH",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{}},N({title:"INDEX RESULTS",message:`${me.name}'s current database:`,cards:me.hand.map(Z=>({type:Z,label:"Held"}))}),se.push({text:`INDEX RESULTS (${me.name}): ${me.hand.join(", ")}`,type:"glitch",id:Date.now()+1,viewerId:s.uid}),se.push({text:`${W.name} Indexed ${me.name}'s data.`,type:"warning",id:Date.now()+2,viewerId:"all"})}R(!1);const tt=le(te,Ve,se),Et=await si(te);if(Et){const me=te.findIndex(De=>De.id===Et);te[me].chips=(te[me].chips||0)+1;const Ue={players:te.map(De=>({...De,ready:!1})),status:"finished",winnerId:Et,discardPile:Ve,logs:or(...se,{text:`Round Winner: ${te[me].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:ia(tt)};he&&(Ue.lastEvent=he),await Tn(en(tn,"artifacts",un,"public","data","rooms",y),Ue);return}tt>0&&await Tn(en(tn,"artifacts",un,"public","data","rooms",y),{crashCount:ia(tt)}),await Zi(te,oe,Ve,se,he)};if(ne)return A.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[A.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[A.jsx(Sx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),A.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),A.jsx("p",{className:"text-gray-400",children:"The AI is glitched. Wait for replacement hardware."})]}),A.jsx("div",{className:"h-8"}),A.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:A.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:A.jsx("div",{className:"text-center pb-12 animate-pulse",children:A.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[A.jsx(Cv,{size:16})," Visit Gamehub...Try our other releases..."," ",A.jsx(Cv,{size:16})]})})})})]});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-4 relative overflow-hidden font-mono",children:[A.jsx(em,{}),Re&&A.jsx(Dv,{onClose:()=>Ee(!1)}),A.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[A.jsx(Cm,{size:64,className:"text-cyan-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]"}),A.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:["MASQUERADE",A.jsx("br",{}),"PROTOCOL"]}),A.jsx("p",{className:"text-cyan-400/60 tracking-[0.2em] uppercase mt-2",children:"Social Hacking Simulation"})]}),A.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-lg w-full max-w-md shadow-2xl z-10",children:[M&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),A.jsx("input",{className:"w-full bg-black/50 border border-slate-700 p-3 rounded mb-4 text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none transition-colors",placeholder:"USER_ID",value:o,onChange:ee=>c(ee.target.value)}),A.jsxs("button",{onClick:ce,disabled:ie,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 transition-all hover:shadow-[0_0_15px_rgba(6,182,212,0.3)]",children:[A.jsx(jx,{size:20})," INITIALIZE_SERVER"]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[A.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-700 p-3 rounded text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none text-center tracking-widest uppercase",placeholder:"ACCESS_CODE",value:d,onChange:ee=>g(ee.target.value.toUpperCase())}),A.jsx("button",{onClick:Se,disabled:ie,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors text-slate-300",children:"CONNECT"})]}),A.jsxs("button",{onClick:()=>Ee(!0),className:"w-full text-sm text-slate-500 hover:text-cyan-400 flex items-center justify-center gap-2 py-2",children:[A.jsx(Im,{size:16})," READ_MANUAL.txt"]})]}),A.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",A.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",A.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&T){const ee=T.hostId===s.uid;return A.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-6 relative font-mono",children:[A.jsx(em,{}),A.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-lg border border-cyan-500/30 shadow-2xl",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-800 pb-4",children:[A.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[A.jsx(sT,{size:20})," LOBBY:"," ",A.jsx("span",{className:"text-white",children:y})]}),A.jsx("button",{onClick:Ct,className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:A.jsx(Jd,{size:16})})]}),A.jsxs("div",{className:"bg-black/40 rounded p-4 mb-8 border border-slate-800",children:[A.jsxs("h3",{className:"text-slate-500 text-xs uppercase tracking-widest mb-4",children:["Connected Clients (",T.players.length,"/8)"]}),A.jsx("div",{className:"space-y-2",children:T.players.map($=>A.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700",children:[A.jsxs("span",{className:`font-bold flex items-center gap-2 ${$.id===s.uid?"text-cyan-400":"text-slate-400"}`,children:[A.jsx(Zx,{size:14})," ",$.name,$.id===T.hostId&&A.jsx(xm,{size:14,className:"text-yellow-500"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[($.chips||0)>0&&A.jsxs("div",{className:"flex items-center gap-1 bg-yellow-900/40 px-2 py-0.5 rounded border border-yellow-700/50",children:[A.jsx(jc,{size:12,className:"text-yellow-400"}),A.jsx("span",{className:"text-xs text-yellow-200 font-bold",children:$.chips})]}),A.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[A.jsx(Zc,{size:12})," ONLINE"]}),ee&&$.id!==s.uid&&A.jsx("button",{onClick:()=>Ne($.id),className:"text-red-500 hover:text-red-400 p-1 hover:bg-red-900/30 rounded",title:"Kick Player",children:A.jsx(Kx,{size:14})})]})]},$.id))})]}),ee?A.jsx("button",{onClick:Be,disabled:T.players.length<3,className:`w-full py-4 rounded font-bold text-lg transition-all flex items-center justify-center gap-2 ${T.players.length>=3?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-[0_0_20px_rgba(6,182,212,0.4)]":"bg-slate-800 cursor-not-allowed text-slate-600"}`,children:T.players.length<3?"WAITING_FOR_USERS (Min 3)":"EXECUTE_PROTOCOL"}):A.jsx("div",{className:"text-center text-cyan-500/60 animate-pulse italic",children:"Waiting for Host execution..."})]}),A.jsx(Nv,{})]})}if(i==="game"&&T){const ee=T.players.findIndex(Z=>Z.id===s.uid),$=T.players[ee],W=T.turnIndex===ee,te=T.hostId===s.uid,oe=S!==null?$.hand[S]:null,Ve=oe==="PING",se=oe==="INTEL"||oe==="VIRUS",he=Ve||se,Le=uN($.avatar),tt=T.players.filter(Z=>Z.id!==T.hostId).every(Z=>Z.ready),Et=T.players.find(Z=>Z.id===T.winnerId),me=T.players.find(Z=>(Z.chips||0)>=3);return A.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 overflow-hidden flex flex-col relative font-mono",children:[A.jsx(em,{}),V&&A.jsx(lN,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),Re&&A.jsx(Dv,{onClose:()=>Ee(!1)}),lt&&A.jsx(rN,{item:lt,canGlitch:lt.canGlitch,onClose:()=>yt(null),onActivateGlitch:lt.canGlitch?()=>{yt(null),R(!0)}:null}),G.length>0&&A.jsx(aN,{data:G[0],onClose:()=>ue(Z=>Z.slice(1))}),ye&&A.jsx(sN,{players:T.players.filter(Z=>Z.id!==s.uid&&!Z.isEliminated),onSelect:Z=>On(Z),onSkip:()=>On(null)}),A.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Cm,{size:18,className:"text-cyan-500"}),A.jsxs("span",{className:"font-bold tracking-wider hidden md:block text-cyan-100",children:["ROUND ",T.roundCount||1]}),A.jsxs("span",{className:"text-xs text-slate-500",children:["Deck: ",T.deck.length," | Bin:"," ",T.discardPile?.length||0]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>Ee(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:A.jsx(Im,{size:18})}),A.jsx("button",{onClick:()=>ft(!et),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:A.jsx(Cx,{size:18})}),A.jsx("button",{onClick:()=>x(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:A.jsx(Jd,{size:18})})]})]}),A.jsxs("div",{className:"flex-1 flex flex-col p-4 max-w-6xl mx-auto w-full relative z-10",children:[A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:T.players.map((Z,Ue)=>{if(Z.id===s.uid)return null;const De=T.turnIndex===Ue,Yt=W&&he||U&&Le;return A.jsxs("div",{onClick:()=>{W&&he&&xs(Z.id),U&&Le&&vi(Z.id)},className:`
                    relative bg-slate-900/80 p-3 rounded border transition-all cursor-default
                    ${De?"border-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.3)]":"border-slate-700"}
                    ${Yt?"ring-2 ring-red-500 cursor-pointer animate-pulse bg-red-900/10":""}
                    ${Z.isEliminated?"opacity-50 grayscale border-red-900":""}
                  `,children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("span",{className:"font-bold text-xs truncate flex items-center gap-1",children:[Z.revealed&&A.jsx(Nm,{size:12,className:"text-red-500"}),Z.name]}),A.jsxs("div",{className:"flex items-center gap-1",children:[(Z.chips||0)>0&&A.jsx("div",{className:"flex items-center gap-0.5",title:`${Z.chips} Chips`,children:[...Array(Z.chips)].map((rt,nt)=>A.jsx(jc,{size:10,className:"text-yellow-400 fill-yellow-900"},nt))}),Z.ready&&T.status==="finished"&&A.jsx(Zc,{size:14,className:"text-green-500"}),Z.isEliminated&&A.jsx(iT,{size:14,className:"text-red-500"})]})]}),A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx("div",{onClick:rt=>{rt.stopPropagation(),yt(Hn[Z.avatar])},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${Hn[Z.avatar].border} ${Hn[Z.avatar].bg}`,children:rl.createElement(Hn[Z.avatar].icon,{size:16,className:Hn[Z.avatar].color})}),A.jsx("div",{onClick:rt=>{rt.stopPropagation(),Z.revealed?yt(ys[Z.directive]):yt(iN)},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${Z.revealed?"border-red-500 bg-red-950":"border-slate-700 bg-slate-800"}`,children:Z.revealed?rl.createElement(ys[Z.directive].icon,{size:16,className:"text-red-400"}):A.jsx(nT,{size:14,className:"text-slate-600"})})]}),A.jsx("div",{className:"flex gap-0.5 justify-center",children:Z.hand.map((rt,nt)=>A.jsx("div",{className:"w-2 h-4 bg-slate-700 rounded-sm"},nt))})]},Z.id)})}),A.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:T.status==="finished"?A.jsxs("div",{className:"bg-slate-900/95 p-8 rounded-xl border border-cyan-500 shadow-2xl z-50 animate-in fade-in zoom-in w-full max-w-md",children:[me?A.jsxs(A.Fragment,{children:[A.jsx(xm,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),A.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-yellow-600 mb-2",children:"GRAND CHAMPION"}),A.jsx("div",{className:"text-2xl text-white mb-6",children:me.name}),A.jsx("div",{className:"text-sm text-yellow-500/80 mb-6 uppercase tracking-widest",children:"Collected 3 Golden Chips"})]}):A.jsxs(A.Fragment,{children:[A.jsx(jc,{size:48,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),A.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["ROUND ",T.roundCount," COMPLETE"]}),A.jsxs("div",{className:"text-xl text-cyan-400 mb-6",children:["WINNER: ",Et?.name]}),A.jsxs("div",{className:"text-sm text-slate-400 mb-6",children:[Et?.name," receives a Golden Chip. (",Et?.chips,"/3)"]})]}),te?A.jsx("div",{className:"space-y-2",children:me?A.jsxs("button",{onClick:_t,className:"px-6 py-3 rounded font-bold bg-red-700 hover:bg-red-600 text-white shadow-lg mx-auto flex items-center gap-2",children:[A.jsx(Jd,{size:18})," FULL RESET TO LOBBY"]}):A.jsxs(A.Fragment,{children:[A.jsxs("button",{onClick:$i,disabled:!tt,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${tt?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[A.jsx(hx,{size:18})," START ROUND"," ",(T.roundCount||0)+1]}),!tt&&A.jsx("div",{className:"text-xs text-yellow-500 animate-pulse",children:"Waiting for players..."})]})}):!me&&A.jsxs("button",{onClick:Cs,disabled:$.ready,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${$.ready?"bg-green-800 text-green-200 cursor-default":"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg animate-pulse"}`,children:[$.ready?A.jsx(Zc,{size:18}):A.jsx(Dm,{size:18}),$.ready?"WAITING FOR HOST":"READY FOR NEXT ROUND"]})]}):A.jsx("div",{className:"w-full max-w-md space-y-2 pointer-events-none",children:T.logs.filter(Z=>Z.viewerId==="all"||Z.viewerId===s.uid).slice(-3).reverse().map((Z,Ue)=>A.jsx("div",{className:`text-xs p-2 rounded bg-black/60 border border-slate-800 ${Z.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":Z.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,style:{opacity:1-Ue*.3},children:`> ${Z.text}`},Z.id))})}),A.jsxs("div",{className:"mt-auto bg-slate-900/90 border-t border-cyan-900/30 p-4 -mx-4 md:rounded-t-2xl md:mx-0 backdrop-blur-md relative z-20",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{onClick:()=>{yt({...Hn[$.avatar],canGlitch:!$.glitchUsed&&!$.isEliminated})},className:`
                    flex items-center gap-3 p-2 rounded border cursor-pointer hover:bg-slate-800 transition-colors relative
                    ${Hn[$.avatar].border} ${Hn[$.avatar].bg}
                  `,children:[!$.glitchUsed&&!$.isEliminated&&A.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[A.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),A.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),rl.createElement(Hn[$.avatar].icon,{size:32,className:Hn[$.avatar].color}),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-bold text-white uppercase",children:Hn[$.avatar].name}),A.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[$.glitchUsed?"Glitch Offline":"Tap for Info",A.jsx(Iv,{size:8})]})]})]}),A.jsxs("div",{onClick:()=>{yt(ys[$.directive])},className:`
                  flex items-center gap-3 p-2 rounded border border-slate-700 bg-slate-800 relative cursor-pointer hover:bg-slate-700
                  ${$.revealed?"border-red-500 bg-red-900/20":""}
                `,children:[rl.createElement(ys[$.directive].icon,{size:32,className:$.revealed?"text-red-400":"text-fuchsia-400"}),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-bold text-white uppercase",children:ys[$.directive].name}),A.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[$.revealed?"REVEALED":"Tap for Info",A.jsx(Iv,{size:8})]})]})]}),($.chips||0)>0&&A.jsx("div",{className:"flex items-center gap-1 bg-yellow-900/30 px-3 py-1 rounded border border-yellow-600/50",children:[...Array($.chips)].map((Z,Ue)=>A.jsx(jc,{size:16,className:"text-yellow-400 fill-yellow-900"},Ue))})]}),W&&A.jsx("div",{className:"flex items-center gap-4",children:A.jsx("div",{className:"text-xs text-green-400 font-bold animate-pulse",children:"AWAITING_INPUT..."})})]}),A.jsx("div",{className:"w-full overflow-x-auto pb-4 pt-6 px-4",children:A.jsx("div",{className:"flex gap-2 w-fit mx-auto",children:$.hand.map((Z,Ue)=>{const De=S===Ue;return A.jsx("div",{className:`transition-all duration-200 ${De?"-translate-y-4":"hover:-translate-y-2"}`,children:A.jsx(oT,{type:Z,onClick:()=>W?I(Ue):null,highlight:De,disabled:!W||$.isEliminated})},Ue)})})}),W&&oe&&A.jsxs("div",{className:"absolute top-0 left-0 right-0 -mt-16 flex justify-center gap-2",children:[he?A.jsxs("div",{className:"bg-yellow-600 text-black px-4 py-2 rounded font-bold animate-bounce shadow-lg border border-yellow-400 flex items-center gap-2",children:[se?A.jsx(ix,{size:16}):A.jsx(rT,{size:16}),"Select Target to ",se?"Trade":"Ping"]}):A.jsxs("button",{onClick:()=>xs(),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2",children:[A.jsx(cN,{size:16})," Execute ",lT[oe].name]}),A.jsx("button",{onClick:()=>I(null),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded",children:A.jsx(Ko,{size:20})})]}),U&&A.jsxs("div",{className:"absolute inset-0 bg-slate-950/95 z-50 flex flex-col items-center justify-center rounded-t-2xl animate-in slide-in-from-bottom-10",children:[A.jsx(Nm,{size:48,className:"text-red-500 mb-2 animate-pulse"}),A.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"WARNING: GLITCH DETECTED"}),A.jsxs("p",{className:"text-xs text-red-400 mb-4 max-w-xs text-center",children:["Activating your glitch will"," ",A.jsx("strong",{className:"text-white",children:"REVEAL YOUR DIRECTIVE"})," ","to all players. This cannot be undone."]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 rounded border border-slate-600 text-slate-300 hover:bg-slate-800",children:"CANCEL"}),Le?A.jsx("div",{className:"px-4 py-2 rounded bg-fuchsia-900/50 text-fuchsia-200 border border-fuchsia-500 animate-pulse",children:"Select Target Player"}):A.jsx("button",{onClick:()=>vi(),className:"px-4 py-2 rounded bg-red-600 hover:bg-red-500 text-white font-bold shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"CONFIRM EXECUTION"})]})]})]})]}),et&&A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-slate-900 rounded-lg w-full max-w-md h-[60vh] flex flex-col border border-slate-700",children:[A.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between",children:[A.jsx("h3",{className:"text-white font-bold",children:"System Logs"}),A.jsx("button",{onClick:()=>ft(!1),children:A.jsx(Ko,{className:"text-slate-400"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 font-mono text-xs",children:[...T.logs].filter(Z=>Z.viewerId==="all"||Z.viewerId===s.uid).reverse().map(Z=>A.jsxs("div",{className:`p-2 border-l-2 ${Z.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":Z.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,children:[A.jsxs("span",{className:"opacity-50 mr-2",children:["[",new Date(Z.id).toLocaleTimeString(),"]"]}),Z.text]},Z.id))})]})}),Ye&&A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-slate-900 rounded border border-slate-700 p-6 text-center",children:[A.jsx("h3",{className:"text-white font-bold mb-4",children:"Disconnect from Server?"}),A.jsxs("div",{className:"flex gap-4 justify-center",children:[A.jsx("button",{onClick:()=>x(!1),className:"bg-slate-700 px-4 py-2 rounded text-white",children:"Cancel"}),A.jsx("button",{onClick:Ct,className:"bg-red-600 px-4 py-2 rounded text-white",children:"Disconnect"}),te&&A.jsxs("button",{onClick:_t,className:"bg-orange-600 px-4 py-2 rounded text-white flex items-center gap-1",children:[A.jsx(Nx,{size:16})," Lobby"]})]})]})}),A.jsx(Nv,{})]})}return null}function uN(s){return["GHOST","ADMIN","SEARCH_ENGINE"].includes(s)}const cN=rx;Xb.createRoot(document.getElementById("root")).render(A.jsx(ht.StrictMode,{children:A.jsx(oN,{})}));
