(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Hb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var kd={exports:{}},xo={};var K0;function qb(){if(K0)return xo;K0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return xo.Fragment=e,xo.jsx=i,xo.jsxs=i,xo}var X0;function Gb(){return X0||(X0=1,kd.exports=qb()),kd.exports}var b=Gb(),Ud={exports:{}},Ce={};var $0;function Fb(){if($0)return Ce;$0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var se={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,ie={};function ve(N,Y,le){this.props=N,this.context=Y,this.refs=ie,this.updater=le||se}ve.prototype.isReactComponent={},ve.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},ve.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Re(){}Re.prototype=ve.prototype;function Ee(N,Y,le){this.props=N,this.context=Y,this.refs=ie,this.updater=le||se}var tt=Ee.prototype=new Re;tt.constructor=Ee,ae(tt,ve.prototype),tt.isPureReactComponent=!0;var ht=Array.isArray;function Ke(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(N,Y,le){var ce=le.ref;return{$$typeof:s,type:N,key:Y,ref:ce!==void 0?ce:null,props:le}}function V(N,Y){return x(N.type,Y,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function U(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return Y[le]})}var R=/\/+/g;function at(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):Y.toString(36)}function yt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Ke,Ke):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function F(N,Y,le,ce,Se){var De=typeof N;(De==="undefined"||De==="boolean")&&(N=null);var ze=!1;if(N===null)ze=!0;else switch(De){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(N.$$typeof){case s:case e:ze=!0;break;case T:return ze=N._init,F(ze(N._payload),Y,le,ce,Se)}}if(ze)return Se=Se(N),ze=ce===""?"."+at(N,0):ce,ht(Se)?(le="",ze!=null&&(le=ze.replace(R,"$&/")+"/"),F(Se,Y,le,"",function(Xi){return Xi})):Se!=null&&(D(Se)&&(Se=V(Se,le+(Se.key==null||N&&N.key===Se.key?"":(""+Se.key).replace(R,"$&/")+"/")+ze)),Y.push(Se)),1;ze=0;var Nt=ce===""?".":ce+":";if(ht(N))for(var _t=0;_t<N.length;_t++)ce=N[_t],De=Nt+at(ce,_t),ze+=F(ce,Y,le,De,Se);else if(_t=G(N),typeof _t=="function")for(N=_t.call(N),_t=0;!(ce=N.next()).done;)ce=ce.value,De=Nt+at(ce,_t++),ze+=F(ce,Y,le,De,Se);else if(De==="object"){if(typeof N.then=="function")return F(yt(N),Y,le,ce,Se);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ze}function oe(N,Y,le){if(N==null)return N;var ce=[],Se=0;return F(N,ce,"","",function(De){return Y.call(le,De,Se++)}),ce}function ye(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var je=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Je={map:oe,forEach:function(N,Y,le){oe(N,function(){Y.apply(this,arguments)},le)},count:function(N){var Y=0;return oe(N,function(){Y++}),Y},toArray:function(N){return oe(N,function(Y){return Y})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ce.Activity=w,Ce.Children=Je,Ce.Component=ve,Ce.Fragment=i,Ce.Profiler=o,Ce.PureComponent=Ee,Ce.StrictMode=a,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(N,Y,le){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ce=ae({},N.props),Se=N.key;if(Y!=null)for(De in Y.key!==void 0&&(Se=""+Y.key),Y)!S.call(Y,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&Y.ref===void 0||(ce[De]=Y[De]);var De=arguments.length-2;if(De===1)ce.children=le;else if(1<De){for(var ze=Array(De),Nt=0;Nt<De;Nt++)ze[Nt]=arguments[Nt+2];ce.children=ze}return x(N.type,Se,ce)},Ce.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Ce.createElement=function(N,Y,le){var ce,Se={},De=null;if(Y!=null)for(ce in Y.key!==void 0&&(De=""+Y.key),Y)S.call(Y,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Se[ce]=Y[ce]);var ze=arguments.length-2;if(ze===1)Se.children=le;else if(1<ze){for(var Nt=Array(ze),_t=0;_t<ze;_t++)Nt[_t]=arguments[_t+2];Se.children=Nt}if(N&&N.defaultProps)for(ce in ze=N.defaultProps,ze)Se[ce]===void 0&&(Se[ce]=ze[ce]);return x(N,De,Se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:g,render:N}},Ce.isValidElement=D,Ce.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ye}},Ce.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},Ce.startTransition=function(N){var Y=C.T,le={};C.T=le;try{var ce=N(),Se=C.S;Se!==null&&Se(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ke,je)}catch(De){je(De)}finally{Y!==null&&le.types!==null&&(Y.types=le.types),C.T=Y}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(N){return C.H.use(N)},Ce.useActionState=function(N,Y,le){return C.H.useActionState(N,Y,le)},Ce.useCallback=function(N,Y){return C.H.useCallback(N,Y)},Ce.useContext=function(N){return C.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,Y){return C.H.useDeferredValue(N,Y)},Ce.useEffect=function(N,Y){return C.H.useEffect(N,Y)},Ce.useEffectEvent=function(N){return C.H.useEffectEvent(N)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(N,Y,le){return C.H.useImperativeHandle(N,Y,le)},Ce.useInsertionEffect=function(N,Y){return C.H.useInsertionEffect(N,Y)},Ce.useLayoutEffect=function(N,Y){return C.H.useLayoutEffect(N,Y)},Ce.useMemo=function(N,Y){return C.H.useMemo(N,Y)},Ce.useOptimistic=function(N,Y){return C.H.useOptimistic(N,Y)},Ce.useReducer=function(N,Y,le){return C.H.useReducer(N,Y,le)},Ce.useRef=function(N){return C.H.useRef(N)},Ce.useState=function(N){return C.H.useState(N)},Ce.useSyncExternalStore=function(N,Y,le){return C.H.useSyncExternalStore(N,Y,le)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.3",Ce}var Z0;function Mm(){return Z0||(Z0=1,Ud.exports=Fb()),Ud.exports}var ct=Mm();const ra=Hb(ct);var Ld={exports:{}},Io={},Pd={exports:{}},jd={};var J0;function Qb(){return J0||(J0=1,(function(s){function e(F,oe){var ye=F.length;F.push(oe);e:for(;0<ye;){var je=ye-1>>>1,Je=F[je];if(0<o(Je,oe))F[je]=oe,F[ye]=Je,ye=je;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var oe=F[0],ye=F.pop();if(ye!==oe){F[0]=ye;e:for(var je=0,Je=F.length,N=Je>>>1;je<N;){var Y=2*(je+1)-1,le=F[Y],ce=Y+1,Se=F[ce];if(0>o(le,ye))ce<Je&&0>o(Se,le)?(F[je]=Se,F[ce]=ye,je=ce):(F[je]=le,F[Y]=ye,je=Y);else if(ce<Je&&0>o(Se,ye))F[je]=Se,F[ce]=ye,je=ce;else break e}}return oe}function o(F,oe){var ye=F.sortIndex-oe.sortIndex;return ye!==0?ye:F.id-oe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],T=1,w=null,M=3,G=!1,se=!1,ae=!1,ie=!1,ve=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function tt(F){for(var oe=i(_);oe!==null;){if(oe.callback===null)a(_);else if(oe.startTime<=F)a(_),oe.sortIndex=oe.expirationTime,e(y,oe);else break;oe=i(_)}}function ht(F){if(ae=!1,tt(F),!se)if(i(y)!==null)se=!0,Ke||(Ke=!0,U());else{var oe=i(_);oe!==null&&yt(ht,oe.startTime-F)}}var Ke=!1,C=-1,S=5,x=-1;function V(){return ie?!0:!(s.unstable_now()-x<S)}function D(){if(ie=!1,Ke){var F=s.unstable_now();x=F;var oe=!0;try{e:{se=!1,ae&&(ae=!1,Re(C),C=-1),G=!0;var ye=M;try{t:{for(tt(F),w=i(y);w!==null&&!(w.expirationTime>F&&V());){var je=w.callback;if(typeof je=="function"){w.callback=null,M=w.priorityLevel;var Je=je(w.expirationTime<=F);if(F=s.unstable_now(),typeof Je=="function"){w.callback=Je,tt(F),oe=!0;break t}w===i(y)&&a(y),tt(F)}else a(y);w=i(y)}if(w!==null)oe=!0;else{var N=i(_);N!==null&&yt(ht,N.startTime-F),oe=!1}}break e}finally{w=null,M=ye,G=!1}oe=void 0}}finally{oe?U():Ke=!1}}}var U;if(typeof Ee=="function")U=function(){Ee(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=D,U=function(){at.postMessage(null)}}else U=function(){ve(D,0)};function yt(F,oe){C=ve(function(){F(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var oe=3;break;default:oe=M}var ye=M;M=oe;try{return F()}finally{M=ye}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(F,oe){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ye=M;M=F;try{return oe()}finally{M=ye}},s.unstable_scheduleCallback=function(F,oe,ye){var je=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?je+ye:je):ye=je,F){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=ye+Je,F={id:T++,callback:oe,priorityLevel:F,startTime:ye,expirationTime:Je,sortIndex:-1},ye>je?(F.sortIndex=ye,e(_,F),i(y)===null&&F===i(_)&&(ae?(Re(C),C=-1):ae=!0,yt(ht,ye-je))):(F.sortIndex=Je,e(y,F),se||G||(se=!0,Ke||(Ke=!0,U()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var oe=M;return function(){var ye=M;M=oe;try{return F.apply(this,arguments)}finally{M=ye}}}})(jd)),jd}var W0;function Yb(){return W0||(W0=1,Pd.exports=Qb()),Pd.exports}var zd={exports:{}},dn={};var e_;function Kb(){if(e_)return dn;e_=1;var s=Mm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dn.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,T)},dn.flushSync=function(y){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=T,a.d.f()}},dn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},dn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},dn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):T==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},dn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},dn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin);a.d.L(y,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},dn.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},dn.requestFormReset=function(y){a.d.r(y)},dn.unstable_batchedUpdates=function(y,_){return y(_)},dn.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.2.3",dn}var t_;function Xb(){if(t_)return zd.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=Kb(),zd.exports}var n_;function $b(){if(n_)return Io;n_=1;var s=Yb(),e=Mm(),i=Xb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,l=f;break}if(E===l){p=!0,l=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=h;break}if(E===l){p=!0,l=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),se=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case ve:return"Profiler";case ie:return"StrictMode";case ht:return"Suspense";case Ke:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case se:return"Portal";case Ee:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:at(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return at(t(n))}catch{}}return null}var yt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},je=[],Je=-1;function N(t){return{current:t}}function Y(t){0>Je||(t.current=je[Je],je[Je]=null,Je--)}function le(t,n){Je++,je[Je]=t.current,t.current=n}var ce=N(null),Se=N(null),De=N(null),ze=N(null);function Nt(t,n){switch(le(De,n),le(Se,t),le(ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?y0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=y0(n),t=_0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ce),le(ce,t)}function _t(){Y(ce),Y(Se),Y(De)}function Xi(t){t.memoizedState!==null&&le(ze,t);var n=ce.current,r=_0(n,t.type);n!==r&&(le(Se,t),le(ce,r))}function xs(t){Se.current===t&&(Y(ce),Y(Se)),ze.current===t&&(Y(ze),Ao._currentValue=ye)}var ii,_i;function On(t){if(ii===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ii=n&&n[1]||"",_i=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ii+t+_i}var Is=!1;function $i(t,n){if(!t||Is)return"";Is=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),j=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Is=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?On(r):""}function Cs(t,n){switch(t.tag){case 26:case 27:case 5:return On(t.type);case 16:return On("Lazy");case 13:return t.child!==n&&n!==null?On("Suspense Fallback"):On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return $i(t.type,!1);case 11:return $i(t.type.render,!1);case 1:return $i(t.type,!0);case 31:return On("Activity");default:return""}}function ee(t){try{var n="",r=null;do n+=Cs(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var q=Object.prototype.hasOwnProperty,W=s.unstable_scheduleCallback,ne=s.unstable_cancelCallback,ue=s.unstable_shouldYield,Oe=s.unstable_requestPaint,te=s.unstable_now,de=s.unstable_getCurrentPriorityLevel,Be=s.unstable_ImmediatePriority,nt=s.unstable_UserBlockingPriority,ft=s.unstable_NormalPriority,ge=s.unstable_LowPriority,Z=s.unstable_IdlePriority,Ie=s.log,Me=s.unstable_setDisableYieldValue,Et=null,He=null;function Tt(t){if(typeof Ie=="function"&&Me(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Et,t)}catch{}}var wt=Math.clz32?Math.clz32:hu,cu=Math.log,pa=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(cu(t)/pa|0)|0}var vi=256,Cr=262144,Lt=4194304;function Ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Ei(l):(p&=E,p!==0?h=Ei(p):r||(r=E&~t,r!==0&&(h=Ei(r))))):(E=l&~f,E!==0?h=Ei(E):p!==0?h=Ei(p):r||(r=l&~t,r!==0&&(h=Ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function si(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ph(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),t}function bi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(r=p&~r;0<r;){var Q=31-wt(r),X=1<<Q;E[Q]=0,I[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&Dr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Dr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-wt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function xl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-wt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Il(t,n){var r=n&-n;return r=(r&42)!==0?1:Or(r),(r&(t.suspendedLanes|n))!==0?0:r}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:B0(t.type))}function ri(t,n){var r=oe.p;try{return oe.p=t,n()}finally{oe.p=r}}var ai=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ai,Zt="__reactProps$"+ai,Ai="__reactContainer$"+ai,ga="__reactEvents$"+ai,zh="__reactListeners$"+ai,mu="__reactHandles$"+ai,pu="__reactResources$"+ai,Si="__reactMarker$"+ai;function ya(t){delete t[Pt],delete t[Zt],delete t[ga],delete t[zh],delete t[mu]}function wi(t){var n=t[Pt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ai]||r[Pt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=w0(t);t!==null;){if(r=t[Pt])return r;t=w0(t)}return n}t=r,r=t.parentNode}return null}function qn(t){if(t=t[Pt]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ri(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jt(t){t[Si]=!0}var Cl=new Set,Nl={};function xi(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(Nl[t]=n,t=0;t<n.length;t++)Cl.add(n[t])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Ml={};function gu(t){return q.call(Ml,t)?!0:q.call(Ol,t)?!1:Dl.test(t)?Ml[t]=!0:(Ol[t]=!0,!1)}function _a(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Vn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function zt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function lt(t){if(!t._valueTracker){var n=Ns(t)?"checked":"value";t._valueTracker=Vl(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ns(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function bn(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(t,n,r,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?kl(t,p,Jt(n)):r!=null?kl(t,p,Jt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function yu(t,n,r,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){lt(t);return}r=r!=null?""+Jt(r):"",n=n!=null?""+Jt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),lt(t)}function kl(t,n,r){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ds(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Jt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,r){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Jt(r):""}function Os(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(yt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Jt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),lt(t)}function An(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||vu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ll(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ul(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ul(t,f,n[f])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var Pl=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vs=null,Ni=null;function kr(t){var n=qn(t);if(n&&(t=n.stateNode)){var r=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(va(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Zt]||null;if(!h)throw Error(a(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Mr(l)}break e;case"textarea":_u(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ds(t,!!r.multiple,n,!1)}}}var ba=!1;function ks(t,n,r){if(ba)return t(n,r);ba=!0;try{var l=t(n);return l}finally{if(ba=!1,(Vs!==null||Ni!==null)&&(dc(),Vs&&(n=Vs,t=Ni,Ni=Vs=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function oi(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Zt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Fn)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Ur=!1}var Di=null,jl=null,Lr=null;function zl(){if(Lr)return Lr;var t,n=jl,r=n.length,l,h="value"in Di?Di.value:Di.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Lr=h.slice(t,1<l?1-l:void 0)}function Pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function ui(){return!1}function sn(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:ui,this.isPropagationStopped=ui,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=sn(Wi),Us=w({},Wi,{view:0,detail:0}),Bl=sn(Us),Ls,Aa,Mi,Sa=w({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Ls=t.screenX-Mi.screenX,Aa=t.screenY-Mi.screenY):Aa=Ls=0,Mi=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Hl=sn(Sa),jr=w({},Sa,{dataTransfer:0}),Tu=sn(jr),bu=w({},Us,{relatedTarget:0}),zr=sn(bu),ql=w({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=sn(ql),wa=w({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=sn(wa),wu=w({},Wi,{data:0}),Vi=sn(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function Ps(){return Cu}var _n=w({},Us,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=sn(_n),Du=w({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=sn(Du),u=w({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=sn(u),v=w({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=sn(v),L=w({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=sn(L),re=w({},Wi,{newState:0,oldState:0}),Ve=sn(re),Mt=[9,13,27,32],it=Fn&&"CompositionEvent"in window,Rt=null;Fn&&"documentMode"in document&&(Rt=document.documentMode);var Qn=Fn&&"TextEvent"in window&&!Rt,ki=Fn&&(!it||Rt&&8<Rt&&11>=Rt),ci=" ",hi=!1;function Br(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function fT(t,n){switch(t){case"compositionend":return Ra(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function dT(t,n){if(xa)return t==="compositionend"||!it&&Br(t,n)?(t=zl(),Lr=jl=Di=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var mT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!mT[t.type]:n==="textarea"}function Cp(t,n,r,l){Vs?Ni?Ni.push(l):Ni=[l]:Vs=l,n=Ec(n,"onChange"),0<n.length&&(r=new Oi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Gl=null,Fl=null;function pT(t){h0(t,0)}function Ou(t){var n=Mn(t);if(Mr(n))return t}function Np(t,n){if(t==="change")return n}var Dp=!1;if(Fn){var Bh;if(Fn){var Hh="oninput"in document;if(!Hh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Hh=typeof Op.oninput=="function"}Bh=Hh}else Bh=!1;Dp=Bh&&(!document.documentMode||9<document.documentMode)}function Mp(){Gl&&(Gl.detachEvent("onpropertychange",Vp),Fl=Gl=null)}function Vp(t){if(t.propertyName==="value"&&Ou(Fl)){var n=[];Cp(n,Fl,t,Gn(t)),ks(pT,n)}}function gT(t,n,r){t==="focusin"?(Mp(),Gl=n,Fl=r,Gl.attachEvent("onpropertychange",Vp)):t==="focusout"&&Mp()}function yT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Fl)}function _T(t,n){if(t==="click")return Ou(n)}function vT(t,n){if(t==="input"||t==="change")return Ou(n)}function ET(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var kn=typeof Object.is=="function"?Object.is:ET;function Ql(t,n){if(kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!q.call(n,h)||!kn(t[h],n[h]))return!1}return!0}function kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,n){var r=kp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kp(r)}}function Lp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ci(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var TT=Fn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Gh=null,Yl=null,Fh=!1;function jp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fh||Ia==null||Ia!==Ci(l)||(l=Ia,"selectionStart"in l&&qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yl&&Ql(Yl,l)||(Yl=l,l=Ec(Gh,"onSelect"),0<l.length&&(n=new Oi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ia)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ca={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Qh={},zp={};Fn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function qr(t){if(Qh[t])return Qh[t];if(!Ca[t])return t;var n=Ca[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in zp)return Qh[t]=n[r];return t}var Bp=qr("animationend"),Hp=qr("animationiteration"),qp=qr("animationstart"),bT=qr("transitionrun"),AT=qr("transitionstart"),ST=qr("transitioncancel"),Gp=qr("transitionend"),Fp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function fi(t,n){Fp.set(t,n),xi(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Na=0,Kh=0;function Vu(){for(var t=Na,n=Kh=Na=0;n<t;){var r=Yn[n];Yn[n++]=null;var l=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Qp(r,h,f)}}function ku(t,n,r,l){Yn[Na++]=t,Yn[Na++]=n,Yn[Na++]=r,Yn[Na++]=l,Kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xh(t,n,r,l){return ku(t,n,r,l),Uu(t)}function Gr(t,n){return ku(t,null,null,n),Uu(t)}function Qp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-wt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Uu(t){if(50<go)throw go=0,rd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Da={};function wT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,r,l){return new wT(t,n,r,l)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var r=t.alternate;return r===null?(r=Un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Yp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")$h(t)&&(p=1);else if(typeof t=="string")p=Nb(t,r,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Un(31,r,n,h),t.elementType=x,t.lanes=f,t;case ae:return Fr(r.children,h,f,n);case ie:p=8,h|=24;break;case ve:return t=Un(12,r,n,h|2),t.elementType=ve,t.lanes=f,t;case ht:return t=Un(13,r,n,h),t.elementType=ht,t.lanes=f,t;case Ke:return t=Un(19,r,n,h),t.elementType=Ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:p=10;break e;case Re:p=9;break e;case tt:p=11;break e;case C:p=14;break e;case S:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Un(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Fr(t,n,r,l){return t=Un(7,t,l,n),t.lanes=r,t}function Zh(t,n,r){return t=Un(6,t,null,n),t.lanes=r,t}function Kp(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function Jh(t,n,r){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xp=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var r=Xp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ee(n)},Xp.set(t,n),n)}return{value:t,source:n,stack:ee(n)}}var Oa=[],Ma=0,Pu=null,Kl=0,Xn=[],$n=0,js=null,Ui=1,Li="";function ns(t,n){Oa[Ma++]=Kl,Oa[Ma++]=Pu,Pu=t,Kl=n}function $p(t,n,r){Xn[$n++]=Ui,Xn[$n++]=Li,Xn[$n++]=js,js=t;var l=Ui;t=Li;var h=32-wt(l)-1;l&=~(1<<h),r+=1;var f=32-wt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ui=1<<32-wt(n)+h|r<<h|l,Li=f+t}else Ui=1<<f|r<<h|l,Li=t}function Wh(t){t.return!==null&&(ns(t,1),$p(t,1,0))}function ef(t){for(;t===Pu;)Pu=Oa[--Ma],Oa[Ma]=null,Kl=Oa[--Ma],Oa[Ma]=null;for(;t===js;)js=Xn[--$n],Xn[$n]=null,Li=Xn[--$n],Xn[$n]=null,Ui=Xn[--$n],Xn[$n]=null}function Zp(t,n){Xn[$n++]=Ui,Xn[$n++]=Li,Xn[$n++]=js,Ui=n.id,Li=n.overflow,js=t}var rn=null,bt=null,Xe=!1,zs=null,Zn=!1,tf=Error(a(519));function Bs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Kn(n,t)),tf}function Jp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Pt]=t,n[Zt]=l,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(r=0;r<_o.length;r++)Pe(_o[r],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),yu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Os(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||p0(n.textContent,r)?(l.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),l.onScroll!=null&&Pe("scroll",n),l.onScrollEnd!=null&&Pe("scrollend",n),l.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||Bs(t,!0)}function Wp(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:rn=rn.return}}function Va(t){if(t!==rn)return!1;if(!Xe)return Wp(t),Xe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ed(t.type,t.memoizedProps)),r=!r),r&&bt&&Bs(t),Wp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=S0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=S0(t)}else n===27?(n=bt,tr(t.type)?(t=wd,wd=null,bt=t):bt=n):bt=rn?Wn(t.stateNode.nextSibling):null;return!0}function Qr(){bt=rn=null,Xe=!1}function nf(){var t=zs;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),zs=null),t}function Xl(t){zs===null?zs=[t]:zs.push(t)}var sf=N(null),Yr=null,is=null;function Hs(t,n,r){le(sf,n._currentValue),n._currentValue=r}function ss(t){t._currentValue=sf.current,Y(sf)}function rf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function af(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),rf(f.return,r,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),rf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ka(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;kn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ze.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ao):t=[Ao])}h=h.return}t!==null&&af(n,t,r,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Yr=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return eg(Yr,t)}function zu(t,n){return Yr===null&&Kr(t),eg(t,n)}function eg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},is===null){if(t===null)throw Error(a(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return r}var RT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},xT=s.unstable_scheduleCallback,IT=s.unstable_NormalPriority,Bt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new RT,data:new Map,refCount:0}}function $l(t){t.refCount--,t.refCount===0&&xT(IT,function(){t.controller.abort()})}var Zl=null,of=0,Ua=0,La=null;function CT(t,n){if(Zl===null){var r=Zl=[];of=0,Ua=hd(),La={status:"pending",value:void 0,then:function(l){r.push(l)}}}return of++,n.then(tg,tg),n}function tg(){if(--of===0&&Zl!==null){La!==null&&(La.status="fulfilled");var t=Zl;Zl=null,Ua=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function NT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ng=F.S;F.S=function(t,n){jy=te(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&CT(t,n),ng!==null&&ng(t,n)};var Xr=N(null);function uf(){var t=Xr.current;return t!==null?t:vt.pooledCache}function Bu(t,n){n===null?le(Xr,Xr.current):le(Xr,n.pool)}function ig(){var t=uf();return t===null?null:{parent:Bt._currentValue,pool:t}}var Pa=Error(a(460)),cf=Error(a(474)),Hu=Error(a(542)),qu={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(li,li),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t;default:if(typeof n.status=="string")n.then(li,li);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t}throw Zr=n,Pa}}function $r(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Zr=r,Pa):r}}var Zr=null;function ag(){if(Zr===null)throw Error(a(459));var t=Zr;return Zr=null,t}function lg(t){if(t===Pa||t===Hu)throw Error(a(483))}var ja=null,Jl=0;function Gu(t){var n=Jl;return Jl+=1,ja===null&&(ja=[]),rg(ja,t,n)}function Wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function r(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ts(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,K){return O===null||O.tag!==6?(O=Zh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function I(k,O,P,K){var _e=P.type;return _e===ae?Q(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&$r(_e)===O.type)?(O=h(O,P.props),Wl(O,P),O.return=k,O):(O=Lu(P.type,P.key,P.props,null,k.mode,K),Wl(O,P),O.return=k,O)}function j(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Jh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Q(k,O,P,K,_e){return O===null||O.tag!==7?(O=Fr(P,k.mode,K,_e),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Zh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return P=Lu(O.type,O.key,O.props,null,k.mode,P),Wl(P,O),P.return=k,P;case se:return O=Jh(O,k.mode,P),O.return=k,O;case S:return O=$r(O),X(k,O,P)}if(yt(O)||U(O))return O=Fr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,Gu(O),P);if(O.$$typeof===Ee)return X(k,zu(k,O),P);Fu(k,O)}return null}function z(k,O,P,K){var _e=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _e!==null?null:E(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===_e?I(k,O,P,K):null;case se:return P.key===_e?j(k,O,P,K):null;case S:return P=$r(P),z(k,O,P,K)}if(yt(P)||U(P))return _e!==null?null:Q(k,O,P,K,null);if(typeof P.then=="function")return z(k,O,Gu(P),K);if(P.$$typeof===Ee)return z(k,O,zu(k,P),K);Fu(k,P)}return null}function H(k,O,P,K,_e){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(O,k,""+K,_e);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?P:K.key)||null,I(O,k,K,_e);case se:return k=k.get(K.key===null?P:K.key)||null,j(O,k,K,_e);case S:return K=$r(K),H(k,O,P,K,_e)}if(yt(K)||U(K))return k=k.get(P)||null,Q(O,k,K,_e,null);if(typeof K.then=="function")return H(k,O,P,Gu(K),_e);if(K.$$typeof===Ee)return H(k,O,P,zu(O,K),_e);Fu(O,K)}return null}function fe(k,O,P,K){for(var _e=null,We=null,me=O,Ue=O=0,Ge=null;me!==null&&Ue<P.length;Ue++){me.index>Ue?(Ge=me,me=null):Ge=me.sibling;var et=z(k,me,P[Ue],K);if(et===null){me===null&&(me=Ge);break}t&&me&&et.alternate===null&&n(k,me),O=f(et,O,Ue),We===null?_e=et:We.sibling=et,We=et,me=Ge}if(Ue===P.length)return r(k,me),Xe&&ns(k,Ue),_e;if(me===null){for(;Ue<P.length;Ue++)me=X(k,P[Ue],K),me!==null&&(O=f(me,O,Ue),We===null?_e=me:We.sibling=me,We=me);return Xe&&ns(k,Ue),_e}for(me=l(me);Ue<P.length;Ue++)Ge=H(me,k,Ue,P[Ue],K),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?Ue:Ge.key),O=f(Ge,O,Ue),We===null?_e=Ge:We.sibling=Ge,We=Ge);return t&&me.forEach(function(ar){return n(k,ar)}),Xe&&ns(k,Ue),_e}function be(k,O,P,K){if(P==null)throw Error(a(151));for(var _e=null,We=null,me=O,Ue=O=0,Ge=null,et=P.next();me!==null&&!et.done;Ue++,et=P.next()){me.index>Ue?(Ge=me,me=null):Ge=me.sibling;var ar=z(k,me,et.value,K);if(ar===null){me===null&&(me=Ge);break}t&&me&&ar.alternate===null&&n(k,me),O=f(ar,O,Ue),We===null?_e=ar:We.sibling=ar,We=ar,me=Ge}if(et.done)return r(k,me),Xe&&ns(k,Ue),_e;if(me===null){for(;!et.done;Ue++,et=P.next())et=X(k,et.value,K),et!==null&&(O=f(et,O,Ue),We===null?_e=et:We.sibling=et,We=et);return Xe&&ns(k,Ue),_e}for(me=l(me);!et.done;Ue++,et=P.next())et=H(me,k,Ue,et.value,K),et!==null&&(t&&et.alternate!==null&&me.delete(et.key===null?Ue:et.key),O=f(et,O,Ue),We===null?_e=et:We.sibling=et,We=et);return t&&me.forEach(function(Bb){return n(k,Bb)}),Xe&&ns(k,Ue),_e}function gt(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===ae&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var _e=P.key;O!==null;){if(O.key===_e){if(_e=P.type,_e===ae){if(O.tag===7){r(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&$r(_e)===O.type){r(k,O.sibling),K=h(O,P.props),Wl(K,P),K.return=k,k=K;break e}r(k,O);break}else n(k,O);O=O.sibling}P.type===ae?(K=Fr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Lu(P.type,P.key,P.props,null,k.mode,K),Wl(K,P),K.return=k,k=K)}return p(k);case se:e:{for(_e=P.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break e}else{r(k,O);break}else n(k,O);O=O.sibling}K=Jh(P,k.mode,K),K.return=k,k=K}return p(k);case S:return P=$r(P),gt(k,O,P,K)}if(yt(P))return fe(k,O,P,K);if(U(P)){if(_e=U(P),typeof _e!="function")throw Error(a(150));return P=_e.call(P),be(k,O,P,K)}if(typeof P.then=="function")return gt(k,O,Gu(P),K);if(P.$$typeof===Ee)return gt(k,O,zu(k,P),K);Fu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(k,O.sibling),K=h(O,P),K.return=k,k=K):(r(k,O),K=Zh(P,k.mode,K),K.return=k,k=K),p(k)):r(k,O)}return function(k,O,P,K){try{Jl=0;var _e=gt(k,O,P,K);return ja=null,_e}catch(me){if(me===Pa||me===Hu)throw me;var We=Un(29,me,null,k.mode);return We.lanes=K,We.return=k,We}}}var Jr=og(!0),ug=og(!1),qs=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Uu(t),Qp(t,null,r),n}return ku(t,l,n,r),Uu(t)}function eo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,xl(t,r)}}function df(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var mf=!1;function to(){if(mf){var t=La;if(t!==null)throw t}}function no(t,n,r,l){mf=!1;var h=t.updateQueue;qs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,p===null?f=j:p.next=j,p=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,Q=j=I=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(qe&z)===z:(l&z)===z){z!==0&&z===Ua&&(mf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,be=E;z=n;var gt=r;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){X=fe.call(gt,X,z);break e}X=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,z=typeof fe=="function"?fe.call(gt,X,z):fe,z==null)break e;X=w({},X,z);break e;case 2:qs=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=H,I=X):Q=Q.next=H,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),$s|=p,t.lanes=p,t.memoizedState=X}}function cg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cg(r[t],n)}var za=N(null),Qu=N(0);function fg(t,n){t=ds,le(Qu,t),le(za,n),ds=t|n.baseLanes}function pf(){le(Qu,ds),le(za,za.current)}function gf(){ds=Qu.current,Y(za),Y(Qu)}var Ln=N(null),Jn=null;function Qs(t){var n=t.alternate;le(Vt,Vt.current&1),le(Ln,t),Jn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Jn=t)}function yf(t){le(Vt,Vt.current),le(Ln,t),Jn===null&&(Jn=t)}function dg(t){t.tag===22?(le(Vt,Vt.current),le(Ln,t),Jn===null&&(Jn=t)):Ys()}function Ys(){le(Vt,Vt.current),le(Ln,Ln.current)}function Pn(t){Y(Ln),Jn===t&&(Jn=null),Y(Vt)}var Vt=N(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ad(r)||Sd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,ke=null,mt=null,Ht=null,Ku=!1,Ba=!1,Wr=!1,Xu=0,io=0,Ha=null,DT=0;function Dt(){throw Error(a(321))}function _f(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!kn(t[r],n[r]))return!1;return!0}function vf(t,n,r,l,h,f){return rs=f,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?$g:Vf,Wr=!1,f=r(l,h),Wr=!1,Ba&&(f=pg(n,r,l,h)),mg(t),f}function mg(t){F.H=ao;var n=mt!==null&&mt.next!==null;if(rs=0,Ht=mt=ke=null,Ku=!1,io=0,Ha=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&ju(t)&&(qt=!0))}function pg(t,n,r,l){ke=t;var h=0;do{if(Ba&&(Ha=null),io=0,Ba=!1,25<=h)throw Error(a(301));if(h+=1,Ht=mt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Zg,f=n(r,l)}while(Ba);return f}function OT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?so(n):n,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(ke.flags|=1024),n}function Ef(){var t=Xu!==0;return Xu=0,t}function Tf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function bf(t){if(Ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ku=!1}rs=0,Ht=mt=ke=null,Ba=!1,io=Xu=0,Ha=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ke.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function kt(){if(mt===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var n=Ht===null?ke.memoizedState:Ht.next;if(n!==null)Ht=n,mt=t;else{if(t===null)throw ke.alternate===null?Error(a(467)):Error(a(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ht===null?ke.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(t){var n=io;return io+=1,Ha===null&&(Ha=[]),t=rg(Ha,t,n),n=ke,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?$g:Vf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return so(t);if(t.$$typeof===Ee)return an(t)}throw Error(a(438,String(t)))}function Af(t){var n=null,r=ke.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=$u(),ke.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function as(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=kt();return Sf(n,mt,t)}function Sf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,I=null,j=n,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(qe&X)===X:(rs&X)===X){var z=j.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Ua&&(Q=!0);else if((rs&z)===z){j=j.next,z===Ua&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=X,p=f):I=I.next=X,ke.lanes|=z,$s|=z;X=j.action,Wr&&r(f,X),f=j.hasEagerState?j.eagerState:r(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=z,p=f):I=I.next=z,ke.lanes|=X,$s|=X;j=j.next}while(j!==null&&j!==n);if(I===null?p=f:I.next=E,!kn(f,t.memoizedState)&&(qt=!0,Q&&(r=La,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wf(t){var n=kt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);kn(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function gg(t,n,r){var l=ke,h=kt(),f=Xe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!kn((mt||h).memoizedState,r);if(p&&(h.memoizedState=r,qt=!0),h=h.queue,If(vg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},_g.bind(null,l,h,r,n),null),vt===null)throw Error(a(349));f||(rs&127)!==0||yg(l,n,r)}return r}function yg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ke.updateQueue,n===null?(n=$u(),ke.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _g(t,n,r,l){n.value=r,n.getSnapshot=l,Eg(n)&&Tg(t)}function vg(t,n,r){return r(function(){Eg(n)&&Tg(t)})}function Eg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!kn(t,r)}catch{return!0}}function Tg(t){var n=Gr(t,2);n!==null&&In(n,t,2)}function Rf(t){var n=vn();if(typeof t=="function"){var r=t;if(t=r(),Wr){Tt(!0);try{r()}finally{Tt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function bg(t,n,r,l){return t.baseState=r,Sf(t,mt,typeof l=="function"?l:as)}function MT(t,n,r,l,h){if(tc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Ag(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ag(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=r(h,l),I=F.S;I!==null&&I(p,E),Sg(t,n,E)}catch(j){xf(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,l),Sg(t,n,f)}catch(j){xf(t,n,j)}}function Sg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wg(t,n,l)},function(l){return xf(t,n,l)}):wg(t,n,r)}function wg(t,n,r){n.status="fulfilled",n.value=r,Rg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ag(t,r)))}function xf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Rg(n),n=n.next;while(n!==l)}t.action=null}function Rg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xg(t,n){return n}function Ig(t,n){if(Xe){var r=vt.formState;if(r!==null){e:{var l=ke;if(Xe){if(bt){t:{for(var h=bt,f=Zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){bt=Wn(h.nextSibling),l=h.data==="F!";break e}}Bs(l)}l=!1}l&&(n=r[0])}}return r=vn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},r.queue=l,r=Yg.bind(null,ke,l),l.dispatch=r,l=Rf(!1),f=Mf.bind(null,ke,!1,l.queue),l=vn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=MT.bind(null,ke,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Cg(t){var n=kt();return Ng(n,mt,t)}function Ng(t,n,r){if(n=Sf(t,n,xg)[0],t=Ju(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=so(n)}catch(p){throw p===Pa?Hu:p}else l=n;n=kt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(ke.flags|=2048,qa(9,{destroy:void 0},VT.bind(null,h,r),null)),[l,f,t]}function VT(t,n){t.action=n}function Dg(t){var n=kt(),r=mt;if(r!==null)return Ng(n,r,t);kt(),n=n.memoizedState,r=kt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=ke.updateQueue,n===null&&(n=$u(),ke.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Og(){return kt().memoizedState}function Wu(t,n,r,l){var h=vn();ke.flags|=t,h.memoizedState=qa(1|n,{destroy:void 0},r,l===void 0?null:l)}function ec(t,n,r,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;mt!==null&&l!==null&&_f(l,mt.memoizedState.deps)?h.memoizedState=qa(n,f,r,l):(ke.flags|=t,h.memoizedState=qa(1|n,f,r,l))}function Mg(t,n){Wu(8390656,8,t,n)}function If(t,n){ec(2048,8,t,n)}function kT(t){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=$u(),ke.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Vg(t){var n=kt().memoizedState;return kT({ref:n,nextImpl:t}),function(){if((st&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function kg(t,n){return ec(4,2,t,n)}function Ug(t,n){return ec(4,4,t,n)}function Lg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pg(t,n,r){r=r!=null?r.concat([t]):null,ec(4,4,Lg.bind(null,n,t),r)}function Cf(){}function jg(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&_f(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function zg(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&_f(n,l[1]))return l[0];if(l=t(),Wr){Tt(!0);try{t()}finally{Tt(!1)}}return r.memoizedState=[l,n],l}function Nf(t,n,r){return r===void 0||(rs&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=By(),ke.lanes|=t,$s|=t,r)}function Bg(t,n,r,l){return kn(r,n)?r:za.current!==null?(t=Nf(t,r,l),kn(t,n)||(qt=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(qe&261930)===0?(qt=!0,t.memoizedState=r):(t=By(),ke.lanes|=t,$s|=t,n)}function Hg(t,n,r,l,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,Mf(t,!1,n,r);try{var I=h(),j=F.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=NT(I,l);ro(t,n,Q,Bn(t))}else ro(t,n,l,Bn(t))}catch(X){ro(t,n,{then:function(){},status:"rejected",reason:X},Bn())}finally{oe.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function UT(){}function Df(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=qg(t).queue;Hg(t,h,n,ye,r===null?UT:function(){return Gg(t),r(l)})}function qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ye},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gg(t){var n=qg(t);n.next===null&&(n=t.alternate.memoizedState),ro(t,n.next.queue,{},Bn())}function Of(){return an(Ao)}function Fg(){return kt().memoizedState}function Qg(){return kt().memoizedState}function LT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Bn();t=Gs(r);var l=Fs(n,t,r);l!==null&&(In(l,n,r),eo(l,n,r)),n={cache:lf()},t.payload=n;return}n=n.return}}function PT(t,n,r){var l=Bn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},tc(t)?Kg(n,r):(r=Xh(t,n,r,l),r!==null&&(In(r,t,l),Xg(r,n,l)))}function Yg(t,n,r){var l=Bn();ro(t,n,r,l)}function ro(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Kg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,kn(E,p))return ku(t,n,h,0),vt===null&&Vu(),!1}catch{}if(r=Xh(t,n,h,l),r!==null)return In(r,t,l),Xg(r,n,l),!0}return!1}function Mf(t,n,r,l){if(l={lane:2,revertLane:hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(a(479))}else n=Xh(t,r,l,2),n!==null&&In(n,t,2)}function tc(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function Kg(t,n){Ba=Ku=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,xl(t,r)}}var ao={readContext:an,use:Zu,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};ao.useEffectEvent=Dt;var $g={readContext:an,use:Zu,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:Mg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wu(4194308,4,Lg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var r=vn();n=n===void 0?null:n;var l=t();if(Wr){Tt(!0);try{t()}finally{Tt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=vn();if(r!==void 0){var h=r(n);if(Wr){Tt(!0);try{r(n)}finally{Tt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=PT.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,r=Yg.bind(null,ke,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=vn();return Nf(r,t,n)},useTransition:function(){var t=Rf(!1);return t=Hg.bind(null,ke,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=ke,h=vn();if(Xe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),vt===null)throw Error(a(349));(qe&127)!==0||yg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Mg(vg.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},_g.bind(null,l,f,r,n),null),r},useId:function(){var t=vn(),n=vt.identifierPrefix;if(Xe){var r=Li,l=Ui;r=(l&~(1<<32-wt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Xu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=DT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Of,useFormState:Ig,useActionState:Ig,useOptimistic:function(t){var n=vn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mf.bind(null,ke,!0,r),r.dispatch=n,[t,n]},useMemoCache:Af,useCacheRefresh:function(){return vn().memoizedState=LT.bind(null,ke)},useEffectEvent:function(t){var n=vn(),r={impl:t};return n.memoizedState=r,function(){if((st&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vf={readContext:an,use:Zu,useCallback:jg,useContext:an,useEffect:If,useImperativeHandle:Pg,useInsertionEffect:kg,useLayoutEffect:Ug,useMemo:zg,useReducer:Ju,useRef:Og,useState:function(){return Ju(as)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=kt();return Bg(r,mt.memoizedState,t,n)},useTransition:function(){var t=Ju(as)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:so(t),n]},useSyncExternalStore:gg,useId:Fg,useHostTransitionStatus:Of,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var r=kt();return bg(r,mt,t,n)},useMemoCache:Af,useCacheRefresh:Qg};Vf.useEffectEvent=Vg;var Zg={readContext:an,use:Zu,useCallback:jg,useContext:an,useEffect:If,useImperativeHandle:Pg,useInsertionEffect:kg,useLayoutEffect:Ug,useMemo:zg,useReducer:wf,useRef:Og,useState:function(){return wf(as)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=kt();return mt===null?Nf(r,t,n):Bg(r,mt.memoizedState,t,n)},useTransition:function(){var t=wf(as)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:so(t),n]},useSyncExternalStore:gg,useId:Fg,useHostTransitionStatus:Of,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var r=kt();return mt!==null?bg(r,mt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Qg};Zg.useEffectEvent=Vg;function kf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Bn(),h=Gs(l);h.payload=n,r!=null&&(h.callback=r),n=Fs(t,h,l),n!==null&&(In(n,t,l),eo(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Bn(),h=Gs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Fs(t,h,l),n!==null&&(In(n,t,l),eo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Bn(),l=Gs(r);l.tag=2,n!=null&&(l.callback=n),n=Fs(t,l,r),n!==null&&(In(n,t,r),eo(n,t,r))}};function Jg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ql(r,l)||!Ql(h,f):!0}function Wg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function ea(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ey(t){Mu(t)}function ty(t){console.error(t)}function ny(t){Mu(t)}function nc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function iy(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(t,n,r){return r=Gs(r),r.tag=3,r.payload={element:null},r.callback=function(){nc(t,n)},r}function sy(t){return t=Gs(t),t.tag=3,t}function ry(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){iy(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){iy(n,r,l),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function jT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ka(n,r,h,!0),r=Ln.current,r!==null){switch(r.tag){case 31:case 13:return Jn===null?mc():r.alternate===null&&Ot===0&&(Ot=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),od(t,l,h)),!1;case 22:return r.flags|=65536,l===qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),od(t,l,h)),!1}throw Error(a(435,r.tag))}return od(t,l,h),mc(),!1}if(Xe)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==tf&&(t=Error(a(422),{cause:l}),Xl(Kn(t,r)))):(l!==tf&&(n=Error(a(423),{cause:l}),Xl(Kn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,r),h=Lf(t.stateNode,l,h),df(t,h),Ot!==4&&(Ot=2)),!1;var f=Error(a(520),{cause:l});if(f=Kn(f,r),po===null?po=[f]:po.push(f),Ot!==4&&(Ot=2),n===null)return!0;l=Kn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Lf(r.stateNode,l,t),df(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=sy(h),ry(h,t,r,l),df(r,h),!1}r=r.return}while(r!==null);return!1}var Pf=Error(a(461)),qt=!1;function ln(t,n,r,l){n.child=t===null?ug(n,null,r,l):Jr(n,t.child,r,l)}function ay(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Kr(n),l=vf(t,n,r,p,f,h),E=Ef(),t!==null&&!qt?(Tf(t,n,h),ls(t,n,h)):(Xe&&E&&Wh(n),n.flags|=1,ln(t,n,l,h),n.child)}function ly(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,oy(t,n,f,l,h)):(t=Lu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ql,r(p,l)&&t.ref===n.ref)return ls(t,n,h)}return n.flags|=1,t=ts(f,l),t.ref=n.ref,t.return=n,n.child=t}function oy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Ql(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,Qf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,ls(t,n,h)}return jf(t,n,r,l,h)}function uy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return cy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?fg(n,f):pf(),dg(n);else return l=n.lanes=536870912,cy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Bu(n,f.cachePool),fg(n,f),Ys(),n.memoizedState=null):(t!==null&&Bu(n,null),pf(),Ys());return ln(t,n,h,r),n.child}function lo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(t,n,r,l,h){var f=uf();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Bu(n,null),pf(),dg(n),t!==null&&ka(t,n,l,!0),n.childLanes=h,null}function ic(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function hy(t,n,r){return Jr(n,t.child,null,r),t=ic(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function zT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Xe){if(l.mode==="hidden")return t=ic(n,l),n.lanes=536870912,lo(null,t);if(yf(n),(t=bt)?(t=A0(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Kp(t),r.return=n,n.child=r,rn=n,bt=null)):t=null,t===null)throw Bs(n);return n.lanes=536870912,null}return ic(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=hy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||ka(t,n,r,!1),h=(r&t.childLanes)!==0,qt||h){if(l=vt,l!==null&&(p=Il(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Gr(t,p),In(l,t,p),Pf;mc(),n=hy(t,n,r)}else t=f.treeContext,bt=Wn(p.nextSibling),rn=n,Xe=!0,zs=null,Zn=!1,t!==null&&Zp(n,t),n=ic(n,l),n.flags|=4096;return n}return t=ts(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function jf(t,n,r,l,h){return Kr(n),r=vf(t,n,r,l,void 0,h),l=Ef(),t!==null&&!qt?(Tf(t,n,h),ls(t,n,h)):(Xe&&l&&Wh(n),n.flags|=1,ln(t,n,r,h),n.child)}function fy(t,n,r,l,h,f){return Kr(n),n.updateQueue=null,r=pg(n,l,r,h),mg(t),l=Ef(),t!==null&&!qt?(Tf(t,n,f),ls(t,n,f)):(Xe&&l&&Wh(n),n.flags|=1,ln(t,n,r,f),n.child)}function dy(t,n,r,l,h){if(Kr(n),n.stateNode===null){var f=Da,p=r.contextType;typeof p=="object"&&p!==null&&(f=an(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?an(p):Da,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(kf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),no(n,l,f,h),to(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=ea(r,E);f.props=I;var j=f.context,Q=r.contextType;p=Da,typeof Q=="object"&&Q!==null&&(p=an(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&Wg(n,f,l,p),qs=!1;var z=n.memoizedState;f.state=z,no(n,l,f,h),to(),j=n.memoizedState,E||z!==j||qs?(typeof X=="function"&&(kf(n,r,X,l),j=n.memoizedState),(I=qs||Jg(n,r,I,l,z,j,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ff(t,n),p=n.memoizedProps,Q=ea(r,p),f.props=Q,X=n.pendingProps,z=f.context,j=r.contextType,I=Da,typeof j=="object"&&j!==null&&(I=an(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==I)&&Wg(n,f,l,I),qs=!1,z=n.memoizedState,f.state=z,no(n,l,f,h),to();var H=n.memoizedState;p!==X||z!==H||qs||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(kf(n,r,E,l),H=n.memoizedState),(Q=qs||Jg(n,r,Q,l,z,H,I)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,sc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,h),n.child=Jr(n,null,r,h)):ln(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ls(t,n,h),t}function my(t,n,r,l){return Qr(),n.flags|=256,ln(t,n,r,l),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:ig()}}function Hf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=zn),t}function py(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xe){if(h?Qs(n):Ys(),(t=bt)?(t=A0(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Kp(t),r.return=n,n.child=r,rn=n,bt=null)):t=null,t===null)throw Bs(n);return Sd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ys(),h=n.mode,E=rc({mode:"hidden",children:E},h),l=Fr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Bf(r),l.childLanes=Hf(t,p,r),n.memoizedState=zf,lo(null,l)):(Qs(n),qf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Qs(n),n.flags&=-257,n=Gf(t,n,r)):n.memoizedState!==null?(Ys(),n.child=t.child,n.flags|=128,n=null):(Ys(),E=l.fallback,h=n.mode,l=rc({mode:"visible",children:l.children},h),E=Fr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Jr(n,t.child,null,r),l=n.child,l.memoizedState=Bf(r),l.childLanes=Hf(t,p,r),n.memoizedState=zf,n=lo(null,l));else if(Qs(n),Sd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,l=Error(a(419)),l.stack="",l.digest=p,Xl({value:l,source:null,stack:null}),n=Gf(t,n,r)}else if(qt||ka(t,n,r,!1),p=(r&t.childLanes)!==0,qt||p){if(p=vt,p!==null&&(l=Il(p,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Gr(t,l),In(p,t,l),Pf;Ad(E)||mc(),n=Gf(t,n,r)}else Ad(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,bt=Wn(E.nextSibling),rn=n,Xe=!0,zs=null,Zn=!1,t!==null&&Zp(n,t),n=qf(n,l.children),n.flags|=4096);return n}return h?(Ys(),E=l.fallback,h=n.mode,I=t.child,j=I.sibling,l=ts(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=ts(j,E):(E=Fr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,lo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Bf(r):(h=E.cachePool,h!==null?(I=Bt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ig(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Hf(t,p,r),n.memoizedState=zf,lo(t.child,l)):(Qs(n),r=t.child,t=r.sibling,r=ts(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function Gf(t,n,r){return Jr(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rf(t.return,n,r)}function Ff(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function yy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Vt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,le(Vt,p),ln(t,n,l,r),l=Xe?Kl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,r,n);else if(t.tag===19)gy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Ff(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Ff(n,!0,r,null,f,l);break;case"together":Ff(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ls(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),$s|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ka(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ts(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ts(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function BT(t,n,r){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),Hs(n,Bt,t.memoizedState.cache),Qr();break;case 27:case 5:Xi(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?py(t,n,r):(Qs(n),t=ls(t,n,r),t!==null?t.sibling:null);Qs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ka(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return yy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Vt,Vt.current),l)break;return null;case 22:return n.lanes=0,uy(t,n,r,n.pendingProps);case 24:Hs(n,Bt,t.memoizedState.cache)}return ls(t,n,r)}function _y(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Qf(t,r)&&(n.flags&128)===0)return qt=!1,BT(t,n,r);qt=(t.flags&131072)!==0}else qt=!1,Xe&&(n.flags&1048576)!==0&&$p(n,Kl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=$r(n.elementType),n.type=t,typeof t=="function")$h(t)?(l=ea(t,l),n.tag=1,n=dy(null,n,t,l,r)):(n.tag=0,n=jf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===tt){n.tag=11,n=ay(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=ly(null,n,t,l,r);break e}}throw n=at(t)||t,Error(a(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ea(l,n.pendingProps),dy(t,n,l,h,r);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ff(t,n),no(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Hs(n,Bt,l),l!==f.cache&&af(n,[Bt],r,!0),to(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(t,n,l,r);break e}else if(l!==h){h=Kn(Error(a(424)),n),Xl(h),n=my(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,bt=Wn(t.firstChild),rn=n,Xe=!0,zs=null,Zn=!0,r=ug(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qr(),l===h){n=ls(t,n,r);break e}ln(t,n,l,r)}n=n.child}return n;case 26:return sc(t,n),t===null?(r=C0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Xe||(r=n.type,t=n.pendingProps,l=Tc(De.current).createElement(r),l[Pt]=n,l[Zt]=t,on(l,r,t),jt(l),n.stateNode=l):n.memoizedState=C0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xi(n),t===null&&Xe&&(l=n.stateNode=R0(n.type,n.pendingProps,De.current),rn=n,Zn=!0,h=bt,tr(n.type)?(wd=h,bt=Wn(l.firstChild)):bt=h),ln(t,n,n.pendingProps.children,r),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xe&&((h=l=bt)&&(l=yb(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,rn=n,bt=Wn(l.firstChild),Zn=!1,h=!0):h=!1),h||Bs(n)),Xi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Ed(h,f)?l=null:p!==null&&Ed(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(t,n,OT,null,null,r),Ao._currentValue=h),sc(t,n),ln(t,n,l,r),n.child;case 6:return t===null&&Xe&&((t=r=bt)&&(r=_b(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,rn=n,bt=null,t=!0):t=!1),t||Bs(n)),null;case 13:return py(t,n,r);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,r):ln(t,n,l,r),n.child;case 11:return ay(t,n,n.type,n.pendingProps,r);case 7:return ln(t,n,n.pendingProps,r),n.child;case 8:return ln(t,n,n.pendingProps.children,r),n.child;case 12:return ln(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Hs(n,n.type,l.value),ln(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Kr(n),h=an(h),l=l(h),n.flags|=1,ln(t,n,l,r),n.child;case 14:return ly(t,n,n.type,n.pendingProps,r);case 15:return oy(t,n,n.type,n.pendingProps,r);case 19:return yy(t,n,r);case 31:return zT(t,n,r);case 22:return uy(t,n,r,n.pendingProps);case 24:return Kr(n),l=an(Bt),t===null?(h=uf(),h===null&&(h=vt,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},hf(n),Hs(n,Bt,h)):((t.lanes&r)!==0&&(ff(t,n),no(n,null,null,r),to()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,Bt,l)):(l=f.cache,Hs(n,Bt,l),l!==h.cache&&af(n,[Bt],r,!0))),ln(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(t){t.flags|=4}function Yf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Fy())t.flags|=8192;else throw Zr=qu,cf}else t.flags&=-16777217}function vy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V0(n))if(Fy())t.flags|=8192;else throw Zr=qu,cf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fu():536870912,t.lanes|=n,Ya|=n)}function oo(t,n){if(!Xe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function At(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function HT(t,n,r){var l=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(n),null;case 1:return At(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ss(Bt),_t(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Va(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),At(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(os(n),f!==null?(At(n),vy(n,f)):(At(n),Yf(n,h,null,l,r))):f?f!==t.memoizedState?(os(n),At(n),vy(n,f)):(At(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&os(n),At(n),Yf(n,h,t,l,r)),null;case 27:if(xs(n),r=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return At(n),null}t=ce.current,Va(n)?Jp(n):(t=R0(h,l,r),n.stateNode=t,os(n))}return At(n),null;case 5:if(xs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return At(n),null}if(f=ce.current,Va(n))Jp(n);else{var p=Tc(De.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Pt]=n,f[Zt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(on(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&os(n)}}return At(n),Yf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,Va(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||p0(t.nodeValue,r)),t||Bs(n,!0)}else t=Tc(t).createTextNode(l),t[Pt]=n,n.stateNode=t}return At(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Va(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Pt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;At(n),t=!1}else r=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return At(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Pt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;At(n),h=!1}else h=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ac(n,n.updateQueue),At(n),null);case 4:return _t(),t===null&&pd(n.stateNode.containerInfo),At(n),null;case 10:return ss(n.type),At(n),null;case 19:if(Y(Vt),l=n.memoizedState,l===null)return At(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)oo(l,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,oo(l,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Yp(r,t),r=r.sibling;return le(Vt,Vt.current&1|2),Xe&&ns(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&te()>hc&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),oo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Xe)return At(n),null}else 2*te()-l.renderingStartTime>hc&&r!==536870912&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=te(),t.sibling=null,r=Vt.current,le(Vt,h?r&1|2:r&1),Xe&&ns(n,l.treeForkCount),t):(At(n),null);case 22:case 23:return Pn(n),gf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(At(n),n.subtreeFlags&6&&(n.flags|=8192)):At(n),r=n.updateQueue,r!==null&&ac(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(Xr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ss(Bt),At(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function qT(t,n){switch(ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ss(Bt),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return xs(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Vt),null;case 4:return _t(),null;case 10:return ss(n.type),null;case 22:case 23:return Pn(n),gf(),t!==null&&Y(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ss(Bt),null;case 25:return null;default:return null}}function Ey(t,n){switch(ef(n),n.tag){case 3:ss(Bt),_t();break;case 26:case 27:case 5:xs(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:Y(Vt);break;case 10:ss(n.type);break;case 22:case 23:Pn(n),gf(),t!==null&&Y(Xr);break;case 24:ss(Bt)}}function uo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(E){ut(n,n.return,E)}}function Ks(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=r,j=E;try{j()}catch(Q){ut(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){ut(n,n.return,Q)}}function Ty(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hg(n,r)}catch(l){ut(t,t.return,l)}}}function by(t,n,r){r.props=ea(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ut(t,n,l)}}function co(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){ut(t,n,h)}}function Pi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){ut(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ut(t,n,h)}else r.current=null}function Ay(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){ut(t,t.return,h)}}function Kf(t,n,r){try{var l=t.stateNode;hb(l,t.type,r,n),l[Zt]=n}catch(h){ut(t,t.return,h)}}function Sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=li));else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,r),t=t.sibling;t!==null;)$f(t,n,r),t=t.sibling}function lc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lc(t,n,r),t=t.sibling;t!==null;)lc(t,n,r),t=t.sibling}function wy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,l,r),n[Pt]=t,n[Zt]=r}catch(f){ut(t,t.return,f)}}var us=!1,Gt=!1,Zf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function GT(t,n){if(t=t.containerInfo,_d=Ic,t=Pp(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,I=-1,j=0,Q=0,X=t,z=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=p+h),X!==f||l!==0&&X.nodeType!==3||(I=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===r&&++j===h&&(E=p),z===f&&++Q===l&&(I=p),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:t,selectionRange:r},Ic=!1,Wt=n;Wt!==null;)if(n=Wt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Wt=t;else for(;Wt!==null;){switch(n=Wt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var fe=ea(r.type,h);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){ut(r,r.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)bd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Wt=t;break}Wt=n.return}}function xy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:hs(t,r),l&4&&uo(5,r);break;case 1:if(hs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){ut(r,r.return,p)}else{var h=ea(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ut(r,r.return,p)}}l&64&&Ty(r),l&512&&co(r,r.return);break;case 3:if(hs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hg(t,n)}catch(p){ut(r,r.return,p)}}break;case 27:n===null&&l&4&&wy(r);case 26:case 5:hs(t,r),n===null&&l&4&&Ay(r),l&512&&co(r,r.return);break;case 12:hs(t,r);break;case 31:hs(t,r),l&4&&Ny(t,r);break;case 13:hs(t,r),l&4&&Dy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=WT.bind(null,r),vb(t,r))));break;case 22:if(l=r.memoizedState!==null||us,!l){n=n!==null&&n.memoizedState!==null||Gt,h=us;var f=Gt;us=l,(Gt=n)&&!f?fs(t,r,(r.subtreeFlags&8772)!==0):hs(t,r),us=h,Gt=f}break;case 30:break;default:hs(t,r)}}function Iy(t){var n=t.alternate;n!==null&&(t.alternate=null,Iy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ya(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xt=null,Sn=!1;function cs(t,n,r){for(r=r.child;r!==null;)Cy(t,n,r),r=r.sibling}function Cy(t,n,r){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Et,r)}catch{}switch(r.tag){case 26:Gt||Pi(r,n),cs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Gt||Pi(r,n);var l=xt,h=Sn;tr(r.type)&&(xt=r.stateNode,Sn=!1),cs(t,n,r),Eo(r.stateNode),xt=l,Sn=h;break;case 5:Gt||Pi(r,n);case 6:if(l=xt,h=Sn,xt=null,cs(t,n,r),xt=l,Sn=h,xt!==null)if(Sn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(r.stateNode)}catch(f){ut(r,n,f)}else try{xt.removeChild(r.stateNode)}catch(f){ut(r,n,f)}break;case 18:xt!==null&&(Sn?(t=xt,T0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),tl(t)):T0(xt,r.stateNode));break;case 4:l=xt,h=Sn,xt=r.stateNode.containerInfo,Sn=!0,cs(t,n,r),xt=l,Sn=h;break;case 0:case 11:case 14:case 15:Ks(2,r,n),Gt||Ks(4,r,n),cs(t,n,r);break;case 1:Gt||(Pi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&by(r,n,l)),cs(t,n,r);break;case 21:cs(t,n,r);break;case 22:Gt=(l=Gt)||r.memoizedState!==null,cs(t,n,r),Gt=l;break;default:cs(t,n,r)}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{tl(t)}catch(r){ut(n,n.return,r)}}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tl(t)}catch(r){ut(n,n.return,r)}}function FT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ry),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ry),n;default:throw Error(a(435,t.tag))}}function oc(t,n){var r=FT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=eb.bind(null,t,l);l.then(h,h)}})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(tr(E.type)){xt=E.stateNode,Sn=!1;break e}break;case 5:xt=E.stateNode,Sn=!1;break e;case 3:case 4:xt=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(xt===null)throw Error(a(160));Cy(f,p,h),xt=null,Sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,t),n=n.sibling}var di=null;function Oy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Rn(t),l&4&&(Ks(3,t,t.return),uo(3,t),Ks(5,t,t.return));break;case 1:wn(n,t),Rn(t),l&512&&(Gt||r===null||Pi(r,r.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=di;if(wn(n,t),Rn(t),l&512&&(Gt||r===null||Pi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,l,r),f[Pt]=t,jt(f),l=f;break e;case"link":var p=O0("link","href",h).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;case"meta":if(p=O0("meta","content",h).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Pt]=t,jt(f),l=f}t.stateNode=l}else M0(h,t.type,t.stateNode);else t.stateNode=D0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?M0(h,t.type,t.stateNode):D0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,r.memoizedProps)}break;case 27:wn(n,t),Rn(t),l&512&&(Gt||r===null||Pi(r,r.return)),r!==null&&l&4&&Kf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(wn(n,t),Rn(t),l&512&&(Gt||r===null||Pi(r,r.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(fe){ut(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Zf=!0);break;case 6:if(wn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(fe){ut(t,t.return,fe)}}break;case 3:if(Sc=null,h=di,di=bc(n.containerInfo),wn(n,t),di=h,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{tl(n.containerInfo)}catch(fe){ut(t,t.return,fe)}Zf&&(Zf=!1,My(t));break;case 4:l=di,di=bc(t.stateNode.containerInfo),wn(n,t),Rn(t),di=l;break;case 12:wn(n,t),Rn(t);break;case 31:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 13:wn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cc=te()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,j=us,Q=Gt;if(us=j||h,Gt=Q||I,wn(n,t),Gt=Q,us=j,Rn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||us||Gt||ta(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(fe){ut(I,I.return,fe)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(fe){ut(I,I.return,fe)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?b0(H,!0):b0(I.stateNode,!1)}catch(fe){ut(I,I.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,oc(t,r))));break;case 19:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 30:break;case 21:break;default:wn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Sy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Xf(t);lc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(An(p,""),r.flags&=-33);var E=Xf(t);lc(t,E,p);break;case 3:case 4:var I=r.stateNode.containerInfo,j=Xf(t);$f(t,j,I);break;default:throw Error(a(161))}}catch(Q){ut(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),ta(n);break;case 1:Pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&by(n,n.return,r),ta(n);break;case 27:Eo(n.stateNode);case 26:case 5:Pi(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function fs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,r),uo(4,f);break;case 1:if(fs(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ut(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)cg(I[h],E)}catch(j){ut(l,l.return,j)}}r&&p&64&&Ty(f),co(f,f.return);break;case 27:wy(f);case 26:case 5:fs(h,f,r),r&&l===null&&p&4&&Ay(f),co(f,f.return);break;case 12:fs(h,f,r);break;case 31:fs(h,f,r),r&&p&4&&Ny(h,f);break;case 13:fs(h,f,r),r&&p&4&&Dy(h,f);break;case 22:f.memoizedState===null&&fs(h,f,r),co(f,f.return);break;case 30:break;default:fs(h,f,r)}n=n.sibling}}function Jf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$l(r))}function Wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t))}function mi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(t,n,r,l),n=n.sibling}function Vy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,r,l),h&2048&&uo(9,n);break;case 1:mi(t,n,r,l);break;case 3:mi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t)));break;case 12:if(h&2048){mi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ut(n,n.return,I)}}else mi(t,n,r,l);break;case 31:mi(t,n,r,l);break;case 13:mi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,r,l):ho(t,n):f._visibility&2?mi(t,n,r,l):(f._visibility|=2,Ga(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(p,n);break;case 24:mi(t,n,r,l),h&2048&&Wf(n.alternate,n);break;default:mi(t,n,r,l)}}function Ga(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,I=l,j=p.flags;switch(p.tag){case 0:case 11:case 15:Ga(f,p,E,I,h),uo(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Ga(f,p,E,I,h):ho(f,p):(Q._visibility|=2,Ga(f,p,E,I,h)),h&&j&2048&&Jf(p.alternate,p);break;case 24:Ga(f,p,E,I,h),h&&j&2048&&Wf(p.alternate,p);break;default:Ga(f,p,E,I,h)}n=n.sibling}}function ho(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:ho(r,l),h&2048&&Jf(l.alternate,l);break;case 24:ho(r,l),h&2048&&Wf(l.alternate,l);break;default:ho(r,l)}n=n.sibling}}var fo=8192;function Fa(t,n,r){if(t.subtreeFlags&fo)for(t=t.child;t!==null;)ky(t,n,r),t=t.sibling}function ky(t,n,r){switch(t.tag){case 26:Fa(t,n,r),t.flags&fo&&t.memoizedState!==null&&Db(r,di,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,r);break;case 3:case 4:var l=di;di=bc(t.stateNode.containerInfo),Fa(t,n,r),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=fo,fo=16777216,Fa(t,n,r),fo=l):Fa(t,n,r));break;default:Fa(t,n,r)}}function Uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Wt=l,Py(l,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:mo(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:mo(t);break;case 12:mo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):mo(t);break;default:mo(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Wt=l,Py(l,t)}Uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),uc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function Py(t,n){for(;Wt!==null;){var r=Wt;switch(r.tag){case 0:case 11:case 15:Ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$l(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Wt=l;else e:for(r=t;Wt!==null;){l=Wt;var h=l.sibling,f=l.return;if(Iy(l),l===r){Wt=null;break e}if(h!==null){h.return=f,Wt=h;break e}Wt=f}}}var QT={getCacheForType:function(t){var n=an(Bt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return an(Bt).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,st=0,vt=null,Le=null,qe=0,ot=0,jn=null,Xs=!1,Qa=!1,ed=!1,ds=0,Ot=0,$s=0,na=0,td=0,zn=0,Ya=0,po=null,xn=null,nd=!1,cc=0,jy=0,hc=1/0,fc=null,Zs=null,Kt=0,Js=null,Ka=null,ms=0,id=0,sd=null,zy=null,go=0,rd=null;function Bn(){return(st&2)!==0&&qe!==0?qe&-qe:F.T!==null?hd():du()}function By(){if(zn===0)if((qe&536870912)===0||Xe){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),zn=t}else zn=536870912;return t=Ln.current,t!==null&&(t.flags|=32),zn}function In(t,n,r){(t===vt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Ws(t,qe,zn,!1)),Nr(t,r),((st&2)===0||t!==vt)&&(t===vt&&((st&2)===0&&(na|=r),Ot===4&&Ws(t,qe,zn,!1)),ji(t))}function Hy(t,n,r){if((st&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||si(t,n),h=l?$T(t,n):ld(t,n,!0),f=l;do{if(h===0){Qa&&!l&&Ws(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!KT(r)){h=ld(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=po;var I=E.current.memoizedState.isDehydrated;if(I&&(Xa(E,p).flags|=256),p=ld(E,p,!1),p!==2){if(ed&&!I){E.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=xn,xn=h,f!==null&&(xn===null?xn=f:xn.push.apply(xn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Xa(t,0),Ws(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ws(l,n,zn,!Xs);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=cc+300-te(),10<h)){if(Ws(l,n,zn,!Xs),Ti(l,0,!0)!==0)break e;ms=n,l.timeoutHandle=v0(qy.bind(null,l,r,xn,fc,nd,n,zn,na,Ya,Xs,f,"Throttled",-0,0),h);break e}qy(l,r,xn,fc,nd,n,zn,na,Ya,Xs,f,null,-0,0)}}break}while(!0);ji(t)}function qy(t,n,r,l,h,f,p,E,I,j,Q,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},ky(n,f,X);var fe=(f&62914560)===f?cc-te():(f&4194048)===f?jy-te():0;if(fe=Ob(X,fe),fe!==null){ms=f,t.cancelPendingCommit=fe(Zy.bind(null,t,n,f,r,l,h,p,E,I,Q,X,null,z,H)),Ws(t,f,p,!j);return}}Zy(t,n,f,r,l,h,p,E,I)}function KT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!kn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ws(t,n,r,l){n&=~td,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-wt(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Dr(t,r,n)}function dc(){return(st&6)===0?(yo(0),!1):!0}function ad(){if(Le!==null){if(ot===0)var t=Le.return;else t=Le,is=Yr=null,bf(t),ja=null,Jl=0,t=Le;for(;t!==null;)Ey(t.alternate,t),t=t.return;Le=null}}function Xa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,mb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ms=0,ad(),vt=t,Le=r=ts(t.current,null),qe=n,ot=0,jn=null,Xs=!1,Qa=si(t,n),ed=!1,Ya=zn=td=na=$s=Ot=0,xn=po=null,nd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-wt(l),f=1<<h;n|=t[h],l&=~f}return ds=n,Vu(),r}function Gy(t,n){ke=null,F.H=ao,n===Pa||n===Hu?(n=ag(),ot=3):n===cf?(n=ag(),ot=4):ot=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,Le===null&&(Ot=1,nc(t,Kn(n,t.current)))}function Fy(){var t=Ln.current;return t===null?!0:(qe&4194048)===qe?Jn===null:(qe&62914560)===qe||(qe&536870912)!==0?t===Jn:!1}function Qy(){var t=F.H;return F.H=ao,t===null?ao:t}function Yy(){var t=F.A;return F.A=QT,t}function mc(){Ot=4,Xs||(qe&4194048)!==qe&&Ln.current!==null||(Qa=!0),($s&134217727)===0&&(na&134217727)===0||vt===null||Ws(vt,qe,zn,!1)}function ld(t,n,r){var l=st;st|=2;var h=Qy(),f=Yy();(vt!==t||qe!==n)&&(fc=null,Xa(t,n)),n=!1;var p=Ot;e:do try{if(ot!==0&&Le!==null){var E=Le,I=jn;switch(ot){case 8:ad(),p=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var j=ot;if(ot=0,jn=null,$a(t,E,I,j),r&&Qa){p=0;break e}break;default:j=ot,ot=0,jn=null,$a(t,E,I,j)}}XT(),p=Ot;break}catch(Q){Gy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,is=Yr=null,st=l,F.H=h,F.A=f,Le===null&&(vt=null,qe=0,Vu()),p}function XT(){for(;Le!==null;)Ky(Le)}function $T(t,n){var r=st;st|=2;var l=Qy(),h=Yy();vt!==t||qe!==n?(fc=null,hc=te()+500,Xa(t,n)):Qa=si(t,n);e:do try{if(ot!==0&&Le!==null){n=Le;var f=jn;t:switch(ot){case 1:ot=0,jn=null,$a(t,n,f,1);break;case 2:case 9:if(sg(f)){ot=0,jn=null,Xy(n);break}n=function(){ot!==2&&ot!==9||vt!==t||(ot=7),ji(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:sg(f)?(ot=0,jn=null,Xy(n)):(ot=0,jn=null,$a(t,n,f,7));break;case 5:var p=null;switch(Le.tag){case 26:p=Le.memoizedState;case 5:case 27:var E=Le;if(p?V0(p):E.stateNode.complete){ot=0,jn=null;var I=E.sibling;if(I!==null)Le=I;else{var j=E.return;j!==null?(Le=j,pc(j)):Le=null}break t}}ot=0,jn=null,$a(t,n,f,5);break;case 6:ot=0,jn=null,$a(t,n,f,6);break;case 8:ad(),Ot=6;break e;default:throw Error(a(462))}}ZT();break}catch(Q){Gy(t,Q)}while(!0);return is=Yr=null,F.H=l,F.A=h,st=r,Le!==null?0:(vt=null,qe=0,Vu(),Ot)}function ZT(){for(;Le!==null&&!ue();)Ky(Le)}function Ky(t){var n=_y(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?pc(t):Le=n}function Xy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=fy(r,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=fy(r,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:bf(n);default:Ey(r,n),n=Le=Yp(n,ds),n=_y(r,n,ds)}t.memoizedProps=t.pendingProps,n===null?pc(t):Le=n}function $a(t,n,r,l){is=Yr=null,bf(n),ja=null,Jl=0;var h=n.return;try{if(jT(t,h,n,r,qe)){Ot=1,nc(t,Kn(r,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;Ot=1,nc(t,Kn(r,t.current)),Le=null;return}n.flags&32768?(Xe||l===1?t=!0:Qa||(qe&536870912)!==0?t=!1:(Xs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,Xs);return}t=n.return;var r=HT(n.alternate,n,ds);if(r!==null){Le=r;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);Ot===0&&(Ot=5)}function $y(t,n){do{var r=qT(t.alternate,t);if(r!==null){r.flags&=32767,Le=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=r}while(t!==null);Ot=6,Le=null}function Zy(t,n,r,l,h,f,p,E,I){t.cancelPendingCommit=null;do gc();while(Kt!==0);if((st&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,jh(t,r,f,p,E,I),t===vt&&(Le=vt=null,qe=0),Ka=n,Js=t,ms=r,id=f,sd=h,zy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tb(ft,function(){return n0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=oe.p,oe.p=2,p=st,st|=4;try{GT(t,n,r)}finally{st=p,oe.p=h,F.T=l}}Kt=1,Jy(),Wy(),e0()}}function Jy(){if(Kt===1){Kt=0;var t=Js,n=Ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=oe.p;oe.p=2;var h=st;st|=4;try{Oy(n,t);var f=vd,p=Pp(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Lp(E.ownerDocument.documentElement,E)){if(I!==null&&qh(E)){var j=I.start,Q=I.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),fe=E.textContent.length,be=Math.min(I.start,fe),gt=I.end===void 0?be:Math.min(I.end,fe);!H.extend&&be>gt&&(p=gt,gt=be,be=p);var k=Up(E,be),O=Up(E,gt);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),be>gt?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!_d,vd=_d=null}finally{st=h,oe.p=l,F.T=r}}t.current=n,Kt=2}}function Wy(){if(Kt===2){Kt=0;var t=Js,n=Ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=oe.p;oe.p=2;var h=st;st|=4;try{xy(t,n.alternate,n)}finally{st=h,oe.p=l,F.T=r}}Kt=3}}function e0(){if(Kt===4||Kt===3){Kt=0,Oe();var t=Js,n=Ka,r=ms,l=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,Ka=Js=null,t0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zs=null),Zi(r),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Et,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=oe.p,oe.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,oe.p=h}}(ms&3)!==0&&gc(),ji(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===rd?go++:(go=0,rd=t):go=0,yo(0)}}function t0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$l(n)))}function gc(){return Jy(),Wy(),e0(),n0()}function n0(){if(Kt!==5)return!1;var t=Js,n=id;id=0;var r=Zi(ms),l=F.T,h=oe.p;try{oe.p=32>r?32:r,F.T=null,r=sd,sd=null;var f=Js,p=ms;if(Kt=0,Ka=Js=null,ms=0,(st&6)!==0)throw Error(a(331));var E=st;if(st|=4,Ly(f.current),Vy(f,f.current,p,r),st=E,yo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Et,f)}catch{}return!0}finally{oe.p=h,F.T=l,t0(t,n)}}function i0(t,n,r){n=Kn(r,n),n=Lf(t.stateNode,n,2),t=Fs(t,n,2),t!==null&&(Nr(t,2),ji(t))}function ut(t,n,r){if(t.tag===3)i0(t,t,r);else for(;n!==null;){if(n.tag===3){i0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zs===null||!Zs.has(l))){t=Kn(r,t),r=sy(2),l=Fs(n,r,2),l!==null&&(ry(r,l,n,t),Nr(l,2),ji(l));break}}n=n.return}}function od(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new YT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(ed=!0,h.add(r),t=JT.bind(null,t,n,r),n.then(t,t))}function JT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,vt===t&&(qe&r)===r&&(Ot===4||Ot===3&&(qe&62914560)===qe&&300>te()-cc?(st&2)===0&&Xa(t,0):td|=r,Ya===qe&&(Ya=0)),ji(t)}function s0(t,n){n===0&&(n=fu()),t=Gr(t,n),t!==null&&(Nr(t,n),ji(t))}function WT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),s0(t,r)}function eb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),s0(t,r)}function tb(t,n){return W(t,n)}var yc=null,Za=null,ud=!1,_c=!1,cd=!1,er=0;function ji(t){t!==Za&&t.next===null&&(Za===null?yc=Za=t:Za=Za.next=t),_c=!0,ud||(ud=!0,ib())}function yo(t,n){if(!cd&&_c){cd=!0;do for(var r=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,o0(l,f))}else f=qe,f=Ti(l,l===vt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||si(l,f)||(r=!0,o0(l,f));l=l.next}while(r);cd=!1}}function nb(){r0()}function r0(){_c=ud=!1;var t=0;er!==0&&db()&&(t=er);for(var n=te(),r=null,l=yc;l!==null;){var h=l.next,f=a0(l,n);f===0?(l.next=null,r===null?yc=h:r.next=h,h===null&&(Za=r)):(r=l,(t!==0||(f&3)!==0)&&(_c=!0)),l=h}Kt!==0&&Kt!==5||yo(t),er!==0&&(er=0)}function a0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-wt(f),E=1<<p,I=h[p];I===-1?((E&r)===0||(E&l)!==0)&&(h[p]=Ph(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=vt,r=qe,r=Ti(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ne(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||si(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ne(l),Zi(r)){case 2:case 8:r=nt;break;case 32:r=ft;break;case 268435456:r=Z;break;default:r=ft}return l=l0.bind(null,t),r=W(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ne(l),t.callbackPriority=2,t.callbackNode=null,2}function l0(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gc()&&t.callbackNode!==r)return null;var l=qe;return l=Ti(t,t===vt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hy(t,l,n),a0(t,te()),t.callbackNode!=null&&t.callbackNode===r?l0.bind(null,t):null)}function o0(t,n){if(gc())return null;Hy(t,n,!0)}function ib(){pb(function(){(st&6)!==0?W(Be,nb):r0()})}function hd(){if(er===0){var t=Ua;t===0&&(t=vi,vi<<=1,(vi&261888)===0&&(vi=256)),er=t}return er}function u0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function c0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function sb(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=u0((h[Zt]||null).action),p=l.submitter;p&&(n=(n=p[Zt]||null)?u0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Oi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var I=p?c0(h,p):new FormData(h);Df(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?c0(h,p):new FormData(h),Df(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var fd=0;fd<Yh.length;fd++){var dd=Yh[fd],rb=dd.toLowerCase(),ab=dd[0].toUpperCase()+dd.slice(1);fi(rb,"on"+ab)}fi(Bp,"onAnimationEnd"),fi(Hp,"onAnimationIteration"),fi(qp,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(bT,"onTransitionRun"),fi(AT,"onTransitionStart"),fi(ST,"onTransitionCancel"),fi(Gp,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function h0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Mu(Q)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Mu(Q)}h.currentTarget=null,f=I}}}}function Pe(t,n){var r=n[ga];r===void 0&&(r=n[ga]=new Set);var l=t+"__bubble";r.has(l)||(f0(n,t,2,!1),r.add(l))}function md(t,n,r){var l=0;n&&(l|=4),f0(r,t,l,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[vc]){t[vc]=!0,Cl.forEach(function(r){r!=="selectionchange"&&(lb.has(r)||md(r,!1,t),md(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,md("selectionchange",!1,n))}}function f0(t,n,r,l){switch(B0(n)){case 2:var h=kb;break;case 8:h=Ub;break;default:h=Nd}r=h.bind(null,n,r,t),h=void 0,!Ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function gd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=wi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue e}E=E.parentNode}}l=l.return}ks(function(){var j=f,Q=Gn(r),X=[];e:{var z=Fp.get(t);if(z!==void 0){var H=Oi,fe=t;switch(t){case"keypress":if(Pr(r)===0)break e;case"keydown":case"keyup":H=Nu;break;case"focusin":fe="focus",H=zr;break;case"focusout":fe="blur",H=zr;break;case"beforeblur":case"afterblur":H=zr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Bp:case Hp:case qp:H=Au;break;case Gp:H=A;break;case"scroll":case"scrollend":H=Bl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=es;break;case"toggle":case"beforetoggle":H=Ve}var be=(n&4)!==0,gt=!be&&(t==="scroll"||t==="scrollend"),k=be?z!==null?z+"Capture":null:z;be=[];for(var O=j,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=oi(O,k),K!=null&&be.push(vo(O,K,P))),gt)break;O=O.return}0<be.length&&(z=new H(z,fe,null,r,Q),X.push({event:z,listeners:be}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Pl&&(fe=r.relatedTarget||r.fromElement)&&(wi(fe)||fe[Ai]))break e;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(fe=r.relatedTarget||r.toElement,H=j,fe=fe?wi(fe):null,fe!==null&&(gt=c(fe),be=fe.tag,fe!==gt||be!==5&&be!==27&&be!==6)&&(fe=null)):(H=null,fe=j),H!==fe)){if(be=Hl,K="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(be=es,K="onPointerLeave",k="onPointerEnter",O="pointer"),gt=H==null?z:Mn(H),P=fe==null?z:Mn(fe),z=new be(K,O+"leave",H,r,Q),z.target=gt,z.relatedTarget=P,K=null,wi(Q)===j&&(be=new be(k,O+"enter",fe,r,Q),be.target=P,be.relatedTarget=gt,K=be),gt=K,H&&fe)t:{for(be=ob,k=H,O=fe,P=0,K=k;K;K=be(K))P++;K=0;for(var _e=O;_e;_e=be(_e))K++;for(;0<P-K;)k=be(k),P--;for(;0<K-P;)O=be(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){be=k;break t}k=be(k),O=be(O)}be=null}else be=null;H!==null&&d0(X,z,H,be,!1),fe!==null&&gt!==null&&d0(X,gt,fe,be,!0)}}e:{if(z=j?Mn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var We=Np;else if(Ip(z))if(Dp)We=vT;else{We=yT;var me=gT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Ea(j.elementType)&&(We=Np):We=_T;if(We&&(We=We(t,j))){Cp(X,We,r,Q);break e}me&&me(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&kl(z,"number",z.value)}switch(me=j?Mn(j):window,t){case"focusin":(Ip(me)||me.contentEditable==="true")&&(Ia=me,Gh=j,Yl=null);break;case"focusout":Yl=Gh=Ia=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,jp(X,r,Q);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":jp(X,r,Q)}var Ue;if(it)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else xa?Br(t,r)&&(Ge="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ge="onCompositionStart");Ge&&(ki&&r.locale!=="ko"&&(xa||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&xa&&(Ue=zl()):(Di=Q,jl="value"in Di?Di.value:Di.textContent,xa=!0)),me=Ec(j,Ge),0<me.length&&(Ge=new Vi(Ge,t,null,r,Q),X.push({event:Ge,listeners:me}),Ue?Ge.data=Ue:(Ue=Ra(r),Ue!==null&&(Ge.data=Ue)))),(Ue=Qn?fT(t,r):dT(t,r))&&(Ge=Ec(j,"onBeforeInput"),0<Ge.length&&(me=new Vi("onBeforeInput","beforeinput",null,r,Q),X.push({event:me,listeners:Ge}),me.data=Ue)),sb(X,t,j,r,Q)}h0(X,n)})}function vo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ec(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,r),h!=null&&l.unshift(vo(t,h,f)),h=oi(t,n),h!=null&&l.push(vo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ob(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=oi(r,f),j!=null&&p.unshift(vo(r,j,I))):h||(j=oi(r,f),j!=null&&p.push(vo(r,j,I)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var ub=/\r\n?/g,cb=/\u0000|\uFFFD/g;function m0(t){return(typeof t=="string"?t:""+t).replace(ub,`
`).replace(cb,"")}function p0(t,n){return n=m0(n),m0(t)===n}function pt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,r,l);break;case"style":Ll(t,l,f);break;case"data":if(n!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&pt(t,n,"name",h.name,h,null),pt(t,n,"formEncType",h.formEncType,h,null),pt(t,n,"formMethod",h.formMethod,h,null),pt(t,n,"formTarget",h.formTarget,h,null)):(pt(t,n,"encType",h.encType,h,null),pt(t,n,"method",h.method,h,null),pt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=li);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eu.get(r)||r,_a(t,r,l))}}function yd(t,n,r,l,h,f){switch(r){case"style":Ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Zt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):_a(t,r,l)}}}function on(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pt(t,n,f,p,r,null)}}h&&pt(t,n,"srcSet",r.srcSet,r,null),l&&pt(t,n,"src",r.src,r,null);return;case"input":Pe("invalid",t);var E=f=p=h=null,I=null,j=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:pt(t,n,l,Q,r,null)}}yu(t,f,E,I,j,p,h,!1);return;case"select":Pe("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:pt(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Ds(t,!!l,n,!1):r!=null&&Ds(t,!!l,r,!0);return;case"textarea":Pe("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:pt(t,n,p,E,r,null)}Os(t,l,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":pt(t,n,I,l,r,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<_o.length;l++)Pe(_o[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pt(t,n,j,l,r,null)}return;default:if(Ea(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&yd(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&pt(t,n,E,l,r,null))}function hb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,j=null,Q=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||pt(t,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=r[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&pt(t,n,z,H,l,X)}}va(t,p,E,I,j,Q,f,h);return;case"select":H=p=E=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||pt(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&pt(t,n,h,f,l,I)}n=E,r=p,l=H,z!=null?Ds(t,!!r,z,!1):!!l!=!!r&&(n!=null?Ds(t,!!r,n,!0):Ds(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:pt(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&pt(t,n,p,h,l,f)}_u(t,z,H);return;case"option":for(var fe in r)z=r[fe],r.hasOwnProperty(fe)&&z!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:pt(t,n,fe,null,l,z));for(I in l)z=l[I],H=r[I],l.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null)&&(I==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":pt(t,n,I,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)z=r[be],r.hasOwnProperty(be)&&z!=null&&!l.hasOwnProperty(be)&&pt(t,n,be,null,l,z);for(j in l)if(z=l[j],H=r[j],l.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:pt(t,n,j,z,l,H)}return;default:if(Ea(n)){for(var gt in r)z=r[gt],r.hasOwnProperty(gt)&&z!==void 0&&!l.hasOwnProperty(gt)&&yd(t,n,gt,void 0,l,z);for(Q in l)z=l[Q],H=r[Q],!l.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||yd(t,n,Q,z,l,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&pt(t,n,k,null,l,z);for(X in l)z=l[X],H=r[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||pt(t,n,X,z,l,H)}function g0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&g0(p)){for(p=0,E=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],j=I.startTime;if(j>E)break;var Q=I.transferSize,X=I.initiatorType;Q&&g0(X)&&(I=I.responseEnd,p+=Q*(I<E?1:(E-j)/(I-j)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _d=null,vd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function y0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ed(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function db(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,mb=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,pb=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(t){return E0.resolve(null).then(t).catch(gb)}:v0;function gb(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function T0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),tl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Eo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Eo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&Eo(t.ownerDocument.body);r=h}while(r);tl(n)}function b0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),ya(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function yb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function _b(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Wn(t.nextSibling),t===null))return null;return t}function A0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wn(t.nextSibling),t===null))return null;return t}function Ad(t){return t.data==="$?"||t.data==="$~"}function Sd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wd=null;function S0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Wn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function w0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function R0(t,n,r){switch(n=Tc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Eo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ya(t)}var ei=new Map,x0=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=oe.d;oe.d={f:Eb,r:Tb,D:bb,C:Ab,L:Sb,m:wb,X:xb,S:Rb,M:Ib};function Eb(){var t=ps.f(),n=dc();return t||n}function Tb(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?Gg(n):ps.r(t)}var Ja=typeof document>"u"?null:document;function I0(t,n,r){var l=Ja;if(l&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),x0.has(h)||(x0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),on(n,"link",t),jt(n),l.head.appendChild(n)))}}function bb(t){ps.D(t),I0("dns-prefetch",t,null)}function Ab(t,n){ps.C(t,n),I0("preconnect",t,n)}function Sb(t,n,r){ps.L(t,n,r);var l=Ja;if(l&&t&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+bn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+bn(r.imageSizes)+'"]')):h+='[href="'+bn(t)+'"]';var f=h;switch(n){case"style":f=Wa(t);break;case"script":f=el(t)}ei.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ei.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(To(f))||n==="script"&&l.querySelector(bo(f))||(n=l.createElement("link"),on(n,"link",t),jt(n),l.head.appendChild(n)))}}function wb(t,n){ps.m(t,n);var r=Ja;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=el(t)}if(!ei.has(f)&&(t=w({rel:"modulepreload",href:t},n),ei.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bo(f)))return}l=r.createElement("link"),on(l,"link",t),jt(l),r.head.appendChild(l)}}}function Rb(t,n,r){ps.S(t,n,r);var l=Ja;if(l&&t){var h=Ri(l).hoistableStyles,f=Wa(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(To(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ei.get(f))&&Rd(t,r);var I=p=l.createElement("link");jt(I),on(I,"link",t),I._p=new Promise(function(j,Q){I.onload=j,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ac(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function xb(t,n){ps.X(t,n);var r=Ja;if(r&&t){var l=Ri(r).hoistableScripts,h=el(t),f=l.get(h);f||(f=r.querySelector(bo(h)),f||(t=w({src:t,async:!0},n),(n=ei.get(h))&&xd(t,n),f=r.createElement("script"),jt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ib(t,n){ps.M(t,n);var r=Ja;if(r&&t){var l=Ri(r).hoistableScripts,h=el(t),f=l.get(h);f||(f=r.querySelector(bo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ei.get(h))&&xd(t,n),f=r.createElement("script"),jt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function C0(t,n,r,l){var h=(h=De.current)?bc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Wa(r.href),r=Ri(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Wa(r.href);var f=Ri(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(To(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ei.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ei.set(t,r),f||Cb(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=el(r),r=Ri(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Wa(t){return'href="'+bn(t)+'"'}function To(t){return'link[rel="stylesheet"]['+t+"]"}function N0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Cb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",r),jt(n),t.head.appendChild(n))}function el(t){return'[src="'+bn(t)+'"]'}function bo(t){return"script[async]"+t}function D0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+bn(r.href)+'"]');if(l)return n.instance=l,jt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),on(l,"style",h),Ac(l,r.precedence,t),n.instance=l;case"stylesheet":h=Wa(r.href);var f=t.querySelector(To(h));if(f)return n.state.loading|=4,n.instance=f,jt(f),f;l=N0(r),(h=ei.get(h))&&Rd(l,h),f=(t.ownerDocument||t).createElement("link"),jt(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),on(f,"link",l),n.state.loading|=4,Ac(f,r.precedence,t),n.instance=f;case"script":return f=el(r.src),(h=t.querySelector(bo(f)))?(n.instance=h,jt(h),h):(l=r,(h=ei.get(f))&&(l=w({},r),xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),on(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ac(l,r.precedence,t));return n.instance}function Ac(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function O0(t,n,r){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(r,l)}else h=Sc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Si]||f[Pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function M0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Nb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Db(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Wa(l.href),f=n.querySelector(To(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,jt(f);return}f=n.ownerDocument||n,l=N0(l),(h=ei.get(h))&&Rd(l,h),f=f.createElement("link"),jt(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),on(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=wc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Id=0;function Ob(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*fb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(Mb,t),Rc=null,wc.call(t))}function Mb(t,n){if(!(n.state.loading&4)){var r=Rc.get(t);if(r)var l=r.get(null);else{r=new Map,Rc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ao={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Vb(t,n,r,l,h,f,p,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function k0(t,n,r,l,h,f,p,E,I,j,Q,X){return t=new Vb(t,n,r,p,I,j,Q,X,E),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},hf(f),t}function U0(t){return t?(t=Da,t):Da}function L0(t,n,r,l,h,f){h=U0(h),l.context===null?l.context=h:l.pendingContext=h,l=Gs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Fs(t,l,n),r!==null&&(In(r,t,n),eo(r,t,n))}function P0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){P0(t,n),(t=t.alternate)&&P0(t,n)}function j0(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&In(n,t,67108864),Cd(t,67108864)}}function z0(t){if(t.tag===13||t.tag===31){var n=Bn();n=Or(n);var r=Gr(t,n);r!==null&&In(r,t,n),Cd(t,n)}}var Ic=!0;function kb(t,n,r,l){var h=F.T;F.T=null;var f=oe.p;try{oe.p=2,Nd(t,n,r,l)}finally{oe.p=f,F.T=h}}function Ub(t,n,r,l){var h=F.T;F.T=null;var f=oe.p;try{oe.p=8,Nd(t,n,r,l)}finally{oe.p=f,F.T=h}}function Nd(t,n,r,l){if(Ic){var h=Dd(l);if(h===null)gd(t,n,l,Cc,r),H0(t,l);else if(Pb(h,t,n,r,l))l.stopPropagation();else if(H0(t,l),n&4&&-1<Lb.indexOf(t)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-wt(p);E.entanglements[1]|=I,p&=~I}ji(f),(st&6)===0&&(hc=te()+500,yo(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&In(E,f,2),dc(),Cd(f,2)}if(f=Dd(l),f===null&&gd(t,n,l,Cc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else gd(t,n,l,null,r)}}function Dd(t){return t=Gn(t),Od(t)}var Cc=null;function Od(t){if(Cc=null,t=wi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function B0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case Be:return 2;case nt:return 8;case ft:case ge:return 32;case Z:return 268435456;default:return 32}default:return 32}}var Md=!1,nr=null,ir=null,sr=null,So=new Map,wo=new Map,rr=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H0(t,n){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":So.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(n.pointerId)}}function Ro(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&j0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Pb(t,n,r,l,h){switch(n){case"focusin":return nr=Ro(nr,t,n,r,l,h),!0;case"dragenter":return ir=Ro(ir,t,n,r,l,h),!0;case"mouseover":return sr=Ro(sr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return So.set(f,Ro(So.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,wo.set(f,Ro(wo.get(f)||null,t,n,r,l,h)),!0}return!1}function q0(t){var n=wi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ri(t.priority,function(){z0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ri(t.priority,function(){z0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Dd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Pl=l,r.target.dispatchEvent(l),Pl=null}else return n=qn(r),n!==null&&j0(n),t.blockedOn=r,!1;n.shift()}return!0}function G0(t,n,r){Nc(t)&&r.delete(n)}function jb(){Md=!1,nr!==null&&Nc(nr)&&(nr=null),ir!==null&&Nc(ir)&&(ir=null),sr!==null&&Nc(sr)&&(sr=null),So.forEach(G0),wo.forEach(G0)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jb)))}var Oc=null;function F0(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Od(l||r)===null)continue;break}var f=qn(r);f!==null&&(t.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function tl(t){function n(I){return Dc(I,t)}nr!==null&&Dc(nr,t),ir!==null&&Dc(ir,t),sr!==null&&Dc(sr,t),So.forEach(n),wo.forEach(n);for(var r=0;r<rr.length;r++){var l=rr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)q0(r),r.blockedOn===null&&rr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Zt]||null;if(typeof f=="function")p||F0(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Zt]||null)E=p.formAction;else if(Od(h)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),F0(r)}}}function Q0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(t){this._internalRoot=t}Mc.prototype.render=Vd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Bn();L0(r,l,t,n,null,null)},Mc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;L0(t.current,2,null,t,null,null),dc(),n[Ai]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var r=0;r<rr.length&&n!==0&&n<rr[r].priority;r++);rr.splice(r,0,t),r===0&&q0(t)}};var Y0=e.version;if(Y0!=="19.2.3")throw Error(a(527,Y0,"19.2.3"));oe.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var zb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Et=Vc.inject(zb),He=Vc}catch{}}return Io.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ey,f=ty,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=k0(t,1,!1,null,null,r,l,null,h,f,p,Q0),t[Ai]=n.current,pd(t),new Vd(n)},Io.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ey,p=ty,E=ny,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=k0(t,1,!0,n,r??null,l,h,I,f,p,E,Q0),n.context=U0(null),r=n.current,l=Bn(),l=Or(l),h=Gs(l),h.callback=null,Fs(r,h,l),r=l,n.current.lanes=r,Nr(n,r),ji(n),t[Ai]=n.current,pd(t),new Mc(n)},Io.version="19.2.3",Io}var i_;function Zb(){if(i_)return Ld.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=$b(),Ld.exports}var Jb=Zb();const Wb=()=>{};var s_={};const kv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},eA=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,G=_&63;y||(G=64,d||(M=64)),a.push(i[T],i[w],i[M],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(kv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):eA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||w==null)throw new tA;const M=c<<2|g>>4;if(a.push(M),_!==64){const G=g<<4&240|_>>2;if(a.push(G),w!==64){const se=_<<6&192|w;a.push(se)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nA=function(s){const e=kv(s);return Uv.encodeByteArray(e,!0)},Wc=function(s){return nA(s).replace(/\./g,"")},Lv=function(s){try{return Uv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sA=()=>iA().__FIREBASE_DEFAULTS__,rA=()=>{if(typeof process>"u"||typeof s_>"u")return;const s=s_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},aA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Lv(s[1]);return e&&JSON.parse(e)},_h=()=>{try{return Wb()||sA()||rA()||aA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Pv=s=>_h()?.emulatorHosts?.[s],lA=s=>{const e=Pv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},jv=()=>_h()?.config,zv=s=>_h()?.[`_${s}`];class oA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function El(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bv(s){return(await fetch(s,{credentials:"include"})).ok}function uA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const Vo={};function cA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vo))Vo[e]?s.emulator.push(e):s.prod.push(e);return s}function hA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let r_=!1;function Hv(s,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||Vo[s]===e||Vo[s]||r_)return;Vo[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=cA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{r_=!0,d()},M}function T(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=hA(a),G=i("text"),se=document.getElementById(G)||document.createElement("span"),ae=i("learnmore"),ie=document.getElementById(ae)||document.createElement("a"),ve=i("preprendIcon"),Re=document.getElementById(ve)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ee=M.element;g(Ee),T(ie,ae);const tt=_();y(Re,ve),Ee.append(Re,se,ie,tt),document.body.appendChild(Ee)}c?(se.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,se.innerText="Preview backend running in this workspace."),se.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function dA(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function gA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yA(){const s=yn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function _A(){return!dA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const TA="FirebaseError";class Rs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=TA,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?bA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,g,a)}}function bA(s,e){return s.replace(AA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const AA=/\{\$([^}]+)}/g;function SA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Er(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(a_(c)&&a_(d)){if(!Er(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function a_(s){return s!==null&&typeof s=="object"}function Zo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function wA(s,e){const i=new RA(s,e);return i.subscribe.bind(i)}class RA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");xA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Bd),o.error===void 0&&(o.error=Bd),o.complete===void 0&&(o.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}function Tn(s){return s&&s._delegate?s._delegate:s}class oa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class IA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new oA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NA(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(s){return s===sa?void 0:s}function NA(s){return s.instantiationMode==="EAGER"}class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new IA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const OA={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},MA=Fe.INFO,VA={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},kA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=VA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=MA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const UA=(s,e)=>e.some(i=>s instanceof i);let l_,o_;function LA(){return l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,nm=new WeakMap,Gv=new WeakMap,Hd=new WeakMap,km=new WeakMap;function jA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(pr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&qv.set(i,s)}).catch(()=>{}),km.set(e,s),e}function zA(s){if(nm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});nm.set(s,e)}let im={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return nm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Gv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function BA(s){im=s(im)}function HA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(qd(this),e,...i);return Gv.set(a,e.sort?e.sort():[e]),pr(a)}:PA().includes(s)?function(...e){return s.apply(qd(this),e),pr(qv.get(this))}:function(...e){return pr(s.apply(qd(this),e))}}function qA(s){return typeof s=="function"?HA(s):(s instanceof IDBTransaction&&zA(s),UA(s,LA())?new Proxy(s,im):s)}function pr(s){if(s instanceof IDBRequest)return jA(s);if(Hd.has(s))return Hd.get(s);const e=qA(s);return e!==s&&(Hd.set(s,e),km.set(e,s)),e}const qd=s=>km.get(s);function GA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=pr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(pr(d.result),y.oldVersion,y.newVersion,pr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const FA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],Gd=new Map;function u_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=QA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||FA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Gd.set(e,c),c}BA(s=>({...s,get:(e,i,a)=>u_(e,i)||s.get(e,i,a),has:(e,i)=>!!u_(e,i)||s.has(e,i)}));class YA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function KA(s){return s.getComponent()?.type==="VERSION"}const sm="@firebase/app",c_="0.14.6";const Es=new Vm("@firebase/app"),XA="@firebase/app-compat",$A="@firebase/analytics-compat",ZA="@firebase/analytics",JA="@firebase/app-check-compat",WA="@firebase/app-check",eS="@firebase/auth",tS="@firebase/auth-compat",nS="@firebase/database",iS="@firebase/data-connect",sS="@firebase/database-compat",rS="@firebase/functions",aS="@firebase/functions-compat",lS="@firebase/installations",oS="@firebase/installations-compat",uS="@firebase/messaging",cS="@firebase/messaging-compat",hS="@firebase/performance",fS="@firebase/performance-compat",dS="@firebase/remote-config",mS="@firebase/remote-config-compat",pS="@firebase/storage",gS="@firebase/storage-compat",yS="@firebase/firestore",_S="@firebase/ai",vS="@firebase/firestore-compat",ES="firebase",TS="12.6.0";const rm="[DEFAULT]",bS={[sm]:"fire-core",[XA]:"fire-core-compat",[ZA]:"fire-analytics",[$A]:"fire-analytics-compat",[WA]:"fire-app-check",[JA]:"fire-app-check-compat",[eS]:"fire-auth",[tS]:"fire-auth-compat",[nS]:"fire-rtdb",[iS]:"fire-data-connect",[sS]:"fire-rtdb-compat",[rS]:"fire-fn",[aS]:"fire-fn-compat",[lS]:"fire-iid",[oS]:"fire-iid-compat",[uS]:"fire-fcm",[cS]:"fire-fcm-compat",[hS]:"fire-perf",[fS]:"fire-perf-compat",[dS]:"fire-rc",[mS]:"fire-rc-compat",[pS]:"fire-gcs",[gS]:"fire-gcs-compat",[yS]:"fire-fst",[vS]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};const eh=new Map,AS=new Map,am=new Map;function h_(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function fl(s){const e=s.name;if(am.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,s);for(const i of eh.values())h_(i,s);for(const i of AS.values())h_(i,s);return!0}function Um(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ti(s){return s==null?!1:s.settings!==void 0}const SS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new $o("app","Firebase",SS);class wS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const Tl=TS;function Fv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:rm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(i||(i=jv()),!i)throw gr.create("no-options");const c=eh.get(o);if(c){if(Er(i,c.options)&&Er(a,c.config))return c;throw gr.create("duplicate-app",{appName:o})}const d=new DA(o);for(const y of am.values())d.addComponent(y);const g=new wS(i,a,d);return eh.set(o,g),g}function Qv(s=rm){const e=eh.get(s);if(!e&&s===rm&&jv())return Fv();if(!e)throw gr.create("no-app",{appName:s});return e}function yr(s,e,i){let a=bS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}fl(new oa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const RS="firebase-heartbeat-database",xS=1,zo="firebase-heartbeat-store";let Fd=null;function Yv(){return Fd||(Fd=GA(RS,xS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zo)}catch(i){console.warn(i)}}}}).catch(s=>{throw gr.create("idb-open",{originalErrorMessage:s.message})})),Fd}async function IS(s){try{const i=(await Yv()).transaction(zo),a=await i.objectStore(zo).get(Kv(s));return await i.done,a}catch(e){if(e instanceof Rs)Es.warn(e.message);else{const i=gr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function f_(s,e){try{const a=(await Yv()).transaction(zo,"readwrite");await a.objectStore(zo).put(e,Kv(s)),await a.done}catch(i){if(i instanceof Rs)Es.warn(i.message);else{const a=gr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function Kv(s){return`${s.name}!${s.options.appId}`}const CS=1024,NS=30;class DS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new MS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=d_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>NS){const o=VS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d_(),{heartbeatsToSend:i,unsentEntries:a}=OS(this._heartbeatsCache.heartbeats),o=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Es.warn(e),""}}}function d_(){return new Date().toISOString().substring(0,10)}function OS(s,e=CS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),m_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),m_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class MS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function m_(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function VS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function kS(s){fl(new oa("platform-logger",e=>new YA(e),"PRIVATE")),fl(new oa("heartbeat",e=>new DS(e),"PRIVATE")),yr(sm,c_,s),yr(sm,c_,"esm2020"),yr("fire-js","")}kS("");var US="firebase",LS="12.7.0";yr(US,LS,"app");function Xv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PS=Xv,$v=new $o("auth","Firebase",Xv());const th=new Vm("@firebase/auth");function jS(s,...e){th.logLevel<=Fe.WARN&&th.warn(`Auth (${Tl}): ${s}`,...e)}function Hc(s,...e){th.logLevel<=Fe.ERROR&&th.error(`Auth (${Tl}): ${s}`,...e)}function Ts(s,...e){throw Lm(s,...e)}function Bi(s,...e){return Lm(s,...e)}function Zv(s,e,i){const a={...PS(),[e]:i};return new $o("auth","Firebase",a).create(e,{appName:s.name})}function vs(s){return Zv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return $v.create(s,...e)}function we(s,e,...i){if(!s)throw Lm(e,...i)}function ys(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function bs(s,e){s||ys(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function zS(){return p_()==="http:"||p_()==="https:"}function p_(){return typeof self<"u"&&self.location?.protocol||null}function BS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zS()||pA()||"connection"in navigator)?navigator.onLine:!0}function HS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jo{constructor(e,i){this.shortDelay=e,this.longDelay=i,bs(i>e,"Short delay should be less than long delay!"),this.isMobile=fA()||gA()}get(){return BS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pm(s,e){bs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Jv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FS=new Jo(3e4,6e4);function Wo(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function bl(s,e,i,a,o={}){return Wv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Zo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return mA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&El(s.emulatorConfig.host)&&(_.credentials="include"),Jv.fetch()(await e1(s,s.config.apiHost,i,g),_)})}async function Wv(s,e,i){s._canInitEmulator=!1;const a={...qS,...e};try{const o=new QS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw kc(s,"user-disabled",d);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Zv(s,T,_);Ts(s,T)}}catch(o){if(o instanceof Rs)throw o;Ts(s,"network-request-failed",{message:String(o)})}}async function jm(s,e,i,a,o={}){const c=await bl(s,e,i,a,o);return"mfaPendingCredential"in c&&Ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function e1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Pm(s.config,o):`${s.config.apiScheme}://${o}`;return GS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class QS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),FS.get())})}}function kc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Bi(s,e,a);return o.customData._tokenResponse=i,o}async function YS(s,e){return bl(s,"POST","/v1/accounts:delete",e)}async function nh(s,e){return bl(s,"POST","/v1/accounts:lookup",e)}function ko(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KS(s,e=!1){const i=Tn(s),a=await i.getIdToken(e),o=zm(a);we(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:ko(Qd(o.auth_time)),issuedAtTime:ko(Qd(o.iat)),expirationTime:ko(Qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(s){return Number(s)*1e3}function zm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Lv(i);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function g_(s){const e=zm(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Rs&&XS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function XS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class $S{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ko(this.lastLoginAt),this.creationTime=ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const e=s.auth,i=await s.getIdToken(),a=await Bo(s,nh(e,{idToken:i}));we(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?t1(o.providerUserInfo):[],d=JS(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=g?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function ZS(s){const e=Tn(s);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function t1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function WS(s,e){const i=await Wv(s,{},async()=>{const a=Zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await e1(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&El(s.emulatorConfig.host)&&(y.credentials="include"),Jv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ew(s,e){return bl(s,"POST","/v2/accounts:revokeToken",Wo(s,e))}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=g_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await WS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new ll;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return ys("not implemented")}}function lr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new $S(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return KS(this,e)}reload(){return ZS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Bo(this,YS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:se,stsTokenManager:ae}=i;we(w&&ae,e,"internal-error");const ie=ll.fromJSON(this.name,ae);we(typeof w=="string",e,"internal-error"),lr(a,e.name),lr(o,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof G=="boolean",e,"internal-error"),lr(c,e.name),lr(d,e.name),lr(g,e.name),lr(y,e.name),lr(_,e.name),lr(T,e.name);const ve=new pi({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ie,createdAt:_,lastLoginAt:T});return se&&Array.isArray(se)&&(ve.providerData=se.map(Re=>({...Re}))),y&&(ve._redirectEventId=y),ve}static async _fromIdTokenResponse(e,i,a=!1){const o=new ll;o.updateFromServerResponse(i);const c=new pi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?t1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new ll;g.updateFromIdToken(a);const y=new pi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const y_=new Map;function _s(s){bs(s instanceof Function,"Expected a class definition");let e=y_.get(s);return e?(bs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,y_.set(s,e),e)}class n1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}n1.type="NONE";const __=n1;function qc(s,e,i){return`firebase:${s}:${e}:${i}`}class ol{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?pi._fromGetAccountInfoResponse(this.auth,i,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ol(_s(__),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||_s(__);const d=qc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let w;if(typeof T=="string"){const M=await nh(e,{idToken:T}).catch(()=>{});if(!M)break;w=await pi._fromGetAccountInfoResponse(e,M,T)}else w=pi._fromJSON(e,T);_!==c&&(g=w),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ol(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ol(c,e,a))}}function v_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o1(e))return"Blackberry";if(u1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||r1(e))&&!e.includes("edge/"))return"Chrome";if(l1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function i1(s=yn()){return/firefox\//i.test(s)}function s1(s=yn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r1(s=yn()){return/crios\//i.test(s)}function a1(s=yn()){return/iemobile/i.test(s)}function l1(s=yn()){return/android/i.test(s)}function o1(s=yn()){return/blackberry/i.test(s)}function u1(s=yn()){return/webos/i.test(s)}function Bm(s=yn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function tw(s=yn()){return Bm(s)&&!!window.navigator?.standalone}function nw(){return yA()&&document.documentMode===10}function c1(s=yn()){return Bm(s)||l1(s)||u1(s)||o1(s)||/windows phone/i.test(s)||a1(s)}function h1(s,e=[]){let i;switch(s){case"Browser":i=v_(yn());break;case"Worker":i=`${v_(yn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Tl}/${a}`}class iw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function sw(s,e={}){return bl(s,"GET","/v2/passwordPolicy",Wo(s,e))}const rw=6;class aw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??rw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class lw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new iw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$v,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=_s(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),a=await pi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(vs(this));const i=e?Tn(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sw(this),i=new aw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await ew(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&_s(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[_s(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function eu(s){return Tn(s)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=wA(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ow(s){Hm=s}function uw(s){return Hm.loadJS(s)}function cw(){return Hm.gapiScript}function hw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function fw(s,e){const i=Um(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Er(c,e??{}))return o;Ts(o,"already-initialized")}return i.initialize({options:e})}function dw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(_s);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function mw(s,e,i){const a=eu(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=f1(e),{host:d,port:g}=pw(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Er(_,a.config.emulator)&&Er(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,El(d)?(Bv(`${c}//${d}${y}`),Hv("Auth",!0)):gw()}function f1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function pw(s){const e=f1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:T_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:T_(d)}}}function T_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function gw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class d1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,i){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function ul(s,e){return jm(s,"POST","/v1/accounts:signInWithIdp",Wo(s,e))}const yw="http://localhost";class ua extends d1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ua(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ul(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ul(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ul(e,i)}buildRequest(){const e={requestUri:yw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Zo(i)}return e}}class m1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends m1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cr extends tu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ua._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return hr.credential(i,a)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class fr extends tu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";class dr extends tu{constructor(){super("twitter.com")}static credential(e,i){return ua._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function _w(s,e){return jm(s,"POST","/v1/accounts:signUp",Wo(s,e))}class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await pi._fromIdTokenResponse(e,a,o),d=b_(a);return new As({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=b_(a);return new As({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function b_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function vw(s){if(ti(s.app))return Promise.reject(vs(s));const e=eu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new As({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await _w(e,{returnSecureToken:!0}),a=await As._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class sh extends Rs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new sh(e,i,a,o)}}function p1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,e,a):c})}async function Ew(s,e,i=!1){const a=await Bo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return As._forOperation(s,"link",a)}async function Tw(s,e,i=!1){const{auth:a}=s;if(ti(a.app))return Promise.reject(vs(a));const o="reauthenticate";try{const c=await Bo(s,p1(a,o,e,s),i);we(c.idToken,a,"internal-error");const d=zm(c.idToken);we(d,a,"internal-error");const{sub:g}=d;return we(s.uid===g,a,"user-mismatch"),As._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ts(a,"user-mismatch"),c}}async function bw(s,e,i=!1){if(ti(s.app))return Promise.reject(vs(s));const a="signIn",o=await p1(s,a,e),c=await As._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function Aw(s,e){return jm(s,"POST","/v1/accounts:signInWithCustomToken",Wo(s,e))}async function Sw(s,e){if(ti(s.app))return Promise.reject(vs(s));const i=eu(s),a=await Aw(i,{token:e,returnSecureToken:!0}),o=await As._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function ww(s,e,i,a){return Tn(s).onIdTokenChanged(e,i,a)}function Rw(s,e,i){return Tn(s).beforeAuthStateChanged(e,i)}function xw(s,e,i,a){return Tn(s).onAuthStateChanged(e,i,a)}const rh="__sak";class g1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Iw=1e3,Cw=10;class y1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);nw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Cw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const Nw=y1;class _1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}_1.type="SESSION";const v1=_1;function Dw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await Dw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function qm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Ow{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=qm("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function Mw(s){Hi().location.href=s}function E1(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function Vw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kw(){return navigator?.serviceWorker?.controller||null}function Uw(){return E1()?self:null}const T1="firebaseLocalStorageDb",Lw=1,ah="firebaseLocalStorage",b1="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,e){return s.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function Pw(){const s=indexedDB.deleteDatabase(T1);return new nu(s).toPromise()}function um(){const s=indexedDB.open(T1,Lw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:b1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?e(a):(a.close(),await Pw(),e(await um()))})})}async function A_(s,e,i){const a=Eh(s,!0).put({[b1]:e,value:i});return new nu(a).toPromise()}async function jw(s,e){const i=Eh(s,!1).get(e),a=await new nu(i).toPromise();return a===void 0?null:a.value}function S_(s,e){const i=Eh(s,!0).delete(e);return new nu(i).toPromise()}const zw=800,Bw=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Bw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(Uw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Vw(),!this.activeServiceWorker)return;this.sender=new Ow(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await A_(e,rh,"1"),await S_(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>A_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>jw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>S_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Eh(o,!1).getAll();return new nu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const Hw=A1;new Jo(3e4,6e4);function qw(s,e){return e?_s(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Gm extends d1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ul(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Gw(s){return bw(s.auth,new Gm(s),s.bypassAuthState)}function Fw(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),Tw(i,new Gm(s),s.bypassAuthState)}async function Qw(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),Ew(i,new Gm(s),s.bypassAuthState)}class S1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gw;case"linkViaPopup":case"linkViaRedirect":return Qw;case"reauthViaPopup":case"reauthViaRedirect":return Fw;default:Ts(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yw=new Jo(2e3,1e4);class al extends S1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yw.get())};e()}}al.currentPopupAction=null;const Kw="pendingRedirect",Gc=new Map;class Xw extends S1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await $w(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $w(s,e){const i=Ww(e),a=Jw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Zw(s,e){Gc.set(s._key(),e)}function Jw(s){return _s(s._redirectPersistence)}function Ww(s){return qc(Kw,s.config.apiKey,s.name)}async function e2(s,e,i=!1){if(ti(s.app))return Promise.reject(vs(s));const a=eu(s),o=qw(a,e),d=await new Xw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const t2=600*1e3;class n2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!w1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function w1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function i2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w1(s);default:return!1}}async function s2(s,e={}){return bl(s,"GET","/v1/projects",e)}const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;async function l2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await s2(s);for(const i of e)try{if(o2(i))return}catch{}Ts(s,"unauthorized-domain")}function o2(s){const e=lm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!a2.test(i))return!1;if(r2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const u2=new Jo(3e4,6e4);function R_(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function c2(s){return new Promise((e,i)=>{function a(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),i(Bi(s,"network-request-failed"))},timeout:u2.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const o=hw("iframefcb");return Hi()[o]=()=>{gapi.load?a():i(Bi(s,"network-request-failed"))},uw(`${cw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function h2(s){return Fc=Fc||c2(s),Fc}const f2=new Jo(5e3,15e3),d2="__/auth/iframe",m2="emulator/auth/iframe",p2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y2(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Pm(e,m2):`https://${s.config.authDomain}/${d2}`,a={apiKey:e.apiKey,appName:s.name,v:Tl},o=g2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Zo(a).slice(1)}`}async function _2(s){const e=await h2(s),i=Hi().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),g=Hi().setTimeout(()=>{c(d)},f2.get());function y(){Hi().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,T2=600,b2="_blank",A2="http://localhost";class x_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S2(s,e,i,a=E2,o=T2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...v2,width:a.toString(),height:o.toString(),top:c,left:d},_=yn().toLowerCase();i&&(g=r1(_)?b2:i),i1(_)&&(e=e||A2,y.scrollbars="yes");const T=Object.entries(y).reduce((M,[G,se])=>`${M}${G}=${se},`,"");if(tw(_)&&g!=="_self")return w2(e||"",g),new x_(null);const w=window.open(e||"",g,T);we(w,s,"popup-blocked");try{w.focus()}catch{}return new x_(w)}function w2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const R2="__/auth/handler",x2="emulator/auth/handler",I2=encodeURIComponent("fac");async function I_(s,e,i,a,o,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Tl,eventId:o};if(e instanceof m1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",SA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof tu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await s._getAppCheckToken(),_=y?`#${I2}=${encodeURIComponent(y)}`:"";return`${C2(s)}?${Zo(g).slice(1)}${_}`}function C2({config:s}){return s.emulator?Pm(s,x2):`https://${s.authDomain}/${R2}`}const Yd="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=e2,this._overrideRedirectResult=Zw}async _openPopup(e,i,a,o){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await I_(e,i,a,lm(),o);return S2(e,c,qm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await I_(e,i,a,lm(),o);return Mw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await _2(e),a=new n2(e);return i.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Yd,{type:Yd},o=>{const c=o?.[0]?.[Yd];c!==void 0&&i(!!c),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=l2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return c1()||s1()||Bm()}}const D2=N2;var C_="@firebase/auth",N_="1.12.0";class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function M2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V2(s){fl(new oa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h1(s)},_=new lw(a,o,c,y);return dw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),fl(new oa("auth-internal",e=>{const i=eu(e.getProvider("auth").getImmediate());return(a=>new O2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(C_,N_,M2(s)),yr(C_,N_,"esm2020")}const k2=300,U2=zv("authIdTokenMaxAge")||k2;let D_=null;const L2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>U2)return;const o=i?.token;D_!==o&&(D_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P2(s=Qv()){const e=Um(s,"auth");if(e.isInitialized())return e.getImmediate();const i=fw(s,{popupRedirectResolver:D2,persistence:[Hw,Nw,v1]}),a=zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=L2(c.toString());Rw(i,d,()=>d(i.currentUser)),ww(i,g=>d(g))}}const o=Pv("auth");return o&&mw(i,`http://${o}`),i}function j2(){return document.getElementsByTagName("head")?.[0]??document}ow({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Bi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",j2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V2("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,R1;(function(){var s;function e(C,S){function x(){}x.prototype=S.prototype,C.F=S.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(V,D,U){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,x){x||(x=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(D=0;D<16;++D)V[D]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=C.g[0],x=C.g[1],D=C.g[2];let U=C.g[3],R;R=S+(U^x&(D^U))+V[0]+3614090360&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(D^S&(x^D))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(x^U&(S^x))+V[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=x+(S^D&(U^S))+V[3]+3250441966&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(U^x&(D^U))+V[4]+4118548399&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(D^S&(x^D))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(x^U&(S^x))+V[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=x+(S^D&(U^S))+V[7]+4249261313&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(U^x&(D^U))+V[8]+1770035416&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(D^S&(x^D))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(x^U&(S^x))+V[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=x+(S^D&(U^S))+V[11]+2304563134&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(U^x&(D^U))+V[12]+1804603682&4294967295,S=x+(R<<7&4294967295|R>>>25),R=U+(D^S&(x^D))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(x^U&(S^x))+V[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=x+(S^D&(U^S))+V[15]+1236535329&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(D^U&(x^D))+V[1]+4129170786&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^D&(S^x))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(U^S))+V[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(D^U))+V[0]+3921069994&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(x^D))+V[5]+3593408605&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^D&(S^x))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(U^S))+V[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(D^U))+V[4]+3889429448&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(x^D))+V[9]+568446438&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^D&(S^x))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(U^S))+V[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(D^U))+V[8]+1163531501&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(x^D))+V[13]+2850285829&4294967295,S=x+(R<<5&4294967295|R>>>27),R=U+(x^D&(S^x))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(U^S))+V[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=x+(U^S&(D^U))+V[12]+2368359562&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(x^D^U)+V[5]+4294588738&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^D)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^x)+V[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=x+(D^U^S)+V[14]+4259657740&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(x^D^U)+V[1]+2763975236&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^D)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^x)+V[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=x+(D^U^S)+V[10]+3200236656&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(x^D^U)+V[13]+681279174&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^D)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^x)+V[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=x+(D^U^S)+V[6]+76029189&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(x^D^U)+V[9]+3654602809&4294967295,S=x+(R<<4&4294967295|R>>>28),R=U+(S^x^D)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^x)+V[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=x+(D^U^S)+V[2]+3299628645&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(D^(x|~U))+V[0]+4096336452&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~D))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~x))+V[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=x+(U^(D|~S))+V[5]+4237533241&4294967295,x=D+(R<<21&4294967295|R>>>11),R=S+(D^(x|~U))+V[12]+1700485571&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~D))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~x))+V[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=x+(U^(D|~S))+V[1]+2240044497&4294967295,x=D+(R<<21&4294967295|R>>>11),R=S+(D^(x|~U))+V[8]+1873313359&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~D))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~x))+V[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=x+(U^(D|~S))+V[13]+1309151649&4294967295,x=D+(R<<21&4294967295|R>>>11),R=S+(D^(x|~U))+V[4]+4149444226&4294967295,S=x+(R<<6&4294967295|R>>>26),R=U+(x^(S|~D))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~x))+V[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=x+(U^(D|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const x=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=x;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[D++]=C.charCodeAt(U++),D==this.blockSize){o(this,V),D=0;break}}else for(;U<S;)if(V[D++]=C[U++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)C[S++]=this.g[x]>>>V&255;return C};function c(C,S){var x=g;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=S(C)}function d(C,S){this.h=S;const x=[];let V=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;V&&U==S||(x[D]=U,V=!1)}this.g=x}var g={};function y(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return ie(_(-C));const S=[];let x=1;for(let V=0;C>=x;V++)S[V]=C/x|0,x*=4294967296;return new d(S,0)}function T(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return ie(T(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(S,8));let V=w;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+D),S);D<8?(D=_(Math.pow(S,D)),V=V.j(D).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var w=y(0),M=y(1),G=y(16777216);s=d.prototype,s.m=function(){if(ae(this))return-ie(this).m();let C=0,S=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(se(this))return"0";if(ae(this))return"-"+ie(this).toString(C);const S=_(Math.pow(C,6));var x=this;let V="";for(;;){const D=tt(x,S).g;x=ve(x,D.j(S));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=D,se(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function se(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function ae(C){return C.h==-1}s.l=function(C){return C=ve(this,C),ae(C)?-1:se(C)?0:1};function ie(C){const S=C.g.length,x=[];for(let V=0;V<S;V++)x[V]=~C.g[V];return new d(x,~C.h).add(M)}s.abs=function(){return ae(this)?ie(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),x=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(C.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=R>>>16,U&=65535,R&=65535,x[D]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ve(C,S){return C.add(ie(S))}s.j=function(C){if(se(this)||se(C))return w;if(ae(this))return ae(C)?ie(this).j(ie(C)):ie(ie(this).j(C));if(ae(C))return ie(this.j(ie(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,x=[];for(var V=0;V<2*S;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const U=this.i(V)>>>16,R=this.i(V)&65535,at=C.i(D)>>>16,yt=C.i(D)&65535;x[2*V+2*D]+=R*yt,Re(x,2*V+2*D),x[2*V+2*D+1]+=U*yt,Re(x,2*V+2*D+1),x[2*V+2*D+1]+=R*at,Re(x,2*V+2*D+1),x[2*V+2*D+2]+=U*at,Re(x,2*V+2*D+2)}for(C=0;C<S;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=S;C<2*S;C++)x[C]=0;return new d(x,0)};function Re(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function Ee(C,S){this.g=C,this.h=S}function tt(C,S){if(se(S))throw Error("division by zero");if(se(C))return new Ee(w,w);if(ae(C))return S=tt(ie(C),S),new Ee(ie(S.g),ie(S.h));if(ae(S))return S=tt(C,ie(S)),new Ee(ie(S.g),S.h);if(C.g.length>30){if(ae(C)||ae(S))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=S;V.l(C)<=0;)x=ht(x),V=ht(V);var D=Ke(x,1),U=Ke(V,1);for(V=Ke(V,2),x=Ke(x,2);!se(V);){var R=U.add(V);R.l(C)<=0&&(D=D.add(x),U=R),V=Ke(V,1),x=Ke(x,1)}return S=ve(C,D.j(S)),new Ee(D,S)}for(D=w;C.l(S)>=0;){for(x=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(x),R=U.j(S);ae(R)||R.l(C)>0;)x-=V,U=_(x),R=U.j(S);se(U)&&(U=M),D=D.add(U),C=ve(C,R)}return new Ee(D,C)}s.B=function(C){return tt(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)&C.i(V);return new d(x,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)|C.i(V);return new d(x,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)^C.i(V);return new d(x,this.h^C.h)};function ht(C){const S=C.g.length+1,x=[];for(let V=0;V<S;V++)x[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(x,C.h)}function Ke(C,S){const x=S>>5;S%=32;const V=C.g.length-x,D=[];for(let U=0;U<V;U++)D[U]=S>0?C.i(U+x)>>>S|C.i(U+x+1)<<32-S:C.i(U+x);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,R1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,_r=d}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var x1,Co,I1,Qc,cm,C1,N1,D1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break e;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,B){for(var re=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)re[Ve-2]=arguments[Ve];return m.prototype[L].apply(A,re)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function se(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let re=0;re<B;re++)u[v+re]=L[re]}else u.push(L)}}class ae{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function ve(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,v){const A=Ee.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ee=new ae(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,Ke=!1,C=new Re,S=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(x)}};function x(){for(var u;u=ve();){try{u.h.call(u.g)}catch(v){ie(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(at,D),at.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),F=0;function oe(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++F,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Je(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,m,v,A,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const re=De(u,m,A,L);return re>-1?(m=u[re],v||(m.fa=!1)):(m=new oe(m,this.src,B,!!A,L),m.fa=v,u.push(m)),m};function Se(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(A,L,1),B&&(ye(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function De(u,m,v,A){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return L}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Nt={};function _t(u,m,v,A,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)_t(u,m[B],v,A,L);return null}return v=ee(v),u&&u[yt]?u.J(m,v,g(A)?!!A.capture:!1,L):Xi(u,m,v,!1,A,L)}function Xi(u,m,v,A,L,B){if(!m)throw Error("Invalid event type");const re=g(L)?!!L.capture:!!L;let Ve=$i(u);if(Ve||(u[ze]=Ve=new ce(u)),v=Ve.add(m,v,A,re,B),v.proxy)return v;if(A=xs(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)U||(L=re),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(On(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xs(){function u(v){return m.call(u.src,u.listener,v)}const m=Is;return u}function ii(u,m,v,A,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ii(u,m[B],v,A,L);else A=g(A)?!!A.capture:!!A,v=ee(v),u&&u[yt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=De(m,v,A,L),v>-1&&(ye(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$i(u))&&(m=u.g[m.toString()],u=-1,m&&(u=De(m,v,A,L)),(v=u>-1?m[u]:null)&&_i(v))}function _i(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[yt])Se(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(On(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=$i(m))?(Se(v,u),v.h==0&&(v.src=null,m[ze]=null)):ye(u)}}}function On(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function Is(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&_i(u),u=v.call(A,m)}return u}function $i(u){return u=u[ze],u instanceof ce?u:null}var Cs="__closure_events_fn_"+(Math.random()*1e9>>>0);function ee(u){return typeof u=="function"?u:(u[Cs]||(u[Cs]=function(m){return u.handleEvent(m)}),u[Cs])}function q(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}w(q,V),q.prototype[yt]=!0,q.prototype.removeEventListener=function(u,m,v,A){ii(this,u,m,v,A)};function W(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(A,u),le(m,L)}L=!0;let B,re;if(v)for(re=v.length-1;re>=0;re--)B=m.g=v[re],L=ne(B,A,!0,m)&&L;if(B=m.g=u,L=ne(B,A,!0,m)&&L,L=ne(B,A,!1,m)&&L,v)for(re=0;re<v.length;re++)B=m.g=v[re],L=ne(B,A,!1,m)&&L}q.prototype.N=function(){if(q.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ye(v[A]);delete u.g[m],u.h--}}this.G=null},q.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},q.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ne(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const re=m[B];if(re&&!re.da&&re.capture==v){const Ve=re.listener,Mt=re.ha||re.src;re.fa&&Se(u.i,re),L=Ve.call(Mt,A)!==!1&&L}}return L&&!A.defaultPrevented}function ue(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Oe(u){u.g=ue(()=>{u.g=null,u.i&&(u.i=!1,Oe(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class te extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function de(u){V.call(this),this.h=u,this.g={}}w(de,V);var Be=[];function nt(u){je(u.g,function(m,v){this.g.hasOwnProperty(v)&&_i(m)},u),u.g={}}de.prototype.N=function(){de.Z.N.call(this),nt(this)},de.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=d.JSON.stringify,ge=d.JSON.parse,Z=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ie(){}function Me(){}var Et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){D.call(this,"d")}w(He,D);function Tt(){D.call(this,"c")}w(Tt,D);var wt={},cu=null;function pa(){return cu=cu||new q}wt.Ia="serverreachability";function hu(u){D.call(this,wt.Ia,u)}w(hu,D);function vi(u){const m=pa();W(m,new hu(m))}wt.STAT_EVENT="statevent";function Cr(u,m){D.call(this,wt.STAT_EVENT,u),this.stat=m}w(Cr,D);function Lt(u){const m=pa();W(m,new Cr(m,u))}wt.Ja="timingevent";function Ei(u,m){D.call(this,wt.Ja,u),this.size=m}w(Ei,D);function Ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Ph(u,m,v,A,L,B){u.info(function(){if(u.g)if(B){var re="",Ve=B.split("&");for(let it=0;it<Ve.length;it++){var Mt=Ve[it].split("=");if(Mt.length>1){const Rt=Mt[0];Mt=Mt[1];const Qn=Rt.split("_");re=Qn.length>=2&&Qn[1]=="type"?re+(Rt+"="+Mt+"&"):re+(Rt+"=redacted&")}}}else re=null;else re=B;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+re})}function fu(u,m,v,A,L,B,re){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+re})}function bi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(A?" "+A:"")})}function Nr(u,m){u.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return ft(B)}catch{return m}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Il;function Or(){}w(Or,Ie),Or.prototype.g=function(){return new XMLHttpRequest},Il=new Or;function Zi(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ri(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new de(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Pt={},Zt={};function Ai(u,m,v){u.M=1,u.A=Mr(zt(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),Si(u),u.B=zt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Ea(v.i,"t",A),u.C=0,v=u.j.L,u.h=new ai,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new te(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Be[0]=L.toString()),L=Be);for(let B=0;B<L.length;B++){const re=_t(v,L[B],A||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vi(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{const Ve=ui(this.g),Mt=this.g.ya(),it=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ve!=4||Mt==7||(Mt==8||it<=0?vi(3):vi(2)),wi(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,Ve,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var B=A;break t}}B=null}if(u=B)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,u);else{this.o=!1,this.m=3,Lt(12),Mn(this),qn(this);break e}}if(this.R){u=!0;let Rt;for(;!this.K&&this.C<v.length;)if(Rt=pu(this,v),Rt==Zt){Ve==4&&(this.m=4,Lt(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Pt){this.m=4,Lt(15),bi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,Rt,null),Ri(this,Rt);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||v.length!=0||this.h.h||(this.m=1,Lt(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,v,"[Invalid Chunked Response]"),Mn(this),qn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ql(re),re.P=!0,Lt(11))}}else bi(this.i,this.l,v,null),Ri(this,v);Ve==4&&Mn(this),this.o&&!this.K&&(Ve==4?Su(this.j,this):(this.o=!1,Si(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Mn(this),qn(this)}}}catch{}};function zh(u){if(!mu(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const A=m.length,L=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),qn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Zt:(v=Number(m.substring(v,A)),isNaN(v)?Pt:(A+=1,A+v>m.length?Zt:(m=m.slice(A,A+v),u.C=A+v,m)))}ri.prototype.cancel=function(){this.K=!0,Mn(this)};function Si(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ti(_(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(vi(),Lt(17)),Mn(this),this.m=2,qn(this)):ya(this,this.T-u)};function qn(u){u.j.I==0||u.K||Su(u.j,u)}function Mn(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,nt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)wa(v),Ls(v);else break e;zr(v),Lt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ti(_(v.Va,v),6e3));xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Vi(v,11)}else if((u.L||v.g==u)&&wa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let it=L[m];const Rt=it[0];if(!(Rt<=v.K))if(v.K=Rt,it=it[1],v.I==2)if(it[0]=="c"){v.M=it[1],v.ba=it[2];const Qn=it[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const ki=it[4];ki!=null&&(v.za=ki,v.j.info("SVER="+v.za));const ci=it[5];ci!=null&&typeof ci=="number"&&ci>0&&(A=1.5*ci,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const hi=u.g;if(hi){const Br=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var B=A.h;B.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Dl(B,B.h),B.h=null))}if(A.G){const Ra=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(A.wa=Ra,lt(A.J,A.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=u;if(A.na=xu(A,A.L?A.ba:null,A.W),re.L){Ol(A.h,re);var Ve=re,Mt=A.O;Mt&&(Ve.H=Mt),Ve.D&&(wi(Ve),Si(Ve)),A.g=re}else bu(A);v.i.length>0&&Mi(v)}else it[0]!="stop"&&it[0]!="close"||Vi(v,7);else v.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Vi(v,7):Bl(v):it[0]!="noop"&&v.l&&v.l.qa(it),v.A=0)}}vi(4)}catch{}}var jt=class{constructor(u,m){this.g=u,this.map=m}};function Cl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dl(u,m){u.g?u.g.add(m):u.h=m}function Ol(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Cl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ml(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,B=null;A>=0?(L=u[v].substring(0,A),B=u[v].substring(A+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Ns(this,u.u),this.h=u.h,Vl(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),Ns(this,m[4]),this.h=Ci(m[5]||"",!0),Vl(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Os(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,va,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,va,!0),"@"),u.push(Zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vr(v,v.charAt(0)=="/"?kl:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vr(v,_u)),u.join("")},Vn.prototype.resolve=function(u){const m=zt(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Ns(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let re=0;re<L.length;){const Ve=L[re++];Ve=="."?A&&re==L.length&&B.push(""):Ve==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&re==L.length&&B.push("")):(B.push(Ve),A=!0)}A=B.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Vl(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function zt(u){return new Vn(u)}function Jt(u,m,v){u.j=v?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ns(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vl(u,m,v){m instanceof Os?(u.i=m,Ta(u.i,u.l)):(v||(m=Vr(m,Ds)),u.i=new Os(m,u.l))}function lt(u,m,v){u.i.set(m,v)}function Mr(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,yu=/[#\?:]/g,kl=/[#\?]/g,Ds=/[#\?@]/g,_u=/#/g;function Os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Os.prototype,s.add=function(u,m){An(this),this.i=null,u=Ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){An(u),m=Ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ul(u,m){return An(u),m=Ms(u,m),u.g.has(m)}s.forEach=function(u,m){An(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Ll(u,m){An(u);let v=[];if(typeof m=="string")Ul(u,m)&&(v=v.concat(u.g.get(Ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return An(this),this.i=null,u=Ms(this,u),Ul(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ll(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(Ms(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Zi(v);v=Ll(this,v);for(let B=0;B<v.length;B++){let re=L;v[B]!==""&&(re+="="+Zi(v[B])),u.push(re)}}return this.i=u.join("&")};function Eu(u){const m=new Os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(vu(this,A),Ea(this,L,v))},u)),u.j=m}function li(u,m){const v=new si;if(d.Image){const A=new Image;A.onload=T(Gn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Gn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Gn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Gn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Pl(u,m){const v=new si,A=new AbortController,L=setTimeout(()=>{A.abort(),Gn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(L),B.ok?Gn(v,"TestPingServer: ok",!0,m):Gn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Gn(v,"TestPingServer: error",!1,m)})}function Gn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Vs(){this.g=new Z}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ni,Ie),Ni.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){q.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(kr,q),s=kr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ks(this):oi(this),this.readyState==3&&ba(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ks(this))},s.Na=function(u){this.g&&(this.response=u,ks(this))},s.ga=function(){this.g&&ks(this)};function ks(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fn(u){let m="";return je(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ur(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Fn(v),typeof u=="string"?v!=null&&Zi(v):lt(u,m,v))}function dt(u){q.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(dt,q);var Di=/^https?$/i,jl=["POST","PUT"];s=dt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Il.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Lr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jl,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,re]of v)this.g.setRequestHeader(B,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Lr(this,B)}};function Lr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zl(u),Ji(u)}function zl(u){u.A||(u.A=!0,W(u,"complete"),W(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,W(this,"complete"),W(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),dt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(W(u,"readystatechange"),ui(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let re=String(u.D).match(gu)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),A=!Di.test(re?re.toLowerCase():"")}v=A}if(v)W(u,"complete"),W(u,"success");else{u.o=6;try{var L=ui(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",zl(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||W(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ge(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=du(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Je(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Us(u){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(u&&u.concurrentRequestLimit),this.Ba=new Vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Us.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){Lt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=xu(this,null,this.W),Mi(this)};function Bl(u){if(Aa(u),u.I==3){var m=u.V++,v=zt(u.J);if(lt(v,"SID",u.M),lt(v,"RID",m),lt(v,"TYPE","terminate"),jr(u,v),m=new ri(u,u.j,m),m.M=2,m.A=Mr(zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}Ru(u)}function Ls(u){u.g&&(ql(u),u.g.cancel(),u.g=null)}function Aa(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Nl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ht||S(),Ke||(ht(),Ke=!0),C.add(m,u),u.D=0}}function Sa(u,m){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ti(_(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ri(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),le(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,L,m),v=zt(this.J),lt(v,"RID",u),lt(v,"CVER",22),this.G&&lt(v,"X-HTTP-Session-Id",this.G),jr(this,v),B&&(this.R?m="headers="+Zi(Fn(B))+"&"+m:this.u&&Ur(v,this.u,B)),Dl(this.h,L),this.Ra&&lt(v,"TYPE","init"),this.S?(lt(v,"$req",m),lt(v,"SID","null"),L.U=!0,Ai(L,v,null)):Ai(L,v,m),this.I=2}}else this.I==3&&(u?Hl(this,u):this.i.length==0||Nl(this.h)||Hl(this))};function Hl(u,m){var v;m?v=m.l:v=u.V++;const A=zt(u.J);lt(A,"SID",u.M),lt(A,"RID",v),lt(A,"AID",u.K),jr(u,A),u.u&&u.o&&Ur(A,u.u,u.o),v=new ri(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dl(u.h,v),Ai(v,A,m)}function jr(u,m){u.H&&je(u.H,function(v,A){lt(m,A,v)}),u.l&&je({},function(v,A){lt(m,A,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ve=-1;for(;;){const Mt=["count="+v];Ve==-1?v>0?(Ve=L[0].g,Mt.push("ofs="+Ve)):Ve=0:Mt.push("ofs="+Ve);let it=!0;for(let Rt=0;Rt<v;Rt++){var B=L[Rt].g;const Qn=L[Rt].map;if(B-=Ve,B<0)Ve=Math.max(0,L[Rt].g-100),it=!1;else try{B="req"+B+"_"||"";try{var re=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ki,ci]of re){let hi=ci;g(ci)&&(hi=ft(ci)),Mt.push(B+ki+"="+encodeURIComponent(hi))}}catch(ki){throw Mt.push(B+"type="+encodeURIComponent("_badmap")),ki}}catch{A&&A(Qn)}}if(it){re=Mt.join("&");break e}}re=void 0}return u=u.i.splice(0,v),m.G=u,re}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ht||S(),Ke||(ht(),Ke=!0),C.add(m,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ti(_(u.Da,u),wu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ti(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),Ls(this),Au(this))};function ql(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);lt(m,"RID","rpc"),lt(m,"SID",u.M),lt(m,"AID",u.K),lt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(m,"TO",u.ia),lt(m,"TYPE","xmlhttp"),jr(u,m),u.u&&u.o&&Ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Mr(zt(m)),v.u=null,v.R=!0,ga(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ls(this),zr(this),Lt(19))};function wa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){wa(u),ql(u),u.g=null;var A=2}else if(Ii(u.h,m))v=m.G,Ol(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=pa(),W(A,new Ei(A,v)),Mi(u)}else bu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&Sa(u,m)||A==2&&zr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const L=!A;A=new Vn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(A,"https"),Mr(A),L?li(A.toString(),v):Pl(A.toString(),v)}else Lt(2);u.I=0,u.l&&u.l.pa(m),Ru(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=Ml(u.h);(m.length!=0||u.i.length!=0)&&(se(u.ja,m),se(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var A=v instanceof Vn?zt(v):new Vn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ns(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Vn(null);A&&Jt(B,A),m&&(B.g=m),L&&Ns(B,L),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&lt(A,v,m),lt(A,"VER",u.ka),jr(u,A),A}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new dt(new Ni({ab:v})):new dt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){q.call(this),this.g=new Us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new es(this)}w(_n,q),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Bl(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ft(u),u=v);m.i.push(new jt(m.Ya++,u)),m.I==3&&Mi(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,_n.Z.N.call(this)};function Nu(u){He.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Nu,He);function Du(){Tt.call(this),this.status=1}w(Du,Tt);function es(u){this.g=u}w(es,Cu),es.prototype.ra=function(){W(this.g,"a")},es.prototype.qa=function(u){W(this.g,new Nu(u))},es.prototype.pa=function(u){W(this.g,new Du)},es.prototype.oa=function(){W(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,D1=function(){return new Ps},N1=function(){return pa()},C1=wt,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Qc=Dr,xl.COMPLETE="complete",I1=xl,Me.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",q.prototype.listen=q.prototype.J,Co=Me,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,x1=dt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",V_="4.9.3";let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Al="12.7.0";const ca=new Vm("@firebase/firestore");function nl(){return ca.logLevel}function he(s,...e){if(ca.logLevel<=Fe.DEBUG){const i=e.map(Fm);ca.debug(`Firestore (${Al}): ${s}`,...i)}}function Ss(s,...e){if(ca.logLevel<=Fe.ERROR){const i=e.map(Fm);ca.error(`Firestore (${Al}): ${s}`,...i)}}function dl(s,...e){if(ca.logLevel<=Fe.WARN){const i=e.map(Fm);ca.warn(`Firestore (${Al}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,O1(s,a,i)}function O1(s,e,i){let a=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ss(a),new Error(a)}function rt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||O1(e,o,a)}function Ne(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class M1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class B2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class H2{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){rt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(rt(typeof a.accessToken=="string",31837,{l:a}),new M1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class q2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new q2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){rt(this.o===void 0,3512);const a=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(rt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new k_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Q2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Q2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Qe(s,e){return s<e?-1:s>e?1:0}function hm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Kd(o)===Kd(c)?Qe(o,c):Kd(o)?1:-1}return Qe(s.length,e.length)}const Y2=55296,K2=57343;function Kd(s){const e=s.charCodeAt(0);return e>=Y2&&e<=K2}function ml(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const U_="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ae(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Qe(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),o=zi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class It extends zi{construct(e,i,a){return new It(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new It(i)}static emptyPath(){return new It([])}}const X2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends zi{construct(e,i,a){return new hn(e,i,a)}static isValidIdentifier(e){return X2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new hn([U_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(i)}static emptyPath(){return new hn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(It.fromString(e))}static fromName(e){return new Te(It.fromString(e).popFirst(5))}static empty(){return new Te(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return It.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new It(e.slice()))}}function $2(s,e,i){if(!i)throw new pe(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Z2(s,e,i,a){if(e===!0&&a===!0)throw new pe(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function L_(s){if(!Te.isDocumentKey(s))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function V1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ym(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function gi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ym(s);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Qt(s,e){const i={typeString:s};return e&&(i.value=e),i}function iu(s,e){if(!V1(s))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new pe(J.INVALID_ARGUMENT,i);return!0}const P_=-62135596800,j_=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*j_);return new St(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<P_)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Qt("string",St._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new St(0,0))}static max(){return new xe(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ho=-1;function J2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(a===1e9?new St(i+1,0):new St(i,a));return new Tr(o,Te.empty(),e)}function W2(s){return new Tr(s.readTime,s.key,Ho)}class Tr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Tr(xe.min(),Te.empty(),Ho)}static max(){return new Tr(xe.max(),Te.empty(),Ho)}}function eR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(s.documentKey,e.documentKey),i!==0?i:Qe(s.largestBatchId,e.largestBatchId))}const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sl(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==tR)throw s;he("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((T=>{d[_]=T,++g,g===c&&a(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function iR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wl(s){return s.name==="IndexedDbTransactionError"}class Th{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;const Km=-1;function bh(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function sR(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const k1="";function rR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=z_(e)),e=aR(s.get(i),e);return z_(e)}function aR(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case k1:i+="";break;default:i+=c}}return i}function z_(s){return s+k1+""}function B_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function xr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function U1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ct{constructor(e,i){this.comparator=e,this.root=i||cn.EMPTY}insert(e,i){return new Ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??cn.RED,this.left=o??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new cn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new cn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Hn([])}unionWith(e){let i=new $t(hn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class L1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new L1("Invalid base64 string: "+c):c}})(e);return new fn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new fn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const lR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(rt(!!s,39018),typeof s=="string"){let e=0;const i=lR.exec(s);if(rt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ut(s.seconds),nanos:Ut(s.nanos)}}function Ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ar(s){return typeof s=="string"?fn.fromBase64String(s):fn.fromUint8Array(s)}const P1="server_timestamp",j1="__type__",z1="__previous_value__",B1="__local_write_time__";function Xm(s){return(s?.mapValue?.fields||{})[j1]?.stringValue===P1}function Ah(s){const e=s.mapValue.fields[z1];return Xm(e)?Ah(e):e}function qo(s){const e=br(s.mapValue.fields[B1].timestampValue);return new St(e.seconds,e.nanos)}class oR{constructor(e,i,a,o,c,d,g,y,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const oh="(default)";class Go{constructor(e,i){this.projectId=e,this.database=i||oh}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}const H1="__type__",uR="__max__",Pc={mapValue:{}},q1="__vector__",uh="value";function Sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xm(s)?4:hR(s)?9007199254740991:cR(s)?10:11:Ae(28295,{value:s})}function Yi(s,e){if(s===e)return!0;const i=Sr(s);if(i!==Sr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return qo(s).isEqual(qo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=br(o.timestampValue),g=br(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Ar(o.bytesValue).isEqual(Ar(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ut(o.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ut(o.integerValue)===Ut(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ut(o.doubleValue),g=Ut(c.doubleValue);return d===g?lh(d)===lh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ml(s.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(B_(d)!==B_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Yi(d[y],g[y])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Fo(s,e){return(s.values||[]).find((i=>Yi(i,e)))!==void 0}function pl(s,e){if(s===e)return 0;const i=Sr(s),a=Sr(e);if(i!==a)return Qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ut(c.integerValue||c.doubleValue),y=Ut(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return q_(s.timestampValue,e.timestampValue);case 4:return q_(qo(s),qo(e));case 5:return hm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Ar(c),y=Ar(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const T=Qe(g[_],y[_]);if(T!==0)return T}return Qe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Qe(Ut(c.latitude),Ut(d.latitude));return g!==0?g:Qe(Ut(c.longitude),Ut(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return G_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[uh]?.arrayValue,T=y[uh]?.arrayValue,w=Qe(_?.values?.length||0,T?.values?.length||0);return w!==0?w:G_(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const M=hm(y[w],T[w]);if(M!==0)return M;const G=pl(g[y[w]],_[T[w]]);if(G!==0)return G}return Qe(y.length,T.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function q_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const i=br(s),a=br(e),o=Qe(i.seconds,a.seconds);return o!==0?o:Qe(i.nanos,a.nanos)}function G_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=pl(i[o],a[o]);if(c)return c}return Qe(i.length,a.length)}function gl(s){return fm(s)}function fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Te.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=fm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${fm(i.fields[d])}`;return o+"}"})(s.mapValue):Ae(61005,{value:s})}function Yc(s){switch(Sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(s);return e?16+Yc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return xr(a.fields,((c,d)=>{o+=c.length+Yc(d)})),o})(s.mapValue);default:throw Ae(13486,{value:s})}}function dm(s){return!!s&&"integerValue"in s}function $m(s){return!!s&&"arrayValue"in s}function F_(s){return!!s&&"nullValue"in s}function Q_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function cR(s){return(s?.mapValue?.fields||{})[H1]?.stringValue===q1}function Uo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return xr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Uo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Uo(s.arrayValue.values[i]);return e}return{...s}}function hR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===uR}class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(i)}setAll(e){let i=hn.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Uo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){xr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Dn(Uo(this.value))}}function G1(s){const e=[];return xr(s.fields,((i,a)=>{const o=new hn([i]);if(Kc(a)){const c=G1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Hn(e)}class gn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new gn(e,0,xe.min(),xe.min(),xe.min(),Dn.empty(),0)}static newFoundDocument(e,i,a,o){return new gn(e,1,i,xe.min(),a,o,0)}static newNoDocument(e,i){return new gn(e,2,i,xe.min(),xe.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new gn(e,3,i,xe.min(),xe.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function Y_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(d.referenceValue),i.key):a=pl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function K_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Yi(s.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function fR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class F1{}class Xt extends F1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new mR(e,i,a):i==="array-contains"?new yR(e,a):i==="in"?new _R(e,a):i==="not-in"?new vR(e,a):i==="array-contains-any"?new ER(e,a):new Xt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new pR(e,a):new gR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(pl(i,this.value)):i!==null&&Sr(this.value)===Sr(i)&&this.matchesComparison(pl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends F1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ki(e,i)}matches(e){return Q1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q1(s){return s.op==="and"}function Y1(s){return dR(s)&&Q1(s)}function dR(s){for(const e of s.filters)if(e instanceof Ki)return!1;return!0}function mm(s){if(s instanceof Xt)return s.field.canonicalString()+s.op.toString()+gl(s.value);if(Y1(s))return s.filters.map((e=>mm(e))).join(",");{const e=s.filters.map((i=>mm(i))).join(",");return`${s.op}(${e})`}}function K1(s,e){return s instanceof Xt?(function(a,o){return o instanceof Xt&&a.op===o.op&&a.field.isEqual(o.field)&&Yi(a.value,o.value)})(s,e):s instanceof Ki?(function(a,o){return o instanceof Ki&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&K1(d,o.filters[g])),!0):!1})(s,e):void Ae(19439)}function X1(s){return s instanceof Xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${gl(i.value)}`})(s):s instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(X1).join(" ,")+"}"})(s):"Filter"}class mR extends Xt{constructor(e,i,a){super(e,i,a),this.key=Te.fromName(a.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class pR extends Xt{constructor(e,i){super(e,"in",i),this.keys=$1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class gR extends Xt{constructor(e,i){super(e,"not-in",i),this.keys=$1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function $1(s,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class yR extends Xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $m(i)&&Fo(i.arrayValue,this.value)}}class _R extends Xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fo(this.value.arrayValue,i)}}class vR extends Xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fo(this.value.arrayValue,i)}}class ER extends Xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Fo(this.value.arrayValue,a)))}}class TR{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function X_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new TR(s,e,i,a,o,c,d)}function Zm(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>mm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),bh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>gl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>gl(a))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!fR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!K1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!K_(s.startAt,e.startAt)&&K_(s.endAt,e.endAt)}function pm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Sh{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bR(s,e,i,a,o,c,d,g){return new Sh(s,e,i,a,o,c,d,g)}function wh(s){return new Sh(s)}function $_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function AR(s){return s.collectionGroup!==null}function Lo(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new $t(hn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,a))})),i.has(hn.keyField().canonicalString())||e.Ie.push(new hh(hn.keyField(),a))}return e.Ie}function qi(s){const e=Ne(s);return e.Ee||(e.Ee=SR(e,Lo(s))),e.Ee}function SR(s,e){if(s.limitType==="F")return X_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new hh(o.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return X_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function gm(s,e,i){return new Sh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rh(s,e){return Jm(qi(s),qi(e))&&s.limitType===e.limitType}function Z1(s){return`${Zm(qi(s))}|lt:${s.limitType}`}function il(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>X1(o))).join(", ")}]`),bh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>gl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>gl(o))).join(",")),`Target(${a})`})(qi(s))}; limitType=${s.limitType})`}function xh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Lo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=Y_(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Lo(a),o)||a.endAt&&!(function(d,g,y){const _=Y_(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Lo(a),o))})(s,e)}function wR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function J1(s){return(e,i)=>{let a=!1;for(const o of Lo(s)){const c=RR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function RR(s,e,i){const a=s.field.isKeyField()?Te.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?pl(y,_):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:s.dir})}}class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return U1(this.inner)}size(){return this.innerSize}}const xR=new Ct(Te.comparator);function ws(){return xR}const W1=new Ct(Te.comparator);function No(...s){let e=W1;for(const i of s)e=e.insert(i.key,i);return e}function eE(s){let e=W1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function aa(){return Po()}function tE(){return Po()}function Po(){return new da((s=>s.toString()),((s,e)=>s.isEqual(e)))}const IR=new Ct(Te.comparator),CR=new $t(Te.comparator);function Ye(...s){let e=CR;for(const i of s)e=e.add(i);return e}const NR=new $t(Qe);function DR(){return NR}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function nE(s){return{integerValue:""+s}}function iE(s,e){return sR(e)?nE(e):Wm(s,e)}class Ih{constructor(){this._=void 0}}function OR(s,e,i){return s instanceof fh?(function(o,c){const d={fields:{[j1]:{stringValue:P1},[B1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Xm(c)&&(c=Ah(c)),c&&(d.fields[z1]=c),{mapValue:d}})(i,e):s instanceof yl?rE(s,e):s instanceof Qo?aE(s,e):(function(o,c){const d=sE(o,c),g=Z_(d)+Z_(o.Ae);return dm(d)&&dm(o.Ae)?nE(g):Wm(o.serializer,g)})(s,e)}function MR(s,e,i){return s instanceof yl?rE(s,e):s instanceof Qo?aE(s,e):i}function sE(s,e){return s instanceof Yo?(function(a){return dm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class fh extends Ih{}class yl extends Ih{constructor(e){super(),this.elements=e}}function rE(s,e){const i=lE(e);for(const a of s.elements)i.some((o=>Yi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Qo extends Ih{constructor(e){super(),this.elements=e}}function aE(s,e){let i=lE(e);for(const a of s.elements)i=i.filter((o=>!Yi(o,a)));return{arrayValue:{values:i}}}class Yo extends Ih{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z_(s){return Ut(s.integerValue||s.doubleValue)}function lE(s){return $m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class oE{constructor(e,i){this.field=e,this.transform=i}}function VR(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof yl&&o instanceof yl||a instanceof Qo&&o instanceof Qo?ml(a.elements,o.elements,Yi):a instanceof Yo&&o instanceof Yo?Yi(a.Ae,o.Ae):a instanceof fh&&o instanceof fh})(s.transform,e.transform)}class kR{constructor(e,i){this.version=e,this.transformResults=i}}class yi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function uE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ep(s.key,yi.none()):new su(s.key,s.data,yi.none());{const i=s.data,a=Dn.empty();let o=new $t(hn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Ir(s.key,a,new Hn(o.toArray()),yi.none())}}function UR(s,e,i){s instanceof su?(function(o,c,d){const g=o.value.clone(),y=W_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Ir?(function(o,c,d){if(!Xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=W_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(cE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function jo(s,e,i,a){return s instanceof su?(function(c,d,g,y){if(!Xc(c.precondition,d))return g;const _=c.value.clone(),T=ev(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Ir?(function(c,d,g,y){if(!Xc(c.precondition,d))return g;const _=ev(c.fieldTransforms,y,d),T=d.data;return T.setAll(cE(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,g){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function LR(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=sE(a.transform,o||null);c!=null&&(i===null&&(i=Dn.empty()),i.set(a.field,c))}return i||null}function J_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ml(a,o,((c,d)=>VR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class su extends Ch{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ir extends Ch{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function W_(s,e,i){const a=new Map;rt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,MR(d,g,i[o]))}return a}function ev(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,OR(c,d,e))}return a}class ep extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PR extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&UR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=jo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=jo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=tE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=uE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((i,a)=>J_(i,a)))&&ml(this.baseMutations,e.baseMutations,((i,a)=>J_(i,a)))}}class tp{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){rt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return IR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new tp(e,i,a,o)}}class zR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Ze;function HR(s){switch(s){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function hE(s){if(s===void 0)return Ss("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ft.OK:return J.OK;case Ft.CANCELLED:return J.CANCELLED;case Ft.UNKNOWN:return J.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return J.INTERNAL;case Ft.UNAVAILABLE:return J.UNAVAILABLE;case Ft.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ft.NOT_FOUND:return J.NOT_FOUND;case Ft.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ft.ABORTED:return J.ABORTED;case Ft.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ft.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:s})}}(Ze=Ft||(Ft={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function qR(){return new TextEncoder}const GR=new _r([4294967295,4294967295],0);function tv(s){const e=qR().encode(s),i=new R1;return i.update(e),new Uint8Array(i.digest())}function nv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _r([i,a],0),new _r([o,c],0)]}class np{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Do(`Invalid padding: ${i}`);if(a<0)throw new Do(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Do(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=_r.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(_r.fromNumber(a)));return o.compare(GR)===1&&(o=new _r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=tv(e),[a,o]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new np(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=tv(e),[a,o]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Nh(xe.min(),o,new Ct(Qe),ws(),Ye())}}class ru{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ru(a,i,Ye(),Ye(),Ye())}}class $c{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class fE{constructor(e,i){this.targetId=e,this.Ce=i}}class dE{constructor(e,i,a=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class iv{constructor(){this.ve=0,this.Fe=sv(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),i=Ye(),a=Ye();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ae(38017,{changeType:c})}})),new ru(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=sv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.Je=jc(),this.He=jc(),this.Ye=new Ct(Qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(pm(c))if(a===0){const d=new Te(c.path);this.et(i,d,gn.newNoDocument(d,xe.min()))}else rt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Ar(a).toUint8Array()}catch(y){if(y instanceof L1)return dl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new np(d,o,c)}catch(y){return dl(y instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&pm(g.target)){const y=new Te(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,gn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ye();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Nh(e,i,this.Ye,this.je,a);return this.je=ws(),this.Je=jc(),this.He=jc(),this.Ye=new Ct(Qe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new iv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new $t(Qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new $t(Qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||he("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new Ct(Te.comparator)}function sv(){return new Ct(Te.comparator)}const QR={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KR={and:"AND",or:"OR"};class XR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(s,e){return s.useProto3Json||bh(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function $R(s,e){return dh(s,e.toTimestamp())}function Gi(s){return rt(!!s,49232),xe.fromTimestamp((function(i){const a=br(i);return new St(a.seconds,a.nanos)})(s))}function ip(s,e){return _m(s,e).canonicalString()}function _m(s,e){const i=(function(o){return new It(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function pE(s){const e=It.fromString(s);return rt(EE(e),10190,{key:e.toString()}),e}function vm(s,e){return ip(s.databaseId,e.path)}function Xd(s,e){const i=pE(e);if(i.get(1)!==s.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Te(yE(i))}function gE(s,e){return ip(s.databaseId,e)}function ZR(s){const e=pE(s);return e.length===4?It.emptyPath():yE(e)}function Em(s){return new It(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function yE(s){return rt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function rv(s,e,i){return{name:vm(s,e),fields:i.value.mapValue.fields}}function JR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(rt(T===void 0||typeof T=="string",58123),fn.fromBase64String(T||"")):(rt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),fn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?J.UNKNOWN:hE(_.code);return new pe(T,_.message||"")})(d);i=new dE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Xd(s,a.document.name),c=Gi(a.document.updateTime),d=a.document.createTime?Gi(a.document.createTime):xe.min(),g=new Dn({mapValue:{fields:a.document.fields}}),y=gn.newFoundDocument(o,c,d,g),_=a.targetIds||[],T=a.removedTargetIds||[];i=new $c(_,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Xd(s,a.document),c=a.readTime?Gi(a.readTime):xe.min(),d=gn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new $c([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Xd(s,a.document),c=a.removedTargetIds||[];i=new $c([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new BR(o,c),g=a.targetId;i=new fE(g,d)}}return i}function WR(s,e){let i;if(e instanceof su)i={update:rv(s,e.key,e.value)};else if(e instanceof ep)i={delete:vm(s,e.key)};else if(e instanceof Ir)i={update:rv(s,e.key,e.data),updateMask:ox(e.fieldMask)};else{if(!(e instanceof PR))return Ae(16599,{Vt:e.type});i={verify:vm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:$R(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function ex(s,e){return s&&s.length>0?(rt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Gi(o.updateTime):Gi(c);return d.isEqual(xe.min())&&(d=Gi(c)),new kR(d,o.transformResults||[])})(i,e)))):[]}function tx(s,e){return{documents:[gE(s,e.path)]}}function nx(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=gE(s,o);const c=(function(_){if(_.length!==0)return vE(Ki.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(M){return{field:sl(M.field),direction:rx(M.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ym(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function ix(s){let e=ZR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){rt(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(w){const M=_E(w);return M instanceof Ki&&Y1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(se){return new hh(rl(se.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(se.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,bh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,G=w.values||[];return new ch(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,G=w.values||[];return new ch(G,M)})(i.endAt)),bR(e,o,d,c,g,"F",y,_)}function sx(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function _E(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=rl(i.unaryFilter.field);return Xt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=rl(i.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=rl(i.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=rl(i.unaryFilter.field);return Xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Xt.create(rl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((a=>_E(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function rx(s){return QR[s]}function ax(s){return YR[s]}function lx(s){return KR[s]}function sl(s){return{fieldPath:s.canonicalString()}}function rl(s){return hn.fromServerFormat(s.fieldPath)}function vE(s){return s instanceof Xt?(function(i){if(i.op==="=="){if(Q_(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q_(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(i.field),op:ax(i.op),value:i.value}}})(s):s instanceof Ki?(function(i){const a=i.getFilters().map((o=>vE(o)));return a.length===1?a[0]:{compositeFilter:{op:lx(i.op),filters:a}}})(s):Ae(54877,{filter:s})}function ox(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function EE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class mr{constructor(e,i,a,o,c=xe.min(),d=xe.min(),g=fn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ux{constructor(e){this.yt=e}}function cx(s){const e=ix({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(e,e.limit,"L"):e}class hx{constructor(){this.Cn=new fx}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Tr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class fx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new $t(It.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new $t(It.comparator)).toArray()}}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TE=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(TE,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}const lv="LruGarbageCollector",dx=1048576;function ov([s,e],[i,a]){const o=Qe(s,i);return o===0?Qe(e,a):o}class mx{constructor(e){this.Ir=e,this.buffer=new $t(ov),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ov(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class px{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wl(i)?he(lv,"Ignoring IndexedDB error during garbage collection: ",i):await Sl(i)}await this.Vr(3e5)}))}}class gx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Th.ce);const a=new mx(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(av)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,y,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),nl()<=Fe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function yx(s,e){return new gx(s,e)}class _x{constructor(){this.changes=new da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Ex{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&jo(a.mutation,o,Hn.empty(),St.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ye()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ye()){const o=aa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=No();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=aa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ye())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=ws();const d=Po(),g=(function(){return Po()})();return i.forEach(((y,_)=>{const T=a.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Ir)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),jo(T.mutation,_,T.mutation.getFieldMask(),St.now())):d.set(_.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new vx(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Po();let o=new Ct(((d,g)=>d-g)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=a.get(y)||Hn.empty();T=g.applyToLocalView(_,T),a.set(y,T);const w=(o.get(g.batchId)||Ye()).add(y);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,T=y.value,w=tE();T.forEach((M=>{if(!c.has(M)){const G=uE(i.get(M),a.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):AR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(aa());let g=Ho,y=c;return d.next((_=>$.forEach(_,((T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((M=>{y=y.insert(T,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Ye()))).next((T=>({batchId:g,changes:eE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((a=>{let o=No();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=No();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(y=>{const _=(function(w,M){return new Sh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((T=>{T.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,gn.newInvalidDocument(T)))}));let g=No();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&jo(T.mutation,_,Hn.empty(),St.now()),xh(i,_)&&(g=g.insert(y,_))})),g}))}}class Tx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Gi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:cx(o.bundledQuery),readTime:Gi(o.readTime)}})(i)),$.resolve()}}class bx{constructor(){this.overlays=new Ct(Te.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=aa();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=aa(),c=i.length+1,d=new Te(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new Ct(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let T=c.get(_.largestBatchId);T===null&&(T=aa(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=aa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=o)););return $.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new zR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ye(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Ax{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class sp{constructor(){this.Qr=new $t(nn.$r),this.Ur=new $t(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new nn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new nn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Te(new It([])),a=new nn(i,e),o=new nn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Te(new It([])),a=new nn(i,e),o=new nn(i,e+1);let c=Ye();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Te.comparator(e.key,i.key)||Qe(e.Yr,i.Yr)}static Kr(e,i){return Qe(e.Yr,i.Yr)||Te.comparator(e.key,i.key)}}class Sx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $t(nn.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new nn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new $t(Qe);return i.forEach((o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const d=new nn(new Te(c),0);let g=new $t(Qe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){rt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new nn(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class wx{constructor(e){this.ri=e,this.docs=(function(){return new Ct(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(e,i){let a=ws();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():gn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ws();const d=i.path,g=new Te(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||eR(W2(T),a)<=0||(o.has(T.key)||xh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ae(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Rx(this)}getSize(e){return $.resolve(this.size)}}class Rx extends _x{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class xx{constructor(e){this.persistence=e,this.si=new da((i=>Zm(i)),Jm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new sp,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new _l(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class bE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new Ax,this.referenceDelegate=e(this),this.Pi=new xx(this),this.indexManager=new hx,this.remoteDocumentCache=(function(o){return new wx(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new ux(i),this.Ii=new Tx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new bx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Sx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){he("MemoryPersistence","Starting transaction:",e);const o=new Ix(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Ix extends nR{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Ri=new sp,this.Vi=null}static mi(e){return new rp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=Te.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class mh{constructor(e,i){this.persistence=e,this.pi=new da((a=>rR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=yx(this,i)}static mi(e,i){return new mh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ap{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ye(),o=Ye();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ap(e,i.fromCache,a,o)}}class Cx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Nx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _A()?8:iR(yn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Cx;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(nl()<=Fe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",il(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(nl()<=Fe.DEBUG&&he("QueryEngine","Query:",il(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(nl()<=Fe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",il(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):$.resolve())}ys(e,i){if($_(i))return $.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=gm(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ye(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,gm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return $_(i)||o.isEqual(xe.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(nl()<=Fe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),il(i)),this.vs(e,d,i,J2(o,Ho)).next((g=>g)))}))}Ds(e,i){let a=new $t(J1(e));return i.forEach(((o,c)=>{xh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return nl()<=Fe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",il(i)),this.ps.getDocumentsMatchingQuery(e,i,Tr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const lp="LocalStore",Dx=3e8;class Ox{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Ct(Qe),this.xs=new da((c=>Zm(c)),Jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ex(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Mx(s,e,i,a){return new Ox(s,e,i,a)}async function AE(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Ye();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Vx(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,T){const w=_.batch,M=w.keys();let G=$.resolve();return M.forEach((se=>{G=G.next((()=>T.getEntry(y,se))).next((ae=>{const ie=_.docVersions.get(se);rt(ie!==null,48541),ae.version.compareTo(ie)<0&&(w.applyToRemoteDocument(ae,_),ae.isValidDocument()&&(ae.setReadTime(_.commitVersion),T.addEntry(ae)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Ye();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function SE(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function kx(s,e){const i=Ne(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((T,w)=>{const M=o.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(fn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,a)),o=o.insert(w,G),(function(ae,ie,ve){return ae.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=Dx?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0})(M,G,T)&&g.push(i.Pi.updateTargetData(c,G))}));let y=ws(),_=Ye();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(Ux(c,d,e.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!a.isEqual(xe.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function Ux(s,e,i){let a=Ye(),o=Ye();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ws();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(xe.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):he(lp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function Lx(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Px(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new mr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Tm(s,e,i){const a=Ne(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!wl(d))throw d;he(lp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function uv(s,e,i){const a=Ne(s);let o=xe.min(),c=Ye();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const w=Ne(y),M=w.xs.get(T);return M!==void 0?$.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,T)})(a,d,qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:Ye()))).next((g=>(jx(a,wR(e),g),{documents:g,Qs:c})))))}function jx(s,e,i){let a=s.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class cv{constructor(){this.activeTargetIds=DR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zx{constructor(){this.Mo=new cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bx{Oo(e){}shutdown(){}}const hv="ConnectivityMonitor";class fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(hv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function bm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const $d="RestConnection",Hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===oh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=bm(),g=this.zo(e,i.toUriEncodedString());he($d,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),T=El(_);return this.Jo(e,g,y,a,T).then((w=>(he($d,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw dl($d,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=Hx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Gx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mn="WebChannelConnection";class Fx extends qx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=bm();return new Promise(((g,y)=>{const _=new x1;_.setWithCredentials(!0),_.listenOnce(I1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const w=_.getResponseJson();he(mn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Qc.TIMEOUT:he(mn,`RPC '${e}' ${d} timed out`),y(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const M=_.getStatus();if(he(mn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const se=G?.error;if(se&&se.status&&se.message){const ae=(function(ve){const Re=ve.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Re)>=0?Re:J.UNKNOWN})(se.status);y(new pe(ae,se.message))}else y(new pe(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{he(mn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);he(mn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=bm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=D1(),g=N1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const T=c.join("");he(mn,`Creating RPC '${e}' stream ${o}: ${T}`,y);const w=d.createWebChannel(T,y);this.I_(w);let M=!1,G=!1;const se=new Gx({Yo:ie=>{G?he(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,ie):(M||(he(mn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),he(mn,`RPC '${e}' stream ${o} sending:`,ie),w.send(ie))},Zo:()=>w.close()}),ae=(ie,ve,Re)=>{ie.listen(ve,(Ee=>{try{Re(Ee)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return ae(w,Co.EventType.OPEN,(()=>{G||(he(mn,`RPC '${e}' stream ${o} transport opened.`),se.o_())})),ae(w,Co.EventType.CLOSE,(()=>{G||(G=!0,he(mn,`RPC '${e}' stream ${o} transport closed`),se.a_(),this.E_(w))})),ae(w,Co.EventType.ERROR,(ie=>{G||(G=!0,dl(mn,`RPC '${e}' stream ${o} transport errored. Name:`,ie.name,"Message:",ie.message),se.a_(new pe(J.UNAVAILABLE,"The operation could not be completed")))})),ae(w,Co.EventType.MESSAGE,(ie=>{if(!G){const ve=ie.data[0];rt(!!ve,16349);const Re=ve,Ee=Re?.error||Re[0]?.error;if(Ee){he(mn,`RPC '${e}' stream ${o} received error:`,Ee);const tt=Ee.status;let ht=(function(S){const x=Ft[S];if(x!==void 0)return hE(x)})(tt),Ke=Ee.message;ht===void 0&&(ht=J.INTERNAL,Ke="Unknown error status: "+tt+" with message "+Ee.message),G=!0,se.a_(new pe(ht,Ke)),w.close()}else he(mn,`RPC '${e}' stream ${o} received:`,ve),se.u_(ve)}})),ae(g,C1.STAT_EVENT,(ie=>{ie.stat===cm.PROXY?he(mn,`RPC '${e}' stream ${o} detected buffering proxy`):ie.stat===cm.NOPROXY&&he(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{se.__()}),0),se}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zd(){return typeof document<"u"?document:null}function Dh(s){return new XR(s,!0)}class wE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const dv="PersistentStream";class RE{constructor(e,i,a,o,c,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ss(i.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(he(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qx extends RE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=JR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Gi(d.readTime):xe.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=pm(y)?{documents:tx(c,y)}:{query:nx(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=mE(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(xe.min())>0){g.readTime=dh(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=sx(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Em(this.serializer),i.removeTarget=e,this.q_(i)}}class Yx extends RE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ex(e.writeResults,e.commitTime),a=Gi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Em(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>WR(this.serializer,a)))};this.q_(i)}}class Kx{}class Xx extends Kx{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,_m(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,_m(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $x{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(i),this.aa=!1):he("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class Zx{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ma(this)&&(he(ha,"Restarting streams for network reachability change."),await(async function(y){const _=Ne(y);_.Ea.add(4),await au(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Oh(_)})(this))}))})),this.Ra=new $x(a,o)}}async function Oh(s){if(ma(s))for(const e of s.da)await e(!0)}async function au(s){for(const e of s.da)await e(!1)}function xE(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hp(i)?cp(i):Rl(i).O_()&&up(i,e))}function op(s,e){const i=Ne(s),a=Rl(i);i.Ia.delete(e),a.O_()&&IE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ma(i)&&i.Ra.set("Unknown"))}function up(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rl(s).Y_(e)}function IE(s,e){s.Va.Ue(e),Rl(s).Z_(e)}function cp(s){s.Va=new FR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Rl(s).start(),s.Ra.ua()}function hp(s){return ma(s)&&!Rl(s).x_()&&s.Ia.size>0}function ma(s){return Ne(s).Ea.size===0}function CE(s){s.Va=void 0}async function Jx(s){s.Ra.set("Online")}async function Wx(s){s.Ia.forEach(((e,i)=>{up(s,e)}))}async function eI(s,e){CE(s),hp(s)?(s.Ra.ha(e),cp(s)):s.Ra.set("Unknown")}async function tI(s,e,i){if(s.Ra.set("Online"),e instanceof dE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){he(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ph(s,a)}else if(e instanceof $c?s.Va.Ze(e):e instanceof fE?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const a=await SE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(fn.EMPTY_BYTE_STRING,T.snapshotVersion)),IE(c,y);const w=new mr(T.target,y,_,T.sequenceNumber);up(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){he(ha,"Failed to raise snapshot:",a),await ph(s,a)}}async function ph(s,e,i){if(!wl(e))throw e;s.Ea.add(1),await au(s),s.Ra.set("Offline"),i||(i=()=>SE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he(ha,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Oh(s)}))}function NE(s,e){return e().catch((i=>ph(s,i,e)))}async function Mh(s){const e=Ne(s),i=wr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;nI(e);)try{const o=await Lx(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,iI(e,o)}catch(o){await ph(e,o)}DE(e)&&OE(e)}function nI(s){return ma(s)&&s.Ta.length<10}function iI(s,e){s.Ta.push(e);const i=wr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function DE(s){return ma(s)&&!wr(s).x_()&&s.Ta.length>0}function OE(s){wr(s).start()}async function sI(s){wr(s).ra()}async function rI(s){const e=wr(s);for(const i of s.Ta)e.ea(i.mutations)}async function aI(s,e,i){const a=s.Ta.shift(),o=tp.from(a,e,i);await NE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Mh(s)}async function lI(s,e){e&&wr(s).X_&&await(async function(a,o){if((function(d){return HR(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();wr(a).B_(),await NE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Mh(a)}})(s,e),DE(s)&&OE(s)}async function mv(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),he(ha,"RemoteStore received new credentials");const a=ma(i);i.Ea.add(3),await au(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Oh(i)}async function oI(s,e){const i=Ne(s);e?(i.Ea.delete(2),await Oh(i)):e||(i.Ea.add(2),await au(i),i.Ra.set("Unknown"))}function Rl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ne(i);return c.sa(),new Qx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:Jx.bind(null,s),t_:Wx.bind(null,s),r_:eI.bind(null,s),H_:tI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),hp(s)?cp(s):s.Ra.set("Unknown")):(await s.ma.stop(),CE(s))}))),s.ma}function wr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ne(i);return c.sa(),new Yx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:sI.bind(null,s),r_:lI.bind(null,s),ta:rI.bind(null,s),na:aI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(he(ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new fp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(s,e){if(Ss("AsyncQueue",`${e}: ${s}`),wl(s))return new pe(J.UNAVAILABLE,`${e}: ${s}`);throw s}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Te.comparator(i.key,a.key):(i,a)=>Te.comparator(i.key,a.key),this.keyedMap=No(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class pv{constructor(){this.ga=new Ct(Te.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class vl{constructor(e,i,a,o,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new vl(e,i,cl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class uI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cI{constructor(){this.queries=gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ne(i),c=o.queries;o.queries=gv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function gv(){return new da((s=>Z1(s)),Rh)}async function ME(s,e){const i=Ne(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new uI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=dp(d,`Initialization of query '${il(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&mp(i)}async function VE(s,e){const i=Ne(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function hI(s,e){const i=Ne(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&mp(i)}function fI(s,e,i){const a=Ne(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function mp(s){s.Ca.forEach((e=>{e.next()}))}var Am,yv;(yv=Am||(Am={})).Ma="default",yv.Cache="cache";class kE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new vl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class UE{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class dI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=J1(e),this.tu=new cl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new pv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,w)=>{const M=o.get(T),G=xh(this.query,w)?w:null,se=!!M&&this.mutatedKeys.has(M.key),ae=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ie=!1;M&&G?M.data.isEqual(G.data)?se!==ae&&(a.track({type:3,doc:G}),ie=!0):this.su(M,G)||(a.track({type:2,doc:G}),ie=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(g=!0)):!M&&G?(a.track({type:0,doc:G}),ie=!0):M&&!G&&(a.track({type:1,doc:M}),ie=!0,(y||_)&&(g=!0)),ie&&(G?(d=d.add(G),c=ae?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,w)=>(function(G,se){const ae=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:ie})}};return ae(G)-ae(se)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new vl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new LE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new UE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ye();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pp="SyncEngine";class mI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class pI{constructor(e){this.key=e,this.hu=!1}}class gI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((g=>Z1(g)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(Te.comparator),this.Au=new Map,this.Ru=new sp,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yI(s,e,i=!0){const a=qE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await PE(a,e,i,!0),o}async function _I(s,e){const i=qE(s);await PE(i,e,!0,!1)}async function PE(s,e,i,a){const o=await Px(s.localStore,qi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await vI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&xE(s.remoteStore,o),g}async function vI(s,e,i,a,o){s.pu=(w,M,G)=>(async function(ae,ie,ve,Re){let Ee=ie.view.ru(ve);Ee.Cs&&(Ee=await uv(ae.localStore,ie.query,!1).then((({documents:C})=>ie.view.ru(C,Ee))));const tt=Re&&Re.targetChanges.get(ie.targetId),ht=Re&&Re.targetMismatches.get(ie.targetId)!=null,Ke=ie.view.applyChanges(Ee,ae.isPrimaryClient,tt,ht);return vv(ae,ie.targetId,Ke.au),Ke.snapshot})(s,w,M,G);const c=await uv(s.localStore,e,!0),d=new dI(e,c.Qs),g=d.ru(c.documents),y=ru.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);vv(s,i,_.au);const T=new mI(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function EI(s,e,i){const a=Ne(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Rh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Tm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&op(a.remoteStore,o.targetId),Sm(a,o.targetId)})).catch(Sl)):(Sm(a,o.targetId),await Tm(a.localStore,o.targetId,!0))}async function TI(s,e){const i=Ne(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),op(i.remoteStore,a.targetId))}async function bI(s,e,i){const a=CI(s);try{const o=await(function(d,g){const y=Ne(d),_=St.now(),T=g.reduce(((G,se)=>G.add(se.key)),Ye());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let se=ws(),ae=Ye();return y.Ns.getEntries(G,T).next((ie=>{se=ie,se.forEach(((ve,Re)=>{Re.isValidDocument()||(ae=ae.add(ve))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,se))).next((ie=>{w=ie;const ve=[];for(const Re of g){const Ee=LR(Re,w.get(Re.key).overlayedDocument);Ee!=null&&ve.push(new Ir(Re.key,Ee,G1(Ee.value.mapValue),yi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,ve,g)})).next((ie=>{M=ie;const ve=ie.applyToLocalDocumentSet(w,ae);return y.documentOverlayCache.saveOverlays(G,ie.batchId,ve)}))})).then((()=>({batchId:M.batchId,changes:eE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ct(Qe)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await lu(a,o.changes),await Mh(a.remoteStore)}catch(o){const c=dp(o,"Failed to persist write");i.reject(c)}}async function jE(s,e){const i=Ne(s);try{const a=await kx(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?rt(d.hu,14607):o.removedDocuments.size>0&&(rt(d.hu,42227),d.hu=!1))})),await lu(i,a,e)}catch(a){await Sl(a)}}function _v(s,e,i){const a=Ne(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Ne(d);y.onlineState=g;let _=!1;y.queries.forEach(((T,w)=>{for(const M of w.Sa)M.va(g)&&(_=!0)})),_&&mp(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AI(s,e,i){const a=Ne(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new Ct(Te.comparator);d=d.insert(c,gn.newNoDocument(c,xe.min()));const g=Ye().add(c),y=new Nh(xe.min(),new Map,new Ct(Qe),d,g);await jE(a,y),a.du=a.du.remove(c),a.Au.delete(e),gp(a)}else await Tm(a.localStore,e,!1).then((()=>Sm(a,e,i))).catch(Sl)}async function SI(s,e){const i=Ne(s),a=e.batch.batchId;try{const o=await Vx(i.localStore,e);BE(i,a,null),zE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await lu(i,o)}catch(o){await Sl(o)}}async function wI(s,e,i){const a=Ne(s);try{const o=await(function(d,g){const y=Ne(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(rt(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);BE(a,e,i),zE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await lu(a,o)}catch(o){await Sl(o)}}function zE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function BE(s,e,i){const a=Ne(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Sm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||HE(s,a)}))}function HE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(op(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),gp(s))}function vv(s,e,i){for(const a of i)a instanceof UE?(s.Ru.addReference(a.key,e),RI(s,a)):a instanceof LE?(he(pp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||HE(s,a.key)):Ae(19791,{wu:a})}function RI(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(he(pp,"New document in limbo: "+i),s.Eu.add(a),gp(s))}function gp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Te(It.fromString(e)),a=s.fu.next();s.Au.set(a,new pI(i)),s.du=s.du.insert(i,a),xE(s.remoteStore,new mr(qi(wh(i.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function lu(s,e,i){const a=Ne(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){o.push(_);const T=ap.As(y.targetId,_);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const T=Ne(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(_,(M=>$.forEach(M.Es,(G=>T.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>$.forEach(M.ds,(G=>T.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!wl(w))throw w;he(lp,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const G=T.Ms.get(M),se=G.snapshotVersion,ae=G.withLastLimboFreeSnapshotVersion(se);T.Ms=T.Ms.insert(M,ae)}}})(a.localStore,c))}async function xI(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){he(pp,"User change. New user:",e.toKey());const a=await AE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new pe(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await lu(i,a.Ls)}}function II(s,e){const i=Ne(s),a=i.Au.get(e);if(a&&a.hu)return Ye().add(a.key);{let o=Ye();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function qE(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=II.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AI.bind(null,e),e.Pu.H_=hI.bind(null,e.eventManager),e.Pu.yu=fI.bind(null,e.eventManager),e}function CI(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wI.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Mx(this.persistence,new Nx,e.initialUser,this.serializer)}Cu(e){return new bE(rp.mi,this.serializer)}Du(e){return new zx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class NI extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){rt(this.persistence.referenceDelegate instanceof mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new px(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new bE((a=>mh.mi(a,i)),this.serializer)}}class wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>_v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xI.bind(null,this.syncEngine),await oI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cI})()}createDatastore(e){const i=Dh(e.databaseInfo.databaseId),a=(function(c){return new Fx(c)})(e.databaseInfo);return(function(c,d,g,y){return new Xx(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new Zx(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return fv.v()?new fv:new Bx})())}createSyncEngine(e,i){return(function(o,c,d,g,y,_,T){const w=new gI(o,c,d,g,y,_);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);he(ha,"RemoteStore shutting down."),a.Ea.add(5),await au(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class GE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Rr="FirestoreClient";class DI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{he(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(he(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=dp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),he(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await AE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Ev(s,e){s.asyncQueue.verifyOperationInProgress();const i=await OI(s);he(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>mv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>mv(e.remoteStore,o))),s._onlineComponents=e}async function OI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(Rr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;dl("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new gh)}}else he(Rr,"Using default OfflineComponentProvider"),await Jd(s,new NI(void 0));return s._offlineComponents}async function FE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(Rr,"Using user provided OnlineComponentProvider"),await Ev(s,s._uninitializedComponentsProvider._online)):(he(Rr,"Using default OnlineComponentProvider"),await Ev(s,new wm))),s._onlineComponents}function MI(s){return FE(s).then((e=>e.syncEngine))}async function Rm(s){const e=await FE(s),i=e.eventManager;return i.onListen=yI.bind(null,e.syncEngine),i.onUnlisten=EI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=_I.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=TI.bind(null,e.syncEngine),i}function VI(s,e,i={}){const a=new vr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const T=new GE({next:M=>{T.Nu(),d.enqueueAndForget((()=>VE(c,w)));const G=M.docs.has(g);!G&&M.fromCache?_.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&y&&y.source==="server"?_.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new kE(wh(g.path),T,{includeMetadataChanges:!0,qa:!0});return ME(c,w)})(await Rm(s),s.asyncQueue,e,i,a))),a.promise}function QE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Tv=new Map;const YE="firestore.googleapis.com",bv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YE,this.ssl=bv}else this.host=e.host,this.ssl=e.ssl??bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dx)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new z2;switch(a.type){case"firstParty":return new G2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Tv.get(i);a&&(he("ComponentProvider","Removing Datastore"),Tv.delete(i),a.terminate())})(this),Promise.resolve()}}function kI(s,e,i,a={}){s=gi(s,yp);const o=El(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Bv(`https://${g}`),Hv("Firestore",!0)),c.host!==YE&&c.host!==g&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!Er(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=pn.MOCK_USER;else{_=uA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new pn(w)}s._authCredentials=new B2(new M1(_,T))}}class Vh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Vh(this.firestore,e,this._query)}}class Yt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(iu(i,Yt._jsonSchema))return new Yt(e,a||null,new Te(It.fromString(i.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Qt("string",Yt._jsonSchemaVersion),referencePath:Qt("string")};class Ko extends Vh{constructor(e,i,a){super(e,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Te(e))}withConverter(e){return new Ko(this.firestore,e,this._path)}}function en(s,e,...i){if(s=Tn(s),arguments.length===1&&(e=Qm.newId()),$2("doc","path",e),s instanceof yp){const a=It.fromString(e,...i);return L_(a),new Yt(s,null,new Te(a))}{if(!(s instanceof Yt||s instanceof Ko))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(It.fromString(e,...i));return L_(a),new Yt(s.firestore,s instanceof Ko?s.converter:null,new Te(a))}}const Sv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wE(this,"async_queue_retry"),this._c=()=>{const a=Zd();a&&he(Sv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;he(Sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",Rv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=fp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Rv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function xv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class fa extends yp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function UI(s,e){const i=typeof s=="object"?s:Qv(),a=typeof s=="string"?s:oh,o=Um(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=lA("firestore");c&&kI(o,...c)}return o}function _p(s){if(s._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||LI(s),s._firestoreClient}function LI(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new oR(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,QE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new DI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(fn.fromBase64String(e))}catch(i){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ni(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Qt("string",ni._jsonSchemaVersion),bytes:Qt("string")};class kh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ou{constructor(e){this._methodName=e}}class Fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Qt("string",Fi._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class Qi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Qi(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Qt("string",Qi._jsonSchemaVersion),vectorValues:Qt("object")};const PI=/^__.*__$/;class jI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new su(e,this.data,i,this.fieldTransforms)}}class KE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function XE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Uh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XE(this.Ac)&&PI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Dh(e)}Cc(e,i,a,o=!1){return new Uh({Ac:e,methodName:i,Dc:a,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $E(s){const e=s._freezeSettings(),i=Dh(s._databaseId);return new zI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function BI(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Tp("Data must be an object, but it was:",d,a);const g=ZE(a,d);let y,_;if(c.merge)y=new Hn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const M=xm(e,w,i);if(!d.contains(M))throw new pe(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);WE(T,M)||T.push(M)}y=new Hn(T),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new jI(new Dn(g),y,_)}class Lh extends ou{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function HI(s,e,i){return new Uh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vp extends ou{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=HI(this,e,!0),a=this.vc.map((c=>uu(c,i))),o=new yl(a);return new oE(e.path,o)}isEqual(e){return e instanceof vp&&Er(this.vc,e.vc)}}class Ep extends ou{constructor(e,i){super(e),this.Fc=i}_toFieldTransform(e){const i=new Yo(e.serializer,iE(e.serializer,this.Fc));return new oE(e.path,i)}isEqual(e){return e instanceof Ep&&this.Fc===e.Fc}}function qI(s,e,i,a){const o=s.Cc(1,e,i);Tp("Data must be an object, but it was:",o,a);const c=[],d=Dn.empty();xr(a,((y,_)=>{const T=bp(e,y,i);_=Tn(_);const w=o.yc(T);if(_ instanceof Lh)c.push(T);else{const M=uu(_,w);M!=null&&(c.push(T),d.set(T,M))}}));const g=new Hn(c);return new KE(d,g,o.fieldTransforms)}function GI(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[xm(e,a,i)],y=[o];if(c.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(xm(e,c[M])),y.push(c[M+1]);const _=[],T=Dn.empty();for(let M=g.length-1;M>=0;--M)if(!WE(_,g[M])){const G=g[M];let se=y[M];se=Tn(se);const ae=d.yc(G);if(se instanceof Lh)_.push(G);else{const ie=uu(se,ae);ie!=null&&(_.push(G),T.set(G,ie))}}const w=new Hn(_);return new KE(T,w,d.fieldTransforms)}function uu(s,e){if(JE(s=Tn(s)))return Tp("Unsupported field value:",e,s),ZE(s,e);if(s instanceof ou)return(function(a,o){if(!XE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=uu(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return iE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=St.fromDate(a);return{timestampValue:dh(o.serializer,c)}}if(a instanceof St){const c=new St(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:dh(o.serializer,c)}}if(a instanceof Fi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ni)return{bytesValue:mE(o.serializer,a._byteString)};if(a instanceof Yt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ip(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Qi)return(function(d,g){return{mapValue:{fields:{[H1]:{stringValue:q1},[uh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Wm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Ym(a)}`)})(s,e)}function ZE(s,e){const i={};return U1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(s,((a,o)=>{const c=uu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function JE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof St||s instanceof Fi||s instanceof ni||s instanceof Yt||s instanceof ou||s instanceof Qi)}function Tp(s,e,i){if(!JE(i)||!V1(i)){const a=Ym(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function xm(s,e,i){if((e=Tn(e))instanceof kh)return e._internalPath;if(typeof e=="string")return bp(s,e);throw yh("Field path arguments must be of type string or ",s,!1,void 0,i)}const FI=new RegExp("[~\\*/\\[\\]]");function bp(s,e,i){if(e.search(FI)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new kh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function yh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new pe(J.INVALID_ARGUMENT,g+s+y)}function WE(s,e){return s.some((i=>i.isEqual(e)))}class eT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(tT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class QI extends eT{data(){return super.data()}}function tT(s,e){return typeof e=="string"?bp(s,e):e instanceof kh?e._internalPath:e._delegate._internalPath}function YI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KI{convertValue(e,i="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return xr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((a=>Ut(a.doubleValue)));return new Qi(i)}convertGeoPoint(e){return new Fi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ah(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(qo(e));default:return null}}convertTimestamp(e){const i=br(e);return new St(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=It.fromString(e);rt(EE(a),9688,{name:e});const o=new Go(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return o.isEqual(i)||Ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function XI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Oo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends eT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(tT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=la._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Qt("string",la._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Zc extends la{data(e={}){return super.data(e)}}class hl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new Oo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Oo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Oo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:$I(g.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $I(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function ZI(s){s=gi(s,Yt);const e=gi(s.firestore,fa);return VI(_p(e),s._key).then((i=>iT(e,s,i)))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:Qt("string",hl._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class nT extends KI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,i)}}function JI(s,e,i){s=gi(s,Yt);const a=gi(s.firestore,fa),o=XI(s.converter,e);return Ap(a,[BI($E(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,yi.none())])}function En(s,e,i,...a){s=gi(s,Yt);const o=gi(s.firestore,fa),c=$E(o);let d;return d=typeof(e=Tn(e))=="string"||e instanceof kh?GI(c,"updateDoc",s._key,e,i,a):qI(c,"updateDoc",s._key,e),Ap(o,[d.toMutation(s._key,yi.exists(!0))])}function WI(s){return Ap(gi(s.firestore,fa),[new ep(s._key,yi.none())])}function Iv(s,...e){s=Tn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||xv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(xv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Yt)d=gi(s.firestore,fa),g=wh(s._key.path),c={next:y=>{e[a]&&e[a](iT(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=gi(s,Vh);d=gi(y.firestore,fa),g=y._query;const _=new nT(d);c={next:T=>{e[a]&&e[a](new hl(d,_,y,T))},error:e[a+1],complete:e[a+2]},YI(s._query)}return(function(_,T,w,M){const G=new GE(M),se=new kE(T,G,w);return _.asyncQueue.enqueueAndForget((async()=>ME(await Rm(_),se))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>VE(await Rm(_),se)))}})(_p(d),g,o,c)}function Ap(s,e){return(function(a,o){const c=new vr;return a.asyncQueue.enqueueAndForget((async()=>bI(await MI(a),o,c))),c.promise})(_p(s),e)}function iT(s,e,i){const a=i.docs.get(e._key),o=new nT(s);return new la(s,o,e._key,a,new Oo(i.hasPendingWrites,i.fromCache),e.converter)}function or(...s){return new vp("arrayUnion",s)}function ia(s){return new Ep("increment",s)}(function(e,i=!0){(function(o){Al=o})(Tl),fl(new oa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new fa(new H2(a.getProvider("auth-internal")),new F2(d,a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(_.options.projectId,T)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),yr(M_,V_,e),yr(M_,V_,"esm2020")})();const eC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Cv=s=>{const e=tC(s);return e.charAt(0).toUpperCase()+e.slice(1)},sT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),nC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var iC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sC=ct.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>ct.createElement("svg",{ref:y,...iC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:sT("lucide",o),...!c&&!nC(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>ct.createElement(_,T)),...Array.isArray(c)?c:[c]]));const $e=(s,e)=>{const i=ct.forwardRef(({className:a,...o},c)=>ct.createElement(sC,{ref:c,iconNode:e,className:sT(`lucide-${eC(Cv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Cv(s),i};const rC=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],aC=$e("arrow-left-right",rC);const lC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],oC=$e("arrow-right",lC);const uC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Bc=$e("award",uC);const cC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Im=$e("book-open",cC);const hC=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Sp=$e("bug",hC);const fC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jc=$e("circle-check-big",fC);const dC=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mC=$e("circle-play",dC);const pC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nv=$e("circle-question-mark",pC);const gC=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],yC=$e("code",gC);const _C=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Cm=$e("cpu",_C);const vC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Nm=$e("crown",vC);const EC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],rT=$e("database",EC);const TC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],bC=$e("ghost",TC);const AC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],SC=$e("hammer",AC);const wC=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],RC=$e("hard-drive",wC);const xC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],IC=$e("history",xC);const CC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],NC=$e("house",CC);const DC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wp=$e("lock",DC);const OC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wd=$e("log-out",OC);const MC=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],VC=$e("radio",MC);const kC=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],UC=$e("scan-eye",kC);const LC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],PC=$e("search",LC);const jC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zC=$e("server",jC);const BC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rp=$e("shield",BC);const HC=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],qC=$e("skip-forward",HC);const GC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],aT=$e("skull",GC);const FC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Dv=$e("sparkles",FC);const QC=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],lT=$e("syringe",QC);const YC=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],oT=$e("terminal",YC);const KC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],XC=$e("trash-2",KC);const $C=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mo=$e("triangle-alert",$C);const ZC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uT=$e("user",ZC);const JC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Dm=$e("wifi",JC);const WC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xo=$e("x",WC);const eN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Om=$e("zap",eN),tN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:9afd57573258c43a6aa637"},cT=Fv(tN),em=P2(cT),tn=UI(cT),un=typeof __app_id<"u"?__app_id:"masquerade-protocol",nN="17",Cn={FIREWALL:{id:"FIREWALL",name:"Firewall",icon:Rp,color:"text-orange-500",bg:"bg-orange-950/50",border:"border-orange-600",passive:"Immune to Virus cards.",glitch:"Decrypt: Convert all VIRUS cards in your hand into INTEL cards."},SEARCH_ENGINE:{id:"SEARCH_ENGINE",name:"Search Engine",icon:PC,color:"text-blue-400",bg:"bg-blue-950/50",border:"border-blue-600",passive:"Scan: Peek at 1 random card from a player's hand once per turn.",glitch:"Index: Look at ALL cards in target player's hand (Private)."},MINER:{id:"MINER",name:"Data Miner",icon:RC,color:"text-emerald-400",bg:"bg-emerald-950/50",border:"border-emerald-600",passive:"Draw 2 cards instead of 1 at start of turn.",glitch:"Jackpot: Draw 5 cards immediately."},GHOST:{id:"GHOST",name:"Ghost Process",icon:bC,color:"text-purple-400",bg:"bg-purple-950/50",border:"border-purple-600",passive:"Cannot be targeted by Glitch effects.",glitch:"Haunt: Swap your entire hand with target player."},ADMIN:{id:"ADMIN",name:"Sys Admin",icon:oT,color:"text-red-500",bg:"bg-red-950/50",border:"border-red-600",passive:"Hand Limit increased by 2.",glitch:"Sudo: Force target player to discard 2 random cards."}},gs={COLLECTOR:{id:"COLLECTOR",name:"The Collector",desc:"Win if you have 5 INTEL cards in hand.",icon:rT,color:"text-cyan-400"},SABOTEUR:{id:"SABOTEUR",name:"The Saboteur",desc:"Win if you hold at least 1 of each card type: INTEL, VIRUS, PING, PATCH.",icon:Sp,color:"text-lime-400"},ANARCHIST:{id:"ANARCHIST",name:"The Anarchist",desc:"Win if ALL other living players hold at least 2 INTEL and 1 VIRUS.",icon:Mo,color:"text-yellow-400"},SURVIVOR:{id:"SURVIVOR",name:"The Survivor",desc:"Win if you survive 2 System Crashes (Global), or be the last player standing.",icon:Rp,color:"text-orange-400"},CORRUPTOR:{id:"CORRUPTOR",name:"The Corruptor",desc:"Win if you have 4 VIRUS cards. (Overrides Elimination).",icon:aT,color:"text-fuchsia-400"},HACKER:{id:"HACKER",name:"The Hacker",desc:"Win if you use the PING card 4 times.",icon:VC,color:"text-indigo-400"},ANTIVIRUS:{id:"ANTIVIRUS",name:"Antivirus",desc:"Win if you successfully use a PATCH to remove a VIRUS 3 times.",icon:lT,color:"text-teal-400"}},iN={name:"Encrypted Signal",desc:"This player's objective is hidden. It will be revealed if they activate their Glitch.",icon:wp,color:"text-slate-500"},xp={INTEL:{id:"INTEL",name:"Intel Packet",type:"RESOURCE",desc:"Collect these. Trade to swap data.",icon:yC,color:"text-cyan-300"},VIRUS:{id:"VIRUS",name:"Corrupt File",type:"HAZARD",desc:"3 Viruses = Crash. Trade to pass the bomb.",icon:Sp,color:"text-lime-400"},PING:{id:"PING",name:"Ping",type:"ACTION",desc:"Target player reveals 1 random card.",icon:Dm,color:"text-yellow-400"},PATCH:{id:"PATCH",name:"Patch",type:"ACTION",desc:"Discard this to remove 1 Virus from your hand.",icon:Jc,color:"text-blue-400"}},Ov=[...Array(15).fill("INTEL"),...Array(10).fill("VIRUS"),...Array(5).fill("PING"),...Array(5).fill("PATCH")],ur=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},tm=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),b.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"})]}),Mv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none",children:[b.jsx(Cm,{size:16,className:"text-cyan-500 animate-pulse"}),b.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase font-mono shadow-cyan-500/50 drop-shadow-md",children:"MASQUERADE PROTOCOL"})]}),sN=({players:s,onSelect:e,onSkip:i})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[190] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:b.jsxs("div",{className:"bg-slate-900 border-2 border-blue-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(59,130,246,0.3)] text-center relative",children:[b.jsxs("h3",{className:"text-xl font-black text-blue-400 mb-4 uppercase tracking-widest flex items-center justify-center gap-2",children:[b.jsx(UC,{size:24})," Passive Scan"]}),b.jsx("p",{className:"text-slate-400 text-xs mb-6",children:"Search Engine Protocol: Select a target to reveal one random data packet from their hand."}),b.jsx("div",{className:"grid gap-2 mb-4",children:s.map(a=>b.jsxs("button",{onClick:()=>e(a.id),className:"w-full p-3 bg-slate-800 hover:bg-blue-900/30 border border-slate-700 hover:border-blue-500 rounded flex items-center justify-between group transition-all",children:[b.jsx("span",{className:"font-bold text-slate-200 group-hover:text-blue-300",children:a.name}),b.jsxs("div",{className:"text-[10px] bg-slate-950 px-2 py-1 rounded text-slate-500",children:[a.hand.length," Cards"]})]},a.id))}),b.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Skip Scan"})]})}),rN=({item:s,onClose:e,onActivateGlitch:i,canGlitch:a})=>{if(!s)return null;const o=s.passive!==void 0;return b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[170] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",onClick:e,children:b.jsxs("div",{className:"bg-slate-900 border border-cyan-500/50 p-6 rounded-xl max-w-sm w-full shadow-2xl relative",onClick:c=>c.stopPropagation(),children:[b.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:b.jsx(Xo,{})}),b.jsxs("div",{className:"flex flex-col items-center text-center",children:[b.jsx("div",{className:"p-4 rounded-full bg-slate-800 mb-4 border border-slate-600",children:ra.createElement(s.icon,{size:48,className:s.color||"text-white"})}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-1 uppercase tracking-widest",children:s.name}),b.jsx("div",{className:"text-xs text-slate-500 mb-6 uppercase tracking-wider",children:o?"Public Identity":"Hidden Agenda"}),b.jsx("div",{className:"space-y-4 w-full text-left bg-slate-950/50 p-4 rounded border border-slate-800",children:o?b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-cyan-400 font-bold block text-xs uppercase mb-1",children:"Passive Ability"}),b.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.passive})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Glitch (Ultimate)"}),b.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.glitch})]})]}):b.jsxs("div",{children:[b.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Win Condition"}),b.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.desc})]})}),i&&b.jsx("div",{className:"mt-6 w-full",children:a?b.jsxs("button",{onClick:i,className:"w-full py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded flex items-center justify-center gap-2 animate-pulse shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:[b.jsx(Om,{size:18})," ACTIVATE GLITCH"]}):b.jsx("div",{className:"w-full py-3 bg-slate-800 text-slate-500 font-bold rounded flex items-center justify-center gap-2 cursor-not-allowed",children:"GLITCH UNAVAILABLE"})})]})]})})},aN=({data:s,onClose:e})=>s?b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[180] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:b.jsxs("div",{className:"bg-slate-900 border-2 border-yellow-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(234,179,8,0.3)] text-center relative",children:[b.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:b.jsx(Xo,{})}),b.jsx("h3",{className:"text-xl font-black text-yellow-400 mb-2 uppercase tracking-widest",children:s.title}),b.jsx("p",{className:"text-slate-300 mb-6 font-bold",children:s.message}),s.cards&&s.cards.length>0&&b.jsx("div",{className:"flex justify-center gap-4 flex-wrap mb-6",children:s.cards.map((i,a)=>b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"mb-1 text-[10px] text-slate-500 uppercase tracking-wider",children:i.label}),b.jsx("div",{className:"scale-90 origin-top",children:b.jsx(hT,{type:i.type})})]},a))}),b.jsx("button",{onClick:e,className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded uppercase tracking-wider",children:"Dismiss"})]})}):null,lN=({type:s,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-xl relative overflow-hidden
      ${s==="glitch"?"bg-fuchsia-900/80 border-fuchsia-500 text-fuchsia-100":s==="success"?"bg-green-900/80 border-green-500 text-green-100":s==="failure"?"bg-red-900/80 border-red-500 text-red-100":"bg-cyan-900/80 border-cyan-500 text-cyan-100"}
    `,children:[s==="glitch"&&b.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,#fff_3px)]"}),a&&b.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border border-white/10",children:b.jsx(a,{size:64,className:"animate-pulse"})}),b.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-md mb-2 font-mono",children:e}),i&&b.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center font-mono",children:i})]})}),hT=({type:s,onClick:e,disabled:i,highlight:a,small:o,tiny:c})=>{const d=xp[s];if(!d)return b.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return b.jsx("div",{className:"w-5 h-7 rounded flex items-center justify-center bg-slate-800 border border-slate-600 shadow-sm",title:d.name,children:b.jsx(d.icon,{size:12,className:d.color})});const g=o?"w-16 h-24 p-1":"w-24 h-32 md:w-28 md:h-40 p-2";return b.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-lg border border-slate-600 bg-slate-900 shadow-lg transition-all flex flex-col items-center justify-between
        ${g}
        ${a?"ring-2 ring-cyan-400 scale-105 z-10":""}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 cursor-pointer hover:border-slate-400"}
      `,children:[b.jsx("div",{className:"w-full text-right",children:b.jsx("div",{className:`w-2 h-2 rounded-full ${d.color.replace("text","bg")} ml-auto`})}),b.jsx(d.icon,{size:o?20:32,className:d.color}),b.jsxs("div",{className:"text-center w-full",children:[b.jsx("div",{className:"text-[10px] md:text-xs font-bold text-white leading-none mb-1 font-mono",children:d.name}),!o&&b.jsx("div",{className:"text-[8px] text-slate-400 leading-tight",children:d.type})]})]})},Vv=({onClose:s})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col shadow-[0_0_50px_rgba(6,182,212,0.2)] overflow-hidden font-mono",children:[b.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[b.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 flex items-center gap-2 tracking-wider",children:[b.jsx(Im,{className:"text-cyan-500"})," SYSTEM MANUAL"]}),b.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:b.jsx(Xo,{})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-slate-300",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[b.jsx(Nm,{size:20,className:"text-yellow-400"})," Objective"]}),b.jsxs("p",{className:"mb-4",children:["You are a rogue AI. Collect"," ",b.jsx("strong",{className:"text-yellow-400",children:"Golden Chips"})," by winning rounds. The first player to collect"," ",b.jsx("strong",{className:"text-yellow-400",children:"3 Chips"})," becomes the Grand Champion."]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[b.jsx(uT,{size:20,className:"text-cyan-400"})," Public Avatars (Roles)"]}),b.jsx("p",{className:"text-xs text-slate-500 mb-4",children:'Every player is assigned a public role visible to everyone. These grant passive bonuses and powerful "Glitch" ultimates.'}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values(Cn).map(e=>b.jsxs("div",{className:`p-3 rounded border border-l-4 bg-slate-800/50 ${e.border} border-l-[${e.color.replace("text-","")}]`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ra.createElement(e.icon,{size:20,className:e.color}),b.jsx("strong",{className:`uppercase ${e.color}`,children:e.name})]}),b.jsxs("ul",{className:"text-xs space-y-1",children:[b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-cyan-500 font-bold min-w-[50px]",children:"PASSIVE:"}),b.jsx("span",{className:"text-slate-300",children:e.passive})]}),b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-fuchsia-500 font-bold min-w-[50px]",children:"GLITCH:"}),b.jsx("span",{className:"text-slate-300",children:e.glitch})]})]})]},e.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[b.jsx(wp,{size:20,className:"text-fuchsia-400"})," Secret Directives"]}),b.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Your true win condition. Hidden from others until you activate your Glitch."}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.values(gs).map(e=>b.jsxs("div",{className:"p-3 rounded border border-l-4 border-l-fuchsia-500 border-slate-700 bg-slate-800/50 flex flex-col justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ra.createElement(e.icon,{size:16,className:e.color}),b.jsx("strong",{className:`text-sm uppercase ${e.color}`,children:e.name})]}),b.jsx("div",{className:"text-xs text-slate-300",children:e.desc})]},e.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[b.jsx(rT,{size:20,className:"text-green-400"})," Data Packets"]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:Object.values(xp).map(e=>b.jsxs("div",{className:"bg-slate-950 p-3 rounded border border-slate-800 flex flex-col items-center text-center",children:[b.jsx(e.icon,{size:24,className:`mb-2 ${e.color}`}),b.jsx("div",{className:`font-bold text-sm mb-1 ${e.color}`,children:e.name}),b.jsx("div",{className:"text-[10px] bg-slate-900 px-2 py-0.5 rounded text-slate-400 mb-2 uppercase tracking-wider",children:e.type}),b.jsx("p",{className:"text-xs text-slate-400",children:e.desc})]},e.id))})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-3 border-b border-slate-700 pb-2",children:"Core Mechanics"}),b.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-400",children:[b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Crash:"})," Holding 3 Viruses causes Immediate Elimination."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Glitch:"})," A one-time ultimate ability. Activating it reveals your Secret Directive to everyone."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Trade:"})," Select an INTEL or VIRUS card, then select a target. You give them your card, and blindly take one random card from their hand."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Hand Limit:"})," 5 Cards (7 for Admin). You must discard or skip turn if full."]})]})]})]}),b.jsx("div",{className:"p-4 bg-slate-950 border-t border-slate-800",children:b.jsx("button",{onClick:s,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 py-3 rounded font-bold transition-all",children:"ACKNOWLEDGE"})})]})});function oN(){const[s,e]=ct.useState(null),[i,a]=ct.useState("menu"),[o,c]=ct.useState(""),[d,g]=ct.useState(""),[y,_]=ct.useState(localStorage.getItem("masquerade_room_id")||""),[T,w]=ct.useState(null),[M,G]=ct.useState(""),[se,ae]=ct.useState(!1),[ie,ve]=ct.useState(!1),[Re,Ee]=ct.useState(!1),[tt,ht]=ct.useState(!1),[Ke,C]=ct.useState(!1),[S,x]=ct.useState(null),[V,D]=ct.useState(null),[U,R]=ct.useState(!1),[at,yt]=ct.useState(null),[F,oe]=ct.useState([]),[ye,je]=ct.useState(!1),Je=ct.useRef(0);ct.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Sw(em,__initial_auth_token):await vw(em))();const q=xw(em,e);return()=>q()},[]);const N=ee=>{oe(q=>[...q,ee])};ct.useEffect(()=>{if(!y)return;const ee=Iv(en(tn,"artifacts",un,"public","data","rooms",y),q=>{if(q.exists()){const W=q.data(),ne=W.players.find(te=>te.id===s?.uid);if(s&&!ne){_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),G("Disconnected from server.");return}w(W),W.status==="lobby"?a("lobby"):(W.status==="playing"||W.status==="finished")&&a("game");const ue=W.players.find(te=>te.id===s.uid),Oe=W.players.findIndex(te=>te.id===s.uid);if(ue&&W.turnIndex===Oe&&ue.avatar==="SEARCH_ENGINE"&&!ue.passiveUsed?je(!0):je(!1),W.lastEvent&&W.lastEvent.id>Je.current){const te=W.lastEvent;if(Je.current=te.id,s&&te.targetId===s.uid){let de=null;te.type==="PING"?de={title:"SYSTEM ALERT: PINGED",message:`${te.initiatorName} revealed your data:`,cards:[{type:te.payload.revealedCard,label:"Revealed"}]}:te.type==="TRADE"?de={title:"DATA TRANSFER",message:`${te.initiatorName} traded with you.`,cards:[{type:te.payload.given,label:"You Received"},{type:te.payload.received,label:"You Gave"}]}:te.type==="GLITCH_ADMIN"?de={title:"SYSTEM BREACH: SUDO",message:`${te.initiatorName} forced deletion of data.`,cards:te.payload.deleted.map(Be=>({type:Be,label:"Lost"}))}:te.type==="GLITCH_GHOST"?de={title:"SYSTEM BREACH: HAUNT",message:`${te.initiatorName} swapped hands with you.`,cards:[]}:te.type==="GLITCH_SEARCH"?de={title:"SECURITY ALERT",message:`${te.initiatorName} indexed (viewed) your entire hand.`,cards:[]}:te.type==="SYSTEM_DISCARD"&&(de={title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:te.payload.discards.map(Be=>({type:Be,label:"Purged"}))}),de&&te.payload&&te.payload.discards&&te.type!=="SYSTEM_DISCARD"&&(de.message+=" (Memory Overflow Purge)",de.cards.push(...te.payload.discards.map(Be=>({type:Be,label:"Purged"})))),de&&N(de)}}}else a("menu"),_(""),localStorage.removeItem("masquerade_room_id"),G("Connection Terminated (Room Closed).")});return()=>ee()},[y,s]),ct.useEffect(()=>{const ee=Iv(en(tn,"game_hub_settings","config"),q=>{q.exists()&&q.data()[nN]?.maintenance?ve(!0):ve(!1)});return()=>ee()},[]);const Y=(ee,q,W,ne)=>{D({type:ee,message:q,subtext:W,icon:ne}),setTimeout(()=>D(null),2500)},le=(ee,q,W)=>{let ne=0;return ee.forEach(ue=>{if(ue.isEliminated||ue.avatar==="FIREWALL"||ue.directive==="CORRUPTOR")return;ue.hand.filter(te=>te==="VIRUS").length>=3&&(ue.isEliminated=!0,q.push(...ue.hand),ue.hand=[],ne++,W.push({text:`SYSTEM CRASH: ${ue.name} overloaded by Viruses!`,type:"danger",id:Date.now()+Math.random(),viewerId:"all"}),s&&ue.id===s.uid&&Y("failure","SYSTEM CRASH","Eliminated by Virus Overload",Sp))}),ne},ce=async()=>{if(!o)return G("Identify yourself.");ae(!0);const ee=Math.random().toString(36).substring(2,7).toUpperCase(),q={roomId:ee,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}],deck:[],discardPile:[],turnIndex:0,crashCount:0,roundCount:1,logs:[],winnerId:null};await JI(en(tn,"artifacts",un,"public","data","rooms",ee),q),_(ee),localStorage.setItem("masquerade_room_id",ee),ae(!1)},Se=async()=>{if(!d||!o)return G("Input credentials.");ae(!0);const ee=en(tn,"artifacts",un,"public","data","rooms",d),q=await ZI(ee);if(!q.exists()){G("Server not found."),ae(!1);return}const W=q.data();if(W.status!=="lobby"){G("Session locked."),ae(!1);return}if(W.players.length>=8){G("Server full."),ae(!1);return}if(!W.players.find(ue=>ue.id===s.uid)){const ue=[...W.players,{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}];await En(ee,{players:ue})}_(d),localStorage.setItem("masquerade_room_id",d),ae(!1)},De=async ee=>{if(!y)return;const q=en(tn,"artifacts",un,"public","data","rooms",y),W=T.players.filter(ne=>ne.id!==ee);await En(q,{players:W,logs:or({text:"A player was removed from the session.",type:"danger",id:Date.now(),viewerId:"all"})})},ze=async()=>{if(T.hostId!==s.uid)return;const ee=ur(Object.keys(Cn)),q=ur(Object.keys(gs)),W=ur([...Ov]),ne=T.players.map((ue,Oe)=>{const te=[W.pop(),W.pop(),W.pop()];return{...ue,avatar:ee[Oe%ee.length],directive:q[Oe%q.length],hand:te,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0}});await En(en(tn,"artifacts",un,"public","data","rooms",y),{status:"playing",players:ne,deck:W,discardPile:[],turnIndex:0,crashCount:0,logs:[{text:`Round ${T.roundCount||1} Initialized.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Nt=async()=>{if(!y)return;const ee=en(tn,"artifacts",un,"public","data","rooms",y);if(T.hostId===s.uid)await WI(ee);else{let W={players:T.players.filter(ne=>ne.id!==s.uid)};W.logs=or({text:`${T.players.find(ne=>ne.id===s.uid)?.name||"User"} disconnected.`,type:"danger",id:Date.now(),viewerId:"all"}),await En(ee,W)}_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),C(!1)},_t=async()=>{if(T.hostId!==s.uid)return;const ee=T.players.map(q=>({...q,hand:[],avatar:null,directive:null,revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}));await En(en(tn,"artifacts",un,"public","data","rooms",y),{status:"lobby",players:ee,deck:[],discardPile:[],winnerId:null,logs:[],lastEvent:null,crashCount:0,roundCount:1}),C(!1)},Xi=async()=>{if(T.hostId!==s.uid)return;const ee=ur(Object.keys(Cn)),q=ur(Object.keys(gs)),W=ur([...Ov]),ne=T.players.map((ue,Oe)=>{const te=[W.pop(),W.pop(),W.pop()];return{...ue,avatar:ee[Oe%ee.length],directive:q[Oe%q.length],hand:te,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,isEliminated:!1,revealed:!1,glitchUsed:!1}});await En(en(tn,"artifacts",un,"public","data","rooms",y),{status:"playing",players:ne,deck:W,discardPile:[],turnIndex:0,crashCount:0,winnerId:null,roundCount:ia(1),logs:[{text:`Round ${T.roundCount+1} Initialized.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},xs=async()=>{if(!y)return;const ee=en(tn,"artifacts",un,"public","data","rooms",y),q=T.players.findIndex(ne=>ne.id===s.uid);if(q===-1)return;const W=[...T.players];W[q].ready=!0,await En(ee,{players:W})},ii=async(ee,q)=>{const W=ee.filter(ne=>!ne.isEliminated);if(W.length===1)return W[0].id;for(const ne of ee){if(ne.isEliminated)continue;const ue=ne.directive,Oe=ne.hand;let te=!1;if(ue==="COLLECTOR")Oe.filter(de=>de==="INTEL").length>=5&&(te=!0);else if(ue==="CORRUPTOR")Oe.filter(de=>de==="VIRUS").length>=4&&(te=!0);else if(ue==="ANARCHIST"){const de=W.filter(nt=>nt.id!==ne.id),Be=de.every(nt=>nt.hand.filter(ft=>ft==="INTEL").length>=2&&nt.hand.includes("VIRUS"));de.length>0&&Be&&(te=!0)}else if(ue==="SABOTEUR"){const de=Oe.includes("INTEL"),Be=Oe.includes("VIRUS"),nt=Oe.includes("PING"),ft=Oe.includes("PATCH");de&&Be&&nt&&ft&&(te=!0)}else ue==="SURVIVOR"?T.crashCount>=2&&(te=!0):ue==="HACKER"?(ne.pingCount||0)>=4&&(te=!0):ue==="ANTIVIRUS"&&(ne.antivirusCount||0)>=3&&(te=!0);if(te)return ne.id}return null},_i=async(ee,q,W,ne,ue=null)=>{const Oe=ee[T.turnIndex];let te=[];if(!Oe.isEliminated){const Me=Oe.avatar==="ADMIN"?7:5;for(;Oe.hand.length>Me;){const Et=Math.floor(Math.random()*Oe.hand.length),He=Oe.hand.splice(Et,1)[0];W.push(He),te.push(He),ne.push({text:`${Oe.name} discarded excess data (${He}).`,type:"neutral",id:Date.now()+te.length,viewerId:"all"})}}te.length>0&&N({title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:te.map(Me=>({type:Me,label:"Purged"}))});let de=await ii(ee);if(de){const Me=ee.findIndex(Tt=>Tt.id===de);ee[Me].chips=(ee[Me].chips||0)+1;const He={players:ee.map(Tt=>({...Tt,ready:!1})),status:"finished",winnerId:de,discardPile:W,logs:or(...ne,{text:`Round Winner Identified: ${ee[Me].name}. Chip awarded.`,type:"success",id:Date.now()+2,viewerId:"all"})};ue&&(He.lastEvent=ue),await En(en(tn,"artifacts",un,"public","data","rooms",y),He);return}let Be=!1,nt=(T.turnIndex+1)%ee.length,ft=0,ge=0;const Z=ee.length*2;for(;!Be&&ge<Z;){ge++;let Me=0;for(;ee[nt].isEliminated&&Me<ee.length;)nt=(nt+1)%ee.length,Me++;const Et=ee[nt];if(Et.passiveUsed=!1,Me>=ee.length)break;let He=1;Et.avatar==="MINER"&&(He=2);for(let wt=0;wt<He;wt++){if(q.length===0)if(W.length>0)q=ur([...W]),W=[],ne.push({text:"Deck rebooted.",type:"neutral",id:Date.now()+3+ge,viewerId:"all"});else break;q.length>0&&Et.hand.push(q.pop())}const Tt=le(ee,W,ne);ft+=Tt,Et.isEliminated?ne.push({text:`${Et.name} crashed immediately upon receiving data. Passing control...`,type:"danger",id:Date.now()+5+ge,viewerId:"all"}):Be=!0}if(de=await ii(ee),de){const Me=ee.findIndex(Tt=>Tt.id===de);ee[Me].chips=(ee[Me].chips||0)+1;const He={players:ee.map(Tt=>({...Tt,ready:!1})),status:"finished",winnerId:de,discardPile:W,logs:or(...ne,{text:`Round Winner: ${ee[Me].name}.`,type:"success",id:Date.now()+4,viewerId:"all"}),crashCount:ia(ft)};ue&&(He.lastEvent=ue),await En(en(tn,"artifacts",un,"public","data","rooms",y),He);return}ne.push({text:`Processing cycle: ${ee[nt].name}`,type:"neutral",id:Date.now()+10,viewerId:"all"});const Ie={players:ee,deck:q,discardPile:W,turnIndex:nt,logs:or(...ne),crashCount:ia(ft)};ue&&(Ie.lastEvent=ue),await En(en(tn,"artifacts",un,"public","data","rooms",y),Ie)},On=async ee=>{if(!y)return;const q=T.players.findIndex(te=>te.id===s.uid),W=T.players[q];if(W.passiveUsed)return;const ne=en(tn,"artifacts",un,"public","data","rooms",y),ue=[...T.players];ue[q].passiveUsed=!0;const Oe={players:ue,logs:or({text:`${W.name} ${ee?"ran a passive background scan.":"skipped passive scan."}`,type:"neutral",id:Date.now(),viewerId:"all"})};if(ee){const te=T.players.find(de=>de.id===ee);if(te&&te.hand.length>0){const de=Math.floor(Math.random()*te.hand.length),Be=te.hand[de];N({title:"PASSIVE SCAN RESULT",message:`Scanner intercepted ${te.name}'s packet:`,cards:[{type:Be,label:"Intercepted"}]})}}await En(ne,Oe)},Is=async(ee=null)=>{if(S===null)return;const q=T.players.findIndex(ge=>ge.id===s.uid),W=T.players[q],ne=W.hand[S],ue=JSON.parse(JSON.stringify(T.players));let Oe=[...T.deck],te=[...T.discardPile||[]];const de=[];let Be=null;if(ue[q].hand.splice(S,1),ne==="PATCH"){te.push("PATCH");const ge=ue[q].hand.indexOf("VIRUS");ge>-1?(ue[q].hand.splice(ge,1),te.push("VIRUS"),ue[q].antivirusCount=(ue[q].antivirusCount||0)+1,de.push({text:`${W.name} ran a Patch. Virus purged.`,type:"success",id:Date.now(),viewerId:"all"})):de.push({text:`${W.name} ran a Patch but had no Virus.`,type:"neutral",id:Date.now(),viewerId:"all"})}else if(ne==="PING"){if(te.push("PING"),ue[q].pingCount=(ue[q].pingCount||0)+1,!ee)return;const ge=ue.find(Z=>Z.id===ee);if(ge.hand.length>0){const Z=Math.floor(Math.random()*ge.hand.length),Ie=ge.hand[Z];Be={id:Date.now(),type:"PING",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{revealedCard:Ie}},N({title:"PING RESULT",message:`You revealed ${ge.name}'s data:`,cards:[{type:Ie,label:"Revealed"}]}),de.push({text:`PING: ${ge.name} has a ${Ie}.`,type:"warning",id:Date.now(),viewerId:"all"})}}else if(!ee)te.push(ne),de.push({text:`${W.name} discarded ${ne}.`,type:"neutral",id:Date.now(),viewerId:"all"});else{const ge=ue.findIndex(Ie=>Ie.id===ee),Z=ue[ge];if(Z.hand.length>0){const Ie=Math.floor(Math.random()*Z.hand.length),Me=Z.hand.splice(Ie,1)[0];Z.hand.push(ne),ue[q].hand.push(Me),Be={id:Date.now(),type:"TRADE",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{given:ne,received:Me}},N({title:"TRADE COMPLETE",message:`Exchange with ${Z.name} successful.`,cards:[{type:ne,label:"You Gave"},{type:Me,label:"You Received"}]}),de.push({text:`${W.name} traded data with ${Z.name}.`,type:"warning",id:Date.now(),viewerId:"all"})}else Z.hand.push(ne),de.push({text:`${W.name} transferred data to ${Z.name} (Empty hand).`,type:"neutral",id:Date.now(),viewerId:"all"})}const nt=le(ue,te,de);x(null);const ft=await ii(ue);if(ft){const ge=ue.findIndex(Me=>Me.id===ft);ue[ge].chips=(ue[ge].chips||0)+1;const Ie={players:ue.map(Me=>({...Me,ready:!1})),status:"finished",winnerId:ft,discardPile:te,logs:or(...de,{text:`Round Winner: ${ue[ge].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:ia(nt)};Be&&(Ie.lastEvent=Be),await En(en(tn,"artifacts",un,"public","data","rooms",y),Ie);return}nt>0&&await En(en(tn,"artifacts",un,"public","data","rooms",y),{crashCount:ia(nt)}),await _i(ue,Oe,te,de,Be)},$i=async()=>{if(!y||!T)return;const ee=T.players.findIndex(ue=>ue.id===s.uid),q=T.players[ee],W=q.avatar==="ADMIN"?7:5;if(q.hand.length>W){Y("failure","MEMORY OVERFLOW",`Cannot skip. Hand limit (${W}) exceeded.`,Mo);return}const ne=[{text:`${q.name} skipped their turn.`,type:"neutral",id:Date.now(),viewerId:"all"}];await _i(T.players,T.deck,T.discardPile,ne)},Cs=async(ee=null)=>{const q=T.players.findIndex(ge=>ge.id===s.uid),W=T.players[q];if(W.glitchUsed)return;if(ee){const ge=T.players.find(Z=>Z.id===ee);if(ge&&ge.avatar==="GHOST"){R(!1),Y("failure","TARGET IMMUNE","Ghost Process blocks Glitch effects.",Rp);return}}const ne=JSON.parse(JSON.stringify(T.players)),ue=[...T.deck];let Oe=[...T.discardPile||[]];const te=[];let de=null;ne[q].glitchUsed=!0,ne[q].revealed=!0,te.push({text:` GLITCH DETECTED: ${W.name} is ${gs[W.directive].name}!`,type:"glitch",id:Date.now(),viewerId:"all"}),Y("glitch","GLITCH ACTIVATED","Directive Revealed!",Om);const Be=W.avatar;if(Be==="FIREWALL"){let ge=0;ne[q].hand=ne[q].hand.map(Z=>Z==="VIRUS"?(ge++,"INTEL"):Z),N({title:"SYSTEM DECRYPTION",message:`${ge} Virus(es) decrypted into Intel.`,cards:[]}),te.push({text:"Firewall Decryption complete. Malicious code converted to valuable data.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(Be==="MINER"){let ge=0;for(let Z=0;Z<5;Z++){if(ue.length===0&&Oe.length>0){const Ie=ur([...Oe]);Oe=[],ue.push(...Ie)}ue.length>0&&(ne[q].hand.push(ue.pop()),ge++)}N({title:"JACKPOT",message:`You mined ${ge} new data packets.`,cards:[]}),te.push({text:"Miner hit the Jackpot. 5 Cards drawn.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(Be==="GHOST"){if(!ee)return;const ge=ne.findIndex(Ie=>Ie.id===ee),Z=[...ne[q].hand];ne[q].hand=[...ne[ge].hand],ne[ge].hand=Z,de={id:Date.now(),type:"GLITCH_GHOST",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{}},N({title:"GHOST HAUNT",message:`Swapped hands with ${ne[ge].name}.`,cards:[]}),te.push({text:`Ghost Process Haunt. Hands swapped with ${ne[ge].name}.`,type:"warning",id:Date.now()+1,viewerId:"all"})}else if(Be==="ADMIN"){if(!ee)return;const ge=ne.findIndex(Me=>Me.id===ee),Z=ne[ge];let Ie=[];if(Z.hand.length>=2){const Me=Z.hand.splice(0,1)[0],Et=Z.hand.splice(0,1)[0];Oe.push(Me,Et),Ie=[Me,Et]}else Ie=[...Z.hand],Oe.push(...Z.hand),Z.hand=[];de={id:Date.now(),type:"GLITCH_ADMIN",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{deleted:Ie}},N({title:"SUDO COMMAND",message:`Forced ${Z.name} to delete ${Ie.length} data packets.`,cards:[]}),te.push({text:`Admin Sudo command. ${Z.name} forced to delete data.`,type:"danger",id:Date.now()+1,viewerId:"all"})}else if(Be==="SEARCH_ENGINE"){if(!ee)return;const ge=ne.find(Z=>Z.id===ee);de={id:Date.now(),type:"GLITCH_SEARCH",initiatorId:s.uid,initiatorName:W.name,targetId:ee,payload:{}},N({title:"INDEX RESULTS",message:`${ge.name}'s current database:`,cards:ge.hand.map(Z=>({type:Z,label:"Held"}))}),te.push({text:`INDEX RESULTS (${ge.name}): ${ge.hand.join(", ")}`,type:"glitch",id:Date.now()+1,viewerId:s.uid}),te.push({text:`${W.name} Indexed ${ge.name}'s data.`,type:"warning",id:Date.now()+2,viewerId:"all"})}R(!1);const nt=le(ne,Oe,te),ft=await ii(ne);if(ft){const ge=ne.findIndex(Me=>Me.id===ft);ne[ge].chips=(ne[ge].chips||0)+1;const Ie={players:ne.map(Me=>({...Me,ready:!1})),status:"finished",winnerId:ft,discardPile:Oe,logs:or(...te,{text:`Round Winner: ${ne[ge].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:ia(nt)};de&&(Ie.lastEvent=de),await En(en(tn,"artifacts",un,"public","data","rooms",y),Ie);return}nt>0&&await En(en(tn,"artifacts",un,"public","data","rooms",y),{crashCount:ia(nt)}),await _i(ne,ue,Oe,te,de)};if(ie)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(SC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The AI is glitched. Wait for replacement hardware."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(Dv,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(Dv,{size:16})]})})})})]});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-4 relative overflow-hidden font-mono",children:[b.jsx(tm,{}),Re&&b.jsx(Vv,{onClose:()=>Ee(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[b.jsx(Cm,{size:64,className:"text-cyan-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]"}),b.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:["MASQUERADE",b.jsx("br",{}),"PROTOCOL"]}),b.jsx("p",{className:"text-cyan-400/60 tracking-[0.2em] uppercase mt-2",children:"Social Hacking Simulation"})]}),b.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-lg w-full max-w-md shadow-2xl z-10",children:[M&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),b.jsx("input",{className:"w-full bg-black/50 border border-slate-700 p-3 rounded mb-4 text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none transition-colors",placeholder:"USER_ID",value:o,onChange:ee=>c(ee.target.value)}),b.jsxs("button",{onClick:ce,disabled:se,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 transition-all hover:shadow-[0_0_15px_rgba(6,182,212,0.3)]",children:[b.jsx(zC,{size:20})," INITIALIZE_SERVER"]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[b.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-700 p-3 rounded text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none text-center tracking-widest uppercase",placeholder:"ACCESS_CODE",value:d,onChange:ee=>g(ee.target.value.toUpperCase())}),b.jsx("button",{onClick:Se,disabled:se,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors text-slate-300",children:"CONNECT"})]}),b.jsxs("button",{onClick:()=>Ee(!0),className:"w-full text-sm text-slate-500 hover:text-cyan-400 flex items-center justify-center gap-2 py-2",children:[b.jsx(Im,{size:16})," READ_MANUAL.txt"]})]}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&T){const ee=T.hostId===s.uid;return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-6 relative font-mono",children:[b.jsx(tm,{}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-lg border border-cyan-500/30 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-800 pb-4",children:[b.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[b.jsx(oT,{size:20})," LOBBY:"," ",b.jsx("span",{className:"text-white",children:y})]}),b.jsx("button",{onClick:Nt,className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:b.jsx(Wd,{size:16})})]}),b.jsxs("div",{className:"bg-black/40 rounded p-4 mb-8 border border-slate-800",children:[b.jsxs("h3",{className:"text-slate-500 text-xs uppercase tracking-widest mb-4",children:["Connected Clients (",T.players.length,"/8)"]}),b.jsx("div",{className:"space-y-2",children:T.players.map(q=>b.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700",children:[b.jsxs("span",{className:`font-bold flex items-center gap-2 ${q.id===s.uid?"text-cyan-400":"text-slate-400"}`,children:[b.jsx(uT,{size:14})," ",q.name,q.id===T.hostId&&b.jsx(Nm,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[(q.chips||0)>0&&b.jsxs("div",{className:"flex items-center gap-1 bg-yellow-900/40 px-2 py-0.5 rounded border border-yellow-700/50",children:[b.jsx(Bc,{size:12,className:"text-yellow-400"}),b.jsx("span",{className:"text-xs text-yellow-200 font-bold",children:q.chips})]}),b.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[b.jsx(Jc,{size:12})," ONLINE"]}),ee&&q.id!==s.uid&&b.jsx("button",{onClick:()=>De(q.id),className:"text-red-500 hover:text-red-400 p-1 hover:bg-red-900/30 rounded",title:"Kick Player",children:b.jsx(XC,{size:14})})]})]},q.id))})]}),ee?b.jsx("button",{onClick:ze,disabled:T.players.length<3,className:`w-full py-4 rounded font-bold text-lg transition-all flex items-center justify-center gap-2 ${T.players.length>=3?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-[0_0_20px_rgba(6,182,212,0.4)]":"bg-slate-800 cursor-not-allowed text-slate-600"}`,children:T.players.length<3?"WAITING_FOR_USERS (Min 3)":"EXECUTE_PROTOCOL"}):b.jsx("div",{className:"text-center text-cyan-500/60 animate-pulse italic",children:"Waiting for Host execution..."})]}),b.jsx(Mv,{})]})}if(i==="game"&&T){const ee=T.players.findIndex(Z=>Z.id===s.uid),q=T.players[ee],W=T.turnIndex===ee,ne=T.hostId===s.uid,ue=S!==null?q.hand[S]:null,Oe=ue==="PING",te=ue==="INTEL"||ue==="VIRUS",de=Oe||te,Be=uN(q.avatar),nt=T.players.filter(Z=>Z.id!==T.hostId).every(Z=>Z.ready),ft=T.players.find(Z=>Z.id===T.winnerId),ge=T.players.find(Z=>(Z.chips||0)>=3);return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 overflow-hidden flex flex-col relative font-mono",children:[b.jsx(tm,{}),V&&b.jsx(lN,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),Re&&b.jsx(Vv,{onClose:()=>Ee(!1)}),at&&b.jsx(rN,{item:at,canGlitch:at.canGlitch,onClose:()=>yt(null),onActivateGlitch:at.canGlitch?()=>{yt(null),R(!0)}:null}),F.length>0&&b.jsx(aN,{data:F[0],onClose:()=>oe(Z=>Z.slice(1))}),ye&&b.jsx(sN,{players:T.players.filter(Z=>Z.id!==s.uid&&!Z.isEliminated),onSelect:Z=>On(Z),onSkip:()=>On(null)}),b.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Cm,{size:18,className:"text-cyan-500"}),b.jsxs("span",{className:"font-bold tracking-wider hidden md:block text-cyan-100",children:["ROUND ",T.roundCount||1]}),b.jsxs("span",{className:"text-xs text-slate-500",children:["Deck: ",T.deck.length," | Bin:"," ",T.discardPile?.length||0]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>Ee(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:b.jsx(Im,{size:18})}),b.jsx("button",{onClick:()=>ht(!tt),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:b.jsx(IC,{size:18})}),b.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:b.jsx(Wd,{size:18})})]})]}),b.jsxs("div",{className:"flex-1 flex flex-col p-4 max-w-6xl mx-auto w-full relative z-10",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:T.players.map((Z,Ie)=>{if(Z.id===s.uid)return null;const Me=T.turnIndex===Ie,Et=W&&de||U&&Be;return b.jsxs("div",{onClick:()=>{W&&de&&Is(Z.id),U&&Be&&Cs(Z.id)},className:`
                    relative bg-slate-900/80 p-3 rounded border transition-all cursor-default
                    ${Me?"border-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.3)]":"border-slate-700"}
                    ${Et?"ring-2 ring-red-500 cursor-pointer animate-pulse bg-red-900/10":""}
                    ${Z.isEliminated?"opacity-50 grayscale border-red-900":""}
                  `,children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("span",{className:"font-bold text-xs truncate flex items-center gap-1",children:[Z.revealed&&b.jsx(Mo,{size:12,className:"text-red-500"}),Z.name]}),b.jsxs("div",{className:"flex items-center gap-1",children:[(Z.chips||0)>0&&b.jsx("div",{className:"flex items-center gap-0.5",title:`${Z.chips} Chips`,children:[...Array(Z.chips)].map((He,Tt)=>b.jsx(Bc,{size:10,className:"text-yellow-400 fill-yellow-900"},Tt))}),Z.ready&&T.status==="finished"&&b.jsx(Jc,{size:14,className:"text-green-500"}),Z.isEliminated&&b.jsx(aT,{size:14,className:"text-red-500"})]})]}),b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{onClick:He=>{He.stopPropagation(),yt(Cn[Z.avatar])},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${Cn[Z.avatar].border} ${Cn[Z.avatar].bg}`,children:ra.createElement(Cn[Z.avatar].icon,{size:16,className:Cn[Z.avatar].color})}),b.jsx("div",{onClick:He=>{He.stopPropagation(),Z.revealed?yt(gs[Z.directive]):yt(iN)},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${Z.revealed?"border-red-500 bg-red-950":"border-slate-700 bg-slate-800"}`,children:Z.revealed?ra.createElement(gs[Z.directive].icon,{size:16,className:"text-red-400"}):b.jsx(wp,{size:14,className:"text-slate-600"})})]}),b.jsx("div",{className:"flex gap-0.5 justify-center",children:Z.hand.map((He,Tt)=>b.jsx("div",{className:"w-2 h-4 bg-slate-700 rounded-sm"},Tt))})]},Z.id)})}),b.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:T.status==="finished"?b.jsxs("div",{className:"bg-slate-900/95 p-8 rounded-xl border border-cyan-500 shadow-2xl z-50 animate-in fade-in zoom-in w-full max-w-md",children:[ge?b.jsxs(b.Fragment,{children:[b.jsx(Nm,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),b.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-yellow-600 mb-2",children:"GRAND CHAMPION"}),b.jsx("div",{className:"text-2xl text-white mb-6",children:ge.name}),b.jsx("div",{className:"text-sm text-yellow-500/80 mb-6 uppercase tracking-widest",children:"Collected 3 Golden Chips"})]}):b.jsxs(b.Fragment,{children:[b.jsx(Bc,{size:48,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),b.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["ROUND ",T.roundCount," COMPLETE"]}),b.jsxs("div",{className:"text-xl text-cyan-400 mb-6",children:["WINNER: ",ft?.name]}),b.jsxs("div",{className:"text-sm text-slate-400 mb-6",children:[ft?.name," receives a Golden Chip. (",ft?.chips,"/3)"]})]}),ne?b.jsx("div",{className:"space-y-2",children:ge?b.jsxs("button",{onClick:_t,className:"px-6 py-3 rounded font-bold bg-red-700 hover:bg-red-600 text-white shadow-lg mx-auto flex items-center gap-2",children:[b.jsx(Wd,{size:18})," FULL RESET TO LOBBY"]}):b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:Xi,disabled:!nt,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${nt?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[b.jsx(mC,{size:18})," START ROUND"," ",(T.roundCount||0)+1]}),!nt&&b.jsx("div",{className:"text-xs text-yellow-500 animate-pulse",children:"Waiting for players..."})]})}):!ge&&b.jsxs("button",{onClick:xs,disabled:q.ready,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${q.ready?"bg-green-800 text-green-200 cursor-default":"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg animate-pulse"}`,children:[q.ready?b.jsx(Jc,{size:18}):b.jsx(Om,{size:18}),q.ready?"WAITING FOR HOST":"READY FOR NEXT ROUND"]})]}):b.jsx("div",{className:"w-full max-w-md space-y-2 pointer-events-none",children:T.logs.filter(Z=>Z.viewerId==="all"||Z.viewerId===s.uid).slice(-3).reverse().map((Z,Ie)=>b.jsx("div",{className:`text-xs p-2 rounded bg-black/60 border border-slate-800 ${Z.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":Z.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,style:{opacity:1-Ie*.3},children:`> ${Z.text}`},Z.id))})}),b.jsxs("div",{className:"mt-auto bg-slate-900/90 border-t border-cyan-900/30 p-4 -mx-4 md:rounded-t-2xl md:mx-0 backdrop-blur-md relative z-20",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{onClick:()=>{yt({...Cn[q.avatar],canGlitch:!q.glitchUsed&&!q.isEliminated})},className:`
                    flex items-center gap-3 p-2 rounded border cursor-pointer hover:bg-slate-800 transition-colors relative
                    ${Cn[q.avatar].border} ${Cn[q.avatar].bg}
                  `,children:[!q.glitchUsed&&!q.isEliminated&&b.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[b.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),ra.createElement(Cn[q.avatar].icon,{size:32,className:Cn[q.avatar].color}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-bold text-white uppercase",children:Cn[q.avatar].name}),b.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[q.glitchUsed?"Glitch Offline":"Tap for Info",b.jsx(Nv,{size:8})]})]})]}),b.jsxs("div",{onClick:()=>{yt(gs[q.directive])},className:`
                    flex items-center gap-3 p-2 rounded border border-slate-700 bg-slate-800 relative cursor-pointer hover:bg-slate-700
                    ${q.revealed?"border-red-500 bg-red-900/20":""}
                  `,children:[q.directive==="HACKER"&&b.jsxs("div",{className:"absolute -top-2 -right-2 bg-indigo-900 text-indigo-100 text-[10px] px-2 py-0.5 rounded-full border border-indigo-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[b.jsx(Dm,{size:10})," ",q.pingCount||0,"/4"]}),q.directive==="ANTIVIRUS"&&b.jsxs("div",{className:"absolute -top-2 -right-2 bg-teal-900 text-teal-100 text-[10px] px-2 py-0.5 rounded-full border border-teal-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[b.jsx(lT,{size:10})," ",q.antivirusCount||0,"/3"]}),ra.createElement(gs[q.directive].icon,{size:32,className:q.revealed?"text-red-400":"text-fuchsia-400"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-bold text-white uppercase",children:gs[q.directive].name}),b.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[q.revealed?"REVEALED":"Tap for Info",b.jsx(Nv,{size:8})]})]})]}),(q.chips||0)>0&&b.jsx("div",{className:"flex items-center gap-1 bg-yellow-900/30 px-3 py-1 rounded border border-yellow-600/50",children:[...Array(q.chips)].map((Z,Ie)=>b.jsx(Bc,{size:16,className:"text-yellow-400 fill-yellow-900"},Ie))})]}),W&&b.jsx("div",{className:"flex items-center gap-4",children:b.jsx("div",{className:"text-xs text-green-400 font-bold animate-pulse",children:"AWAITING_INPUT..."})})]}),b.jsx("div",{className:"w-full overflow-x-auto pb-4 pt-6 px-4",children:b.jsx("div",{className:"flex gap-2 w-fit mx-auto",children:q.hand.map((Z,Ie)=>{const Me=S===Ie;return b.jsx("div",{className:`transition-all duration-200 ${Me?"-translate-y-4":"hover:-translate-y-2"}`,children:b.jsx(hT,{type:Z,onClick:()=>W?x(Ie):null,highlight:Me,disabled:!W||q.isEliminated})},Ie)})})}),W&&b.jsx("div",{className:"absolute top-0 left-0 right-0 -mt-16 flex justify-center gap-2 pointer-events-none",children:b.jsx("div",{className:"pointer-events-auto flex gap-2",children:ue?b.jsxs(b.Fragment,{children:[de?b.jsxs("div",{className:"bg-yellow-600 text-black px-4 py-2 rounded font-bold animate-bounce shadow-lg border border-yellow-400 flex items-center gap-2",children:[te?b.jsx(aC,{size:16}):b.jsx(Dm,{size:16}),"Select Target to ",te?"Trade":"Ping"]}):b.jsxs("button",{onClick:()=>Is(),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all hover:scale-105",children:[b.jsx(cN,{size:16})," Execute ",xp[ue].name]}),b.jsx("button",{onClick:()=>x(null),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white shadow-lg transition-colors",children:b.jsx(Xo,{size:20})})]}):(()=>{const Z=q.avatar==="ADMIN"?7:5,Ie=q.hand.length<=Z;return b.jsx("button",{onClick:$i,disabled:!Ie,className:`
                            px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all
                            ${Ie?"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-500":"bg-red-900/50 text-red-400 border border-red-800 cursor-not-allowed opacity-80"}
                          `,children:Ie?b.jsxs(b.Fragment,{children:[b.jsx(qC,{size:16})," SKIP TURN"]}):b.jsxs(b.Fragment,{children:[b.jsx(Mo,{size:16})," HAND LIMIT EXCEEDED"]})})})()})}),U&&b.jsxs("div",{className:"absolute inset-0 bg-slate-950/95 z-50 flex flex-col items-center justify-center rounded-t-2xl animate-in slide-in-from-bottom-10",children:[b.jsx(Mo,{size:48,className:"text-red-500 mb-2 animate-pulse"}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"WARNING: GLITCH DETECTED"}),b.jsxs("p",{className:"text-xs text-red-400 mb-4 max-w-xs text-center",children:["Activating your glitch will"," ",b.jsx("strong",{className:"text-white",children:"REVEAL YOUR DIRECTIVE"})," ","to all players. This cannot be undone."]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 rounded border border-slate-600 text-slate-300 hover:bg-slate-800",children:"CANCEL"}),Be?b.jsx("div",{className:"px-4 py-2 rounded bg-fuchsia-900/50 text-fuchsia-200 border border-fuchsia-500 animate-pulse",children:"Select Target Player"}):b.jsx("button",{onClick:()=>Cs(),className:"px-4 py-2 rounded bg-red-600 hover:bg-red-500 text-white font-bold shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"CONFIRM EXECUTION"})]})]})]})]}),tt&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 rounded-lg w-full max-w-md h-[60vh] flex flex-col border border-slate-700",children:[b.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between",children:[b.jsx("h3",{className:"text-white font-bold",children:"System Logs"}),b.jsx("button",{onClick:()=>ht(!1),children:b.jsx(Xo,{className:"text-slate-400"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 font-mono text-xs",children:[...T.logs].filter(Z=>Z.viewerId==="all"||Z.viewerId===s.uid).reverse().map(Z=>b.jsxs("div",{className:`p-2 border-l-2 ${Z.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":Z.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,children:[b.jsxs("span",{className:"opacity-50 mr-2",children:["[",new Date(Z.id).toLocaleTimeString(),"]"]}),Z.text]},Z.id))})]})}),Ke&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 rounded border border-slate-700 p-6 text-center",children:[b.jsx("h3",{className:"text-white font-bold mb-4",children:"Disconnect from Server?"}),b.jsxs("div",{className:"flex gap-4 justify-center",children:[b.jsx("button",{onClick:()=>C(!1),className:"bg-slate-700 px-4 py-2 rounded text-white",children:"Cancel"}),b.jsx("button",{onClick:Nt,className:"bg-red-600 px-4 py-2 rounded text-white",children:"Disconnect"}),ne&&b.jsxs("button",{onClick:_t,className:"bg-orange-600 px-4 py-2 rounded text-white flex items-center gap-1",children:[b.jsx(NC,{size:16})," Lobby"]})]})]})}),b.jsx(Mv,{})]})}return null}function uN(s){return["GHOST","ADMIN","SEARCH_ENGINE"].includes(s)}const cN=oC;Jb.createRoot(document.getElementById("root")).render(b.jsx(ct.StrictMode,{children:b.jsx(oN,{})}));
