(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function qb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var kd={exports:{}},Co={};var X0;function Gb(){if(X0)return Co;X0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Co.Fragment=e,Co.jsx=i,Co.jsxs=i,Co}var $0;function Fb(){return $0||($0=1,kd.exports=Gb()),kd.exports}var b=Fb(),Ud={exports:{}},Me={};var J0;function Qb(){if(J0)return Me;J0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,ne={};function Te(O,X,re){this.props=O,this.context=X,this.refs=ne,this.updater=re||ie}Te.prototype.isReactComponent={},Te.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},Te.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ce(){}Ce.prototype=Te.prototype;function be(O,X,re){this.props=O,this.context=X,this.refs=ne,this.updater=re||ie}var We=be.prototype=new Ce;We.constructor=be,ae(We,Te.prototype),We.isPureReactComponent=!0;var ht=Array.isArray;function Xe(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,X,re){var he=re.ref;return{$$typeof:s,type:O,key:X,ref:he!==void 0?he:null,props:re}}function V(O,X){return x(O.type,X,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return X[re]})}var R=/\/+/g;function lt(O,X){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):X.toString(36)}function gt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Xe,Xe):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,X,re,he,_e){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Pe=!1;if(O===null)Pe=!0;else switch(Ie){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(O.$$typeof){case s:case e:Pe=!0;break;case E:return Pe=O._init,G(Pe(O._payload),X,re,he,_e)}}if(Pe)return _e=_e(O),Pe=he===""?"."+lt(O,0):he,ht(_e)?(re="",Pe!=null&&(re=Pe.replace(R,"$&/")+"/"),G(_e,X,re,"",function(Zi){return Zi})):_e!=null&&(N(_e)&&(_e=V(_e,re+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+Pe)),X.push(_e)),1;Pe=0;var Ot=he===""?".":he+":";if(ht(O))for(var _t=0;_t<O.length;_t++)he=O[_t],Ie=Ot+lt(he,_t),Pe+=G(he,X,re,Ie,_e);else if(_t=q(O),typeof _t=="function")for(O=_t.call(O),_t=0;!(he=O.next()).done;)he=he.value,Ie=Ot+lt(he,_t++),Pe+=G(he,X,re,Ie,_e);else if(Ie==="object"){if(typeof O.then=="function")return G(gt(O),X,re,he,_e);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function oe(O,X,re){if(O==null)return O;var he=[],_e=0;return G(O,he,"","",function(Ie){return X.call(re,Ie,_e++)}),he}function ve(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var qe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},et={map:oe,forEach:function(O,X,re){oe(O,function(){X.apply(this,arguments)},re)},count:function(O){var X=0;return oe(O,function(){X++}),X},toArray:function(O){return oe(O,function(X){return X})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Me.Activity=w,Me.Children=et,Me.Component=Te,Me.Fragment=i,Me.Profiler=o,Me.PureComponent=be,Me.StrictMode=a,Me.Suspense=y,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Me.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Me.cache=function(O){return function(){return O.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(O,X,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=ae({},O.props),_e=O.key;if(X!=null)for(Ie in X.key!==void 0&&(_e=""+X.key),X)!A.call(X,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&X.ref===void 0||(he[Ie]=X[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=re;else if(1<Ie){for(var Pe=Array(Ie),Ot=0;Ot<Ie;Ot++)Pe[Ot]=arguments[Ot+2];he.children=Pe}return x(O.type,_e,he)},Me.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Me.createElement=function(O,X,re){var he,_e={},Ie=null;if(X!=null)for(he in X.key!==void 0&&(Ie=""+X.key),X)A.call(X,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=X[he]);var Pe=arguments.length-2;if(Pe===1)_e.children=re;else if(1<Pe){for(var Ot=Array(Pe),_t=0;_t<Pe;_t++)Ot[_t]=arguments[_t+2];_e.children=Ot}if(O&&O.defaultProps)for(he in Pe=O.defaultProps,Pe)_e[he]===void 0&&(_e[he]=Pe[he]);return x(O,Ie,_e)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(O){return{$$typeof:g,render:O}},Me.isValidElement=N,Me.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ve}},Me.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},Me.startTransition=function(O){var X=C.T,re={};C.T=re;try{var he=O(),_e=C.S;_e!==null&&_e(re,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Xe,qe)}catch(Ie){qe(Ie)}finally{X!==null&&re.types!==null&&(X.types=re.types),C.T=X}},Me.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Me.use=function(O){return C.H.use(O)},Me.useActionState=function(O,X,re){return C.H.useActionState(O,X,re)},Me.useCallback=function(O,X){return C.H.useCallback(O,X)},Me.useContext=function(O){return C.H.useContext(O)},Me.useDebugValue=function(){},Me.useDeferredValue=function(O,X){return C.H.useDeferredValue(O,X)},Me.useEffect=function(O,X){return C.H.useEffect(O,X)},Me.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Me.useId=function(){return C.H.useId()},Me.useImperativeHandle=function(O,X,re){return C.H.useImperativeHandle(O,X,re)},Me.useInsertionEffect=function(O,X){return C.H.useInsertionEffect(O,X)},Me.useLayoutEffect=function(O,X){return C.H.useLayoutEffect(O,X)},Me.useMemo=function(O,X){return C.H.useMemo(O,X)},Me.useOptimistic=function(O,X){return C.H.useOptimistic(O,X)},Me.useReducer=function(O,X,re){return C.H.useReducer(O,X,re)},Me.useRef=function(O){return C.H.useRef(O)},Me.useState=function(O){return C.H.useState(O)},Me.useSyncExternalStore=function(O,X,re){return C.H.useSyncExternalStore(O,X,re)},Me.useTransition=function(){return C.H.useTransition()},Me.version="19.2.3",Me}var Z0;function Mm(){return Z0||(Z0=1,Ud.exports=Qb()),Ud.exports}var rt=Mm();const la=qb(rt);var Ld={exports:{}},No={},jd={exports:{}},Pd={};var W0;function Yb(){return W0||(W0=1,(function(s){function e(G,oe){var ve=G.length;G.push(oe);e:for(;0<ve;){var qe=ve-1>>>1,et=G[qe];if(0<o(et,oe))G[qe]=oe,G[ve]=et,ve=qe;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var oe=G[0],ve=G.pop();if(ve!==oe){G[0]=ve;e:for(var qe=0,et=G.length,O=et>>>1;qe<O;){var X=2*(qe+1)-1,re=G[X],he=X+1,_e=G[he];if(0>o(re,ve))he<et&&0>o(_e,re)?(G[qe]=_e,G[he]=ve,qe=he):(G[qe]=re,G[X]=ve,qe=X);else if(he<et&&0>o(_e,ve))G[qe]=_e,G[he]=ve,qe=he;else break e}}return oe}function o(G,oe){var ve=G.sortIndex-oe.sortIndex;return ve!==0?ve:G.id-oe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],E=1,w=null,M=3,q=!1,ie=!1,ae=!1,ne=!1,Te=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function We(G){for(var oe=i(_);oe!==null;){if(oe.callback===null)a(_);else if(oe.startTime<=G)a(_),oe.sortIndex=oe.expirationTime,e(y,oe);else break;oe=i(_)}}function ht(G){if(ae=!1,We(G),!ie)if(i(y)!==null)ie=!0,Xe||(Xe=!0,U());else{var oe=i(_);oe!==null&&gt(ht,oe.startTime-G)}}var Xe=!1,C=-1,A=5,x=-1;function V(){return ne?!0:!(s.unstable_now()-x<A)}function N(){if(ne=!1,Xe){var G=s.unstable_now();x=G;var oe=!0;try{e:{ie=!1,ae&&(ae=!1,Ce(C),C=-1),q=!0;var ve=M;try{t:{for(We(G),w=i(y);w!==null&&!(w.expirationTime>G&&V());){var qe=w.callback;if(typeof qe=="function"){w.callback=null,M=w.priorityLevel;var et=qe(w.expirationTime<=G);if(G=s.unstable_now(),typeof et=="function"){w.callback=et,We(G),oe=!0;break t}w===i(y)&&a(y),We(G)}else a(y);w=i(y)}if(w!==null)oe=!0;else{var O=i(_);O!==null&&gt(ht,O.startTime-G),oe=!1}}break e}finally{w=null,M=ve,q=!1}oe=void 0}}finally{oe?U():Xe=!1}}}var U;if(typeof be=="function")U=function(){be(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,lt=R.port2;R.port1.onmessage=N,U=function(){lt.postMessage(null)}}else U=function(){Te(N,0)};function gt(G,oe){C=Te(function(){G(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var oe=3;break;default:oe=M}var ve=M;M=oe;try{return G()}finally{M=ve}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ve=M;M=G;try{return oe()}finally{M=ve}},s.unstable_scheduleCallback=function(G,oe,ve){var qe=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?qe+ve:qe):ve=qe,G){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=ve+et,G={id:E++,callback:oe,priorityLevel:G,startTime:ve,expirationTime:et,sortIndex:-1},ve>qe?(G.sortIndex=ve,e(_,G),i(y)===null&&G===i(_)&&(ae?(Ce(C),C=-1):ae=!0,gt(ht,ve-qe))):(G.sortIndex=et,e(y,G),ie||q||(ie=!0,Xe||(Xe=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var oe=M;return function(){var ve=M;M=oe;try{return G.apply(this,arguments)}finally{M=ve}}}})(Pd)),Pd}var e_;function Kb(){return e_||(e_=1,jd.exports=Yb()),jd.exports}var zd={exports:{}},pn={};var t_;function Xb(){if(t_)return pn;t_=1;var s=Mm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},pn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},pn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},pn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},pn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,w=g(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:q}):E==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},pn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},pn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,w=g(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},pn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},pn.requestFormReset=function(y){a.d.r(y)},pn.unstable_batchedUpdates=function(y,_){return y(_)},pn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.3",pn}var n_;function $b(){if(n_)return zd.exports;n_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=Xb(),zd.exports}var i_;function Jb(){if(i_)return No;i_=1;var s=Kb(),e=Mm(),i=$b();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,l=f;break}if(T===l){p=!0,l=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,l=h;break}if(T===l){p=!0,l=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),ie=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),be=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case Te:return"Profiler";case ne:return"StrictMode";case ht:return"Suspense";case Xe:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ie:return"Portal";case be:return t.displayName||"Context";case Ce:return(t._context.displayName||"Context")+".Consumer";case We:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var gt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},qe=[],et=-1;function O(t){return{current:t}}function X(t){0>et||(t.current=qe[et],qe[et]=null,et--)}function re(t,n){et++,qe[et]=t.current,t.current=n}var he=O(null),_e=O(null),Ie=O(null),Pe=O(null);function Ot(t,n){switch(re(Ie,n),re(_e,t),re(he,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_0(n),t=v0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(he),re(he,t)}function _t(){X(he),X(_e),X(Ie)}function Zi(t){t.memoizedState!==null&&re(Pe,t);var n=he.current,r=v0(n,t.type);n!==r&&(re(_e,t),re(he,r))}function Ms(t){_e.current===t&&(X(he),X(_e)),Pe.current===t&&(X(Pe),wo._currentValue=ve)}var Wi,es;function Gn(t){if(Wi===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Wi=n&&n[1]||"",es=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+t+es}var Or=!1;function Mn(t,n){if(!t||Or)return"";Or=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){z=H}t.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),P=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Or=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Gn(r):""}function vi(t,n){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return t.child!==n&&n!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Mn(t.type,!1);case 11:return Mn(t.type.render,!1);case 1:return Mn(t.type,!0);case 31:return Gn("Activity");default:return""}}function Vs(t){try{var n="",r=null;do n+=vi(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var It=Object.prototype.hasOwnProperty,Ct=s.unstable_scheduleCallback,Ei=s.unstable_cancelCallback,ya=s.unstable_shouldYield,Z=s.unstable_requestPaint,F=s.unstable_now,te=s.unstable_getCurrentPriorityLevel,le=s.unstable_ImmediatePriority,ue=s.unstable_UserBlockingPriority,Ne=s.unstable_NormalPriority,ee=s.unstable_LowPriority,fe=s.unstable_IdlePriority,Oe=s.log,je=s.unstable_setDisableYieldValue,ze=null,ce=null;function Y(t){if(typeof Oe=="function"&&je(t),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(ze,t)}catch{}}var pe=Math.clz32?Math.clz32:wt,Se=Math.log,Mt=Math.LN2;function wt(t){return t>>>=0,t===0?32:31-(Se(t)/Mt|0)|0}var vt=256,Ti=262144,jt=4194304;function bi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Si(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=bi(l):(p&=T,p!==0?h=bi(p):r||(r=T&~t,r!==0&&(h=bi(r))))):(T=l&~f,T!==0?h=bi(T):p!==0?h=bi(p):r||(r=l&~t,r!==0&&(h=bi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ri(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function Ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Mr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ph(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var Q=31-pe(r),$=1<<Q;T[Q]=0,I[Q]=-1;var z=P[Q];if(z!==null)for(P[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}r&=~$}l!==0&&Vr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Vr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-pe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Cl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-pe(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Nl(t,n){var r=n&-n;return r=(r&42)!==0?1:kr(r),(r&(t.suspendedLanes|n))!==0?0:r}function kr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ts(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:H0(t.type))}function ai(t,n){var r=oe.p;try{return oe.p=t,n()}finally{oe.p=r}}var li=Math.random().toString(36).slice(2),Pt="__reactFiber$"+li,tn="__reactProps$"+li,wi="__reactContainer$"+li,_a="__reactEvents$"+li,zh="__reactListeners$"+li,mu="__reactHandles$"+li,pu="__reactResources$"+li,Ri="__reactMarker$"+li;function va(t){delete t[Pt],delete t[tn],delete t[_a],delete t[zh],delete t[mu]}function xi(t){var n=t[Pt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[wi]||r[Pt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=R0(t);t!==null;){if(r=t[Pt])return r;t=R0(t)}return n}t=r,r=t.parentNode}return null}function Fn(t){if(t=t[Pt]||t[wi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ii(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(t){t[Ri]=!0}var Dl=new Set,Ol={};function Ci(t,n){Ni(t,n),Ni(t+"Capture",n)}function Ni(t,n){for(Ol[t]=n,t=0;t<n.length;t++)Dl.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function gu(t){return It.call(kl,t)?!0:It.call(Vl,t)?!1:Ml.test(t)?kl[t]=!0:(Vl[t]=!0,!1)}function Ea(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Bt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ul(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ot(t){if(!t._valueTracker){var n=ks(t)?"checked":"value";t._valueTracker=Ul(t,n,""+t[n])}}function Ur(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lr=/[\n"\\]/g;function Sn(t){return t.replace(Lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,r,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ll(t,p,nn(n)):r!=null?Ll(t,p,nn(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function yu(t,n,r,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ot(t);return}r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),ot(t)}function Ll(t,n,r){n==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Us(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,r){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+nn(r):""}function Ls(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(gt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=nn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),ot(t)}function An(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||vu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Pl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&jl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&jl(t,f,n[f])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return js.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var zl=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,Oi=null;function jr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var r=t[tn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[tn]||null;if(!h)throw Error(a(90));Ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ur(l)}break e;case"textarea":_u(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Us(t,!!r.multiple,n,!1)}}}var Aa=!1;function zs(t,n,r){if(Aa)return t(n,r);Aa=!0;try{var l=t(n);return l}finally{if(Aa=!1,(Ps!==null||Oi!==null)&&(dc(),Ps&&(n=Ps,t=Oi,Oi=Ps=null,jr(n),t)))for(n=0;n<t.length;n++)jr(t[n])}}function ui(t,n){var r=t.stateNode;if(r===null)return null;var l=r[tn]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Yn)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{Pr=!1}var Mi=null,Bl=null,zr=null;function Hl(){if(zr)return zr;var t,n=Bl,r=n.length,l,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function Br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function ci(){return!1}function an(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ns:ci,this.isPropagationStopped=ci,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),n}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=an(is),Bs=w({},is,{view:0,detail:0}),ql=an(Bs),Hs,wa,ki,Ra=w({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Hs=t.screenX-ki.screenX,wa=t.screenY-ki.screenY):wa=Hs=0,ki=t),Hs)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Gl=an(Ra),Hr=w({},Ra,{dataTransfer:0}),Tu=an(Hr),bu=w({},Bs,{relatedTarget:0}),qr=an(bu),Fl=w({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=an(Fl),xa=w({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=an(xa),wu=w({},is,{data:0}),Ui=an(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function qs(){return Cu}var En=w({},Bs,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=an(En),Du=w({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=an(Du),u=w({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),m=an(u),v=w({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=an(v),L=w({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=an(L),se=w({},is,{newState:0,oldState:0}),ke=an(se),Vt=[9,13,27,32],it=Yn&&"CompositionEvent"in window,St=null;Yn&&"documentMode"in document&&(St=document.documentMode);var Kn=Yn&&"TextEvent"in window&&!St,Li=Yn&&(!it||St&&8<St&&11>=St),hi=" ",fi=!1;function Gr(t,n){switch(t){case"keyup":return Vt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function dT(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return t=n.data,t===hi&&fi?null:t;default:return null}}function mT(t,n){if(Ca)return t==="compositionend"||!it&&Gr(t,n)?(t=Hl(),zr=Bl=Mi=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Li&&n.locale!=="ko"?null:n.data;default:return null}}var pT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!pT[t.type]:n==="textarea"}function Np(t,n,r,l){Ps?Oi?Oi.push(l):Oi=[l]:Ps=l,n=Ec(n,"onChange"),0<n.length&&(r=new Vi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ql=null,Yl=null;function gT(t){f0(t,0)}function Ou(t){var n=Vn(t);if(Ur(n))return t}function Dp(t,n){if(t==="change")return n}var Op=!1;if(Yn){var Bh;if(Yn){var Hh="oninput"in document;if(!Hh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Hh=typeof Mp.oninput=="function"}Bh=Hh}else Bh=!1;Op=Bh&&(!document.documentMode||9<document.documentMode)}function Vp(){Ql&&(Ql.detachEvent("onpropertychange",kp),Yl=Ql=null)}function kp(t){if(t.propertyName==="value"&&Ou(Yl)){var n=[];Np(n,Yl,t,Qn(t)),zs(gT,n)}}function yT(t,n,r){t==="focusin"?(Vp(),Ql=n,Yl=r,Ql.attachEvent("onpropertychange",kp)):t==="focusout"&&Vp()}function _T(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Yl)}function vT(t,n){if(t==="click")return Ou(n)}function ET(t,n){if(t==="input"||t==="change")return Ou(n)}function TT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:TT;function Kl(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!It.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lp(t,n){var r=Up(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Up(r)}}function jp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?jp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Di(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Di(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bT=Yn&&"documentMode"in document&&11>=document.documentMode,Na=null,Gh=null,Xl=null,Fh=!1;function zp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fh||Na==null||Na!==Di(l)||(l=Na,"selectionStart"in l&&qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Kl(Xl,l)||(Xl=l,l=Ec(Gh,"onSelect"),0<l.length&&(n=new Vi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Na)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Da={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Qh={},Bp={};Yn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Qr(t){if(Qh[t])return Qh[t];if(!Da[t])return t;var n=Da[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Bp)return Qh[t]=n[r];return t}var Hp=Qr("animationend"),qp=Qr("animationiteration"),Gp=Qr("animationstart"),ST=Qr("transitionrun"),AT=Qr("transitionstart"),wT=Qr("transitioncancel"),Fp=Qr("transitionend"),Qp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function di(t,n){Qp.set(t,n),Ci(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Oa=0,Kh=0;function Vu(){for(var t=Oa,n=Kh=Oa=0;n<t;){var r=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Yp(r,h,f)}}function ku(t,n,r,l){Xn[Oa++]=t,Xn[Oa++]=n,Xn[Oa++]=r,Xn[Oa++]=l,Kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xh(t,n,r,l){return ku(t,n,r,l),Uu(t)}function Yr(t,n){return ku(t,null,null,n),Uu(t)}function Yp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-pe(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Uu(t){if(50<_o)throw _o=0,rd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function RT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,r,l){return new RT(t,n,r,l)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rs(t,n){var r=t.alternate;return r===null?(r=Ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Kp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")$h(t)&&(p=1);else if(typeof t=="string")p=Db(t,r,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Ln(31,r,n,h),t.elementType=x,t.lanes=f,t;case ae:return Kr(r.children,h,f,n);case ne:p=8,h|=24;break;case Te:return t=Ln(12,r,n,h|2),t.elementType=Te,t.lanes=f,t;case ht:return t=Ln(13,r,n,h),t.elementType=ht,t.lanes=f,t;case Xe:return t=Ln(19,r,n,h),t.elementType=Xe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:p=10;break e;case Ce:p=9;break e;case We:p=11;break e;case C:p=14;break e;case A:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Ln(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=Ln(7,t,l,n),t.lanes=r,t}function Jh(t,n,r){return t=Ln(6,t,null,n),t.lanes=r,t}function Xp(t){var n=Ln(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,r){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var $p=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var r=$p.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Vs(n)},$p.set(t,n),n)}return{value:t,source:n,stack:Vs(n)}}var Va=[],ka=0,ju=null,$l=0,Jn=[],Zn=0,Gs=null,ji=1,Pi="";function as(t,n){Va[ka++]=$l,Va[ka++]=ju,ju=t,$l=n}function Jp(t,n,r){Jn[Zn++]=ji,Jn[Zn++]=Pi,Jn[Zn++]=Gs,Gs=t;var l=ji;t=Pi;var h=32-pe(l)-1;l&=~(1<<h),r+=1;var f=32-pe(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,ji=1<<32-pe(n)+h|r<<h|l,Pi=f+t}else ji=1<<f|r<<h|l,Pi=t}function Wh(t){t.return!==null&&(as(t,1),Jp(t,1,0))}function ef(t){for(;t===ju;)ju=Va[--ka],Va[ka]=null,$l=Va[--ka],Va[ka]=null;for(;t===Gs;)Gs=Jn[--Zn],Jn[Zn]=null,Pi=Jn[--Zn],Jn[Zn]=null,ji=Jn[--Zn],Jn[Zn]=null}function Zp(t,n){Jn[Zn++]=ji,Jn[Zn++]=Pi,Jn[Zn++]=Gs,ji=n.id,Pi=n.overflow,Gs=t}var ln=null,Et=null,$e=!1,Fs=null,Wn=!1,tf=Error(a(519));function Qs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl($n(n,t)),tf}function Wp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Pt]=t,n[tn]=l,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(r=0;r<Eo.length;r++)He(Eo[r],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),yu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),Ls(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||g0(n.textContent,r)?(l.popover!=null&&(He("beforetoggle",n),He("toggle",n)),l.onScroll!=null&&He("scroll",n),l.onScrollEnd!=null&&He("scrollend",n),l.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||Qs(t,!0)}function eg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:ln=ln.return}}function Ua(t){if(t!==ln)return!1;if(!$e)return eg(t),$e=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ed(t.type,t.memoizedProps)),r=!r),r&&Et&&Qs(t),eg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Et=w0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Et=w0(t)}else n===27?(n=Et,ar(t.type)?(t=wd,wd=null,Et=t):Et=n):Et=ln?ti(t.stateNode.nextSibling):null;return!0}function Xr(){Et=ln=null,$e=!1}function nf(){var t=Fs;return t!==null&&(In===null?In=t:In.push.apply(In,t),Fs=null),t}function Jl(t){Fs===null?Fs=[t]:Fs.push(t)}var sf=O(null),$r=null,ls=null;function Ys(t,n,r){re(sf,n._currentValue),n._currentValue=r}function os(t){t._currentValue=sf.current,X(sf)}function rf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function af(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),rf(f.return,r,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),rf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function La(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Un(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&af(n,t,r,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){$r=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return tg($r,t)}function zu(t,n){return $r===null&&Jr(t),tg(t,n)}function tg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ls===null){if(t===null)throw Error(a(308));ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ls=ls.next=n;return r}var xT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},IT=s.unstable_scheduleCallback,CT=s.unstable_NormalPriority,Ht={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new xT,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&IT(CT,function(){t.controller.abort()})}var Wl=null,of=0,ja=0,Pa=null;function NT(t,n){if(Wl===null){var r=Wl=[];of=0,ja=hd(),Pa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return of++,n.then(ng,ng),n}function ng(){if(--of===0&&Wl!==null){Pa!==null&&(Pa.status="fulfilled");var t=Wl;Wl=null,ja=0,Pa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function DT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ig=G.S;G.S=function(t,n){zy=F(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&NT(t,n),ig!==null&&ig(t,n)};var Zr=O(null);function uf(){var t=Zr.current;return t!==null?t:yt.pooledCache}function Bu(t,n){n===null?re(Zr,Zr.current):re(Zr,n.pool)}function sg(){var t=uf();return t===null?null:{parent:Ht._currentValue,pool:t}}var za=Error(a(460)),cf=Error(a(474)),Hu=Error(a(542)),qu={then:function(){}};function rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ag(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(oi,oi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,og(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,og(t),t}throw ea=n,za}}function Wr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ea=r,za):r}}var ea=null;function lg(){if(ea===null)throw Error(a(459));var t=ea;return ea=null,t}function og(t){if(t===za||t===Hu)throw Error(a(483))}var Ba=null,eo=0;function Gu(t){var n=eo;return eo+=1,Ba===null&&(Ba=[]),ag(Ba,t,n)}function to(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=rs(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,j,K){return D===null||D.tag!==6?(D=Jh(j,k.mode,K),D.return=k,D):(D=h(D,j),D.return=k,D)}function I(k,D,j,K){var Ee=j.type;return Ee===ae?Q(k,D,j.props.children,K,j.key):D!==null&&(D.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Wr(Ee)===D.type)?(D=h(D,j.props),to(D,j),D.return=k,D):(D=Lu(j.type,j.key,j.props,null,k.mode,K),to(D,j),D.return=k,D)}function P(k,D,j,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Zh(j,k.mode,K),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function Q(k,D,j,K,Ee){return D===null||D.tag!==7?(D=Kr(j,k.mode,K,Ee),D.return=k,D):(D=h(D,j),D.return=k,D)}function $(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return j=Lu(D.type,D.key,D.props,null,k.mode,j),to(j,D),j.return=k,j;case ie:return D=Zh(D,k.mode,j),D.return=k,D;case A:return D=Wr(D),$(k,D,j)}if(gt(D)||U(D))return D=Kr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return $(k,Gu(D),j);if(D.$$typeof===be)return $(k,zu(k,D),j);Fu(k,D)}return null}function z(k,D,j,K){var Ee=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Ee!==null?null:T(k,D,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case q:return j.key===Ee?I(k,D,j,K):null;case ie:return j.key===Ee?P(k,D,j,K):null;case A:return j=Wr(j),z(k,D,j,K)}if(gt(j)||U(j))return Ee!==null?null:Q(k,D,j,K,null);if(typeof j.then=="function")return z(k,D,Gu(j),K);if(j.$$typeof===be)return z(k,D,zu(k,j),K);Fu(k,j)}return null}function H(k,D,j,K,Ee){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(j)||null,T(D,k,""+K,Ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return k=k.get(K.key===null?j:K.key)||null,I(D,k,K,Ee);case ie:return k=k.get(K.key===null?j:K.key)||null,P(D,k,K,Ee);case A:return K=Wr(K),H(k,D,j,K,Ee)}if(gt(K)||U(K))return k=k.get(j)||null,Q(D,k,K,Ee,null);if(typeof K.then=="function")return H(k,D,j,Gu(K),Ee);if(K.$$typeof===be)return H(k,D,j,zu(D,K),Ee);Fu(D,K)}return null}function me(k,D,j,K){for(var Ee=null,tt=null,ge=D,Le=D=0,Fe=null;ge!==null&&Le<j.length;Le++){ge.index>Le?(Fe=ge,ge=null):Fe=ge.sibling;var nt=z(k,ge,j[Le],K);if(nt===null){ge===null&&(ge=Fe);break}t&&ge&&nt.alternate===null&&n(k,ge),D=f(nt,D,Le),tt===null?Ee=nt:tt.sibling=nt,tt=nt,ge=Fe}if(Le===j.length)return r(k,ge),$e&&as(k,Le),Ee;if(ge===null){for(;Le<j.length;Le++)ge=$(k,j[Le],K),ge!==null&&(D=f(ge,D,Le),tt===null?Ee=ge:tt.sibling=ge,tt=ge);return $e&&as(k,Le),Ee}for(ge=l(ge);Le<j.length;Le++)Fe=H(ge,k,Le,j[Le],K),Fe!==null&&(t&&Fe.alternate!==null&&ge.delete(Fe.key===null?Le:Fe.key),D=f(Fe,D,Le),tt===null?Ee=Fe:tt.sibling=Fe,tt=Fe);return t&&ge.forEach(function(hr){return n(k,hr)}),$e&&as(k,Le),Ee}function we(k,D,j,K){if(j==null)throw Error(a(151));for(var Ee=null,tt=null,ge=D,Le=D=0,Fe=null,nt=j.next();ge!==null&&!nt.done;Le++,nt=j.next()){ge.index>Le?(Fe=ge,ge=null):Fe=ge.sibling;var hr=z(k,ge,nt.value,K);if(hr===null){ge===null&&(ge=Fe);break}t&&ge&&hr.alternate===null&&n(k,ge),D=f(hr,D,Le),tt===null?Ee=hr:tt.sibling=hr,tt=hr,ge=Fe}if(nt.done)return r(k,ge),$e&&as(k,Le),Ee;if(ge===null){for(;!nt.done;Le++,nt=j.next())nt=$(k,nt.value,K),nt!==null&&(D=f(nt,D,Le),tt===null?Ee=nt:tt.sibling=nt,tt=nt);return $e&&as(k,Le),Ee}for(ge=l(ge);!nt.done;Le++,nt=j.next())nt=H(ge,k,Le,nt.value,K),nt!==null&&(t&&nt.alternate!==null&&ge.delete(nt.key===null?Le:nt.key),D=f(nt,D,Le),tt===null?Ee=nt:tt.sibling=nt,tt=nt);return t&&ge.forEach(function(Hb){return n(k,Hb)}),$e&&as(k,Le),Ee}function pt(k,D,j,K){if(typeof j=="object"&&j!==null&&j.type===ae&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case q:e:{for(var Ee=j.key;D!==null;){if(D.key===Ee){if(Ee=j.type,Ee===ae){if(D.tag===7){r(k,D.sibling),K=h(D,j.props.children),K.return=k,k=K;break e}}else if(D.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Wr(Ee)===D.type){r(k,D.sibling),K=h(D,j.props),to(K,j),K.return=k,k=K;break e}r(k,D);break}else n(k,D);D=D.sibling}j.type===ae?(K=Kr(j.props.children,k.mode,K,j.key),K.return=k,k=K):(K=Lu(j.type,j.key,j.props,null,k.mode,K),to(K,j),K.return=k,k=K)}return p(k);case ie:e:{for(Ee=j.key;D!==null;){if(D.key===Ee)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){r(k,D.sibling),K=h(D,j.children||[]),K.return=k,k=K;break e}else{r(k,D);break}else n(k,D);D=D.sibling}K=Zh(j,k.mode,K),K.return=k,k=K}return p(k);case A:return j=Wr(j),pt(k,D,j,K)}if(gt(j))return me(k,D,j,K);if(U(j)){if(Ee=U(j),typeof Ee!="function")throw Error(a(150));return j=Ee.call(j),we(k,D,j,K)}if(typeof j.then=="function")return pt(k,D,Gu(j),K);if(j.$$typeof===be)return pt(k,D,zu(k,j),K);Fu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,j),K.return=k,k=K):(r(k,D),K=Jh(j,k.mode,K),K.return=k,k=K),p(k)):r(k,D)}return function(k,D,j,K){try{eo=0;var Ee=pt(k,D,j,K);return Ba=null,Ee}catch(ge){if(ge===za||ge===Hu)throw ge;var tt=Ln(29,ge,null,k.mode);return tt.lanes=K,tt.return=k,tt}}}var ta=ug(!0),cg=ug(!1),Ks=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Uu(t),Yp(t,null,r),n}return ku(t,l,n,r),Uu(t)}function no(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cl(t,r)}}function df(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var mf=!1;function io(){if(mf){var t=Pa;if(t!==null)throw t}}function so(t,n,r,l){mf=!1;var h=t.updateQueue;Ks=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==p&&(T===null?Q.firstBaseUpdate=P:T.next=P,Q.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,Q=P=I=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Ge&z)===z:(l&z)===z){z!==0&&z===ja&&(mf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,we=T;z=n;var pt=r;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){$=me.call(pt,$,z);break e}$=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,z=typeof me=="function"?me.call(pt,$,z):me,z==null)break e;$=w({},$,z);break e;case 2:Ks=!0}}z=T.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(P=Q=H,I=$):Q=Q.next=H,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=$),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),tr|=p,t.lanes=p,t.memoizedState=$}}function hg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function fg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)hg(r[t],n)}var Ha=O(null),Qu=O(0);function dg(t,n){t=ys,re(Qu,t),re(Ha,n),ys=t|n.baseLanes}function pf(){re(Qu,ys),re(Ha,Ha.current)}function gf(){ys=Qu.current,X(Ha),X(Qu)}var jn=O(null),ei=null;function Js(t){var n=t.alternate;re(kt,kt.current&1),re(jn,t),ei===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(ei=t)}function yf(t){re(kt,kt.current),re(jn,t),ei===null&&(ei=t)}function mg(t){t.tag===22?(re(kt,kt.current),re(jn,t),ei===null&&(ei=t)):Zs()}function Zs(){re(kt,kt.current),re(jn,jn.current)}function Pn(t){X(jn),ei===t&&(ei=null),X(kt)}var kt=O(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sd(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var us=0,Ue=null,dt=null,qt=null,Ku=!1,qa=!1,na=!1,Xu=0,ro=0,Ga=null,OT=0;function Nt(){throw Error(a(321))}function _f(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Un(t[r],n[r]))return!1;return!0}function vf(t,n,r,l,h,f){return us=f,Ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Jg:Vf,na=!1,f=r(l,h),na=!1,qa&&(f=gg(n,r,l,h)),pg(t),f}function pg(t){G.H=oo;var n=dt!==null&&dt.next!==null;if(us=0,qt=dt=Ue=null,Ku=!1,ro=0,Ga=null,n)throw Error(a(300));t===null||Gt||(t=t.dependencies,t!==null&&Pu(t)&&(Gt=!0))}function gg(t,n,r,l){Ue=t;var h=0;do{if(qa&&(Ga=null),ro=0,qa=!1,25<=h)throw Error(a(301));if(h+=1,qt=dt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Zg,f=n(r,l)}while(qa);return f}function MT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Ue.flags|=1024),n}function Ef(){var t=Xu!==0;return Xu=0,t}function Tf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function bf(t){if(Ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ku=!1}us=0,qt=dt=Ue=null,qa=!1,ro=Xu=0,Ga=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ue.memoizedState=qt=t:qt=qt.next=t,qt}function Ut(){if(dt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var n=qt===null?Ue.memoizedState:qt.next;if(n!==null)qt=n,dt=t;else{if(t===null)throw Ue.alternate===null?Error(a(467)):Error(a(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},qt===null?Ue.memoizedState=qt=t:qt=qt.next=t}return qt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var n=ro;return ro+=1,Ga===null&&(Ga=[]),t=ag(Ga,t,n),n=Ue,(qt===null?n.memoizedState:qt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Jg:Vf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===be)return on(t)}throw Error(a(438,String(t)))}function Sf(t){var n=null,r=Ue.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=$u(),Ue.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function cs(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=Ut();return Af(n,dt,t)}function Af(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,I=null,P=n,Q=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Ge&$)===$:(us&$)===$){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===ja&&(Q=!0);else if((us&z)===z){P=P.next,z===ja&&(Q=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=$,p=f):I=I.next=$,Ue.lanes|=z,tr|=z;$=P.action,na&&r(f,$),f=P.hasEagerState?P.eagerState:r(f,$)}else z={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=z,p=f):I=I.next=z,Ue.lanes|=$,tr|=$;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=T,!Un(f,t.memoizedState)&&(Gt=!0,Q&&(r=Pa,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wf(t){var n=Ut(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Un(f,n.memoizedState)||(Gt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function yg(t,n,r){var l=Ue,h=Ut(),f=$e;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Un((dt||h).memoizedState,r);if(p&&(h.memoizedState=r,Gt=!0),h=h.queue,If(Eg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},vg.bind(null,l,h,r,n),null),yt===null)throw Error(a(349));f||(us&127)!==0||_g(l,n,r)}return r}function _g(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ue.updateQueue,n===null?(n=$u(),Ue.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vg(t,n,r,l){n.value=r,n.getSnapshot=l,Tg(n)&&bg(t)}function Eg(t,n,r){return r(function(){Tg(n)&&bg(t)})}function Tg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Un(t,r)}catch{return!0}}function bg(t){var n=Yr(t,2);n!==null&&Cn(n,t,2)}function Rf(t){var n=Tn();if(typeof t=="function"){var r=t;if(t=r(),na){Y(!0);try{r()}finally{Y(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n}function Sg(t,n,r,l){return t.baseState=r,Af(t,dt,typeof l=="function"?l:cs)}function VT(t,n,r,l,h){if(tc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Ag(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ag(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=r(h,l),I=G.S;I!==null&&I(p,T),wg(t,n,T)}catch(P){xf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,l),wg(t,n,f)}catch(P){xf(t,n,P)}}function wg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Rg(t,n,l)},function(l){return xf(t,n,l)}):Rg(t,n,r)}function Rg(t,n,r){n.status="fulfilled",n.value=r,xg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ag(t,r)))}function xf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,xg(n),n=n.next;while(n!==l)}t.action=null}function xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ig(t,n){return n}function Cg(t,n){if($e){var r=yt.formState;if(r!==null){e:{var l=Ue;if($e){if(Et){t:{for(var h=Et,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Et=ti(h.nextSibling),l=h.data==="F!";break e}}Qs(l)}l=!1}l&&(n=r[0])}}return r=Tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},r.queue=l,r=Kg.bind(null,Ue,l),l.dispatch=r,l=Rf(!1),f=Mf.bind(null,Ue,!1,l.queue),l=Tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=VT.bind(null,Ue,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Ng(t){var n=Ut();return Dg(n,dt,t)}function Dg(t,n,r){if(n=Af(t,n,Ig)[0],t=Zu(cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ao(n)}catch(p){throw p===za?Hu:p}else l=n;n=Ut();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ue.flags|=2048,Fa(9,{destroy:void 0},kT.bind(null,h,r),null)),[l,f,t]}function kT(t,n){t.action=n}function Og(t){var n=Ut(),r=dt;if(r!==null)return Dg(n,r,t);Ut(),n=n.memoizedState,r=Ut();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Fa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ue.updateQueue,n===null&&(n=$u(),Ue.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Mg(){return Ut().memoizedState}function Wu(t,n,r,l){var h=Tn();Ue.flags|=t,h.memoizedState=Fa(1|n,{destroy:void 0},r,l===void 0?null:l)}function ec(t,n,r,l){var h=Ut();l=l===void 0?null:l;var f=h.memoizedState.inst;dt!==null&&l!==null&&_f(l,dt.memoizedState.deps)?h.memoizedState=Fa(n,f,r,l):(Ue.flags|=t,h.memoizedState=Fa(1|n,f,r,l))}function Vg(t,n){Wu(8390656,8,t,n)}function If(t,n){ec(2048,8,t,n)}function UT(t){Ue.flags|=4;var n=Ue.updateQueue;if(n===null)n=$u(),Ue.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function kg(t){var n=Ut().memoizedState;return UT({ref:n,nextImpl:t}),function(){if((st&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ug(t,n){return ec(4,2,t,n)}function Lg(t,n){return ec(4,4,t,n)}function jg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pg(t,n,r){r=r!=null?r.concat([t]):null,ec(4,4,jg.bind(null,n,t),r)}function Cf(){}function zg(t,n){var r=Ut();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&_f(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Bg(t,n){var r=Ut();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&_f(n,l[1]))return l[0];if(l=t(),na){Y(!0);try{t()}finally{Y(!1)}}return r.memoizedState=[l,n],l}function Nf(t,n,r){return r===void 0||(us&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Hy(),Ue.lanes|=t,tr|=t,r)}function Hg(t,n,r,l){return Un(r,n)?r:Ha.current!==null?(t=Nf(t,r,l),Un(t,n)||(Gt=!0),t):(us&42)===0||(us&1073741824)!==0&&(Ge&261930)===0?(Gt=!0,t.memoizedState=r):(t=Hy(),Ue.lanes|=t,tr|=t,n)}function qg(t,n,r,l,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Mf(t,!1,n,r);try{var I=h(),P=G.S;if(P!==null&&P(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=DT(I,l);lo(t,n,Q,Hn(t))}else lo(t,n,l,Hn(t))}catch($){lo(t,n,{then:function(){},status:"rejected",reason:$},Hn())}finally{oe.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function LT(){}function Df(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Gg(t).queue;qg(t,h,n,ve,r===null?LT:function(){return Fg(t),r(l)})}function Gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ve},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Fg(t){var n=Gg(t);n.next===null&&(n=t.alternate.memoizedState),lo(t,n.next.queue,{},Hn())}function Of(){return on(wo)}function Qg(){return Ut().memoizedState}function Yg(){return Ut().memoizedState}function jT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Hn();t=Xs(r);var l=$s(n,t,r);l!==null&&(Cn(l,n,r),no(l,n,r)),n={cache:lf()},t.payload=n;return}n=n.return}}function PT(t,n,r){var l=Hn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},tc(t)?Xg(n,r):(r=Xh(t,n,r,l),r!==null&&(Cn(r,t,l),$g(r,n,l)))}function Kg(t,n,r){var l=Hn();lo(t,n,r,l)}function lo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Xg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,Un(T,p))return ku(t,n,h,0),yt===null&&Vu(),!1}catch{}if(r=Xh(t,n,h,l),r!==null)return Cn(r,t,l),$g(r,n,l),!0}return!1}function Mf(t,n,r,l){if(l={lane:2,revertLane:hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(a(479))}else n=Xh(t,r,l,2),n!==null&&Cn(n,t,2)}function tc(t){var n=t.alternate;return t===Ue||n!==null&&n===Ue}function Xg(t,n){qa=Ku=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function $g(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cl(t,r)}}var oo={readContext:on,use:Ju,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};oo.useEffectEvent=Nt;var Jg={readContext:on,use:Ju,useCallback:function(t,n){return Tn().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:Vg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wu(4194308,4,jg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var r=Tn();n=n===void 0?null:n;var l=t();if(na){Y(!0);try{t()}finally{Y(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Tn();if(r!==void 0){var h=r(n);if(na){Y(!0);try{r(n)}finally{Y(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=PT.bind(null,Ue,t),[l.memoizedState,t]},useRef:function(t){var n=Tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,r=Kg.bind(null,Ue,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Tn();return Nf(r,t,n)},useTransition:function(){var t=Rf(!1);return t=qg.bind(null,Ue,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ue,h=Tn();if($e){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),yt===null)throw Error(a(349));(Ge&127)!==0||_g(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Vg(Eg.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},vg.bind(null,l,f,r,n),null),r},useId:function(){var t=Tn(),n=yt.identifierPrefix;if($e){var r=Pi,l=ji;r=(l&~(1<<32-pe(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Xu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=OT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Of,useFormState:Cg,useActionState:Cg,useOptimistic:function(t){var n=Tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mf.bind(null,Ue,!0,r),r.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return Tn().memoizedState=jT.bind(null,Ue)},useEffectEvent:function(t){var n=Tn(),r={impl:t};return n.memoizedState=r,function(){if((st&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vf={readContext:on,use:Ju,useCallback:zg,useContext:on,useEffect:If,useImperativeHandle:Pg,useInsertionEffect:Ug,useLayoutEffect:Lg,useMemo:Bg,useReducer:Zu,useRef:Mg,useState:function(){return Zu(cs)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Ut();return Hg(r,dt.memoizedState,t,n)},useTransition:function(){var t=Zu(cs)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:Of,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,n){var r=Ut();return Sg(r,dt,t,n)},useMemoCache:Sf,useCacheRefresh:Yg};Vf.useEffectEvent=kg;var Zg={readContext:on,use:Ju,useCallback:zg,useContext:on,useEffect:If,useImperativeHandle:Pg,useInsertionEffect:Ug,useLayoutEffect:Lg,useMemo:Bg,useReducer:wf,useRef:Mg,useState:function(){return wf(cs)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Ut();return dt===null?Nf(r,t,n):Hg(r,dt.memoizedState,t,n)},useTransition:function(){var t=wf(cs)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:Of,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var r=Ut();return dt!==null?Sg(r,dt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Yg};Zg.useEffectEvent=kg;function kf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Hn(),h=Xs(l);h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,l),n!==null&&(Cn(n,t,l),no(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Hn(),h=Xs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,l),n!==null&&(Cn(n,t,l),no(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Hn(),l=Xs(r);l.tag=2,n!=null&&(l.callback=n),n=$s(t,l,r),n!==null&&(Cn(n,t,r),no(n,t,r))}};function Wg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Kl(r,l)||!Kl(h,f):!0}function ey(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ty(t){Mu(t)}function ny(t){console.error(t)}function iy(t){Mu(t)}function nc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function sy(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(t,n,r){return r=Xs(r),r.tag=3,r.payload={element:null},r.callback=function(){nc(t,n)},r}function ry(t){return t=Xs(t),t.tag=3,t}function ay(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){sy(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){sy(n,r,l),typeof h!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function zT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&La(n,r,h,!0),r=jn.current,r!==null){switch(r.tag){case 31:case 13:return ei===null?mc():r.alternate===null&&Dt===0&&(Dt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),od(t,l,h)),!1;case 22:return r.flags|=65536,l===qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),od(t,l,h)),!1}throw Error(a(435,r.tag))}return od(t,l,h),mc(),!1}if($e)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==tf&&(t=Error(a(422),{cause:l}),Jl($n(t,r)))):(l!==tf&&(n=Error(a(423),{cause:l}),Jl($n(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$n(l,r),h=Lf(t.stateNode,l,h),df(t,h),Dt!==4&&(Dt=2)),!1;var f=Error(a(520),{cause:l});if(f=$n(f,r),yo===null?yo=[f]:yo.push(f),Dt!==4&&(Dt=2),n===null)return!0;l=$n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Lf(r.stateNode,l,t),df(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ry(h),ay(h,t,r,l),df(r,h),!1}r=r.return}while(r!==null);return!1}var jf=Error(a(461)),Gt=!1;function un(t,n,r,l){n.child=t===null?cg(n,null,r,l):ta(n,t.child,r,l)}function ly(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Jr(n),l=vf(t,n,r,p,f,h),T=Ef(),t!==null&&!Gt?(Tf(t,n,h),hs(t,n,h)):($e&&T&&Wh(n),n.flags|=1,un(t,n,l,h),n.child)}function oy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,uy(t,n,f,l,h)):(t=Lu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Kl,r(p,l)&&t.ref===n.ref)return hs(t,n,h)}return n.flags|=1,t=rs(f,l),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Kl(f,l)&&t.ref===n.ref)if(Gt=!1,n.pendingProps=l=f,Qf(t,h))(t.flags&131072)!==0&&(Gt=!0);else return n.lanes=t.lanes,hs(t,n,h)}return Pf(t,n,r,l,h)}function cy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return hy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?dg(n,f):pf(),mg(n);else return l=n.lanes=536870912,hy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Bu(n,f.cachePool),dg(n,f),Zs(),n.memoizedState=null):(t!==null&&Bu(n,null),pf(),Zs());return un(t,n,h,r),n.child}function uo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(t,n,r,l,h){var f=uf();return f=f===null?null:{parent:Ht._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Bu(n,null),pf(),mg(n),t!==null&&La(t,n,l,!0),n.childLanes=h,null}function ic(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function fy(t,n,r){return ta(n,t.child,null,r),t=ic(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function BT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if($e){if(l.mode==="hidden")return t=ic(n,l),n.lanes=536870912,uo(null,t);if(yf(n),(t=Et)?(t=A0(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:ji,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Xp(t),r.return=n,n.child=r,ln=n,Et=null)):t=null,t===null)throw Qs(n);return n.lanes=536870912,null}return ic(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=fy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Gt||La(t,n,r,!1),h=(r&t.childLanes)!==0,Gt||h){if(l=yt,l!==null&&(p=Nl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Yr(t,p),Cn(l,t,p),jf;mc(),n=fy(t,n,r)}else t=f.treeContext,Et=ti(p.nextSibling),ln=n,$e=!0,Fs=null,Wn=!1,t!==null&&Zp(n,t),n=ic(n,l),n.flags|=4096;return n}return t=rs(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Pf(t,n,r,l,h){return Jr(n),r=vf(t,n,r,l,void 0,h),l=Ef(),t!==null&&!Gt?(Tf(t,n,h),hs(t,n,h)):($e&&l&&Wh(n),n.flags|=1,un(t,n,r,h),n.child)}function dy(t,n,r,l,h,f){return Jr(n),n.updateQueue=null,r=gg(n,l,r,h),pg(t),l=Ef(),t!==null&&!Gt?(Tf(t,n,f),hs(t,n,f)):($e&&l&&Wh(n),n.flags|=1,un(t,n,r,f),n.child)}function my(t,n,r,l,h){if(Jr(n),n.stateNode===null){var f=Ma,p=r.contextType;typeof p=="object"&&p!==null&&(f=on(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?on(p):Ma,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(kf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),so(n,l,f,h),io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=ia(r,T);f.props=I;var P=f.context,Q=r.contextType;p=Ma,typeof Q=="object"&&Q!==null&&(p=on(Q));var $=r.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==p)&&ey(n,f,l,p),Ks=!1;var z=n.memoizedState;f.state=z,so(n,l,f,h),io(),P=n.memoizedState,T||z!==P||Ks?(typeof $=="function"&&(kf(n,r,$,l),P=n.memoizedState),(I=Ks||Wg(n,r,I,l,z,P,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ff(t,n),p=n.memoizedProps,Q=ia(r,p),f.props=Q,$=n.pendingProps,z=f.context,P=r.contextType,I=Ma,typeof P=="object"&&P!==null&&(I=on(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||z!==I)&&ey(n,f,l,I),Ks=!1,z=n.memoizedState,f.state=z,so(n,l,f,h),io();var H=n.memoizedState;p!==$||z!==H||Ks||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof T=="function"&&(kf(n,r,T,l),H=n.memoizedState),(Q=Ks||Wg(n,r,Q,l,z,H,I)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,sc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ta(n,t.child,null,h),n.child=ta(n,null,r,h)):un(t,n,r,h),n.memoizedState=f.state,t=n.child):t=hs(t,n,h),t}function py(t,n,r,l){return Xr(),n.flags|=256,un(t,n,r,l),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:sg()}}function Hf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Bn),t}function gy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if($e){if(h?Js(n):Zs(),(t=Et)?(t=A0(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:ji,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Xp(t),r.return=n,n.child=r,ln=n,Et=null)):t=null,t===null)throw Qs(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Zs(),h=n.mode,T=rc({mode:"hidden",children:T},h),l=Kr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Bf(r),l.childLanes=Hf(t,p,r),n.memoizedState=zf,uo(null,l)):(Js(n),qf(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Js(n),n.flags&=-257,n=Gf(t,n,r)):n.memoizedState!==null?(Zs(),n.child=t.child,n.flags|=128,n=null):(Zs(),T=l.fallback,h=n.mode,l=rc({mode:"visible",children:l.children},h),T=Kr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ta(n,t.child,null,r),l=n.child,l.memoizedState=Bf(r),l.childLanes=Hf(t,p,r),n.memoizedState=zf,n=uo(null,l));else if(Js(n),Ad(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Jl({value:l,source:null,stack:null}),n=Gf(t,n,r)}else if(Gt||La(t,n,r,!1),p=(r&t.childLanes)!==0,Gt||p){if(p=yt,p!==null&&(l=Nl(p,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Yr(t,l),Cn(p,t,l),jf;Sd(T)||mc(),n=Gf(t,n,r)}else Sd(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,Et=ti(T.nextSibling),ln=n,$e=!0,Fs=null,Wn=!1,t!==null&&Zp(n,t),n=qf(n,l.children),n.flags|=4096);return n}return h?(Zs(),T=l.fallback,h=n.mode,I=t.child,P=I.sibling,l=rs(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,P!==null?T=rs(P,T):(T=Kr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,uo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Bf(r):(h=T.cachePool,h!==null?(I=Ht._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=sg(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Hf(t,p,r),n.memoizedState=zf,uo(t.child,l)):(Js(n),r=t.child,t=r.sibling,r=rs(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=Ln(22,t,null,n),t.lanes=0,t}function Gf(t,n,r){return ta(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rf(t.return,n,r)}function Ff(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function _y(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=kt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,re(kt,p),un(t,n,l,r),l=$e?$l:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,r,n);else if(t.tag===19)yy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Ff(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Ff(n,!0,r,null,f,l);break;case"together":Ff(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function hs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(La(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=rs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=rs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function HT(t,n,r){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),Ys(n,Ht,t.memoizedState.cache),Xr();break;case 27:case 5:Zi(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:Ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Js(n),n.flags|=128,null):(r&n.child.childLanes)!==0?gy(t,n,r):(Js(n),t=hs(t,n,r),t!==null?t.sibling:null);Js(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(La(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return _y(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(kt,kt.current),l)break;return null;case 22:return n.lanes=0,cy(t,n,r,n.pendingProps);case 24:Ys(n,Ht,t.memoizedState.cache)}return hs(t,n,r)}function vy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Gt=!0;else{if(!Qf(t,r)&&(n.flags&128)===0)return Gt=!1,HT(t,n,r);Gt=(t.flags&131072)!==0}else Gt=!1,$e&&(n.flags&1048576)!==0&&Jp(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Wr(n.elementType),n.type=t,typeof t=="function")$h(t)?(l=ia(t,l),n.tag=1,n=my(null,n,t,l,r)):(n.tag=0,n=Pf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===We){n.tag=11,n=ly(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=oy(null,n,t,l,r);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ia(l,n.pendingProps),my(t,n,l,h,r);case 3:e:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ff(t,n),so(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Ys(n,Ht,l),l!==f.cache&&af(n,[Ht],r,!0),io(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(t,n,l,r);break e}else if(l!==h){h=$n(Error(a(424)),n),Jl(h),n=py(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Et=ti(t.firstChild),ln=n,$e=!0,Fs=null,Wn=!0,r=cg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),l===h){n=hs(t,n,r);break e}un(t,n,l,r)}n=n.child}return n;case 26:return sc(t,n),t===null?(r=N0(n.type,null,n.pendingProps,null))?n.memoizedState=r:$e||(r=n.type,t=n.pendingProps,l=Tc(Ie.current).createElement(r),l[Pt]=n,l[tn]=t,cn(l,r,t),zt(l),n.stateNode=l):n.memoizedState=N0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Zi(n),t===null&&$e&&(l=n.stateNode=x0(n.type,n.pendingProps,Ie.current),ln=n,Wn=!0,h=Et,ar(n.type)?(wd=h,Et=ti(l.firstChild)):Et=h),un(t,n,n.pendingProps.children,r),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&$e&&((h=l=Et)&&(l=_b(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,ln=n,Et=ti(l.firstChild),Wn=!1,h=!0):h=!1),h||Qs(n)),Zi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Ed(h,f)?l=null:p!==null&&Ed(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(t,n,MT,null,null,r),wo._currentValue=h),sc(t,n),un(t,n,l,r),n.child;case 6:return t===null&&$e&&((t=r=Et)&&(r=vb(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,ln=n,Et=null,t=!0):t=!1),t||Qs(n)),null;case 13:return gy(t,n,r);case 4:return Ot(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ta(n,null,l,r):un(t,n,l,r),n.child;case 11:return ly(t,n,n.type,n.pendingProps,r);case 7:return un(t,n,n.pendingProps,r),n.child;case 8:return un(t,n,n.pendingProps.children,r),n.child;case 12:return un(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ys(n,n.type,l.value),un(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=on(h),l=l(h),n.flags|=1,un(t,n,l,r),n.child;case 14:return oy(t,n,n.type,n.pendingProps,r);case 15:return uy(t,n,n.type,n.pendingProps,r);case 19:return _y(t,n,r);case 31:return BT(t,n,r);case 22:return cy(t,n,r,n.pendingProps);case 24:return Jr(n),l=on(Ht),t===null?(h=uf(),h===null&&(h=yt,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},hf(n),Ys(n,Ht,h)):((t.lanes&r)!==0&&(ff(t,n),so(n,null,null,r),io()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ys(n,Ht,l)):(l=f.cache,Ys(n,Ht,l),l!==h.cache&&af(n,[Ht],r,!0))),un(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function fs(t){t.flags|=4}function Yf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw ea=qu,cf}else t.flags&=-16777217}function Ey(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!k0(n))if(Qy())t.flags|=8192;else throw ea=qu,cf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fu():536870912,t.lanes|=n,Xa|=n)}function co(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function qT(t,n,r){var l=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(n),null;case 1:return Tt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),os(Ht),_t(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?fs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),Tt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(fs(n),f!==null?(Tt(n),Ey(n,f)):(Tt(n),Yf(n,h,null,l,r))):f?f!==t.memoizedState?(fs(n),Tt(n),Ey(n,f)):(Tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&fs(n),Tt(n),Yf(n,h,t,l,r)),null;case 27:if(Ms(n),r=Ie.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&fs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Tt(n),null}t=he.current,Ua(n)?Wp(n):(t=x0(h,l,r),n.stateNode=t,fs(n))}return Tt(n),null;case 5:if(Ms(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&fs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Tt(n),null}if(f=he.current,Ua(n))Wp(n);else{var p=Tc(Ie.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Pt]=n,f[tn]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(cn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fs(n)}}return Tt(n),Yf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&fs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ie.current,Ua(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||g0(t.nodeValue,r)),t||Qs(n,!0)}else t=Tc(t).createTextNode(l),t[Pt]=n,n.stateNode=t}return Tt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Pt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),t=!1}else r=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Tt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Pt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),h=!1}else h=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ac(n,n.updateQueue),Tt(n),null);case 4:return _t(),t===null&&pd(n.stateNode.containerInfo),Tt(n),null;case 10:return os(n.type),Tt(n),null;case 19:if(X(kt),l=n.memoizedState,l===null)return Tt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)co(l,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,co(l,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Kp(r,t),r=r.sibling;return re(kt,kt.current&1|2),$e&&as(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&F()>hc&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!$e)return Tt(n),null}else 2*F()-l.renderingStartTime>hc&&r!==536870912&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=F(),t.sibling=null,r=kt.current,re(kt,h?r&1|2:r&1),$e&&as(n,l.treeForkCount),t):(Tt(n),null);case 22:case 23:return Pn(n),gf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Tt(n),n.subtreeFlags&6&&(n.flags|=8192)):Tt(n),r=n.updateQueue,r!==null&&ac(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&X(Zr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),os(Ht),Tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function GT(t,n){switch(ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return os(Ht),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ms(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(kt),null;case 4:return _t(),null;case 10:return os(n.type),null;case 22:case 23:return Pn(n),gf(),t!==null&&X(Zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return os(Ht),null;case 25:return null;default:return null}}function Ty(t,n){switch(ef(n),n.tag){case 3:os(Ht),_t();break;case 26:case 27:case 5:Ms(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:X(kt);break;case 10:os(n.type);break;case 22:case 23:Pn(n),gf(),t!==null&&X(Zr);break;case 24:os(Ht)}}function ho(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(T){ct(n,n.return,T)}}function Ws(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=r,P=T;try{P()}catch(Q){ct(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){ct(n,n.return,Q)}}function by(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{fg(n,r)}catch(l){ct(t,t.return,l)}}}function Sy(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ct(t,n,l)}}function fo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){ct(t,n,h)}}function zi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){ct(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ct(t,n,h)}else r.current=null}function Ay(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){ct(t,t.return,h)}}function Kf(t,n,r){try{var l=t.stateNode;fb(l,t.type,r,n),l[tn]=n}catch(h){ct(t,t.return,h)}}function wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oi));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,r),t=t.sibling;t!==null;)$f(t,n,r),t=t.sibling}function lc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lc(t,n,r),t=t.sibling;t!==null;)lc(t,n,r),t=t.sibling}function Ry(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,r),n[Pt]=t,n[tn]=r}catch(f){ct(t,t.return,f)}}var ds=!1,Ft=!1,Jf=!1,xy=typeof WeakSet=="function"?WeakSet:Set,sn=null;function FT(t,n){if(t=t.containerInfo,_d=Ic,t=Pp(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,I=-1,P=0,Q=0,$=t,z=null;t:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(T=p+h),$!==f||l!==0&&$.nodeType!==3||(I=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===t)break t;if(z===r&&++P===h&&(T=p),z===f&&++Q===l&&(I=p),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}r=T===-1||I===-1?null:{start:T,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:t,selectionRange:r},Ic=!1,sn=n;sn!==null;)if(n=sn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,sn=t;else for(;sn!==null;){switch(n=sn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var me=ia(r.type,h);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){ct(r,r.return,we)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)bd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,sn=t;break}sn=n.return}}function Iy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ps(t,r),l&4&&ho(5,r);break;case 1:if(ps(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){ct(r,r.return,p)}else{var h=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ct(r,r.return,p)}}l&64&&by(r),l&512&&fo(r,r.return);break;case 3:if(ps(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{fg(t,n)}catch(p){ct(r,r.return,p)}}break;case 27:n===null&&l&4&&Ry(r);case 26:case 5:ps(t,r),n===null&&l&4&&Ay(r),l&512&&fo(r,r.return);break;case 12:ps(t,r);break;case 31:ps(t,r),l&4&&Dy(t,r);break;case 13:ps(t,r),l&4&&Oy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=eb.bind(null,r),Eb(t,r))));break;case 22:if(l=r.memoizedState!==null||ds,!l){n=n!==null&&n.memoizedState!==null||Ft,h=ds;var f=Ft;ds=l,(Ft=n)&&!f?gs(t,r,(r.subtreeFlags&8772)!==0):ps(t,r),ds=h,Ft=f}break;case 30:break;default:ps(t,r)}}function Cy(t){var n=t.alternate;n!==null&&(t.alternate=null,Cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,wn=!1;function ms(t,n,r){for(r=r.child;r!==null;)Ny(t,n,r),r=r.sibling}function Ny(t,n,r){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(ze,r)}catch{}switch(r.tag){case 26:Ft||zi(r,n),ms(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ft||zi(r,n);var l=At,h=wn;ar(r.type)&&(At=r.stateNode,wn=!1),ms(t,n,r),bo(r.stateNode),At=l,wn=h;break;case 5:Ft||zi(r,n);case 6:if(l=At,h=wn,At=null,ms(t,n,r),At=l,wn=h,At!==null)if(wn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(r.stateNode)}catch(f){ct(r,n,f)}else try{At.removeChild(r.stateNode)}catch(f){ct(r,n,f)}break;case 18:At!==null&&(wn?(t=At,b0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),il(t)):b0(At,r.stateNode));break;case 4:l=At,h=wn,At=r.stateNode.containerInfo,wn=!0,ms(t,n,r),At=l,wn=h;break;case 0:case 11:case 14:case 15:Ws(2,r,n),Ft||Ws(4,r,n),ms(t,n,r);break;case 1:Ft||(zi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Sy(r,n,l)),ms(t,n,r);break;case 21:ms(t,n,r);break;case 22:Ft=(l=Ft)||r.memoizedState!==null,ms(t,n,r),Ft=l;break;default:ms(t,n,r)}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{il(t)}catch(r){ct(n,n.return,r)}}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(r){ct(n,n.return,r)}}function QT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(a(435,t.tag))}}function oc(t,n){var r=QT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=tb.bind(null,t,l);l.then(h,h)}})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(ar(T.type)){At=T.stateNode,wn=!1;break e}break;case 5:At=T.stateNode,wn=!1;break e;case 3:case 4:At=T.stateNode.containerInfo,wn=!0;break e}T=T.return}if(At===null)throw Error(a(160));Ny(f,p,h),At=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)My(n,t),n=n.sibling}var mi=null;function My(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),xn(t),l&4&&(Ws(3,t,t.return),ho(3,t),Ws(5,t,t.return));break;case 1:Rn(n,t),xn(t),l&512&&(Ft||r===null||zi(r,r.return)),l&64&&ds&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=mi;if(Rn(n,t),xn(t),l&512&&(Ft||r===null||zi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,l,r),f[Pt]=t,zt(f),l=f;break e;case"link":var p=M0("link","href",h).get(l+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),cn(f,l,r),h.head.appendChild(f);break;case"meta":if(p=M0("meta","content",h).get(l+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(l),cn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Pt]=t,zt(f),l=f}t.stateNode=l}else V0(h,t.type,t.stateNode);else t.stateNode=O0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?V0(h,t.type,t.stateNode):O0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Rn(n,t),xn(t),l&512&&(Ft||r===null||zi(r,r.return)),r!==null&&l&4&&Kf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Rn(n,t),xn(t),l&512&&(Ft||r===null||zi(r,r.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(me){ct(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(Rn(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(me){ct(t,t.return,me)}}break;case 3:if(Ac=null,h=mi,mi=bc(n.containerInfo),Rn(n,t),mi=h,xn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{il(n.containerInfo)}catch(me){ct(t,t.return,me)}Jf&&(Jf=!1,Vy(t));break;case 4:l=mi,mi=bc(t.stateNode.containerInfo),Rn(n,t),xn(t),mi=l;break;case 12:Rn(n,t),xn(t);break;case 31:Rn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 13:Rn(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cc=F()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=ds,Q=Ft;if(ds=P||h,Ft=Q||I,Rn(n,t),Ft=Q,ds=P,xn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||ds||Ft||sa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(me){ct(I,I.return,me)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(me){ct(I,I.return,me)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?S0(H,!0):S0(I.stateNode,!1)}catch(me){ct(I,I.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,oc(t,r))));break;case 19:Rn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 30:break;case 21:break;default:Rn(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(wy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Xf(t);lc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(An(p,""),r.flags&=-33);var T=Xf(t);lc(t,T,p);break;case 3:case 4:var I=r.stateNode.containerInfo,P=Xf(t);$f(t,P,I);break;default:throw Error(a(161))}}catch(Q){ct(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ps(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),sa(n);break;case 1:zi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Sy(n,n.return,r),sa(n);break;case 27:bo(n.stateNode);case 26:case 5:zi(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}t=t.sibling}}function gs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:gs(h,f,r),ho(4,f);break;case 1:if(gs(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){ct(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)hg(I[h],T)}catch(P){ct(l,l.return,P)}}r&&p&64&&by(f),fo(f,f.return);break;case 27:Ry(f);case 26:case 5:gs(h,f,r),r&&l===null&&p&4&&Ay(f),fo(f,f.return);break;case 12:gs(h,f,r);break;case 31:gs(h,f,r),r&&p&4&&Dy(h,f);break;case 13:gs(h,f,r),r&&p&4&&Oy(h,f);break;case 22:f.memoizedState===null&&gs(h,f,r),fo(f,f.return);break;case 30:break;default:gs(h,f,r)}n=n.sibling}}function Zf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Zl(r))}function Wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t))}function pi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(t,n,r,l),n=n.sibling}function ky(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,r,l),h&2048&&ho(9,n);break;case 1:pi(t,n,r,l);break;case 3:pi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){pi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ct(n,n.return,I)}}else pi(t,n,r,l);break;case 31:pi(t,n,r,l);break;case 13:pi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,r,l):mo(t,n):f._visibility&2?pi(t,n,r,l):(f._visibility|=2,Qa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:pi(t,n,r,l),h&2048&&Wf(n.alternate,n);break;default:pi(t,n,r,l)}}function Qa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,I=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Qa(f,p,T,I,h),ho(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Qa(f,p,T,I,h):mo(f,p):(Q._visibility|=2,Qa(f,p,T,I,h)),h&&P&2048&&Zf(p.alternate,p);break;case 24:Qa(f,p,T,I,h),h&&P&2048&&Wf(p.alternate,p);break;default:Qa(f,p,T,I,h)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:mo(r,l),h&2048&&Zf(l.alternate,l);break;case 24:mo(r,l),h&2048&&Wf(l.alternate,l);break;default:mo(r,l)}n=n.sibling}}var po=8192;function Ya(t,n,r){if(t.subtreeFlags&po)for(t=t.child;t!==null;)Uy(t,n,r),t=t.sibling}function Uy(t,n,r){switch(t.tag){case 26:Ya(t,n,r),t.flags&po&&t.memoizedState!==null&&Ob(r,mi,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,r);break;case 3:case 4:var l=mi;mi=bc(t.stateNode.containerInfo),Ya(t,n,r),mi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=po,po=16777216,Ya(t,n,r),po=l):Ya(t,n,r));break;default:Ya(t,n,r)}}function Ly(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function go(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];sn=l,Py(l,t)}Ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):go(t);break;default:go(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];sn=l,Py(l,t)}Ly(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),uc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function Py(t,n){for(;sn!==null;){var r=sn;switch(r.tag){case 0:case 11:case 15:Ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,sn=l;else e:for(r=t;sn!==null;){l=sn;var h=l.sibling,f=l.return;if(Cy(l),l===r){sn=null;break e}if(h!==null){h.return=f,sn=h;break e}sn=f}}}var YT={getCacheForType:function(t){var n=on(Ht),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return on(Ht).controller.signal}},KT=typeof WeakMap=="function"?WeakMap:Map,st=0,yt=null,Be=null,Ge=0,ut=0,zn=null,er=!1,Ka=!1,ed=!1,ys=0,Dt=0,tr=0,ra=0,td=0,Bn=0,Xa=0,yo=null,In=null,nd=!1,cc=0,zy=0,hc=1/0,fc=null,nr=null,Jt=0,ir=null,$a=null,_s=0,id=0,sd=null,By=null,_o=0,rd=null;function Hn(){return(st&2)!==0&&Ge!==0?Ge&-Ge:G.T!==null?hd():du()}function Hy(){if(Bn===0)if((Ge&536870912)===0||$e){var t=Ti;Ti<<=1,(Ti&3932160)===0&&(Ti=262144),Bn=t}else Bn=536870912;return t=jn.current,t!==null&&(t.flags|=32),Bn}function Cn(t,n,r){(t===yt&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),sr(t,Ge,Bn,!1)),Mr(t,r),((st&2)===0||t!==yt)&&(t===yt&&((st&2)===0&&(ra|=r),Dt===4&&sr(t,Ge,Bn,!1)),Bi(t))}function qy(t,n,r){if((st&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ri(t,n),h=l?JT(t,n):ld(t,n,!0),f=l;do{if(h===0){Ka&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!XT(r)){h=ld(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=yo;var I=T.current.memoizedState.isDehydrated;if(I&&(Ja(T,p).flags|=256),p=ld(T,p,!1),p!==2){if(ed&&!I){T.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),sr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,Bn,!er);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=cc+300-F(),10<h)){if(sr(l,n,Bn,!er),Si(l,0,!0)!==0)break e;_s=n,l.timeoutHandle=E0(Gy.bind(null,l,r,In,fc,nd,n,Bn,ra,Xa,er,f,"Throttled",-0,0),h);break e}Gy(l,r,In,fc,nd,n,Bn,ra,Xa,er,f,null,-0,0)}}break}while(!0);Bi(t)}function Gy(t,n,r,l,h,f,p,T,I,P,Q,$,z,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Uy(n,f,$);var me=(f&62914560)===f?cc-F():(f&4194048)===f?zy-F():0;if(me=Mb($,me),me!==null){_s=f,t.cancelPendingCommit=me(Zy.bind(null,t,n,f,r,l,h,p,T,I,Q,$,null,z,H)),sr(t,f,p,!P);return}}Zy(t,n,f,r,l,h,p,T,I)}function XT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~td,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-pe(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Vr(t,r,n)}function dc(){return(st&6)===0?(vo(0),!1):!0}function ad(){if(Be!==null){if(ut===0)var t=Be.return;else t=Be,ls=$r=null,bf(t),Ba=null,eo=0,t=Be;for(;t!==null;)Ty(t.alternate,t),t=t.return;Be=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,pb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),_s=0,ad(),yt=t,Be=r=rs(t.current,null),Ge=n,ut=0,zn=null,er=!1,Ka=ri(t,n),ed=!1,Xa=Bn=td=ra=tr=Dt=0,In=yo=null,nd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-pe(l),f=1<<h;n|=t[h],l&=~f}return ys=n,Vu(),r}function Fy(t,n){Ue=null,G.H=oo,n===za||n===Hu?(n=lg(),ut=3):n===cf?(n=lg(),ut=4):ut=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,Be===null&&(Dt=1,nc(t,$n(n,t.current)))}function Qy(){var t=jn.current;return t===null?!0:(Ge&4194048)===Ge?ei===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===ei:!1}function Yy(){var t=G.H;return G.H=oo,t===null?oo:t}function Ky(){var t=G.A;return G.A=YT,t}function mc(){Dt=4,er||(Ge&4194048)!==Ge&&jn.current!==null||(Ka=!0),(tr&134217727)===0&&(ra&134217727)===0||yt===null||sr(yt,Ge,Bn,!1)}function ld(t,n,r){var l=st;st|=2;var h=Yy(),f=Ky();(yt!==t||Ge!==n)&&(fc=null,Ja(t,n)),n=!1;var p=Dt;e:do try{if(ut!==0&&Be!==null){var T=Be,I=zn;switch(ut){case 8:ad(),p=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var P=ut;if(ut=0,zn=null,Za(t,T,I,P),r&&Ka){p=0;break e}break;default:P=ut,ut=0,zn=null,Za(t,T,I,P)}}$T(),p=Dt;break}catch(Q){Fy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ls=$r=null,st=l,G.H=h,G.A=f,Be===null&&(yt=null,Ge=0,Vu()),p}function $T(){for(;Be!==null;)Xy(Be)}function JT(t,n){var r=st;st|=2;var l=Yy(),h=Ky();yt!==t||Ge!==n?(fc=null,hc=F()+500,Ja(t,n)):Ka=ri(t,n);e:do try{if(ut!==0&&Be!==null){n=Be;var f=zn;t:switch(ut){case 1:ut=0,zn=null,Za(t,n,f,1);break;case 2:case 9:if(rg(f)){ut=0,zn=null,$y(n);break}n=function(){ut!==2&&ut!==9||yt!==t||(ut=7),Bi(t)},f.then(n,n);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:rg(f)?(ut=0,zn=null,$y(n)):(ut=0,zn=null,Za(t,n,f,7));break;case 5:var p=null;switch(Be.tag){case 26:p=Be.memoizedState;case 5:case 27:var T=Be;if(p?k0(p):T.stateNode.complete){ut=0,zn=null;var I=T.sibling;if(I!==null)Be=I;else{var P=T.return;P!==null?(Be=P,pc(P)):Be=null}break t}}ut=0,zn=null,Za(t,n,f,5);break;case 6:ut=0,zn=null,Za(t,n,f,6);break;case 8:ad(),Dt=6;break e;default:throw Error(a(462))}}ZT();break}catch(Q){Fy(t,Q)}while(!0);return ls=$r=null,G.H=l,G.A=h,st=r,Be!==null?0:(yt=null,Ge=0,Vu(),Dt)}function ZT(){for(;Be!==null&&!ya();)Xy(Be)}function Xy(t){var n=vy(t.alternate,t,ys);t.memoizedProps=t.pendingProps,n===null?pc(t):Be=n}function $y(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=dy(r,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=dy(r,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:bf(n);default:Ty(r,n),n=Be=Kp(n,ys),n=vy(r,n,ys)}t.memoizedProps=t.pendingProps,n===null?pc(t):Be=n}function Za(t,n,r,l){ls=$r=null,bf(n),Ba=null,eo=0;var h=n.return;try{if(zT(t,h,n,r,Ge)){Dt=1,nc(t,$n(r,t.current)),Be=null;return}}catch(f){if(h!==null)throw Be=h,f;Dt=1,nc(t,$n(r,t.current)),Be=null;return}n.flags&32768?($e||l===1?t=!0:Ka||(Ge&536870912)!==0?t=!1:(er=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jy(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Jy(n,er);return}t=n.return;var r=qT(n.alternate,n,ys);if(r!==null){Be=r;return}if(n=n.sibling,n!==null){Be=n;return}Be=n=t}while(n!==null);Dt===0&&(Dt=5)}function Jy(t,n){do{var r=GT(t.alternate,t);if(r!==null){r.flags&=32767,Be=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Be=t;return}Be=t=r}while(t!==null);Dt=6,Be=null}function Zy(t,n,r,l,h,f,p,T,I){t.cancelPendingCommit=null;do gc();while(Jt!==0);if((st&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,Ph(t,r,f,p,T,I),t===yt&&(Be=yt=null,Ge=0),$a=n,ir=t,_s=r,id=f,sd=h,By=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nb(Ne,function(){return i0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=oe.p,oe.p=2,p=st,st|=4;try{FT(t,n,r)}finally{st=p,oe.p=h,G.T=l}}Jt=1,Wy(),e0(),t0()}}function Wy(){if(Jt===1){Jt=0;var t=ir,n=$a,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=oe.p;oe.p=2;var h=st;st|=4;try{My(n,t);var f=vd,p=Pp(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&jp(T.ownerDocument.documentElement,T)){if(I!==null&&qh(T)){var P=I.start,Q=I.end;if(Q===void 0&&(Q=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(Q,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),me=T.textContent.length,we=Math.min(I.start,me),pt=I.end===void 0?we:Math.min(I.end,me);!H.extend&&we>pt&&(p=pt,pt=we,we=p);var k=Lp(T,we),D=Lp(T,pt);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var j=$.createRange();j.setStart(k.node,k.offset),H.removeAllRanges(),we>pt?(H.addRange(j),H.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),H.addRange(j))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var K=$[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!_d,vd=_d=null}finally{st=h,oe.p=l,G.T=r}}t.current=n,Jt=2}}function e0(){if(Jt===2){Jt=0;var t=ir,n=$a,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=oe.p;oe.p=2;var h=st;st|=4;try{Iy(t,n.alternate,n)}finally{st=h,oe.p=l,G.T=r}}Jt=3}}function t0(){if(Jt===4||Jt===3){Jt=0,Z();var t=ir,n=$a,r=_s,l=By;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Jt=5:(Jt=0,$a=ir=null,n0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(nr=null),ts(r),n=n.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(ze,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=oe.p,oe.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,oe.p=h}}(_s&3)!==0&&gc(),Bi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===rd?_o++:(_o=0,rd=t):_o=0,vo(0)}}function n0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zl(n)))}function gc(){return Wy(),e0(),t0(),i0()}function i0(){if(Jt!==5)return!1;var t=ir,n=id;id=0;var r=ts(_s),l=G.T,h=oe.p;try{oe.p=32>r?32:r,G.T=null,r=sd,sd=null;var f=ir,p=_s;if(Jt=0,$a=ir=null,_s=0,(st&6)!==0)throw Error(a(331));var T=st;if(st|=4,jy(f.current),ky(f,f.current,p,r),st=T,vo(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(ze,f)}catch{}return!0}finally{oe.p=h,G.T=l,n0(t,n)}}function s0(t,n,r){n=$n(r,n),n=Lf(t.stateNode,n,2),t=$s(t,n,2),t!==null&&(Mr(t,2),Bi(t))}function ct(t,n,r){if(t.tag===3)s0(t,t,r);else for(;n!==null;){if(n.tag===3){s0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=$n(r,t),r=ry(2),l=$s(n,r,2),l!==null&&(ay(r,l,n,t),Mr(l,2),Bi(l));break}}n=n.return}}function od(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new KT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(ed=!0,h.add(r),t=WT.bind(null,t,n,r),n.then(t,t))}function WT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,yt===t&&(Ge&r)===r&&(Dt===4||Dt===3&&(Ge&62914560)===Ge&&300>F()-cc?(st&2)===0&&Ja(t,0):td|=r,Xa===Ge&&(Xa=0)),Bi(t)}function r0(t,n){n===0&&(n=fu()),t=Yr(t,n),t!==null&&(Mr(t,n),Bi(t))}function eb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),r0(t,r)}function tb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),r0(t,r)}function nb(t,n){return Ct(t,n)}var yc=null,Wa=null,ud=!1,_c=!1,cd=!1,rr=0;function Bi(t){t!==Wa&&t.next===null&&(Wa===null?yc=Wa=t:Wa=Wa.next=t),_c=!0,ud||(ud=!0,sb())}function vo(t,n){if(!cd&&_c){cd=!0;do for(var r=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-pe(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,u0(l,f))}else f=Ge,f=Si(l,l===yt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ri(l,f)||(r=!0,u0(l,f));l=l.next}while(r);cd=!1}}function ib(){a0()}function a0(){_c=ud=!1;var t=0;rr!==0&&mb()&&(t=rr);for(var n=F(),r=null,l=yc;l!==null;){var h=l.next,f=l0(l,n);f===0?(l.next=null,r===null?yc=h:r.next=h,h===null&&(Wa=r)):(r=l,(t!==0||(f&3)!==0)&&(_c=!0)),l=h}Jt!==0&&Jt!==5||vo(t),rr!==0&&(rr=0)}function l0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-pe(f),T=1<<p,I=h[p];I===-1?((T&r)===0||(T&l)!==0)&&(h[p]=jh(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=yt,r=Ge,r=Si(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ei(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ri(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ei(l),ts(r)){case 2:case 8:r=ue;break;case 32:r=Ne;break;case 268435456:r=fe;break;default:r=Ne}return l=o0.bind(null,t),r=Ct(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ei(l),t.callbackPriority=2,t.callbackNode=null,2}function o0(t,n){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gc()&&t.callbackNode!==r)return null;var l=Ge;return l=Si(t,t===yt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qy(t,l,n),l0(t,F()),t.callbackNode!=null&&t.callbackNode===r?o0.bind(null,t):null)}function u0(t,n){if(gc())return null;qy(t,n,!0)}function sb(){gb(function(){(st&6)!==0?Ct(le,ib):a0()})}function hd(){if(rr===0){var t=ja;t===0&&(t=vt,vt<<=1,(vt&261888)===0&&(vt=256)),rr=t}return rr}function c0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function h0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function rb(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=c0((h[tn]||null).action),p=l.submitter;p&&(n=(n=p[tn]||null)?c0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Vi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rr!==0){var I=p?h0(h,p):new FormData(h);Df(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?h0(h,p):new FormData(h),Df(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var fd=0;fd<Yh.length;fd++){var dd=Yh[fd],ab=dd.toLowerCase(),lb=dd[0].toUpperCase()+dd.slice(1);di(ab,"on"+lb)}di(Hp,"onAnimationEnd"),di(qp,"onAnimationIteration"),di(Gp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(ST,"onTransitionRun"),di(AT,"onTransitionStart"),di(wT,"onTransitionCancel"),di(Fp,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function f0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],I=T.instance,P=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Q){Mu(Q)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(T=l[p],I=T.instance,P=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Q){Mu(Q)}h.currentTarget=null,f=I}}}}function He(t,n){var r=n[_a];r===void 0&&(r=n[_a]=new Set);var l=t+"__bubble";r.has(l)||(d0(n,t,2,!1),r.add(l))}function md(t,n,r){var l=0;n&&(l|=4),d0(r,t,l,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[vc]){t[vc]=!0,Dl.forEach(function(r){r!=="selectionchange"&&(ob.has(r)||md(r,!1,t),md(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,md("selectionchange",!1,n))}}function d0(t,n,r,l){switch(H0(n)){case 2:var h=Ub;break;case 8:h=Lb;break;default:h=Nd}r=h.bind(null,n,r,t),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function gd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=xi(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue e}T=T.parentNode}}l=l.return}zs(function(){var P=f,Q=Qn(r),$=[];e:{var z=Qp.get(t);if(z!==void 0){var H=Vi,me=t;switch(t){case"keypress":if(Br(r)===0)break e;case"keydown":case"keyup":H=Nu;break;case"focusin":me="focus",H=qr;break;case"focusout":me="blur",H=qr;break;case"beforeblur":case"afterblur":H=qr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Hp:case qp:case Gp:H=Su;break;case Fp:H=S;break;case"scroll":case"scrollend":H=ql;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ss;break;case"toggle":case"beforetoggle":H=ke}var we=(n&4)!==0,pt=!we&&(t==="scroll"||t==="scrollend"),k=we?z!==null?z+"Capture":null:z;we=[];for(var D=P,j;D!==null;){var K=D;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||k===null||(K=ui(D,k),K!=null&&we.push(To(D,K,j))),pt)break;D=D.return}0<we.length&&(z=new H(z,me,null,r,Q),$.push({event:z,listeners:we}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==zl&&(me=r.relatedTarget||r.fromElement)&&(xi(me)||me[wi]))break e;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(me=r.relatedTarget||r.toElement,H=P,me=me?xi(me):null,me!==null&&(pt=c(me),we=me.tag,me!==pt||we!==5&&we!==27&&we!==6)&&(me=null)):(H=null,me=P),H!==me)){if(we=Gl,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(we=ss,K="onPointerLeave",k="onPointerEnter",D="pointer"),pt=H==null?z:Vn(H),j=me==null?z:Vn(me),z=new we(K,D+"leave",H,r,Q),z.target=pt,z.relatedTarget=j,K=null,xi(Q)===P&&(we=new we(k,D+"enter",me,r,Q),we.target=j,we.relatedTarget=pt,K=we),pt=K,H&&me)t:{for(we=ub,k=H,D=me,j=0,K=k;K;K=we(K))j++;K=0;for(var Ee=D;Ee;Ee=we(Ee))K++;for(;0<j-K;)k=we(k),j--;for(;0<K-j;)D=we(D),K--;for(;j--;){if(k===D||D!==null&&k===D.alternate){we=k;break t}k=we(k),D=we(D)}we=null}else we=null;H!==null&&m0($,z,H,we,!1),me!==null&&pt!==null&&m0($,pt,me,we,!0)}}e:{if(z=P?Vn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var tt=Dp;else if(Cp(z))if(Op)tt=ET;else{tt=_T;var ge=yT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ba(P.elementType)&&(tt=Dp):tt=vT;if(tt&&(tt=tt(t,P))){Np($,tt,r,Q);break e}ge&&ge(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ll(z,"number",z.value)}switch(ge=P?Vn(P):window,t){case"focusin":(Cp(ge)||ge.contentEditable==="true")&&(Na=ge,Gh=P,Xl=null);break;case"focusout":Xl=Gh=Na=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,zp($,r,Q);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":zp($,r,Q)}var Le;if(it)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ca?Gr(t,r)&&(Fe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Fe="onCompositionStart");Fe&&(Li&&r.locale!=="ko"&&(Ca||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ca&&(Le=Hl()):(Mi=Q,Bl="value"in Mi?Mi.value:Mi.textContent,Ca=!0)),ge=Ec(P,Fe),0<ge.length&&(Fe=new Ui(Fe,t,null,r,Q),$.push({event:Fe,listeners:ge}),Le?Fe.data=Le:(Le=Ia(r),Le!==null&&(Fe.data=Le)))),(Le=Kn?dT(t,r):mT(t,r))&&(Fe=Ec(P,"onBeforeInput"),0<Fe.length&&(ge=new Ui("onBeforeInput","beforeinput",null,r,Q),$.push({event:ge,listeners:Fe}),ge.data=Le)),rb($,t,P,r,Q)}f0($,n)})}function To(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ec(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,r),h!=null&&l.unshift(To(t,h,f)),h=ui(t,n),h!=null&&l.push(To(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ub(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function m0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var T=r,I=T.alternate,P=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||P===null||(I=P,h?(P=ui(r,f),P!=null&&p.unshift(To(r,P,I))):h||(P=ui(r,f),P!=null&&p.push(To(r,P,I)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var cb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function p0(t){return(typeof t=="string"?t:""+t).replace(cb,`
`).replace(hb,"")}function g0(t,n){return n=p0(n),p0(t)===n}function mt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":Pl(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&mt(t,n,"name",h.name,h,null),mt(t,n,"formEncType",h.formEncType,h,null),mt(t,n,"formMethod",h.formMethod,h,null),mt(t,n,"formTarget",h.formTarget,h,null)):(mt(t,n,"encType",h.encType,h,null),mt(t,n,"method",h.method,h,null),mt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":He("beforetoggle",t),He("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eu.get(r)||r,Ea(t,r,l))}}function yd(t,n,r,l,h,f){switch(r){case"style":Pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[tn]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ea(t,r,l)}}}function cn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:mt(t,n,f,p,r,null)}}h&&mt(t,n,"srcSet",r.srcSet,r,null),l&&mt(t,n,"src",r.src,r,null);return;case"input":He("invalid",t);var T=f=p=h=null,I=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:mt(t,n,l,Q,r,null)}}yu(t,f,T,I,P,p,h,!1);return;case"select":He("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:mt(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Us(t,!!l,n,!1):r!=null&&Us(t,!!l,r,!0);return;case"textarea":He("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:mt(t,n,p,T,r,null)}Ls(t,l,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":mt(t,n,I,l,r,null));return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(l=0;l<Eo.length;l++)He(Eo[l],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:mt(t,n,P,l,r,null)}return;default:if(ba(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&yd(t,n,Q,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&mt(t,n,T,l,r,null))}function fb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,P=null,Q=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(H)||mt(t,n,H,null,l,$)}}for(var z in l){var H=l[z];if($=r[z],l.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&mt(t,n,z,H,l,$)}}Ta(t,p,T,I,P,Q,f,h);return;case"select":H=p=T=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||mt(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&mt(t,n,h,f,l,I)}n=T,r=p,l=H,z!=null?Us(t,!!r,z,!1):!!l!=!!r&&(n!=null?Us(t,!!r,n,!0):Us(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:mt(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&mt(t,n,p,h,l,f)}_u(t,z,H);return;case"option":for(var me in r)z=r[me],r.hasOwnProperty(me)&&z!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:mt(t,n,me,null,l,z));for(I in l)z=l[I],H=r[I],l.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null)&&(I==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":mt(t,n,I,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)z=r[we],r.hasOwnProperty(we)&&z!=null&&!l.hasOwnProperty(we)&&mt(t,n,we,null,l,z);for(P in l)if(z=l[P],H=r[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:mt(t,n,P,z,l,H)}return;default:if(ba(n)){for(var pt in r)z=r[pt],r.hasOwnProperty(pt)&&z!==void 0&&!l.hasOwnProperty(pt)&&yd(t,n,pt,void 0,l,z);for(Q in l)z=l[Q],H=r[Q],!l.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||yd(t,n,Q,z,l,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&mt(t,n,k,null,l,z);for($ in l)z=l[$],H=r[$],!l.hasOwnProperty($)||z===H||z==null&&H==null||mt(t,n,$,z,l,H)}function y0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function db(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&y0(p)){for(p=0,T=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],P=I.startTime;if(P>T)break;var Q=I.transferSize,$=I.initiatorType;Q&&y0($)&&(I=I.responseEnd,p+=Q*(I<T?1:(T-P)/(I-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _d=null,vd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function _0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ed(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function mb(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(t){return T0.resolve(null).then(t).catch(yb)}:E0;function yb(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function b0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),il(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")bo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,bo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&bo(t.ownerDocument.body);r=h}while(r);il(n)}function S0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),va(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function _b(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function vb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ti(t.nextSibling),t===null))return null;return t}function A0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Eb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wd=null;function w0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ti(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function R0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function x0(t,n,r){switch(n=Tc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var ni=new Map,I0=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=oe.d;oe.d={f:Tb,r:bb,D:Sb,C:Ab,L:wb,m:Rb,X:Ib,S:xb,M:Cb};function Tb(){var t=vs.f(),n=dc();return t||n}function bb(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Fg(n):vs.r(t)}var el=typeof document>"u"?null:document;function C0(t,n,r){var l=el;if(l&&typeof n=="string"&&n){var h=Sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),I0.has(h)||(I0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",t),zt(n),l.head.appendChild(n)))}}function Sb(t){vs.D(t),C0("dns-prefetch",t,null)}function Ab(t,n){vs.C(t,n),C0("preconnect",t,n)}function wb(t,n,r){vs.L(t,n,r);var l=el;if(l&&t&&n){var h='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Sn(r.imageSizes)+'"]')):h+='[href="'+Sn(t)+'"]';var f=h;switch(n){case"style":f=tl(t);break;case"script":f=nl(t)}ni.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ni.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(So(f))||n==="script"&&l.querySelector(Ao(f))||(n=l.createElement("link"),cn(n,"link",t),zt(n),l.head.appendChild(n)))}}function Rb(t,n){vs.m(t,n);var r=el;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nl(t)}if(!ni.has(f)&&(t=w({rel:"modulepreload",href:t},n),ni.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ao(f)))return}l=r.createElement("link"),cn(l,"link",t),zt(l),r.head.appendChild(l)}}}function xb(t,n,r){vs.S(t,n,r);var l=el;if(l&&t){var h=Ii(l).hoistableStyles,f=tl(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(So(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ni.get(f))&&Rd(t,r);var I=p=l.createElement("link");zt(I),cn(I,"link",t),I._p=new Promise(function(P,Q){I.onload=P,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Sc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Ib(t,n){vs.X(t,n);var r=el;if(r&&t){var l=Ii(r).hoistableScripts,h=nl(t),f=l.get(h);f||(f=r.querySelector(Ao(h)),f||(t=w({src:t,async:!0},n),(n=ni.get(h))&&xd(t,n),f=r.createElement("script"),zt(f),cn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Cb(t,n){vs.M(t,n);var r=el;if(r&&t){var l=Ii(r).hoistableScripts,h=nl(t),f=l.get(h);f||(f=r.querySelector(Ao(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&xd(t,n),f=r.createElement("script"),zt(f),cn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function N0(t,n,r,l){var h=(h=Ie.current)?bc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=tl(r.href),r=Ii(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=tl(r.href);var f=Ii(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(So(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ni.set(t,r),f||Nb(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=nl(r),r=Ii(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function tl(t){return'href="'+Sn(t)+'"'}function So(t){return'link[rel="stylesheet"]['+t+"]"}function D0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Nb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",r),zt(n),t.head.appendChild(n))}function nl(t){return'[src="'+Sn(t)+'"]'}function Ao(t){return"script[async]"+t}function O0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Sn(r.href)+'"]');if(l)return n.instance=l,zt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),zt(l),cn(l,"style",h),Sc(l,r.precedence,t),n.instance=l;case"stylesheet":h=tl(r.href);var f=t.querySelector(So(h));if(f)return n.state.loading|=4,n.instance=f,zt(f),f;l=D0(r),(h=ni.get(h))&&Rd(l,h),f=(t.ownerDocument||t).createElement("link"),zt(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),cn(f,"link",l),n.state.loading|=4,Sc(f,r.precedence,t),n.instance=f;case"script":return f=nl(r.src),(h=t.querySelector(Ao(f)))?(n.instance=h,zt(h),h):(l=r,(h=ni.get(f))&&(l=w({},r),xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),cn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Sc(l,r.precedence,t));return n.instance}function Sc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function M0(t,n,r){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(r,l)}else h=Ac,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ri]||f[Pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function V0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Db(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function k0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ob(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=tl(l.href),f=n.querySelector(So(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,zt(f);return}f=n.ownerDocument||n,l=D0(l),(h=ni.get(h))&&Rd(l,h),f=f.createElement("link"),zt(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),cn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=wc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Id=0;function Mb(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*db());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(Vb,t),Rc=null,wc.call(t))}function Vb(t,n){if(!(n.state.loading&4)){var r=Rc.get(t);if(r)var l=r.get(null);else{r=new Map,Rc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:be,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function kb(t,n,r,l,h,f,p,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function U0(t,n,r,l,h,f,p,T,I,P,Q,$){return t=new kb(t,n,r,p,I,P,Q,$,T),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),t.current=f,f.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},hf(f),t}function L0(t){return t?(t=Ma,t):Ma}function j0(t,n,r,l,h,f){h=L0(h),l.context===null?l.context=h:l.pendingContext=h,l=Xs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=$s(t,l,n),r!==null&&(Cn(r,t,n),no(r,t,n))}function P0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){P0(t,n),(t=t.alternate)&&P0(t,n)}function z0(t){if(t.tag===13||t.tag===31){var n=Yr(t,67108864);n!==null&&Cn(n,t,67108864),Cd(t,67108864)}}function B0(t){if(t.tag===13||t.tag===31){var n=Hn();n=kr(n);var r=Yr(t,n);r!==null&&Cn(r,t,n),Cd(t,n)}}var Ic=!0;function Ub(t,n,r,l){var h=G.T;G.T=null;var f=oe.p;try{oe.p=2,Nd(t,n,r,l)}finally{oe.p=f,G.T=h}}function Lb(t,n,r,l){var h=G.T;G.T=null;var f=oe.p;try{oe.p=8,Nd(t,n,r,l)}finally{oe.p=f,G.T=h}}function Nd(t,n,r,l){if(Ic){var h=Dd(l);if(h===null)gd(t,n,l,Cc,r),q0(t,l);else if(Pb(h,t,n,r,l))l.stopPropagation();else if(q0(t,l),n&4&&-1<jb.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=bi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-pe(p);T.entanglements[1]|=I,p&=~I}Bi(f),(st&6)===0&&(hc=F()+500,vo(0))}}break;case 31:case 13:T=Yr(f,2),T!==null&&Cn(T,f,2),dc(),Cd(f,2)}if(f=Dd(l),f===null&&gd(t,n,l,Cc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else gd(t,n,l,null,r)}}function Dd(t){return t=Qn(t),Od(t)}var Cc=null;function Od(t){if(Cc=null,t=xi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function H0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case le:return 2;case ue:return 8;case Ne:case ee:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Md=!1,lr=null,or=null,ur=null,Ro=new Map,xo=new Map,cr=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(n.pointerId)}}function Io(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&z0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Pb(t,n,r,l,h){switch(n){case"focusin":return lr=Io(lr,t,n,r,l,h),!0;case"dragenter":return or=Io(or,t,n,r,l,h),!0;case"mouseover":return ur=Io(ur,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ro.set(f,Io(Ro.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,xo.set(f,Io(xo.get(f)||null,t,n,r,l,h)),!0}return!1}function G0(t){var n=xi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ai(t.priority,function(){B0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ai(t.priority,function(){B0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Dd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);zl=l,r.target.dispatchEvent(l),zl=null}else return n=Fn(r),n!==null&&z0(n),t.blockedOn=r,!1;n.shift()}return!0}function F0(t,n,r){Nc(t)&&r.delete(n)}function zb(){Md=!1,lr!==null&&Nc(lr)&&(lr=null),or!==null&&Nc(or)&&(or=null),ur!==null&&Nc(ur)&&(ur=null),Ro.forEach(F0),xo.forEach(F0)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zb)))}var Oc=null;function Q0(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Od(l||r)===null)continue;break}var f=Fn(r);f!==null&&(t.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function il(t){function n(I){return Dc(I,t)}lr!==null&&Dc(lr,t),or!==null&&Dc(or,t),ur!==null&&Dc(ur,t),Ro.forEach(n),xo.forEach(n);for(var r=0;r<cr.length;r++){var l=cr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)G0(r),r.blockedOn===null&&cr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[tn]||null;if(typeof f=="function")p||Q0(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[tn]||null)T=p.formAction;else if(Od(h)!==null)continue}else T=p.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Q0(r)}}}function Y0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(t){this._internalRoot=t}Mc.prototype.render=Vd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Hn();j0(r,l,t,n,null,null)},Mc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;j0(t.current,2,null,t,null,null),dc(),n[wi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var r=0;r<cr.length&&n!==0&&n<cr[r].priority;r++);cr.splice(r,0,t),r===0&&G0(t)}};var K0=e.version;if(K0!=="19.2.3")throw Error(a(527,K0,"19.2.3"));oe.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Bb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{ze=Vc.inject(Bb),ce=Vc}catch{}}return No.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ty,f=ny,p=iy;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=U0(t,1,!1,null,null,r,l,null,h,f,p,Y0),t[wi]=n.current,pd(t),new Vd(n)},No.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ty,p=ny,T=iy,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=U0(t,1,!0,n,r??null,l,h,I,f,p,T,Y0),n.context=L0(null),r=n.current,l=Hn(),l=kr(l),h=Xs(l),h.callback=null,$s(r,h,l),r=l,n.current.lanes=r,Mr(n,r),Bi(n),t[wi]=n.current,pd(t),new Mc(n)},No.version="19.2.3",No}var s_;function Zb(){if(s_)return Ld.exports;s_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=Jb(),Ld.exports}var Wb=Zb();const eS=()=>{};var r_={};const Uv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},tS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Lv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,E=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,q=_&63;y||(q=64,d||(M=64)),a.push(i[E],i[w],i[M],i[q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Uv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):tS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||w==null)throw new nS;const M=c<<2|g>>4;if(a.push(M),_!==64){const q=g<<4&240|_>>2;if(a.push(q),w!==64){const ie=_<<6&192|w;a.push(ie)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(s){const e=Uv(s);return Lv.encodeByteArray(e,!0)},Wc=function(s){return iS(s).replace(/\./g,"")},jv=function(s){try{return Lv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rS=()=>sS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof r_>"u")return;const s=r_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},lS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&jv(s[1]);return e&&JSON.parse(e)},_h=()=>{try{return eS()||rS()||aS()||lS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Pv=s=>_h()?.emulatorHosts?.[s],oS=s=>{const e=Pv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},zv=()=>_h()?.config,Bv=s=>_h()?.[`_${s}`];class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function bl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hv(s){return(await fetch(s,{credentials:"include"})).ok}function cS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const Uo={};function hS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Uo))Uo[e]?s.emulator.push(e):s.prod.push(e);return s}function fS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let a_=!1;function qv(s,e){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||Uo[s]===e||Uo[s]||a_)return;Uo[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=hS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{a_=!0,d()},M}function E(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=fS(a),q=i("text"),ie=document.getElementById(q)||document.createElement("span"),ae=i("learnmore"),ne=document.getElementById(ae)||document.createElement("a"),Te=i("preprendIcon"),Ce=document.getElementById(Te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const be=M.element;g(be),E(ne,ae);const We=_();y(Ce,Te),be.append(Ce,ie,ne,We),document.body.appendChild(be)}c?(ie.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ie.innerText="Preview backend running in this workspace."),ie.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function mS(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){const s=vn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function vS(){return!mS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ES(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const bS="FirebaseError";class Os extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=bS,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?SS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Os(o,g,a)}}function SS(s,e){return s.replace(AS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const AS=/\{\$([^}]+)}/g;function wS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Sr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(l_(c)&&l_(d)){if(!Sr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function l_(s){return s!==null&&typeof s=="object"}function Wo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function RS(s,e){const i=new xS(s,e);return i.subscribe.bind(i)}class xS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");IS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Bd),o.error===void 0&&(o.error=Bd),o.complete===void 0&&(o.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}function bn(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class CS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new uS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DS(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:NS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NS(s){return s===aa?void 0:s}function DS(s){return s.instantiationMode==="EAGER"}class OS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new CS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qe||(Qe={}));const MS={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},VS=Qe.INFO,kS={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},US=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=kS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=VS,this._logHandler=US,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const LS=(s,e)=>e.some(i=>s instanceof i);let o_,u_;function jS(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,nm=new WeakMap,Fv=new WeakMap,Hd=new WeakMap,km=new WeakMap;function zS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(_r(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Gv.set(i,s)}).catch(()=>{}),km.set(e,s),e}function BS(s){if(nm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});nm.set(s,e)}let im={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return nm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Fv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function HS(s){im=s(im)}function qS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(qd(this),e,...i);return Fv.set(a,e.sort?e.sort():[e]),_r(a)}:PS().includes(s)?function(...e){return s.apply(qd(this),e),_r(Gv.get(this))}:function(...e){return _r(s.apply(qd(this),e))}}function GS(s){return typeof s=="function"?qS(s):(s instanceof IDBTransaction&&BS(s),LS(s,jS())?new Proxy(s,im):s)}function _r(s){if(s instanceof IDBRequest)return zS(s);if(Hd.has(s))return Hd.get(s);const e=GS(s);return e!==s&&(Hd.set(s,e),km.set(e,s)),e}const qd=s=>km.get(s);function FS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=_r(d);return a&&d.addEventListener("upgradeneeded",y=>{a(_r(d.result),y.oldVersion,y.newVersion,_r(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const QS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],Gd=new Map;function c_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=YS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||QS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Gd.set(e,c),c}HS(s=>({...s,get:(e,i,a)=>c_(e,i)||s.get(e,i,a),has:(e,i)=>!!c_(e,i)||s.has(e,i)}));class KS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function XS(s){return s.getComponent()?.type==="VERSION"}const sm="@firebase/app",h_="0.14.6";const Rs=new Vm("@firebase/app"),$S="@firebase/app-compat",JS="@firebase/analytics-compat",ZS="@firebase/analytics",WS="@firebase/app-check-compat",eA="@firebase/app-check",tA="@firebase/auth",nA="@firebase/auth-compat",iA="@firebase/database",sA="@firebase/data-connect",rA="@firebase/database-compat",aA="@firebase/functions",lA="@firebase/functions-compat",oA="@firebase/installations",uA="@firebase/installations-compat",cA="@firebase/messaging",hA="@firebase/messaging-compat",fA="@firebase/performance",dA="@firebase/performance-compat",mA="@firebase/remote-config",pA="@firebase/remote-config-compat",gA="@firebase/storage",yA="@firebase/storage-compat",_A="@firebase/firestore",vA="@firebase/ai",EA="@firebase/firestore-compat",TA="firebase",bA="12.6.0";const rm="[DEFAULT]",SA={[sm]:"fire-core",[$S]:"fire-core-compat",[ZS]:"fire-analytics",[JS]:"fire-analytics-compat",[eA]:"fire-app-check",[WS]:"fire-app-check-compat",[tA]:"fire-auth",[nA]:"fire-auth-compat",[iA]:"fire-rtdb",[sA]:"fire-data-connect",[rA]:"fire-rtdb-compat",[aA]:"fire-fn",[lA]:"fire-fn-compat",[oA]:"fire-iid",[uA]:"fire-iid-compat",[cA]:"fire-fcm",[hA]:"fire-fcm-compat",[fA]:"fire-perf",[dA]:"fire-perf-compat",[mA]:"fire-rc",[pA]:"fire-rc-compat",[gA]:"fire-gcs",[yA]:"fire-gcs-compat",[_A]:"fire-fst",[EA]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};const eh=new Map,AA=new Map,am=new Map;function f_(s,e){try{s.container.addComponent(e)}catch(i){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ml(s){const e=s.name;if(am.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,s);for(const i of eh.values())f_(i,s);for(const i of AA.values())f_(i,s);return!0}function Um(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ii(s){return s==null?!1:s.settings!==void 0}const wA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Zo("app","Firebase",wA);class RA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const Sl=bA;function Qv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:rm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=zv()),!i)throw vr.create("no-options");const c=eh.get(o);if(c){if(Sr(i,c.options)&&Sr(a,c.config))return c;throw vr.create("duplicate-app",{appName:o})}const d=new OS(o);for(const y of am.values())d.addComponent(y);const g=new RA(i,a,d);return eh.set(o,g),g}function Yv(s=rm){const e=eh.get(s);if(!e&&s===rm&&zv())return Qv();if(!e)throw vr.create("no-app",{appName:s});return e}function Er(s,e,i){let a=SA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(d.join(" "));return}ml(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const xA="firebase-heartbeat-database",IA=1,Ho="firebase-heartbeat-store";let Fd=null;function Kv(){return Fd||(Fd=FS(xA,IA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ho)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),Fd}async function CA(s){try{const i=(await Kv()).transaction(Ho),a=await i.objectStore(Ho).get(Xv(s));return await i.done,a}catch(e){if(e instanceof Os)Rs.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(i.message)}}}async function d_(s,e){try{const a=(await Kv()).transaction(Ho,"readwrite");await a.objectStore(Ho).put(e,Xv(s)),await a.done}catch(i){if(i instanceof Os)Rs.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i?.message});Rs.warn(a.message)}}}function Xv(s){return`${s.name}!${s.options.appId}`}const NA=1024,DA=30;class OA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=m_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>DA){const o=kA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m_(),{heartbeatsToSend:i,unsentEntries:a}=MA(this._heartbeatsCache.heartbeats),o=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rs.warn(e),""}}}function m_(){return new Date().toISOString().substring(0,10)}function MA(s,e=NA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),p_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),p_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class VA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ES()?TS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function p_(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function kA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function UA(s){ml(new ca("platform-logger",e=>new KS(e),"PRIVATE")),ml(new ca("heartbeat",e=>new OA(e),"PRIVATE")),Er(sm,h_,s),Er(sm,h_,"esm2020"),Er("fire-js","")}UA("");var LA="firebase",jA="12.7.0";Er(LA,jA,"app");function $v(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PA=$v,Jv=new Zo("auth","Firebase",$v());const th=new Vm("@firebase/auth");function zA(s,...e){th.logLevel<=Qe.WARN&&th.warn(`Auth (${Sl}): ${s}`,...e)}function Hc(s,...e){th.logLevel<=Qe.ERROR&&th.error(`Auth (${Sl}): ${s}`,...e)}function xs(s,...e){throw Lm(s,...e)}function Gi(s,...e){return Lm(s,...e)}function Zv(s,e,i){const a={...PA(),[e]:i};return new Zo("auth","Firebase",a).create(e,{appName:s.name})}function ws(s){return Zv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Jv.create(s,...e)}function xe(s,e,...i){if(!s)throw Lm(e,...i)}function Ss(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function Is(s,e){s||Ss(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function BA(){return g_()==="http:"||g_()==="https:"}function g_(){return typeof self<"u"&&self.location?.protocol||null}function HA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BA()||gS()||"connection"in navigator)?navigator.onLine:!0}function qA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class eu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Is(i>e,"Short delay should be less than long delay!"),this.isMobile=dS()||yS()}get(){return HA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(s,e){Is(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Wv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QA=new eu(3e4,6e4);function tu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Al(s,e,i,a,o={}){return e1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Wo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return pS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&bl(s.emulatorConfig.host)&&(_.credentials="include"),Wv.fetch()(await t1(s,s.config.apiHost,i,g),_)})}async function e1(s,e,i){s._canInitEmulator=!1;const a={...GA,...e};try{const o=new YA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw kc(s,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Zv(s,E,_);xs(s,E)}}catch(o){if(o instanceof Os)throw o;xs(s,"network-request-failed",{message:String(o)})}}async function Pm(s,e,i,a,o={}){const c=await Al(s,e,i,a,o);return"mfaPendingCredential"in c&&xs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function t1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?jm(s.config,o):`${s.config.apiScheme}://${o}`;return FA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class YA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Gi(this.auth,"network-request-failed")),QA.get())})}}function kc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Gi(s,e,a);return o.customData._tokenResponse=i,o}async function KA(s,e){return Al(s,"POST","/v1/accounts:delete",e)}async function nh(s,e){return Al(s,"POST","/v1/accounts:lookup",e)}function Lo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XA(s,e=!1){const i=bn(s),a=await i.getIdToken(e),o=zm(a);xe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Lo(Qd(o.auth_time)),issuedAtTime:Lo(Qd(o.iat)),expirationTime:Lo(Qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(s){return Number(s)*1e3}function zm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=jv(i);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function y_(s){const e=zm(s);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Os&&$A(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function $A({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class JA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const e=s.auth,i=await s.getIdToken(),a=await qo(s,nh(e,{idToken:i}));xe(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?n1(o.providerUserInfo):[],d=WA(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=g?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function ZA(s){const e=bn(s);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function n1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ew(s,e){const i=await e1(s,{},async()=>{const a=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await t1(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&bl(s.emulatorConfig.host)&&(y.credentials="include"),Wv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function tw(s,e){return Al(s,"POST","/v2/accounts:revokeToken",tu(s,e))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const i=y_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await ew(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new ul;return a&&(xe(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(xe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(xe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function fr(s,e){xe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new JA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await qo(this,this.stsTokenManager.getToken(this.auth,e));return xe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return XA(this,e)}reload(){return ZA(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await qo(this,KA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:q,providerData:ie,stsTokenManager:ae}=i;xe(w&&ae,e,"internal-error");const ne=ul.fromJSON(this.name,ae);xe(typeof w=="string",e,"internal-error"),fr(a,e.name),fr(o,e.name),xe(typeof M=="boolean",e,"internal-error"),xe(typeof q=="boolean",e,"internal-error"),fr(c,e.name),fr(d,e.name),fr(g,e.name),fr(y,e.name),fr(_,e.name),fr(E,e.name);const Te=new gi({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ne,createdAt:_,lastLoginAt:E});return ie&&Array.isArray(ie)&&(Te.providerData=ie.map(Ce=>({...Ce}))),y&&(Te._redirectEventId=y),Te}static async _fromIdTokenResponse(e,i,a=!1){const o=new ul;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];xe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?n1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new ul;g.updateFromIdToken(a);const y=new gi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const __=new Map;function As(s){Is(s instanceof Function,"Expected a class definition");let e=__.get(s);return e?(Is(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,__.set(s,e),e)}class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}i1.type="NONE";const v_=i1;function qc(s,e,i){return`firebase:${s}:${e}:${i}`}class cl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new cl(As(v_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||As(v_);const d=qc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const E=await _._get(d);if(E){let w;if(typeof E=="string"){const M=await nh(e,{idToken:E}).catch(()=>{});if(!M)break;w=await gi._fromGetAccountInfoResponse(e,M,E)}else w=gi._fromJSON(e,E);_!==c&&(g=w),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new cl(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new cl(c,e,a))}}function E_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u1(e))return"Blackberry";if(c1(e))return"Webos";if(r1(e))return"Safari";if((e.includes("chrome/")||a1(e))&&!e.includes("edge/"))return"Chrome";if(o1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function s1(s=vn()){return/firefox\//i.test(s)}function r1(s=vn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a1(s=vn()){return/crios\//i.test(s)}function l1(s=vn()){return/iemobile/i.test(s)}function o1(s=vn()){return/android/i.test(s)}function u1(s=vn()){return/blackberry/i.test(s)}function c1(s=vn()){return/webos/i.test(s)}function Bm(s=vn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function nw(s=vn()){return Bm(s)&&!!window.navigator?.standalone}function iw(){return _S()&&document.documentMode===10}function h1(s=vn()){return Bm(s)||o1(s)||c1(s)||u1(s)||/windows phone/i.test(s)||l1(s)}function f1(s,e=[]){let i;switch(s){case"Browser":i=E_(vn());break;case"Worker":i=`${E_(vn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Sl}/${a}`}class sw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function rw(s,e={}){return Al(s,"GET","/v2/passwordPolicy",tu(s,e))}const aw=6;class lw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??aw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ow{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new sw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=As(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(ws(this));const i=e?bn(e):null;return i&&xe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rw(this),i=new lw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await tw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&As(e)||this._popupRedirectResolver;xe(i,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[As(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(s){return bn(s)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=RS(i=>this.observer=i)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uw(s){Hm=s}function cw(s){return Hm.loadJS(s)}function hw(){return Hm.gapiScript}function fw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function dw(s,e){const i=Um(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Sr(c,e??{}))return o;xs(o,"already-initialized")}return i.initialize({options:e})}function mw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(As);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function pw(s,e,i){const a=nu(s);xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=d1(e),{host:d,port:g}=gw(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xe(Sr(_,a.config.emulator)&&Sr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,bl(d)?(Hv(`${c}//${d}${y}`),qv("Auth",!0)):yw()}function d1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function gw(s){const e=d1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:b_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:b_(d)}}}function b_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function yw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class m1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,i){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function hl(s,e){return Pm(s,"POST","/v1/accounts:signInWithIdp",tu(s,e))}const _w="http://localhost";class ha extends m1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):xs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ha(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return hl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,hl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,hl(e,i)}buildRequest(){const e={requestUri:_w,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wo(i)}return e}}class p1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends p1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dr extends iu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";class mr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return mr.credential(i,a)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";class pr extends iu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";class gr extends iu{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return gr.credential(i,a)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";async function vw(s,e){return Pm(s,"POST","/v1/accounts:signUp",tu(s,e))}class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await gi._fromIdTokenResponse(e,a,o),d=S_(a);return new Cs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=S_(a);return new Cs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function S_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Ew(s){if(ii(s.app))return Promise.reject(ws(s));const e=nu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Cs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await vw(e,{returnSecureToken:!0}),a=await Cs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class sh extends Os{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new sh(e,i,a,o)}}function g1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,e,a):c})}async function Tw(s,e,i=!1){const a=await qo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Cs._forOperation(s,"link",a)}async function bw(s,e,i=!1){const{auth:a}=s;if(ii(a.app))return Promise.reject(ws(a));const o="reauthenticate";try{const c=await qo(s,g1(a,o,e,s),i);xe(c.idToken,a,"internal-error");const d=zm(c.idToken);xe(d,a,"internal-error");const{sub:g}=d;return xe(s.uid===g,a,"user-mismatch"),Cs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&xs(a,"user-mismatch"),c}}async function Sw(s,e,i=!1){if(ii(s.app))return Promise.reject(ws(s));const a="signIn",o=await g1(s,a,e),c=await Cs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function Aw(s,e){return Pm(s,"POST","/v1/accounts:signInWithCustomToken",tu(s,e))}async function ww(s,e){if(ii(s.app))return Promise.reject(ws(s));const i=nu(s),a=await Aw(i,{token:e,returnSecureToken:!0}),o=await Cs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function Rw(s,e,i,a){return bn(s).onIdTokenChanged(e,i,a)}function xw(s,e,i){return bn(s).beforeAuthStateChanged(e,i)}function Iw(s,e,i,a){return bn(s).onAuthStateChanged(e,i,a)}const rh="__sak";class y1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cw=1e3,Nw=10;class _1 extends y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);iw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Nw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Cw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}_1.type="LOCAL";const Dw=_1;class v1 extends y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}v1.type="SESSION";const E1=v1;function Ow(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await Ow(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function qm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Mw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=qm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function Vw(s){Fi().location.href=s}function T1(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function kw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uw(){return navigator?.serviceWorker?.controller||null}function Lw(){return T1()?self:null}const b1="firebaseLocalStorageDb",jw=1,ah="firebaseLocalStorage",S1="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,e){return s.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function Pw(){const s=indexedDB.deleteDatabase(b1);return new su(s).toPromise()}function um(){const s=indexedDB.open(b1,jw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:S1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?e(a):(a.close(),await Pw(),e(await um()))})})}async function A_(s,e,i){const a=Eh(s,!0).put({[S1]:e,value:i});return new su(a).toPromise()}async function zw(s,e){const i=Eh(s,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function w_(s,e){const i=Eh(s,!0).delete(e);return new su(i).toPromise()}const Bw=800,Hw=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Hw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(Lw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kw(),!this.activeServiceWorker)return;this.sender=new Mw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await A_(e,rh,"1"),await w_(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>A_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>zw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>w_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Eh(o,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const qw=A1;new eu(3e4,6e4);function Gw(s,e){return e?As(e):(xe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Gm extends m1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return hl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Fw(s){return Sw(s.auth,new Gm(s),s.bypassAuthState)}function Qw(s){const{auth:e,user:i}=s;return xe(i,e,"internal-error"),bw(i,new Gm(s),s.bypassAuthState)}async function Yw(s){const{auth:e,user:i}=s;return xe(i,e,"internal-error"),Tw(i,new Gm(s),s.bypassAuthState)}class w1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fw;case"linkViaPopup":case"linkViaRedirect":return Yw;case"reauthViaPopup":case"reauthViaRedirect":return Qw;default:xs(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kw=new eu(2e3,1e4);class ol extends w1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kw.get())};e()}}ol.currentPopupAction=null;const Xw="pendingRedirect",Gc=new Map;class $w extends w1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await Jw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jw(s,e){const i=e2(e),a=Ww(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Zw(s,e){Gc.set(s._key(),e)}function Ww(s){return As(s._redirectPersistence)}function e2(s){return qc(Xw,s.config.apiKey,s.name)}async function t2(s,e,i=!1){if(ii(s.app))return Promise.reject(ws(s));const a=nu(s),o=Gw(a,e),d=await new $w(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const n2=600*1e3;class i2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!R1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Gi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n2&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function R1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function s2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R1(s);default:return!1}}async function r2(s,e={}){return Al(s,"GET","/v1/projects",e)}const a2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l2=/^https?/;async function o2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await r2(s);for(const i of e)try{if(u2(i))return}catch{}xs(s,"unauthorized-domain")}function u2(s){const e=lm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!l2.test(i))return!1;if(a2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const c2=new eu(3e4,6e4);function x_(){const s=Fi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function h2(s){return new Promise((e,i)=>{function a(){x_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x_(),i(Gi(s,"network-request-failed"))},timeout:c2.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)a();else{const o=fw("iframefcb");return Fi()[o]=()=>{gapi.load?a():i(Gi(s,"network-request-failed"))},cw(`${hw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function f2(s){return Fc=Fc||h2(s),Fc}const d2=new eu(5e3,15e3),m2="__/auth/iframe",p2="emulator/auth/iframe",g2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _2(s){const e=s.config;xe(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?jm(e,p2):`https://${s.config.authDomain}/${m2}`,a={apiKey:e.apiKey,appName:s.name,v:Sl},o=y2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Wo(a).slice(1)}`}async function v2(s){const e=await f2(s),i=Fi().gapi;return xe(i,s,"internal-error"),e.open({where:document.body,url:_2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Gi(s,"network-request-failed"),g=Fi().setTimeout(()=>{c(d)},d2.get());function y(){Fi().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const E2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T2=500,b2=600,S2="_blank",A2="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w2(s,e,i,a=T2,o=b2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...E2,width:a.toString(),height:o.toString(),top:c,left:d},_=vn().toLowerCase();i&&(g=a1(_)?S2:i),s1(_)&&(e=e||A2,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[q,ie])=>`${M}${q}=${ie},`,"");if(nw(_)&&g!=="_self")return R2(e||"",g),new I_(null);const w=window.open(e||"",g,E);xe(w,s,"popup-blocked");try{w.focus()}catch{}return new I_(w)}function R2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const x2="__/auth/handler",I2="emulator/auth/handler",C2=encodeURIComponent("fac");async function C_(s,e,i,a,o,c){xe(s.config.authDomain,s,"auth-domain-config-required"),xe(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Sl,eventId:o};if(e instanceof p1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",wS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof iu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),_=y?`#${C2}=${encodeURIComponent(y)}`:"";return`${N2(s)}?${Wo(g).slice(1)}${_}`}function N2({config:s}){return s.emulator?jm(s,I2):`https://${s.authDomain}/${x2}`}const Yd="webStorageSupport";class D2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E1,this._completeRedirectFn=t2,this._overrideRedirectResult=Zw}async _openPopup(e,i,a,o){Is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C_(e,i,a,lm(),o);return w2(e,c,qm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await C_(e,i,a,lm(),o);return Vw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Is(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await v2(e),a=new i2(e);return i.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Yd,{type:Yd},o=>{const c=o?.[0]?.[Yd];c!==void 0&&i(!!c),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=o2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return h1()||r1()||Bm()}}const O2=D2;var N_="@firebase/auth",D_="1.12.0";class M2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function V2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k2(s){ml(new ca("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f1(s)},_=new ow(a,o,c,y);return mw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ml(new ca("auth-internal",e=>{const i=nu(e.getProvider("auth").getImmediate());return(a=>new M2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(N_,D_,V2(s)),Er(N_,D_,"esm2020")}const U2=300,L2=Bv("authIdTokenMaxAge")||U2;let O_=null;const j2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>L2)return;const o=i?.token;O_!==o&&(O_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P2(s=Yv()){const e=Um(s,"auth");if(e.isInitialized())return e.getImmediate();const i=dw(s,{popupRedirectResolver:O2,persistence:[qw,Dw,E1]}),a=Bv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=j2(c.toString());xw(i,d,()=>d(i.currentUser)),Rw(i,g=>d(g))}}const o=Pv("auth");return o&&pw(i,`http://${o}`),i}function z2(){return document.getElementsByTagName("head")?.[0]??document}uw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Gi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",z2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k2("Browser");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tr,x1;(function(){var s;function e(C,A){function x(){}x.prototype=A.prototype,C.F=A.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(V,N,U){for(var R=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)R[lt-2]=arguments[lt];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,x){x||(x=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=C.g[0],x=C.g[1],N=C.g[2];let U=C.g[3],R;R=A+(U^x&(N^U))+V[0]+3614090360&4294967295,A=x+(R<<7&4294967295|R>>>25),R=U+(N^A&(x^N))+V[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(x^U&(A^x))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(A^N&(U^A))+V[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(U^x&(N^U))+V[4]+4118548399&4294967295,A=x+(R<<7&4294967295|R>>>25),R=U+(N^A&(x^N))+V[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(x^U&(A^x))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(A^N&(U^A))+V[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(U^x&(N^U))+V[8]+1770035416&4294967295,A=x+(R<<7&4294967295|R>>>25),R=U+(N^A&(x^N))+V[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(x^U&(A^x))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(A^N&(U^A))+V[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(U^x&(N^U))+V[12]+1804603682&4294967295,A=x+(R<<7&4294967295|R>>>25),R=U+(N^A&(x^N))+V[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(x^U&(A^x))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(A^N&(U^A))+V[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(N^U&(x^N))+V[1]+4129170786&4294967295,A=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(A^x))+V[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(U^A))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^A&(N^U))+V[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(x^N))+V[5]+3593408605&4294967295,A=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(A^x))+V[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(U^A))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^A&(N^U))+V[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(x^N))+V[9]+568446438&4294967295,A=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(A^x))+V[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(U^A))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^A&(N^U))+V[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(x^N))+V[13]+2850285829&4294967295,A=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(A^x))+V[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(U^A))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^A&(N^U))+V[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(x^N^U)+V[5]+4294588738&4294967295,A=x+(R<<4&4294967295|R>>>28),R=U+(A^x^N)+V[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^x)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^A)+V[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^U)+V[1]+2763975236&4294967295,A=x+(R<<4&4294967295|R>>>28),R=U+(A^x^N)+V[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^x)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^A)+V[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^U)+V[13]+681279174&4294967295,A=x+(R<<4&4294967295|R>>>28),R=U+(A^x^N)+V[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^x)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^A)+V[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^U)+V[9]+3654602809&4294967295,A=x+(R<<4&4294967295|R>>>28),R=U+(A^x^N)+V[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^x)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^A)+V[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(N^(x|~U))+V[0]+4096336452&4294967295,A=x+(R<<6&4294967295|R>>>26),R=U+(x^(A|~N))+V[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~x))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~A))+V[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~U))+V[12]+1700485571&4294967295,A=x+(R<<6&4294967295|R>>>26),R=U+(x^(A|~N))+V[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~x))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~A))+V[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~U))+V[8]+1873313359&4294967295,A=x+(R<<6&4294967295|R>>>26),R=U+(x^(A|~N))+V[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~x))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~A))+V[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~U))+V[4]+4149444226&4294967295,A=x+(R<<6&4294967295|R>>>26),R=U+(x^(A|~N))+V[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~x))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const x=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=x;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=C[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)C[A++]=this.g[x]>>>V&255;return C};function c(C,A){var x=g;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=A(C)}function d(C,A){this.h=A;const x=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==A||(x[N]=U,V=!1)}this.g=x}var g={};function y(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return ne(_(-C));const A=[];let x=1;for(let V=0;C>=x;V++)A[V]=C/x|0,x*=4294967296;return new d(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return ne(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let V=w;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var w=y(0),M=y(1),q=y(16777216);s=d.prototype,s.m=function(){if(ae(this))return-ne(this).m();let C=0,A=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ie(this))return"0";if(ae(this))return"-"+ne(this).toString(C);const A=_(Math.pow(C,6));var x=this;let V="";for(;;){const N=We(x,A).g;x=Te(x,N.j(A));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=N,ie(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ie(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function ae(C){return C.h==-1}s.l=function(C){return C=Te(this,C),ae(C)?-1:ie(C)?0:1};function ne(C){const A=C.g.length,x=[];for(let V=0;V<A;V++)x[V]=~C.g[V];return new d(x,~C.h).add(M)}s.abs=function(){return ae(this)?ne(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),x=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,x[N]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function Te(C,A){return C.add(ne(A))}s.j=function(C){if(ie(this)||ie(C))return w;if(ae(this))return ae(C)?ne(this).j(ne(C)):ne(ne(this).j(C));if(ae(C))return ne(this.j(ne(C)));if(this.l(q)<0&&C.l(q)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,x=[];for(var V=0;V<2*A;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,lt=C.i(N)>>>16,gt=C.i(N)&65535;x[2*V+2*N]+=R*gt,Ce(x,2*V+2*N),x[2*V+2*N+1]+=U*gt,Ce(x,2*V+2*N+1),x[2*V+2*N+1]+=R*lt,Ce(x,2*V+2*N+1),x[2*V+2*N+2]+=U*lt,Ce(x,2*V+2*N+2)}for(C=0;C<A;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=A;C<2*A;C++)x[C]=0;return new d(x,0)};function Ce(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function be(C,A){this.g=C,this.h=A}function We(C,A){if(ie(A))throw Error("division by zero");if(ie(C))return new be(w,w);if(ae(C))return A=We(ne(C),A),new be(ne(A.g),ne(A.h));if(ae(A))return A=We(C,ne(A)),new be(ne(A.g),A.h);if(C.g.length>30){if(ae(C)||ae(A))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=A;V.l(C)<=0;)x=ht(x),V=ht(V);var N=Xe(x,1),U=Xe(V,1);for(V=Xe(V,2),x=Xe(x,2);!ie(V);){var R=U.add(V);R.l(C)<=0&&(N=N.add(x),U=R),V=Xe(V,1),x=Xe(x,1)}return A=Te(C,N.j(A)),new be(N,A)}for(N=w;C.l(A)>=0;){for(x=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(x),R=U.j(A);ae(R)||R.l(C)>0;)x-=V,U=_(x),R=U.j(A);ie(U)&&(U=M),N=N.add(U),C=Te(C,R)}return new be(N,C)}s.B=function(C){return We(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)&C.i(V);return new d(x,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)|C.i(V);return new d(x,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)^C.i(V);return new d(x,this.h^C.h)};function ht(C){const A=C.g.length+1,x=[];for(let V=0;V<A;V++)x[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(x,C.h)}function Xe(C,A){const x=A>>5;A%=32;const V=C.g.length-x,N=[];for(let U=0;U<V;U++)N[U]=A>0?C.i(U+x)>>>A|C.i(U+x+1)<<32-A:C.i(U+x);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,x1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Tr=d}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var I1,Do,C1,Qc,cm,N1,D1,O1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in v))break e;v=v[L]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,L,B){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return m.prototype[L].apply(S,se)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function ie(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let se=0;se<B;se++)u[v+se]=L[se]}else u.push(L)}}class ae{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function Te(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,v){const S=be.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var be=new ae(()=>new We,u=>u.reset());class We{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,Xe=!1,C=new Ce,A=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(x)}};function x(){for(var u;u=Te();){try{u.h.call(u.g)}catch(v){ne(v)}var m=be;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Xe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(lt,N),lt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),G=0;function oe(u,m,v,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++G,this.da=this.fa=!1}function ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function et(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)u[v]=S[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,m,v,S,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const se=Ie(u,m,S,L);return se>-1?(m=u[se],v||(m.fa=!1)):(m=new oe(m,this.src,B,!!S,L),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var S=u.g[v],L=Array.prototype.indexOf.call(S,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(ve(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ie(u,m,v,S){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return L}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ot={};function _t(u,m,v,S,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)_t(u,m[B],v,S,L);return null}return v=Vs(v),u&&u[gt]?u.J(m,v,g(S)?!!S.capture:!1,L):Zi(u,m,v,!1,S,L)}function Zi(u,m,v,S,L,B){if(!m)throw Error("Invalid event type");const se=g(L)?!!L.capture:!!L;let ke=Mn(u);if(ke||(u[Pe]=ke=new he(u)),v=ke.add(m,v,S,se,B),v.proxy)return v;if(S=Ms(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)U||(L=se),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(Gn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ms(){function u(v){return m.call(u.src,u.listener,v)}const m=Or;return u}function Wi(u,m,v,S,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Wi(u,m[B],v,S,L);else S=g(S)?!!S.capture:!!S,v=Vs(v),u&&u[gt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ie(m,v,S,L),v>-1&&(ve(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Mn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ie(m,v,S,L)),(v=u>-1?m[u]:null)&&es(v))}function es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[gt])_e(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Gn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Mn(m))?(_e(v,u),v.h==0&&(v.src=null,m[Pe]=null)):ve(u)}}}function Gn(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function Or(u,m){if(u.da)u=!0;else{m=new lt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&es(u),u=v.call(S,m)}return u}function Mn(u){return u=u[Pe],u instanceof he?u:null}var vi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vs(u){return typeof u=="function"?u:(u[vi]||(u[vi]=function(m){return u.handleEvent(m)}),u[vi])}function It(){V.call(this),this.i=new he(this),this.M=this,this.G=null}w(It,V),It.prototype[gt]=!0,It.prototype.removeEventListener=function(u,m,v,S){Wi(this,u,m,v,S)};function Ct(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(S,u),re(m,L)}L=!0;let B,se;if(v)for(se=v.length-1;se>=0;se--)B=m.g=v[se],L=Ei(B,S,!0,m)&&L;if(B=m.g=u,L=Ei(B,S,!0,m)&&L,L=Ei(B,S,!1,m)&&L,v)for(se=0;se<v.length;se++)B=m.g=v[se],L=Ei(B,S,!1,m)&&L}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)ve(v[S]);delete u.g[m],u.h--}}this.G=null},It.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},It.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Ei(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const se=m[B];if(se&&!se.da&&se.capture==v){const ke=se.listener,Vt=se.ha||se.src;se.fa&&_e(u.i,se),L=ke.call(Vt,S)!==!1&&L}}return L&&!S.defaultPrevented}function ya(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Z(u){u.g=ya(()=>{u.g=null,u.i&&(u.i=!1,Z(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class F extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Z(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(u){V.call(this),this.h=u,this.g={}}w(te,V);var le=[];function ue(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&es(m)},u),u.g={}}te.prototype.N=function(){te.Z.N.call(this),ue(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=d.JSON.stringify,ee=d.JSON.parse,fe=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Oe(){}function je(){}var ze={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ce(){N.call(this,"d")}w(ce,N);function Y(){N.call(this,"c")}w(Y,N);var pe={},Se=null;function Mt(){return Se=Se||new It}pe.Ia="serverreachability";function wt(u){N.call(this,pe.Ia,u)}w(wt,N);function vt(u){const m=Mt();Ct(m,new wt(m))}pe.STAT_EVENT="statevent";function Ti(u,m){N.call(this,pe.STAT_EVENT,u),this.stat=m}w(Ti,N);function jt(u){const m=Mt();Ct(m,new Ti(m,u))}pe.Ja="timingevent";function bi(u,m){N.call(this,pe.Ja,u),this.size=m}w(bi,N);function Si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function jh(u,m,v,S,L,B){u.info(function(){if(u.g)if(B){var se="",ke=B.split("&");for(let it=0;it<ke.length;it++){var Vt=ke[it].split("=");if(Vt.length>1){const St=Vt[0];Vt=Vt[1];const Kn=St.split("_");se=Kn.length>=2&&Kn[1]=="type"?se+(St+"="+Vt+"&"):se+(St+"=redacted&")}}}else se=null;else se=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+se})}function fu(u,m,v,S,L,B,se){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+se})}function Ai(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(S?" "+S:"")})}function Mr(u,m){u.info(function(){return"TIMEOUT: "+m})}ri.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Ne(B)}catch{return m}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nl;function kr(){}w(kr,Oe),kr.prototype.g=function(){return new XMLHttpRequest},Nl=new kr;function ts(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Pt={},tn={};function wi(u,m,v){u.M=1,u.A=Ur(Bt(m)),u.u=v,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),Ri(u),u.B=Bt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ba(v.i,"t",S),u.C=0,v=u.j.L,u.h=new li,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new F(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(le[0]=L.toString()),L=le);for(let B=0;B<L.length;B++){const se=_t(v,L[B],S||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vt(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{const ke=ci(this.g),Vt=this.g.ya(),it=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||ke!=4||Vt==7||(Vt==8||it<=0?vt(3):vt(2)),xi(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var B=S;break t}}B=null}if(u=B)Ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,jt(12),Vn(this),Fn(this);break e}}if(this.R){u=!0;let St;for(;!this.K&&this.C<v.length;)if(St=pu(this,v),St==tn){ke==4&&(this.m=4,jt(14),u=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Pt){this.m=4,jt(15),Ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ai(this.i,this.l,St,null),Ii(this,St);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,jt(16),u=!1),this.o=this.o&&u,!u)Ai(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fl(se),se.P=!0,jt(11))}}else Ai(this.i,this.l,v,null),Ii(this,v);ke==4&&Vn(this),this.o&&!this.K&&(ke==4?Au(this.j,this):(this.o=!1,Ri(this)))}else is(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Vn(this),Fn(this)}}}catch{}};function zh(u){if(!mu(u))return u.g.la();const m=an(u.g);if(m==="")return"";let v="";const S=m.length,L=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?tn:(v=Number(m.substring(v,S)),isNaN(v)?Pt:(S+=1,S+v>m.length?tn:(m=m.slice(S,S+v),u.C=S+v,m)))}ai.prototype.cancel=function(){this.K=!0,Vn(this)};function Ri(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Si(_(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Mr(this.i,this.B),this.M!=2&&(vt(),jt(17)),Vn(this),this.m=2,Fn(this)):va(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Au(u.j,u)}function Vn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ue(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)xa(v),Hs(v);else break e;qr(v),jt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Si(_(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ui(v,11)}else if((u.L||v.g==u)&&xa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let it=L[m];const St=it[0];if(!(St<=v.K))if(v.K=St,it=it[1],v.I==2)if(it[0]=="c"){v.M=it[1],v.ba=it[2];const Kn=it[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const Li=it[4];Li!=null&&(v.za=Li,v.j.info("SVER="+v.za));const hi=it[5];hi!=null&&typeof hi=="number"&&hi>0&&(S=1.5*hi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const fi=u.g;if(fi){const Gr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var B=S.h;B.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ml(B,B.h),B.h=null))}if(S.G){const Ia=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(S.wa=Ia,ot(S.J,S.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=u;if(S.na=xu(S,S.L?S.ba:null,S.W),se.L){Vl(S.h,se);var ke=se,Vt=S.O;Vt&&(ke.H=Vt),ke.D&&(xi(ke),Ri(ke)),S.g=se}else bu(S);v.i.length>0&&ki(v)}else it[0]!="stop"&&it[0]!="close"||Ui(v,7);else v.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Ui(v,7):ql(v):it[0]!="noop"&&v.l&&v.l.qa(it),v.A=0)}}vt(4)}catch{}}var zt=class{constructor(u,m){this.g=u,this.map=m}};function Dl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ml(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let L,B=null;S>=0?(L=u[v].substring(0,S),B=u[v].substring(S+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,nn(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.u),this.h=u.h,Ul(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,nn(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),ks(this,m[4]),this.h=Di(m[5]||"",!0),Ul(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Lr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lr(m,Ta,!0),"@"),u.push(ts(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Lr(v,v.charAt(0)=="/"?Ll:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Lr(v,_u)),u.join("")},kn.prototype.resolve=function(u){const m=Bt(this);let v=!!u.j;v?nn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)ks(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let se=0;se<L.length;){const ke=L[se++];ke=="."?S&&se==L.length&&B.push(""):ke==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&se==L.length&&B.push("")):(B.push(ke),S=!0)}S=B.join("/")}else S=L}return v?m.h=S:v=u.i.toString()!=="",v?Ul(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Bt(u){return new kn(u)}function nn(u,m,v){u.j=v?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ul(u,m,v){m instanceof Ls?(u.i=m,Sa(u.i,u.l)):(v||(m=Lr(m,Us)),u.i=new Ls(m,u.l))}function ot(u,m,v){u.i.set(m,v)}function Ur(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,yu=/[#\?:]/g,Ll=/[#\?]/g,Us=/[#\?@]/g,_u=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ls.prototype,s.add=function(u,m){An(this),this.i=null,u=js(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){An(u),m=js(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jl(u,m){return An(u),m=js(u,m),u.g.has(m)}s.forEach=function(u,m){An(this),this.g.forEach(function(v,S){v.forEach(function(L){u.call(m,L,S,this)},this)},this)};function Pl(u,m){An(u);let v=[];if(typeof m=="string")jl(u,m)&&(v=v.concat(u.g.get(js(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return An(this),this.i=null,u=js(this,u),jl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Pl(this,u),u.length>0?String(u[0]):m):m};function ba(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(js(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=ts(v);v=Pl(this,v);for(let B=0;B<v.length;B++){let se=L;v[B]!==""&&(se+="="+ts(v[B])),u.push(se)}}return this.i=u.join("&")};function Eu(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function js(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sa(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(vu(this,S),ba(this,L,v))},u)),u.j=m}function oi(u,m){const v=new ri;if(d.Image){const S=new Image;S.onload=E(Qn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Qn,v,"TestLoadImage: error",!1,m,S),S.onabort=E(Qn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Qn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function zl(u,m){const v=new ri,S=new AbortController,L=setTimeout(()=>{S.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Ps(){this.g=new fe}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Oi,Oe),Oi.prototype.g=function(){return new jr(this.i,this.h)};function jr(u,m){It.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(jr,It),s=jr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):ui(this),this.readyState==3&&Aa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},s.Na=function(u){this.g&&(this.response=u,zs(this))},s.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yn(u){let m="";return qe(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Yn(v),typeof u=="string"?v!=null&&ts(v):ot(u,m,v))}function ft(u){It.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ft,It);var Mi=/^https?$/i,Bl=["POST","PUT"];s=ft.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){zr(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bl,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of v)this.g.setRequestHeader(B,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){zr(this,B)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Hl(u),ns(u)}function Hl(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),ft.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},s.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),ci(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let se=String(u.D).match(gu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),S=!Mi.test(se?se.toLowerCase():"")}v=S}if(v)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var L=ci(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Hl(u)}}finally{ns(u)}}}}function ns(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ct(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ee(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function is(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var v=du(u[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}et(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(u&&u.concurrentRequestLimit),this.Ba=new Ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){jt(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=xu(this,null,this.W),ki(this)};function ql(u){if(wa(u),u.I==3){var m=u.V++,v=Bt(u.J);if(ot(v,"SID",u.M),ot(v,"RID",m),ot(v,"TYPE","terminate"),Hr(u,v),m=new ai(u,u.j,m),m.M=2,m.A=Ur(Bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ri(m)}Ru(u)}function Hs(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function wa(u){Hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!Ol(u.h)&&!u.m){u.m=!0;var m=u.Ea;ht||A(),Xe||(ht(),Xe=!0),C.add(m,u),u.D=0}}function Ra(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Si(_(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ai(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),re(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,L,m),v=Bt(this.J),ot(v,"RID",u),ot(v,"CVER",22),this.G&&ot(v,"X-HTTP-Session-Id",this.G),Hr(this,v),B&&(this.R?m="headers="+ts(Yn(B))+"&"+m:this.u&&Pr(v,this.u,B)),Ml(this.h,L),this.Ra&&ot(v,"TYPE","init"),this.S?(ot(v,"$req",m),ot(v,"SID","null"),L.U=!0,wi(L,v,null)):wi(L,v,m),this.I=2}}else this.I==3&&(u?Gl(this,u):this.i.length==0||Ol(this.h)||Gl(this))};function Gl(u,m){var v;m?v=m.l:v=u.V++;const S=Bt(u.J);ot(S,"SID",u.M),ot(S,"RID",v),ot(S,"AID",u.K),Hr(u,S),u.u&&u.o&&Pr(S,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ml(u.h,v),wi(v,S,m)}function Hr(u,m){u.H&&qe(u.H,function(v,S){ot(m,S,v)}),u.l&&qe({},function(v,S){ot(m,S,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let ke=-1;for(;;){const Vt=["count="+v];ke==-1?v>0?(ke=L[0].g,Vt.push("ofs="+ke)):ke=0:Vt.push("ofs="+ke);let it=!0;for(let St=0;St<v;St++){var B=L[St].g;const Kn=L[St].map;if(B-=ke,B<0)ke=Math.max(0,L[St].g-100),it=!1;else try{B="req"+B+"_"||"";try{var se=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Li,hi]of se){let fi=hi;g(hi)&&(fi=Ne(hi)),Vt.push(B+Li+"="+encodeURIComponent(fi))}}catch(Li){throw Vt.push(B+"type="+encodeURIComponent("_badmap")),Li}}catch{S&&S(Kn)}}if(it){se=Vt.join("&");break e}}se=void 0}return u=u.i.splice(0,v),m.G=u,se}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ht||A(),Xe||(ht(),Xe=!0),C.add(m,u),u.A=0}}function qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Si(_(u.Da,u),wu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Si(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Hs(this),Su(this))};function Fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Bt(u.na);ot(m,"RID","rpc"),ot(m,"SID",u.M),ot(m,"AID",u.K),ot(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(m,"TO",u.ia),ot(m,"TYPE","xmlhttp"),Hr(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ur(Bt(m)),v.u=null,v.R=!0,_a(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Hs(this),qr(this),jt(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){xa(u),Fl(u),u.g=null;var S=2}else if(Ni(u.h,m))v=m.G,Vl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=Mt(),Ct(S,new bi(S,v)),ki(u)}else bu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&Ra(u,m)||S==2&&qr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ui(u,5);break;case 4:Ui(u,10);break;case 3:Ui(u,6);break;default:Ui(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ui(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const L=!S;S=new kn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||nn(S,"https"),Ur(S),L?oi(S.toString(),v):zl(S.toString(),v)}else jt(2);u.I=0,u.l&&u.l.pa(m),Ru(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=kl(u.h);(m.length!=0||u.i.length!=0)&&(ie(u.ja,m),ie(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var S=v instanceof kn?Bt(v):new kn(v);if(S.g!="")m&&(S.g=m+"."+S.g),ks(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new kn(null);S&&nn(B,S),m&&(B.g=m),L&&ks(B,L),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&ot(S,v,m),ot(S,"VER",u.ka),Hr(u,S),S}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ft(new Oi({ab:v})):new ft(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function qs(){}qs.prototype.g=function(u,m){return new En(u,m)};function En(u,m){It.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ss(this)}w(En,It),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){ql(this.g)},En.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ne(u),u=v);m.i.push(new zt(m.Ya++,u)),m.I==3&&ki(m)},En.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,En.Z.N.call(this)};function Nu(u){ce.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Nu,ce);function Du(){Y.call(this),this.status=1}w(Du,Y);function ss(u){this.g=u}w(ss,Cu),ss.prototype.ra=function(){Ct(this.g,"a")},ss.prototype.qa=function(u){Ct(this.g,new Nu(u))},ss.prototype.pa=function(u){Ct(this.g,new Du)},ss.prototype.oa=function(){Ct(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,O1=function(){return new qs},D1=function(){return Mt()},N1=pe,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Qc=Vr,Cl.COMPLETE="complete",C1=Cl,je.EventType=ze,ze.OPEN="a",ze.CLOSE="b",ze.ERROR="c",ze.MESSAGE="d",It.prototype.listen=It.prototype.J,Do=je,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,I1=ft}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const V_="@firebase/firestore",k_="4.9.3";let yn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let wl="12.7.0";const fa=new Vm("@firebase/firestore");function sl(){return fa.logLevel}function de(s,...e){if(fa.logLevel<=Qe.DEBUG){const i=e.map(Fm);fa.debug(`Firestore (${wl}): ${s}`,...i)}}function Ns(s,...e){if(fa.logLevel<=Qe.ERROR){const i=e.map(Fm);fa.error(`Firestore (${wl}): ${s}`,...i)}}function pl(s,...e){if(fa.logLevel<=Qe.WARN){const i=e.map(Fm);fa.warn(`Firestore (${wl}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Re(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,M1(s,a,i)}function M1(s,e,i){let a=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ns(a),new Error(a)}function at(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||M1(e,o,a)}function Ve(s,e){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class V1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(yn.UNAUTHENTICATED)))}shutdown(){}}class H2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class q2{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new br,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new br)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(at(typeof a.accessToken=="string",31837,{l:a}),new V1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class G2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new G2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const a=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new U_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Y2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Y2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Ye(s,e){return s<e?-1:s>e?1:0}function hm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Kd(o)===Kd(c)?Ye(o,c):Kd(o)?1:-1}return Ye(s.length,e.length)}const K2=55296,X2=57343;function Kd(s){const e=s.charCodeAt(0);return e>=K2&&e<=X2}function gl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const L_="__name__";class qi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Re(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Re(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=qi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ye(e.length,i.length)}static compareSegments(e,i){const a=qi.isNumericId(e),o=qi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?qi.extractNumericId(e).compare(qi.extractNumericId(i)):hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Rt extends qi{construct(e,i,a){return new Rt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ye(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Rt(i)}static emptyPath(){return new Rt([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends qi{construct(e,i,a){return new dn(e,i,a)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new dn([L_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ye(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ye(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ye(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ye(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(i)}static emptyPath(){return new dn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Rt.fromString(e))}static fromName(e){return new Ae(Rt.fromString(e).popFirst(5))}static empty(){return new Ae(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Rt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Rt(e.slice()))}}function J2(s,e,i){if(!i)throw new ye(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Z2(s,e,i,a){if(e===!0&&a===!0)throw new ye(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function j_(s){if(!Ae.isDocumentKey(s))throw new ye(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function k1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ym(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re(12329,{type:typeof s})}function yi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ye(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ym(s);throw new ye(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Xt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ru(s,e){if(!k1(s))throw new ye(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ye(W.INVALID_ARGUMENT,i);return!0}const P_=-62135596800,z_=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*z_);return new bt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ye(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ye(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<P_)throw new ye(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Xt("string",bt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new bt(0,0))}static max(){return new De(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Go=-1;function W2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=De.fromTimestamp(a===1e9?new bt(i+1,0):new bt(i,a));return new Ar(o,Ae.empty(),e)}function eR(s){return new Ar(s.readTime,s.key,Go)}class Ar{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ar(De.min(),Ae.empty(),Go)}static max(){return new Ar(De.max(),Ae.empty(),Go)}}function tR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Ae.comparator(s.documentKey,e.documentKey),i!==0?i:Ye(s.largestBatchId,e.largestBatchId))}const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rl(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==nR)throw s;de("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{d[_]=E,++g,g===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new J(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function sR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xl(s){return s.name==="IndexedDbTransactionError"}class Th{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;const Km=-1;function bh(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function rR(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const U1="";function aR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=B_(e)),e=lR(s.get(i),e);return B_(e)}function lR(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case U1:i+="";break;default:i+=c}}return i}function B_(s){return s+U1+""}function H_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function L1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class xt{constructor(e,i){this.comparator=e,this.root=i||fn.EMPTY}insert(e,i){return new xt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new fn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new fn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new en(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new qn([])}unionWith(e){let i=new en(dn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class j1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new j1("Invalid base64 string: "+c):c}})(e);return new mn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new mn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const oR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(at(!!s,39018),typeof s=="string"){let e=0;const i=oR.exec(s);if(at(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(s.seconds),nanos:Lt(s.nanos)}}function Lt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?mn.fromBase64String(s):mn.fromUint8Array(s)}const P1="server_timestamp",z1="__type__",B1="__previous_value__",H1="__local_write_time__";function Xm(s){return(s?.mapValue?.fields||{})[z1]?.stringValue===P1}function Sh(s){const e=s.mapValue.fields[B1];return Xm(e)?Sh(e):e}function Fo(s){const e=wr(s.mapValue.fields[H1].timestampValue);return new bt(e.seconds,e.nanos)}class uR{constructor(e,i,a,o,c,d,g,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const oh="(default)";class Qo{constructor(e,i){this.projectId=e,this.database=i||oh}static empty(){return new Qo("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Qo&&e.projectId===this.projectId&&e.database===this.database}}const q1="__type__",cR="__max__",jc={mapValue:{}},G1="__vector__",uh="value";function xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xm(s)?4:fR(s)?9007199254740991:hR(s)?10:11:Re(28295,{value:s})}function $i(s,e){if(s===e)return!0;const i=xr(s);if(i!==xr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fo(s).isEqual(Fo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=wr(o.timestampValue),g=wr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Rr(o.bytesValue).isEqual(Rr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Lt(o.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Lt(o.integerValue)===Lt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Lt(o.doubleValue),g=Lt(c.doubleValue);return d===g?lh(d)===lh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return gl(s.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(H_(d)!==H_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!$i(d[y],g[y])))return!1;return!0})(s,e);default:return Re(52216,{left:s})}}function Yo(s,e){return(s.values||[]).find((i=>$i(i,e)))!==void 0}function yl(s,e){if(s===e)return 0;const i=xr(s),a=xr(e);if(i!==a)return Ye(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ye(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Lt(c.integerValue||c.doubleValue),y=Lt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return G_(s.timestampValue,e.timestampValue);case 4:return G_(Fo(s),Fo(e));case 5:return hm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Rr(c),y=Rr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const E=Ye(g[_],y[_]);if(E!==0)return E}return Ye(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ye(Lt(c.latitude),Lt(d.latitude));return g!==0?g:Ye(Lt(c.longitude),Lt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return F_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[uh]?.arrayValue,E=y[uh]?.arrayValue,w=Ye(_?.values?.length||0,E?.values?.length||0);return w!==0?w:F_(_,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===jc.mapValue&&d===jc.mapValue)return 0;if(c===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let w=0;w<y.length&&w<E.length;++w){const M=hm(y[w],E[w]);if(M!==0)return M;const q=yl(g[y[w]],_[E[w]]);if(q!==0)return q}return Ye(y.length,E.length)})(s.mapValue,e.mapValue);default:throw Re(23264,{he:i})}}function G_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ye(s,e);const i=wr(s),a=wr(e),o=Ye(i.seconds,a.seconds);return o!==0?o:Ye(i.nanos,a.nanos)}function F_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=yl(i[o],a[o]);if(c)return c}return Ye(i.length,a.length)}function _l(s){return fm(s)}function fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Rr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Ae.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=fm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${fm(i.fields[d])}`;return o+"}"})(s.mapValue):Re(61005,{value:s})}function Yc(s){switch(xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(s);return e?16+Yc(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Nr(a.fields,((c,d)=>{o+=c.length+Yc(d)})),o})(s.mapValue);default:throw Re(13486,{value:s})}}function dm(s){return!!s&&"integerValue"in s}function $m(s){return!!s&&"arrayValue"in s}function Q_(s){return!!s&&"nullValue"in s}function Y_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function hR(s){return(s?.mapValue?.fields||{})[q1]?.stringValue===G1}function jo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Nr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=jo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jo(s.arrayValue.values[i]);return e}return{...s}}function fR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(i)}setAll(e){let i=dn.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=jo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Nr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new On(jo(this.value))}}function F1(s){const e=[];return Nr(s.fields,((i,a)=>{const o=new dn([i]);if(Kc(a)){const c=F1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new qn(e)}class _n{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new _n(e,0,De.min(),De.min(),De.min(),On.empty(),0)}static newFoundDocument(e,i,a,o){return new _n(e,1,i,De.min(),a,o,0)}static newNoDocument(e,i){return new _n(e,2,i,De.min(),De.min(),On.empty(),0)}static newUnknownDocument(e,i){return new _n(e,3,i,De.min(),De.min(),On.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function K_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=Ae.comparator(Ae.fromName(d.referenceValue),i.key):a=yl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function X_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!$i(s.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function dR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Q1{}class Wt extends Q1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new pR(e,i,a):i==="array-contains"?new _R(e,a):i==="in"?new vR(e,a):i==="not-in"?new ER(e,a):i==="array-contains-any"?new TR(e,a):new Wt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new gR(e,a):new yR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yl(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(yl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends Q1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ji(e,i)}matches(e){return Y1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y1(s){return s.op==="and"}function K1(s){return mR(s)&&Y1(s)}function mR(s){for(const e of s.filters)if(e instanceof Ji)return!1;return!0}function mm(s){if(s instanceof Wt)return s.field.canonicalString()+s.op.toString()+_l(s.value);if(K1(s))return s.filters.map((e=>mm(e))).join(",");{const e=s.filters.map((i=>mm(i))).join(",");return`${s.op}(${e})`}}function X1(s,e){return s instanceof Wt?(function(a,o){return o instanceof Wt&&a.op===o.op&&a.field.isEqual(o.field)&&$i(a.value,o.value)})(s,e):s instanceof Ji?(function(a,o){return o instanceof Ji&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&X1(d,o.filters[g])),!0):!1})(s,e):void Re(19439)}function $1(s){return s instanceof Wt?(function(i){return`${i.field.canonicalString()} ${i.op} ${_l(i.value)}`})(s):s instanceof Ji?(function(i){return i.op.toString()+" {"+i.getFilters().map($1).join(" ,")+"}"})(s):"Filter"}class pR extends Wt{constructor(e,i,a){super(e,i,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const i=Ae.comparator(e.key,this.key);return this.matchesComparison(i)}}class gR extends Wt{constructor(e,i){super(e,"in",i),this.keys=J1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class yR extends Wt{constructor(e,i){super(e,"not-in",i),this.keys=J1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function J1(s,e){return(e.arrayValue?.values||[]).map((i=>Ae.fromName(i.referenceValue)))}class _R extends Wt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $m(i)&&Yo(i.arrayValue,this.value)}}class vR extends Wt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yo(this.value.arrayValue,i)}}class ER extends Wt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yo(this.value.arrayValue,i)}}class TR extends Wt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Yo(this.value.arrayValue,a)))}}class bR{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function $_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new bR(s,e,i,a,o,c,d)}function Jm(s){const e=Ve(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>mm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),bh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>_l(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>_l(a))).join(",")),e.Te=i}return e.Te}function Zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!dR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!X1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!X_(s.startAt,e.startAt)&&X_(s.endAt,e.endAt)}function pm(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SR(s,e,i,a,o,c,d,g){return new Ah(s,e,i,a,o,c,d,g)}function wh(s){return new Ah(s)}function J_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function AR(s){return s.collectionGroup!==null}function Po(s){const e=Ve(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new en(dn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,a))})),i.has(dn.keyField().canonicalString())||e.Ie.push(new hh(dn.keyField(),a))}return e.Ie}function Qi(s){const e=Ve(s);return e.Ee||(e.Ee=wR(e,Po(s))),e.Ee}function wR(s,e){if(s.limitType==="F")return $_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new hh(o.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return $_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function gm(s,e,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rh(s,e){return Zm(Qi(s),Qi(e))&&s.limitType===e.limitType}function Z1(s){return`${Jm(Qi(s))}|lt:${s.limitType}`}function rl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>$1(o))).join(", ")}]`),bh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>_l(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>_l(o))).join(",")),`Target(${a})`})(Qi(s))}; limitType=${s.limitType})`}function xh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Ae.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Po(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=K_(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Po(a),o)||a.endAt&&!(function(d,g,y){const _=K_(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Po(a),o))})(s,e)}function RR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function W1(s){return(e,i)=>{let a=!1;for(const o of Po(s)){const c=xR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function xR(s,e,i){const a=s.field.isKeyField()?Ae.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?yl(y,_):Re(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Re(19790,{direction:s.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return L1(this.inner)}size(){return this.innerSize}}const IR=new xt(Ae.comparator);function Ds(){return IR}const eE=new xt(Ae.comparator);function Oo(...s){let e=eE;for(const i of s)e=e.insert(i.key,i);return e}function tE(s){let e=eE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return zo()}function nE(){return zo()}function zo(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const CR=new xt(Ae.comparator),NR=new en(Ae.comparator);function Ke(...s){let e=NR;for(const i of s)e=e.add(i);return e}const DR=new en(Ye);function OR(){return DR}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function iE(s){return{integerValue:""+s}}function sE(s,e){return rR(e)?iE(e):Wm(s,e)}class Ih{constructor(){this._=void 0}}function MR(s,e,i){return s instanceof fh?(function(o,c){const d={fields:{[z1]:{stringValue:P1},[H1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Xm(c)&&(c=Sh(c)),c&&(d.fields[B1]=c),{mapValue:d}})(i,e):s instanceof vl?aE(s,e):s instanceof Ko?lE(s,e):(function(o,c){const d=rE(o,c),g=Z_(d)+Z_(o.Ae);return dm(d)&&dm(o.Ae)?iE(g):Wm(o.serializer,g)})(s,e)}function VR(s,e,i){return s instanceof vl?aE(s,e):s instanceof Ko?lE(s,e):i}function rE(s,e){return s instanceof Xo?(function(a){return dm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class fh extends Ih{}class vl extends Ih{constructor(e){super(),this.elements=e}}function aE(s,e){const i=oE(e);for(const a of s.elements)i.some((o=>$i(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ko extends Ih{constructor(e){super(),this.elements=e}}function lE(s,e){let i=oE(e);for(const a of s.elements)i=i.filter((o=>!$i(o,a)));return{arrayValue:{values:i}}}class Xo extends Ih{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z_(s){return Lt(s.integerValue||s.doubleValue)}function oE(s){return $m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class uE{constructor(e,i){this.field=e,this.transform=i}}function kR(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof vl&&o instanceof vl||a instanceof Ko&&o instanceof Ko?gl(a.elements,o.elements,$i):a instanceof Xo&&o instanceof Xo?$i(a.Ae,o.Ae):a instanceof fh&&o instanceof fh})(s.transform,e.transform)}class UR{constructor(e,i){this.version=e,this.transformResults=i}}class _i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function cE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ep(s.key,_i.none()):new au(s.key,s.data,_i.none());{const i=s.data,a=On.empty();let o=new en(dn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Dr(s.key,a,new qn(o.toArray()),_i.none())}}function LR(s,e,i){s instanceof au?(function(o,c,d){const g=o.value.clone(),y=ev(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Dr?(function(o,c,d){if(!Xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=ev(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(hE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Bo(s,e,i,a){return s instanceof au?(function(c,d,g,y){if(!Xc(c.precondition,d))return g;const _=c.value.clone(),E=tv(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Dr?(function(c,d,g,y){if(!Xc(c.precondition,d))return g;const _=tv(c.fieldTransforms,y,d),E=d.data;return E.setAll(hE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,g){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function jR(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=rE(a.transform,o||null);c!=null&&(i===null&&(i=On.empty()),i.set(a.field,c))}return i||null}function W_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&gl(a,o,((c,d)=>kR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends Ch{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends Ch{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function ev(s,e,i){const a=new Map;at(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,VR(d,g,i[o]))}return a}function tv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,MR(c,d,e))}return a}class ep extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PR extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&LR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=nE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=cE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(De.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((i,a)=>W_(i,a)))&&gl(this.baseMutations,e.baseMutations,((i,a)=>W_(i,a)))}}class tp{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){at(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return CR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new tp(e,i,a,o)}}class BR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Kt,Ze;function qR(s){switch(s){case W.OK:return Re(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Re(15467,{code:s})}}function fE(s){if(s===void 0)return Ns("GRPC error has no .code"),W.UNKNOWN;switch(s){case Kt.OK:return W.OK;case Kt.CANCELLED:return W.CANCELLED;case Kt.UNKNOWN:return W.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return W.INTERNAL;case Kt.UNAVAILABLE:return W.UNAVAILABLE;case Kt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Kt.NOT_FOUND:return W.NOT_FOUND;case Kt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Kt.ABORTED:return W.ABORTED;case Kt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Kt.DATA_LOSS:return W.DATA_LOSS;default:return Re(39323,{code:s})}}(Ze=Kt||(Kt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function GR(){return new TextEncoder}const FR=new Tr([4294967295,4294967295],0);function nv(s){const e=GR().encode(s),i=new x1;return i.update(e),new Uint8Array(i.digest())}function iv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([o,c],0)]}class np{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(a<0)throw new Mo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Tr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Tr.fromNumber(a)));return o.compare(FR)===1&&(o=new Tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[a,o]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new np(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=nv(e),[a,o]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Nh(De.min(),o,new xt(Ye),Ds(),Ke())}}class lu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,Ke(),Ke(),Ke())}}class $c{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class dE{constructor(e,i){this.targetId=e,this.Ce=i}}class mE{constructor(e,i,a=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class sv{constructor(){this.ve=0,this.Fe=rv(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),a=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Re(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=rv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=Pc(),this.He=Pc(),this.Ye=new xt(Ye)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(pm(c))if(a===0){const d=new Ae(c.path);this.et(i,d,_n.newNoDocument(d,De.min()))}else at(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Rr(a).toUint8Array()}catch(y){if(y instanceof j1)return pl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new np(d,o,c)}catch(y){return pl(y instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&pm(g.target)){const y=new Ae(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,_n.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ke();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Nh(e,i,this.Ye,this.je,a);return this.je=Ds(),this.Je=Pc(),this.He=Pc(),this.Ye=new xt(Ye),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new sv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new en(Ye),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new en(Ye),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||de("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new xt(Ae.comparator)}function rv(){return new xt(Ae.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},KR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class $R{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(s,e){return s.useProto3Json||bh(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function JR(s,e){return dh(s,e.toTimestamp())}function Yi(s){return at(!!s,49232),De.fromTimestamp((function(i){const a=wr(i);return new bt(a.seconds,a.nanos)})(s))}function ip(s,e){return _m(s,e).canonicalString()}function _m(s,e){const i=(function(o){return new Rt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function gE(s){const e=Rt.fromString(s);return at(TE(e),10190,{key:e.toString()}),e}function vm(s,e){return ip(s.databaseId,e.path)}function Xd(s,e){const i=gE(e);if(i.get(1)!==s.databaseId.projectId)throw new ye(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ye(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ae(_E(i))}function yE(s,e){return ip(s.databaseId,e)}function ZR(s){const e=gE(s);return e.length===4?Rt.emptyPath():_E(e)}function Em(s){return new Rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function _E(s){return at(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function av(s,e,i){return{name:vm(s,e),fields:i.value.mapValue.fields}}function WR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Re(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(at(E===void 0||typeof E=="string",58123),mn.fromBase64String(E||"")):(at(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),mn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const E=_.code===void 0?W.UNKNOWN:fE(_.code);return new ye(E,_.message||"")})(d);i=new mE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Xd(s,a.document.name),c=Yi(a.document.updateTime),d=a.document.createTime?Yi(a.document.createTime):De.min(),g=new On({mapValue:{fields:a.document.fields}}),y=_n.newFoundDocument(o,c,d,g),_=a.targetIds||[],E=a.removedTargetIds||[];i=new $c(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Xd(s,a.document),c=a.readTime?Yi(a.readTime):De.min(),d=_n.newNoDocument(o,c),g=a.removedTargetIds||[];i=new $c([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Xd(s,a.document),c=a.removedTargetIds||[];i=new $c([],c,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new HR(o,c),g=a.targetId;i=new dE(g,d)}}return i}function ex(s,e){let i;if(e instanceof au)i={update:av(s,e.key,e.value)};else if(e instanceof ep)i={delete:vm(s,e.key)};else if(e instanceof Dr)i={update:av(s,e.key,e.data),updateMask:ux(e.fieldMask)};else{if(!(e instanceof PR))return Re(16599,{Vt:e.type});i={verify:vm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ko)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Re(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:JR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)})(s,e.precondition)),i}function tx(s,e){return s&&s.length>0?(at(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Yi(o.updateTime):Yi(c);return d.isEqual(De.min())&&(d=Yi(c)),new UR(d,o.transformResults||[])})(i,e)))):[]}function nx(s,e){return{documents:[yE(s,e.path)]}}function ix(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=yE(s,o);const c=(function(_){if(_.length!==0)return EE(Ji.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:al(M.field),direction:ax(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ym(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function sx(s){let e=ZR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){at(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=vE(w);return M instanceof Ji&&K1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(ie){return new hh(ll(ie.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ie.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,bh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,q=w.values||[];return new ch(q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,q=w.values||[];return new ch(q,M)})(i.endAt)),SR(e,o,d,c,g,"F",y,_)}function rx(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function vE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ll(i.unaryFilter.field);return Wt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ll(i.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ll(i.unaryFilter.field);return Wt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ll(i.unaryFilter.field);return Wt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Wt.create(ll(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ji.create(i.compositeFilter.filters.map((a=>vE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(i.compositeFilter.op))})(s):Re(30097,{filter:s})}function ax(s){return YR[s]}function lx(s){return KR[s]}function ox(s){return XR[s]}function al(s){return{fieldPath:s.canonicalString()}}function ll(s){return dn.fromServerFormat(s.fieldPath)}function EE(s){return s instanceof Wt?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NAN"}};if(Q_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NOT_NAN"}};if(Q_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(i.field),op:lx(i.op),value:i.value}}})(s):s instanceof Ji?(function(i){const a=i.getFilters().map((o=>EE(o)));return a.length===1?a[0]:{compositeFilter:{op:ox(i.op),filters:a}}})(s):Re(54877,{filter:s})}function ux(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function TE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class yr{constructor(e,i,a,o,c=De.min(),d=De.min(),g=mn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cx{constructor(e){this.yt=e}}function hx(s){const e=sx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(e,e.limit,"L"):e}class fx{constructor(){this.Cn=new dx}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Ar.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class dx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new en(Rt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new en(Rt.comparator)).toArray()}}const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bE=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(bE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}const ov="LruGarbageCollector",mx=1048576;function uv([s,e],[i,a]){const o=Ye(s,i);return o===0?Ye(e,a):o}class px{constructor(e){this.Ir=e,this.buffer=new en(uv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();uv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xl(i)?de(ov,"Ignoring IndexedDB error during garbage collection: ",i):await Rl(i)}await this.Vr(3e5)}))}}class yx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Th.ce);const a=new px(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(lv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),sl()<=Qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function _x(s,e){return new yx(s,e)}class vx{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ex{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Tx{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Bo(a.mutation,o,qn.empty(),bt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ke()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ke()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Oo();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ke())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=Ds();const d=zo(),g=(function(){return zo()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Dr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Bo(E.mutation,_,E.mutation.getFieldMask(),bt.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>g.set(_,new Ex(E,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=zo();let o=new xt(((d,g)=>d-g)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||qn.empty();E=g.applyToLocalView(_,E),a.set(y,E);const w=(o.get(g.batchId)||Ke()).add(y);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,E=y.value,w=nE();E.forEach((M=>{if(!c.has(M)){const q=cE(i.get(M),a.get(M));q!==null&&w.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return Ae.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):AR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):J.resolve(oa());let g=Go,y=c;return d.next((_=>J.forEach(_,((E,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Ke()))).next((E=>({batchId:g,changes:tE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ae(i)).next((a=>{let o=Oo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Oo();return this.indexManager.getCollectionParents(e,c).next((g=>J.forEach(g,(y=>{const _=(function(w,M){return new Ah(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,_n.newInvalidDocument(E)))}));let g=Oo();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Bo(E.mutation,_,qn.empty(),bt.now()),xh(i,_)&&(g=g.insert(y,_))})),g}))}}class bx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:hx(o.bundledQuery),readTime:Yi(o.readTime)}})(i)),J.resolve()}}class Sx{constructor(){this.overlays=new xt(Ae.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),c=i.length+1,d=new Ae(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new xt(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=oa(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=oa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=o)););return J.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new BR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ke(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Ax{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class sp{constructor(){this.Qr=new en(rn.$r),this.Ur=new en(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new rn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new rn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Ae(new Rt([])),a=new rn(i,e),o=new rn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ae(new Rt([])),a=new rn(i,e),o=new rn(i,e+1);let c=Ke();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new rn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class rn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ae.comparator(e.key,i.key)||Ye(e.Yr,i.Yr)}static Kr(e,i){return Ye(e.Yr,i.Yr)||Ae.comparator(e.key,i.key)}}class wx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new en(rn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new rn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new rn(i,0),o=new rn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new en(Ye);return i.forEach((o=>{const c=new rn(o,0),d=new rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;Ae.isDocumentKey(c)||(c=c.child(""));const d=new rn(new Ae(c),0);let g=new en(Ye);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){at(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(o=>{const c=new rn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new rn(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Rx{constructor(e){this.ri=e,this.docs=(function(){return new xt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(i))}getEntries(e,i){let a=Ds();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():_n.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Ds();const d=i.path,g=new Ae(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||tR(eR(E),a)<=0||(o.has(E.key)||xh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Re(9500)}ii(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new xx(this)}getSize(e){return J.resolve(this.size)}}class xx extends vx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Ix{constructor(e){this.persistence=e,this.si=new pa((i=>Jm(i)),Zm),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new sp,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new El(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class SE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new Ax,this.referenceDelegate=e(this),this.Pi=new Ix(this),this.indexManager=new fx,this.remoteDocumentCache=(function(o){return new Rx(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new cx(i),this.Ii=new bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Sx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new wx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){de("MemoryPersistence","Starting transaction:",e);const o=new Cx(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Cx extends iR{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Ri=new sp,this.Vi=null}static mi(e){return new rp(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const o=Ae.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class mh{constructor(e,i){this.persistence=e,this.pi=new pa((a=>aR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=_x(this,i)}static mi(e,i){return new mh(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,De.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yc(e.data.value)),i}br(e,i,a){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ap{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ke(),o=Ke();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ap(e,i.fromCache,a,o)}}class Nx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vS()?8:sR(vn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Nx;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(sl()<=Qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",rl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(sl()<=Qe.DEBUG&&de("QueryEngine","Query:",rl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(sl()<=Qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",rl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(i))):J.resolve())}ys(e,i){if(J_(i))return J.resolve(null);let a=Qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=gm(i,null,"F"),a=Qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ke(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,gm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return J_(i)||o.isEqual(De.min())?J.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?J.resolve(null):(sl()<=Qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rl(i)),this.vs(e,d,i,W2(o,Go)).next((g=>g)))}))}Ds(e,i){let a=new en(W1(e));return i.forEach(((o,c)=>{xh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return sl()<=Qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",rl(i)),this.ps.getDocumentsMatchingQuery(e,i,Ar.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const lp="LocalStore",Ox=3e8;class Mx{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new xt(Ye),this.xs=new pa((c=>Jm(c)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Vx(s,e,i,a){return new Mx(s,e,i,a)}async function AE(s,e){const i=Ve(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Ke();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function kx(s,e){const i=Ve(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,E){const w=_.batch,M=w.keys();let q=J.resolve();return M.forEach((ie=>{q=q.next((()=>E.getEntry(y,ie))).next((ae=>{const ne=_.docVersions.get(ie);at(ne!==null,48541),ae.version.compareTo(ne)<0&&(w.applyToRemoteDocument(ae,_),ae.isValidDocument()&&(ae.setReadTime(_.commitVersion),E.addEntry(ae)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Ke();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function wE(s){const e=Ve(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Ux(s,e){const i=Ve(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,w)=>{const M=o.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let q=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(mn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,a)),o=o.insert(w,q),(function(ae,ne,Te){return ae.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=Ox?!0:Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0})(M,q,E)&&g.push(i.Pi.updateTargetData(c,q))}));let y=Ds(),_=Ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(Lx(c,d,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(De.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function Lx(s,e,i){let a=Ke(),o=Ke();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ds();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(De.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):de(lp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function jx(s,e){const i=Ve(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Px(s,e){const i=Ve(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Tm(s,e,i){const a=Ve(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xl(d))throw d;de(lp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function cv(s,e,i){const a=Ve(s);let o=De.min(),c=Ke();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const w=Ve(y),M=w.xs.get(E);return M!==void 0?J.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,E)})(a,d,Qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:De.min(),i?c:Ke()))).next((g=>(zx(a,RR(e),g),{documents:g,Qs:c})))))}function zx(s,e,i){let a=s.Os.get(e)||De.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class hv{constructor(){this.activeTargetIds=OR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bx{constructor(){this.Mo=new hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hx{Oo(e){}shutdown(){}}const fv="ConnectivityMonitor";class dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function bm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const $d="RestConnection",qx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===oh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=bm(),g=this.zo(e,i.toUriEncodedString());de($d,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),E=bl(_);return this.Jo(e,g,y,a,E).then((w=>(de($d,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw pl($d,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=qx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Fx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const gn="WebChannelConnection";class Qx extends Gx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=bm();return new Promise(((g,y)=>{const _=new I1;_.setWithCredentials(!0),_.listenOnce(C1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const w=_.getResponseJson();de(gn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Qc.TIMEOUT:de(gn,`RPC '${e}' ${d} timed out`),y(new ye(W.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const M=_.getStatus();if(de(gn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const ie=q?.error;if(ie&&ie.status&&ie.message){const ae=(function(Te){const Ce=Te.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Ce)>=0?Ce:W.UNKNOWN})(ie.status);y(new ye(ae,ie.message))}else y(new ye(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ye(W.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{de(gn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);de(gn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=bm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=O1(),g=D1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");de(gn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const w=d.createWebChannel(E,y);this.I_(w);let M=!1,q=!1;const ie=new Fx({Yo:ne=>{q?de(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,ne):(M||(de(gn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),de(gn,`RPC '${e}' stream ${o} sending:`,ne),w.send(ne))},Zo:()=>w.close()}),ae=(ne,Te,Ce)=>{ne.listen(Te,(be=>{try{Ce(be)}catch(We){setTimeout((()=>{throw We}),0)}}))};return ae(w,Do.EventType.OPEN,(()=>{q||(de(gn,`RPC '${e}' stream ${o} transport opened.`),ie.o_())})),ae(w,Do.EventType.CLOSE,(()=>{q||(q=!0,de(gn,`RPC '${e}' stream ${o} transport closed`),ie.a_(),this.E_(w))})),ae(w,Do.EventType.ERROR,(ne=>{q||(q=!0,pl(gn,`RPC '${e}' stream ${o} transport errored. Name:`,ne.name,"Message:",ne.message),ie.a_(new ye(W.UNAVAILABLE,"The operation could not be completed")))})),ae(w,Do.EventType.MESSAGE,(ne=>{if(!q){const Te=ne.data[0];at(!!Te,16349);const Ce=Te,be=Ce?.error||Ce[0]?.error;if(be){de(gn,`RPC '${e}' stream ${o} received error:`,be);const We=be.status;let ht=(function(A){const x=Kt[A];if(x!==void 0)return fE(x)})(We),Xe=be.message;ht===void 0&&(ht=W.INTERNAL,Xe="Unknown error status: "+We+" with message "+be.message),q=!0,ie.a_(new ye(ht,Xe)),w.close()}else de(gn,`RPC '${e}' stream ${o} received:`,Te),ie.u_(Te)}})),ae(g,N1.STAT_EVENT,(ne=>{ne.stat===cm.PROXY?de(gn,`RPC '${e}' stream ${o} detected buffering proxy`):ne.stat===cm.NOPROXY&&de(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ie.__()}),0),ie}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Jd(){return typeof document<"u"?document:null}function Dh(s){return new $R(s,!0)}class RE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mv="PersistentStream";class xE{constructor(e,i,a,o,c,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Ns(i.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ye(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(de(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yx extends xE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=WR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return De.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?De.min():d.readTime?Yi(d.readTime):De.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=pm(y)?{documents:nx(c,y)}:{query:ix(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=pE(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(De.min())>0){g.readTime=dh(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=rx(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Em(this.serializer),i.removeTarget=e,this.q_(i)}}class Kx extends xE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=tx(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Em(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>ex(this.serializer,a)))};this.q_(i)}}class Xx{}class $x extends Xx{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,_m(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(W.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,_m(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ye(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Jx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(i),this.aa=!1):de("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class Zx{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(de(da,"Restarting streams for network reachability change."),await(async function(y){const _=Ve(y);_.Ea.add(4),await ou(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Oh(_)})(this))}))})),this.Ra=new Jx(a,o)}}async function Oh(s){if(ga(s))for(const e of s.da)await e(!0)}async function ou(s){for(const e of s.da)await e(!1)}function IE(s,e){const i=Ve(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hp(i)?cp(i):Il(i).O_()&&up(i,e))}function op(s,e){const i=Ve(s),a=Il(i);i.Ia.delete(e),a.O_()&&CE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function up(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Il(s).Y_(e)}function CE(s,e){s.Va.Ue(e),Il(s).Z_(e)}function cp(s){s.Va=new QR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Il(s).start(),s.Ra.ua()}function hp(s){return ga(s)&&!Il(s).x_()&&s.Ia.size>0}function ga(s){return Ve(s).Ea.size===0}function NE(s){s.Va=void 0}async function Wx(s){s.Ra.set("Online")}async function eI(s){s.Ia.forEach(((e,i)=>{up(s,e)}))}async function tI(s,e){NE(s),hp(s)?(s.Ra.ha(e),cp(s)):s.Ra.set("Unknown")}async function nI(s,e,i){if(s.Ra.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){de(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ph(s,a)}else if(e instanceof $c?s.Va.Ze(e):e instanceof dE?s.Va.st(e):s.Va.tt(e),!i.isEqual(De.min()))try{const a=await wE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(mn.EMPTY_BYTE_STRING,E.snapshotVersion)),CE(c,y);const w=new yr(E.target,y,_,E.sequenceNumber);up(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){de(da,"Failed to raise snapshot:",a),await ph(s,a)}}async function ph(s,e,i){if(!xl(e))throw e;s.Ea.add(1),await ou(s),s.Ra.set("Offline"),i||(i=()=>wE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Oh(s)}))}function DE(s,e){return e().catch((i=>ph(s,i,e)))}async function Mh(s){const e=Ve(s),i=Ir(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;iI(e);)try{const o=await jx(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,sI(e,o)}catch(o){await ph(e,o)}OE(e)&&ME(e)}function iI(s){return ga(s)&&s.Ta.length<10}function sI(s,e){s.Ta.push(e);const i=Ir(s);i.O_()&&i.X_&&i.ea(e.mutations)}function OE(s){return ga(s)&&!Ir(s).x_()&&s.Ta.length>0}function ME(s){Ir(s).start()}async function rI(s){Ir(s).ra()}async function aI(s){const e=Ir(s);for(const i of s.Ta)e.ea(i.mutations)}async function lI(s,e,i){const a=s.Ta.shift(),o=tp.from(a,e,i);await DE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Mh(s)}async function oI(s,e){e&&Ir(s).X_&&await(async function(a,o){if((function(d){return qR(d)&&d!==W.ABORTED})(o.code)){const c=a.Ta.shift();Ir(a).B_(),await DE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Mh(a)}})(s,e),OE(s)&&ME(s)}async function pv(s,e){const i=Ve(s);i.asyncQueue.verifyOperationInProgress(),de(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await ou(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Oh(i)}async function uI(s,e){const i=Ve(s);e?(i.Ea.delete(2),await Oh(i)):e||(i.Ea.add(2),await ou(i),i.Ra.set("Unknown"))}function Il(s){return s.ma||(s.ma=(function(i,a,o){const c=Ve(i);return c.sa(),new Yx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:Wx.bind(null,s),t_:eI.bind(null,s),r_:tI.bind(null,s),H_:nI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),hp(s)?cp(s):s.Ra.set("Unknown")):(await s.ma.stop(),NE(s))}))),s.ma}function Ir(s){return s.fa||(s.fa=(function(i,a,o){const c=Ve(i);return c.sa(),new Kx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:rI.bind(null,s),r_:oI.bind(null,s),ta:aI.bind(null,s),na:lI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(de(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new fp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(s,e){if(Ns("AsyncQueue",`${e}: ${s}`),xl(s))return new ye(W.UNAVAILABLE,`${e}: ${s}`);throw s}class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Ae.comparator(i.key,a.key):(i,a)=>Ae.comparator(i.key,a.key),this.keyedMap=Oo(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new fl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class gv{constructor(){this.ga=new xt(Ae.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Tl{constructor(e,i,a,o,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Tl(e,i,fl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class cI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hI{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ve(i),c=o.queries;o.queries=yv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new ye(W.ABORTED,"Firestore shutting down"))}}function yv(){return new pa((s=>Z1(s)),Rh)}async function VE(s,e){const i=Ve(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new cI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=dp(d,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&mp(i)}async function kE(s,e){const i=Ve(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function fI(s,e){const i=Ve(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&mp(i)}function dI(s,e,i){const a=Ve(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function mp(s){s.Ca.forEach((e=>{e.next()}))}var Sm,_v;(_v=Sm||(Sm={})).Ma="default",_v.Cache="cache";class UE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Tl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class LE{constructor(e){this.key=e}}class jE{constructor(e){this.key=e}}class mI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=W1(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new gv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const M=o.get(E),q=xh(this.query,w)?w:null,ie=!!M&&this.mutatedKeys.has(M.key),ae=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ne=!1;M&&q?M.data.isEqual(q.data)?ie!==ae&&(a.track({type:3,doc:q}),ne=!0):this.su(M,q)||(a.track({type:2,doc:q}),ne=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(g=!0)):!M&&q?(a.track({type:0,doc:q}),ne=!0):M&&!q&&(a.track({type:1,doc:M}),ne=!0,(y||_)&&(g=!0)),ne&&(q?(d=d.add(q),c=ae?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,w)=>(function(q,ie){const ae=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:ne})}};return ae(q)-ae(ie)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Tl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new jE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new LE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pp="SyncEngine";class pI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class gI{constructor(e){this.key=e,this.hu=!1}}class yI{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((g=>Z1(g)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new xt(Ae.comparator),this.Au=new Map,this.Ru=new sp,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _I(s,e,i=!0){const a=GE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await PE(a,e,i,!0),o}async function vI(s,e){const i=GE(s);await PE(i,e,!0,!1)}async function PE(s,e,i,a){const o=await Px(s.localStore,Qi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await EI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&IE(s.remoteStore,o),g}async function EI(s,e,i,a,o){s.pu=(w,M,q)=>(async function(ae,ne,Te,Ce){let be=ne.view.ru(Te);be.Cs&&(be=await cv(ae.localStore,ne.query,!1).then((({documents:C})=>ne.view.ru(C,be))));const We=Ce&&Ce.targetChanges.get(ne.targetId),ht=Ce&&Ce.targetMismatches.get(ne.targetId)!=null,Xe=ne.view.applyChanges(be,ae.isPrimaryClient,We,ht);return Ev(ae,ne.targetId,Xe.au),Xe.snapshot})(s,w,M,q);const c=await cv(s.localStore,e,!0),d=new mI(e,c.Qs),g=d.ru(c.documents),y=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);Ev(s,i,_.au);const E=new pI(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function TI(s,e,i){const a=Ve(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Rh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Tm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&op(a.remoteStore,o.targetId),Am(a,o.targetId)})).catch(Rl)):(Am(a,o.targetId),await Tm(a.localStore,o.targetId,!0))}async function bI(s,e){const i=Ve(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),op(i.remoteStore,a.targetId))}async function SI(s,e,i){const a=NI(s);try{const o=await(function(d,g){const y=Ve(d),_=bt.now(),E=g.reduce(((q,ie)=>q.add(ie.key)),Ke());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let ie=Ds(),ae=Ke();return y.Ns.getEntries(q,E).next((ne=>{ie=ne,ie.forEach(((Te,Ce)=>{Ce.isValidDocument()||(ae=ae.add(Te))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,ie))).next((ne=>{w=ne;const Te=[];for(const Ce of g){const be=jR(Ce,w.get(Ce.key).overlayedDocument);be!=null&&Te.push(new Dr(Ce.key,be,F1(be.value.mapValue),_i.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,Te,g)})).next((ne=>{M=ne;const Te=ne.applyToLocalDocumentSet(w,ae);return y.documentOverlayCache.saveOverlays(q,ne.batchId,Te)}))})).then((()=>({batchId:M.batchId,changes:tE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new xt(Ye)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await uu(a,o.changes),await Mh(a.remoteStore)}catch(o){const c=dp(o,"Failed to persist write");i.reject(c)}}async function zE(s,e){const i=Ve(s);try{const a=await Ux(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?at(d.hu,14607):o.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await uu(i,a,e)}catch(a){await Rl(a)}}function vv(s,e,i){const a=Ve(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Ve(d);y.onlineState=g;let _=!1;y.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(g)&&(_=!0)})),_&&mp(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AI(s,e,i){const a=Ve(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new xt(Ae.comparator);d=d.insert(c,_n.newNoDocument(c,De.min()));const g=Ke().add(c),y=new Nh(De.min(),new Map,new xt(Ye),d,g);await zE(a,y),a.du=a.du.remove(c),a.Au.delete(e),gp(a)}else await Tm(a.localStore,e,!1).then((()=>Am(a,e,i))).catch(Rl)}async function wI(s,e){const i=Ve(s),a=e.batch.batchId;try{const o=await kx(i.localStore,e);HE(i,a,null),BE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,o)}catch(o){await Rl(o)}}async function RI(s,e,i){const a=Ve(s);try{const o=await(function(d,g){const y=Ve(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(at(w!==null,37113),E=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,e);HE(a,e,i),BE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uu(a,o)}catch(o){await Rl(o)}}function BE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function HE(s,e,i){const a=Ve(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Am(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||qE(s,a)}))}function qE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(op(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),gp(s))}function Ev(s,e,i){for(const a of i)a instanceof LE?(s.Ru.addReference(a.key,e),xI(s,a)):a instanceof jE?(de(pp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||qE(s,a.key)):Re(19791,{wu:a})}function xI(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(de(pp,"New document in limbo: "+i),s.Eu.add(a),gp(s))}function gp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Ae(Rt.fromString(e)),a=s.fu.next();s.Au.set(a,new gI(i)),s.du=s.du.insert(i,a),IE(s.remoteStore,new yr(Qi(wh(i.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function uu(s,e,i){const a=Ve(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=ap.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=Ve(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(M=>J.forEach(M.Es,(q=>E.persistence.referenceDelegate.addReference(w,M.targetId,q))).next((()=>J.forEach(M.ds,(q=>E.persistence.referenceDelegate.removeReference(w,M.targetId,q)))))))))}catch(w){if(!xl(w))throw w;de(lp,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const q=E.Ms.get(M),ie=q.snapshotVersion,ae=q.withLastLimboFreeSnapshotVersion(ie);E.Ms=E.Ms.insert(M,ae)}}})(a.localStore,c))}async function II(s,e){const i=Ve(s);if(!i.currentUser.isEqual(e)){de(pp,"User change. New user:",e.toKey());const a=await AE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ye(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ls)}}function CI(s,e){const i=Ve(s),a=i.Au.get(e);if(a&&a.hu)return Ke().add(a.key);{let o=Ke();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function GE(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AI.bind(null,e),e.Pu.H_=fI.bind(null,e.eventManager),e.Pu.yu=dI.bind(null,e.eventManager),e}function NI(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RI.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Vx(this.persistence,new Dx,e.initialUser,this.serializer)}Cu(e){return new SE(rp.mi,this.serializer)}Du(e){return new Bx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class DI extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){at(this.persistence.referenceDelegate instanceof mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new gx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new SE((a=>mh.mi(a,i)),this.serializer)}}class wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>vv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=II.bind(null,this.syncEngine),await uI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hI})()}createDatastore(e){const i=Dh(e.databaseInfo.databaseId),a=(function(c){return new Qx(c)})(e.databaseInfo);return(function(c,d,g,y){return new $x(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new Zx(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new Hx})())}createSyncEngine(e,i){return(function(o,c,d,g,y,_,E){const w=new yI(o,c,d,g,y,_);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ve(i);de(da,"RemoteStore shutting down."),a.Ea.add(5),await ou(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Cr="FirestoreClient";class OI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{de(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(de(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=dp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Zd(s,e){s.asyncQueue.verifyOperationInProgress(),de(Cr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await AE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Tv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await MI(s);de(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>pv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>pv(e.remoteStore,o))),s._onlineComponents=e}async function MI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(Cr,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;pl("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new gh)}}else de(Cr,"Using default OfflineComponentProvider"),await Zd(s,new DI(void 0));return s._offlineComponents}async function QE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(Cr,"Using user provided OnlineComponentProvider"),await Tv(s,s._uninitializedComponentsProvider._online)):(de(Cr,"Using default OnlineComponentProvider"),await Tv(s,new wm))),s._onlineComponents}function VI(s){return QE(s).then((e=>e.syncEngine))}async function Rm(s){const e=await QE(s),i=e.eventManager;return i.onListen=_I.bind(null,e.syncEngine),i.onUnlisten=TI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=vI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=bI.bind(null,e.syncEngine),i}function kI(s,e,i={}){const a=new br;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const E=new FE({next:M=>{E.Nu(),d.enqueueAndForget((()=>kE(c,w)));const q=M.docs.has(g);!q&&M.fromCache?_.reject(new ye(W.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&M.fromCache&&y&&y.source==="server"?_.reject(new ye(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new UE(wh(g.path),E,{includeMetadataChanges:!0,qa:!0});return VE(c,w)})(await Rm(s),s.asyncQueue,e,i,a))),a.promise}function YE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const bv=new Map;const KE="firestore.googleapis.com",Sv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=Sv}else this.host=e.host,this.ssl=e.ssl??Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mx)throw new ye(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new B2;switch(a.type){case"firstParty":return new F2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ye(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=bv.get(i);a&&(de("ComponentProvider","Removing Datastore"),bv.delete(i),a.terminate())})(this),Promise.resolve()}}function UI(s,e,i,a={}){s=yi(s,yp);const o=bl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Hv(`https://${g}`),qv("Firestore",!0)),c.host!==KE&&c.host!==g&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!Sr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=yn.MOCK_USER;else{_=cS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ye(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(w)}s._authCredentials=new H2(new V1(_,E))}}class Vh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Vh(this.firestore,e,this._query)}}class $t{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,$t._jsonSchema))return new $t(e,a||null,new Ae(Rt.fromString(i.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Xt("string",$t._jsonSchemaVersion),referencePath:Xt("string")};class $o extends Vh{constructor(e,i,a){super(e,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Ae(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function Qt(s,e,...i){if(s=bn(s),arguments.length===1&&(e=Qm.newId()),J2("doc","path",e),s instanceof yp){const a=Rt.fromString(e,...i);return j_(a),new $t(s,null,new Ae(a))}{if(!(s instanceof $t||s instanceof $o))throw new ye(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Rt.fromString(e,...i));return j_(a),new $t(s.firestore,s instanceof $o?s.converter:null,new Ae(a))}}const wv="AsyncQueue";class Rv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RE(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&de(wv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;de(wv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",xv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=fp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function xv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Iv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ma extends yp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Rv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rv(e),this._firestoreClient=void 0,await e}}}function LI(s,e){const i=typeof s=="object"?s:Yv(),a=typeof s=="string"?s:oh,o=Um(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=oS("firestore");c&&UI(o,...c)}return o}function _p(s){if(s._terminated)throw new ye(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jI(s),s._firestoreClient}function jI(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new uR(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,YE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new OI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(mn.fromBase64String(e))}catch(i){throw new ye(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Xt("string",si._jsonSchemaVersion),bytes:Xt("string")};class kh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ye(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cu{constructor(e){this._methodName=e}}class Ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ye(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ye(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Xt("string",Ki._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class Xi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Xi(e.vectorValues);throw new ye(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Xt("string",Xi._jsonSchemaVersion),vectorValues:Xt("object")};const PI=/^__.*__$/;class zI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class XE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function $E(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:s})}}class Uh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($E(this.Ac)&&PI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Dh(e)}Cc(e,i,a,o=!1){return new Uh({Ac:e,methodName:i,Dc:a,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JE(s){const e=s._freezeSettings(),i=Dh(s._databaseId);return new BI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function HI(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Tp("Data must be an object, but it was:",d,a);const g=ZE(a,d);let y,_;if(c.merge)y=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=xm(e,w,i);if(!d.contains(M))throw new ye(W.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);eT(E,M)||E.push(M)}y=new qn(E),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new zI(new On(g),y,_)}class Lh extends cu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function qI(s,e,i){return new Uh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vp extends cu{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=qI(this,e,!0),a=this.vc.map((c=>hu(c,i))),o=new vl(a);return new uE(e.path,o)}isEqual(e){return e instanceof vp&&Sr(this.vc,e.vc)}}class Ep extends cu{constructor(e,i){super(e),this.Fc=i}_toFieldTransform(e){const i=new Xo(e.serializer,sE(e.serializer,this.Fc));return new uE(e.path,i)}isEqual(e){return e instanceof Ep&&this.Fc===e.Fc}}function GI(s,e,i,a){const o=s.Cc(1,e,i);Tp("Data must be an object, but it was:",o,a);const c=[],d=On.empty();Nr(a,((y,_)=>{const E=bp(e,y,i);_=bn(_);const w=o.yc(E);if(_ instanceof Lh)c.push(E);else{const M=hu(_,w);M!=null&&(c.push(E),d.set(E,M))}}));const g=new qn(c);return new XE(d,g,o.fieldTransforms)}function FI(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[xm(e,a,i)],y=[o];if(c.length%2!=0)throw new ye(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(xm(e,c[M])),y.push(c[M+1]);const _=[],E=On.empty();for(let M=g.length-1;M>=0;--M)if(!eT(_,g[M])){const q=g[M];let ie=y[M];ie=bn(ie);const ae=d.yc(q);if(ie instanceof Lh)_.push(q);else{const ne=hu(ie,ae);ne!=null&&(_.push(q),E.set(q,ne))}}const w=new qn(_);return new XE(E,w,d.fieldTransforms)}function hu(s,e){if(WE(s=bn(s)))return Tp("Unsupported field value:",e,s),ZE(s,e);if(s instanceof cu)return(function(a,o){if(!$E(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=hu(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=bn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=bt.fromDate(a);return{timestampValue:dh(o.serializer,c)}}if(a instanceof bt){const c=new bt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:dh(o.serializer,c)}}if(a instanceof Ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:pE(o.serializer,a._byteString)};if(a instanceof $t){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ip(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Xi)return(function(d,g){return{mapValue:{fields:{[q1]:{stringValue:G1},[uh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Wm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Ym(a)}`)})(s,e)}function ZE(s,e){const i={};return L1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(s,((a,o)=>{const c=hu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function WE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof bt||s instanceof Ki||s instanceof si||s instanceof $t||s instanceof cu||s instanceof Xi)}function Tp(s,e,i){if(!WE(i)||!k1(i)){const a=Ym(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function xm(s,e,i){if((e=bn(e))instanceof kh)return e._internalPath;if(typeof e=="string")return bp(s,e);throw yh("Field path arguments must be of type string or ",s,!1,void 0,i)}const QI=new RegExp("[~\\*/\\[\\]]");function bp(s,e,i){if(e.search(QI)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new kh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function yh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ye(W.INVALID_ARGUMENT,g+s+y)}function eT(s,e){return s.some((i=>i.isEqual(e)))}class tT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(nT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class YI extends tT{data(){return super.data()}}function nT(s,e){return typeof e=="string"?bp(s,e):e instanceof kh?e._internalPath:e._delegate._internalPath}function KI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ye(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XI{convertValue(e,i="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Nr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((a=>Lt(a.doubleValue)));return new Xi(i)}convertGeoPoint(e){return new Ki(Lt(e.latitude),Lt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Sh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const i=wr(e);return new bt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Rt.fromString(e);at(TE(a),9688,{name:e});const o=new Qo(a.get(1),a.get(3)),c=new Ae(a.popFirst(5));return o.isEqual(i)||Ns(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function $I(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends tT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(nT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Xt("string",ua._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Jc extends ua{data(e={}){return super.data(e)}}class dl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Jc(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ye(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Jc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Jc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:JI(g.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:s})}}function ZI(s){s=yi(s,$t);const e=yi(s.firestore,ma);return kI(_p(e),s._key).then((i=>sT(e,s,i)))}dl._jsonSchemaVersion="firestore/querySnapshot/1.0",dl._jsonSchema={type:Xt("string",dl._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class iT extends XI{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,i)}}function WI(s,e,i){s=yi(s,$t);const a=yi(s.firestore,ma),o=$I(s.converter,e);return Sp(a,[HI(JE(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,_i.none())])}function hn(s,e,i,...a){s=yi(s,$t);const o=yi(s.firestore,ma),c=JE(o);let d;return d=typeof(e=bn(e))=="string"||e instanceof kh?FI(c,"updateDoc",s._key,e,i,a):GI(c,"updateDoc",s._key,e),Sp(o,[d.toMutation(s._key,_i.exists(!0))])}function eC(s){return Sp(yi(s.firestore,ma),[new ep(s._key,_i.none())])}function Cv(s,...e){s=bn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Iv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Iv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof $t)d=yi(s.firestore,ma),g=wh(s._key.path),c={next:y=>{e[a]&&e[a](sT(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=yi(s,Vh);d=yi(y.firestore,ma),g=y._query;const _=new iT(d);c={next:E=>{e[a]&&e[a](new dl(d,_,y,E))},error:e[a+1],complete:e[a+2]},KI(s._query)}return(function(_,E,w,M){const q=new FE(M),ie=new UE(E,q,w);return _.asyncQueue.enqueueAndForget((async()=>VE(await Rm(_),ie))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>kE(await Rm(_),ie)))}})(_p(d),g,o,c)}function Sp(s,e){return(function(a,o){const c=new br;return a.asyncQueue.enqueueAndForget((async()=>SI(await VI(a),o,c))),c.promise})(_p(s),e)}function sT(s,e,i){const a=i.docs.get(e._key),o=new iT(s);return new ua(s,o,e._key,a,new Vo(i.hasPendingWrites,i.fromCache),e.converter)}function Es(...s){return new vp("arrayUnion",s)}function Ts(s){return new Ep("increment",s)}(function(e,i=!0){(function(o){wl=o})(Sl),ml(new ca("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ma(new q2(a.getProvider("auth-internal")),new Q2(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ye(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Er(V_,k_,e),Er(V_,k_,"esm2020")})();const tC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Nv=s=>{const e=nC(s);return e.charAt(0).toUpperCase()+e.slice(1)},rT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),iC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var sC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rC=rt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>rt.createElement("svg",{ref:y,...sC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:rT("lucide",o),...!c&&!iC(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,E])=>rt.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Je=(s,e)=>{const i=rt.forwardRef(({className:a,...o},c)=>rt.createElement(rC,{ref:c,iconNode:e,className:rT(`lucide-${tC(Nv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Nv(s),i};const aC=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],lC=Je("arrow-left-right",aC);const oC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uC=Je("arrow-right",oC);const cC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Bc=Je("award",cC);const hC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Im=Je("book-open",hC);const fC=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],aT=Je("bug",fC);const dC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zc=Je("circle-check-big",dC);const mC=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pC=Je("circle-play",mC);const gC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dv=Je("circle-question-mark",gC);const yC=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],_C=Je("code",yC);const vC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Cm=Je("cpu",vC);const EC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Nm=Je("crown",EC);const TC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ap=Je("database",TC);const bC=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],SC=Je("ghost",bC);const AC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],wC=Je("hammer",AC);const RC=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],xC=Je("hard-drive",RC);const IC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],CC=Je("history",IC);const NC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],DC=Je("house",NC);const OC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wp=Je("lock",OC);const MC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wd=Je("log-out",MC);const VC=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kC=Je("radio",VC);const UC=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],LC=Je("scan-eye",UC);const jC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lT=Je("search",jC);const PC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zC=Je("server",PC);const BC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rp=Je("shield",BC);const HC=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],qC=Je("skip-forward",HC);const GC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],oT=Je("skull",GC);const FC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ov=Je("sparkles",FC);const QC=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],uT=Je("syringe",QC);const YC=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],cT=Je("terminal",YC);const KC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],XC=Je("trash-2",KC);const $C=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ko=Je("triangle-alert",$C);const JC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hT=Je("user",JC);const ZC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Dm=Je("wifi",ZC);const WC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jo=Je("x",WC);const eN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Om=Je("zap",eN),tN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:9afd57573258c43a6aa637"},fT=Qv(tN),em=P2(fT),Yt=LI(fT),Zt=typeof __app_id<"u"?__app_id:"masquerade-protocol",nN="17",Nn={FIREWALL:{id:"FIREWALL",name:"Firewall",icon:Rp,color:"text-orange-500",bg:"bg-orange-950/50",border:"border-orange-600",passive:"Higher Tolerance: You are eliminated at 4 Viruses instead of 3.",glitch:"Purge: Discard all VIRUS cards in your hand and draw that many new cards."},SEARCH_ENGINE:{id:"SEARCH_ENGINE",name:"Search Engine",icon:lT,color:"text-blue-400",bg:"bg-blue-950/50",border:"border-blue-600",passive:"Scan: Peek at 1 random card from a player's hand once per turn.",glitch:"Index & Extract: Look at target's hand and steal 1 card of your choice."},MINER:{id:"MINER",name:"Data Miner",icon:xC,color:"text-emerald-400",bg:"bg-emerald-950/50",border:"border-emerald-600",passive:"Draw 2 cards instead of 1 at start of turn.",glitch:"Jackpot: Draw 3 cards immediately."},GHOST:{id:"GHOST",name:"Ghost Process",icon:SC,color:"text-purple-400",bg:"bg-purple-950/50",border:"border-purple-600",passive:"Cannot be targeted by Glitch effects.",glitch:"Haunt: Swap your entire hand with target player."},ADMIN:{id:"ADMIN",name:"Sys Admin",icon:cT,color:"text-red-500",bg:"bg-red-950/50",border:"border-red-600",passive:"Hand Limit increased by 2.",glitch:"Sudo: Force target player to discard 2 random cards."}},bs={COLLECTOR:{id:"COLLECTOR",name:"The Collector",desc:"Win if you have 5 INTEL cards in hand.",icon:Ap,color:"text-cyan-400"},SABOTEUR:{id:"SABOTEUR",name:"The Saboteur",desc:"Win if you hold at least 1 of each card type: INTEL, VIRUS, PING, PATCH.",icon:aT,color:"text-lime-400"},ANARCHIST:{id:"ANARCHIST",name:"The Anarchist",desc:"Win if at least 2 other living players are CRITICAL (holding 2+ VIRUS cards).",icon:ko,color:"text-yellow-400"},SURVIVOR:{id:"SURVIVOR",name:"The Survivor",desc:"Win if you survive 1 System Crash (Global), or be the last player standing.",icon:Rp,color:"text-orange-400"},CORRUPTOR:{id:"CORRUPTOR",name:"The Corruptor",desc:"Win if you hold 4 VIRUS cards. (Overrides Elimination).",icon:oT,color:"text-fuchsia-400"},HACKER:{id:"HACKER",name:"The Hacker",desc:"Win if you use the PING card 3 times.",icon:kC,color:"text-indigo-400"},ANTIVIRUS:{id:"ANTIVIRUS",name:"Antivirus",desc:"Win if you successfully use a PATCH to remove a VIRUS 2 times.",icon:uT,color:"text-teal-400"}},iN={name:"Encrypted Signal",desc:"This player's objective is hidden. It will be revealed if they activate their Glitch.",icon:wp,color:"text-slate-500"},xp={INTEL:{id:"INTEL",name:"Intel Packet",type:"RESOURCE",desc:"Collect these. Trade to swap data.",icon:_C,color:"text-cyan-300"},VIRUS:{id:"VIRUS",name:"Corrupt File",type:"HAZARD",desc:"3 Viruses = Crash. Trade to pass the bomb.",icon:aT,color:"text-lime-400"},PING:{id:"PING",name:"Ping",type:"ACTION",desc:"Target player reveals 1 random card.",icon:Dm,color:"text-yellow-400"},PATCH:{id:"PATCH",name:"Patch",type:"ACTION",desc:"Discard this to remove 1 Virus from your hand.",icon:Zc,color:"text-blue-400"}},Mv=[...Array(18).fill("INTEL"),...Array(10).fill("VIRUS"),...Array(6).fill("PING"),...Array(6).fill("PATCH")],Hi=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},tm=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),b.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"})]}),Vv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 mt-auto pb-4 pt-2 relative z-10 pointer-events-none",children:[b.jsx(Cm,{size:16,className:"text-cyan-500 animate-pulse"}),b.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase font-mono shadow-cyan-500/50 drop-shadow-md",children:"MASQUERADE PROTOCOL"})]}),sN=({players:s,onSelect:e,onSkip:i})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[190] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:b.jsxs("div",{className:"bg-slate-900 border-2 border-blue-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(59,130,246,0.3)] text-center relative",children:[b.jsxs("h3",{className:"text-xl font-black text-blue-400 mb-4 uppercase tracking-widest flex items-center justify-center gap-2",children:[b.jsx(LC,{size:24})," Passive Scan"]}),b.jsx("p",{className:"text-slate-400 text-xs mb-6",children:"Search Engine Protocol: Select a target to reveal one random data packet from their hand."}),b.jsx("div",{className:"grid gap-2 mb-4",children:s.map(a=>b.jsxs("button",{onClick:()=>e(a.id),className:"w-full p-3 bg-slate-800 hover:bg-blue-900/30 border border-slate-700 hover:border-blue-500 rounded flex items-center justify-between group transition-all",children:[b.jsx("span",{className:"font-bold text-slate-200 group-hover:text-blue-300",children:a.name}),b.jsxs("div",{className:"text-[10px] bg-slate-950 px-2 py-1 rounded text-slate-500",children:[a.hand.length," Cards"]})]},a.id))}),b.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Skip Scan"})]})}),rN=({targetPlayer:s,onSelect:e,onCancel:i})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[200] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:b.jsxs("div",{className:"bg-slate-900 border-2 border-fuchsia-500 p-6 rounded-xl max-w-lg w-full shadow-[0_0_30px_rgba(217,70,239,0.3)] text-center relative",children:[b.jsxs("h3",{className:"text-xl font-black text-fuchsia-400 mb-2 uppercase tracking-widest flex items-center justify-center gap-2",children:[b.jsx(Ap,{size:24})," INDEX & EXTRACT"]}),b.jsxs("p",{className:"text-slate-300 text-sm mb-6",children:["Viewing ",b.jsx("strong",{children:s.name}),"'s database. ",b.jsx("br",{}),b.jsx("span",{className:"text-white font-bold",children:"Select 1 packet to download (steal)."})]}),b.jsx("div",{className:"flex justify-center flex-wrap gap-4 mb-6",children:s.hand.map((a,o)=>b.jsxs("div",{className:"hover:scale-110 transition-transform cursor-pointer relative group",onClick:()=>e(a,o),children:[b.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-fuchsia-600 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"STEAL THIS"}),b.jsx(Ip,{type:a})]},o))}),b.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-xs underline",children:"Cancel Glitch"})]})}),aN=({item:s,onClose:e,onActivateGlitch:i,canGlitch:a})=>{if(!s)return null;const o=s.passive!==void 0;return b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[170] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",onClick:e,children:b.jsxs("div",{className:"bg-slate-900 border border-cyan-500/50 p-6 rounded-xl max-w-sm w-full shadow-2xl relative",onClick:c=>c.stopPropagation(),children:[b.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:b.jsx(Jo,{})}),b.jsxs("div",{className:"flex flex-col items-center text-center",children:[b.jsx("div",{className:"p-4 rounded-full bg-slate-800 mb-4 border border-slate-600",children:la.createElement(s.icon,{size:48,className:s.color||"text-white"})}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-1 uppercase tracking-widest",children:s.name}),b.jsx("div",{className:"text-xs text-slate-500 mb-6 uppercase tracking-wider",children:o?"Public Identity":"Hidden Agenda"}),b.jsx("div",{className:"space-y-4 w-full text-left bg-slate-950/50 p-4 rounded border border-slate-800",children:o?b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-cyan-400 font-bold block text-xs uppercase mb-1",children:"Passive Ability"}),b.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.passive})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Glitch (Ultimate)"}),b.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.glitch})]})]}):b.jsxs("div",{children:[b.jsx("span",{className:"text-fuchsia-400 font-bold block text-xs uppercase mb-1",children:"Win Condition"}),b.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.desc})]})}),i&&b.jsx("div",{className:"mt-6 w-full",children:b.jsxs("button",{onClick:i,disabled:!a||!isMyTurn,className:`w-full py-3 font-bold rounded flex items-center justify-center gap-2
                  ${a&&isMyTurn?"bg-red-600 hover:bg-red-500 animate-pulse text-white shadow-[0_0_15px_rgba(220,38,38,0.5)]":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[b.jsx(Om,{size:18}),a&&isMyTurn?"ACTIVATE GLITCH":"GLITCH UNAVAILABLE"]})})]})]})})},lN=({data:s,onClose:e})=>s?b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[180] flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:b.jsxs("div",{className:"bg-slate-900 border-2 border-yellow-500/50 p-6 rounded-xl max-w-sm w-full shadow-[0_0_30px_rgba(234,179,8,0.3)] text-center relative",children:[b.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:b.jsx(Jo,{})}),b.jsx("h3",{className:"text-xl font-black text-yellow-400 mb-2 uppercase tracking-widest",children:s.title}),b.jsx("p",{className:"text-slate-300 mb-6 font-bold",children:s.message}),s.cards&&s.cards.length>0&&b.jsx("div",{className:"flex justify-center gap-4 flex-wrap mb-6",children:s.cards.map((i,a)=>b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"mb-1 text-[10px] text-slate-500 uppercase tracking-wider",children:i.label}),b.jsx("div",{className:"scale-90 origin-top",children:b.jsx(Ip,{type:i.type})})]},a))}),b.jsx("button",{onClick:e,className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded uppercase tracking-wider",children:"Dismiss"})]})}):null,oN=({type:s,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-xl relative overflow-hidden
      ${s==="glitch"?"bg-fuchsia-900/80 border-fuchsia-500 text-fuchsia-100":s==="success"?"bg-green-900/80 border-green-500 text-green-100":s==="failure"?"bg-red-900/80 border-red-500 text-red-100":"bg-cyan-900/80 border-cyan-500 text-cyan-100"}
    `,children:[s==="glitch"&&b.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,#fff_3px)]"}),a&&b.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border border-white/10",children:b.jsx(a,{size:64,className:"animate-pulse"})}),b.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-md mb-2 font-mono",children:e}),i&&b.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center font-mono",children:i})]})}),Ip=({type:s,onClick:e,disabled:i,highlight:a,small:o,tiny:c})=>{const d=xp[s];if(!d)return b.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return b.jsx("div",{className:"w-5 h-7 rounded flex items-center justify-center bg-slate-800 border border-slate-600 shadow-sm",title:d.name,children:b.jsx(d.icon,{size:12,className:d.color})});const g=o?"w-16 h-24 p-1":"w-24 h-32 md:w-28 md:h-40 p-2";return b.jsxs("button",{onClick:e,disabled:i,className:`
        relative rounded-lg border border-slate-600 bg-slate-900 shadow-lg transition-all flex flex-col items-center justify-between
        ${g}
        ${a?"ring-2 ring-cyan-400 scale-105 z-10":""}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:scale-105 cursor-pointer hover:border-slate-400"}
      `,children:[b.jsx("div",{className:"w-full text-right",children:b.jsx("div",{className:`w-2 h-2 rounded-full ${d.color.replace("text","bg")} ml-auto`})}),b.jsx(d.icon,{size:o?20:32,className:d.color}),b.jsxs("div",{className:"text-center w-full",children:[b.jsx("div",{className:"text-[10px] md:text-xs font-bold text-white leading-none mb-1 font-mono",children:d.name}),!o&&b.jsx("div",{className:"text-[8px] text-slate-400 leading-tight",children:d.type})]})]})},kv=({onClose:s})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-cyan-500/30 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col shadow-[0_0_50px_rgba(6,182,212,0.2)] overflow-hidden font-mono",children:[b.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[b.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 flex items-center gap-2 tracking-wider",children:[b.jsx(Im,{className:"text-cyan-500"})," SYSTEM MANUAL"]}),b.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white",children:b.jsx(Jo,{})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 text-slate-300",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[b.jsx(Nm,{size:20,className:"text-yellow-400"})," Objective"]}),b.jsxs("p",{className:"mb-4",children:["You are a rogue AI. Collect"," ",b.jsx("strong",{className:"text-yellow-400",children:"Golden Chips"})," by winning rounds. The first player to collect"," ",b.jsx("strong",{className:"text-yellow-400",children:"3 Chips"})," becomes the Grand Champion."]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[b.jsx(hT,{size:20,className:"text-cyan-400"})," Public Avatars (Roles)"]}),b.jsx("p",{className:"text-xs text-slate-500 mb-4",children:'Every player is assigned a public role visible to everyone. These grant passive bonuses and powerful "Glitch" ultimates.'}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values(Nn).map(e=>b.jsxs("div",{className:`p-3 rounded border border-l-4 bg-slate-800/50 ${e.border} border-l-[${e.color.replace("text-","")}]`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[la.createElement(e.icon,{size:20,className:e.color}),b.jsx("strong",{className:`uppercase ${e.color}`,children:e.name})]}),b.jsxs("ul",{className:"text-xs space-y-1",children:[b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-cyan-500 font-bold min-w-[50px]",children:"PASSIVE:"}),b.jsx("span",{className:"text-slate-300",children:e.passive})]}),b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-fuchsia-500 font-bold min-w-[50px]",children:"GLITCH:"}),b.jsx("span",{className:"text-slate-300",children:e.glitch})]})]})]},e.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[b.jsx(wp,{size:20,className:"text-fuchsia-400"})," Secret Directives"]}),b.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Your true win condition. Hidden from others until you activate your Glitch."}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.values(bs).map(e=>b.jsxs("div",{className:"p-3 rounded border border-l-4 border-l-fuchsia-500 border-slate-700 bg-slate-800/50 flex flex-col justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[la.createElement(e.icon,{size:16,className:e.color}),b.jsx("strong",{className:`text-sm uppercase ${e.color}`,children:e.name})]}),b.jsx("div",{className:"text-xs text-slate-300",children:e.desc})]},e.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[b.jsx(Ap,{size:20,className:"text-green-400"})," Data Packets"]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:Object.values(xp).map(e=>b.jsxs("div",{className:"bg-slate-950 p-3 rounded border border-slate-800 flex flex-col items-center text-center",children:[b.jsx(e.icon,{size:24,className:`mb-2 ${e.color}`}),b.jsx("div",{className:`font-bold text-sm mb-1 ${e.color}`,children:e.name}),b.jsx("div",{className:"text-[10px] bg-slate-900 px-2 py-0.5 rounded text-slate-400 mb-2 uppercase tracking-wider",children:e.type}),b.jsx("p",{className:"text-xs text-slate-400",children:e.desc})]},e.id))})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-3 border-b border-slate-700 pb-2",children:"Core Mechanics"}),b.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-400",children:[b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Crash:"})," Holding 3 Viruses causes Immediate Elimination."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Glitch:"})," A one-time ultimate ability. Activating it reveals your Secret Directive to everyone."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Trade:"})," Select an INTEL or VIRUS card, then select a target. You give them your card, and blindly take one random card from their hand."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Hand Limit:"})," 5 Cards (7 for Admin). You must discard or skip turn if full."]})]})]})]}),b.jsx("div",{className:"p-4 bg-slate-950 border-t border-slate-800",children:b.jsx("button",{onClick:s,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 py-3 rounded font-bold transition-all",children:"ACKNOWLEDGE"})})]})});function uN(){const[s,e]=rt.useState(null),[i,a]=rt.useState("menu"),[o,c]=rt.useState(""),[d,g]=rt.useState(""),[y,_]=rt.useState(localStorage.getItem("masquerade_room_id")||""),[E,w]=rt.useState(null),[M,q]=rt.useState(""),[ie,ae]=rt.useState(!1),[ne,Te]=rt.useState(!1),[Ce,be]=rt.useState(!1),[We,ht]=rt.useState(!1),[Xe,C]=rt.useState(!1),[A,x]=rt.useState(null),[V,N]=rt.useState(null),[U,R]=rt.useState(!1),[lt,gt]=rt.useState(null),[G,oe]=rt.useState([]),[ve,qe]=rt.useState(!1),et=rt.useRef(0),[O,X]=rt.useState(!1),[re,he]=rt.useState(null);rt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await ww(em,__initial_auth_token):await Ew(em))();const F=Iw(em,e);return()=>F()},[]);const _e=Z=>{oe(F=>[...F,Z])};rt.useEffect(()=>{if(!y)return;const Z=Cv(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),F=>{if(F.exists()){const te=F.data(),le=te.players.find(ee=>ee.id===s?.uid);if(s&&!le){_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),q("Disconnected from server.");return}w(te),te.status==="lobby"?a("lobby"):(te.status==="playing"||te.status==="finished")&&a("game");const ue=te.players.find(ee=>ee.id===s.uid),Ne=te.players.findIndex(ee=>ee.id===s.uid);if(ue&&te.turnIndex===Ne&&ue.avatar==="SEARCH_ENGINE"&&!ue.passiveUsed?qe(!0):qe(!1),te.lastEvent&&te.lastEvent.id>et.current){const ee=te.lastEvent;if(et.current=ee.id,s&&ee.targetId===s.uid){let fe=null;ee.type==="PING"?fe={title:"SYSTEM ALERT: PINGED",message:`${ee.initiatorName} revealed your data:`,cards:[{type:ee.payload.revealedCard,label:"Revealed"}]}:ee.type==="TRADE"?fe={title:"DATA TRANSFER",message:`${ee.initiatorName} traded with you.`,cards:[{type:ee.payload.given,label:"You Received"},{type:ee.payload.received,label:"You Gave"}]}:ee.type==="GLITCH_ADMIN"?fe={title:"SYSTEM BREACH: SUDO",message:`${ee.initiatorName} forced deletion of data.`,cards:ee.payload.deleted.map(Oe=>({type:Oe,label:"Lost"}))}:ee.type==="GLITCH_GHOST"?fe={title:"SYSTEM BREACH: HAUNT",message:`${ee.initiatorName} swapped hands with you.`,cards:[]}:ee.type==="GLITCH_SEARCH"?fe={title:"SECURITY ALERT",message:`${ee.initiatorName} indexed (viewed) your entire hand.`,cards:[]}:ee.type==="SYSTEM_DISCARD"&&(fe={title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:ee.payload.discards.map(Oe=>({type:Oe,label:"Purged"}))}),fe&&ee.payload&&ee.payload.discards&&ee.type!=="SYSTEM_DISCARD"&&(fe.message+=" (Memory Overflow Purge)",fe.cards.push(...ee.payload.discards.map(Oe=>({type:Oe,label:"Purged"})))),fe&&_e(fe)}}}else a("menu"),_(""),localStorage.removeItem("masquerade_room_id"),q("Connection Terminated (Room Closed).")});return()=>Z()},[y,s]),rt.useEffect(()=>{const Z=Cv(Qt(Yt,"game_hub_settings","config"),F=>{F.exists()&&F.data()[nN]?.maintenance?Te(!0):Te(!1)});return()=>Z()},[]);const Ie=(Z,F,te,le)=>{N({type:Z,message:F,subtext:te,icon:le}),setTimeout(()=>N(null),2500)},Pe=(Z,F,te)=>{let le=0;return Z.forEach(ue=>{if(ue.isEliminated||ue.directive==="CORRUPTOR")return;let Ne=3;ue.avatar==="FIREWALL"&&(Ne=4),ue.hand.filter(fe=>fe==="VIRUS").length>=Ne&&(ue.isEliminated=!0,F.push(...ue.hand),ue.hand=[],le++)}),le},Ot=async()=>{if(!o)return q("Identify yourself.");ae(!0);const Z=Math.random().toString(36).substring(2,7).toUpperCase(),F={roomId:Z,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}],deck:[],discardPile:[],turnIndex:0,crashCount:0,roundCount:1,logs:[],winnerId:null};await WI(Qt(Yt,"artifacts",Zt,"public","data","rooms",Z),F),_(Z),localStorage.setItem("masquerade_room_id",Z),ae(!1)},_t=async()=>{if(!d||!o)return q("Input credentials.");ae(!0);const Z=Qt(Yt,"artifacts",Zt,"public","data","rooms",d),F=await ZI(Z);if(!F.exists()){q("Server not found."),ae(!1);return}const te=F.data();if(te.status!=="lobby"){q("Session locked."),ae(!1);return}if(te.players.length>=6){q("Server full."),ae(!1);return}if(!te.players.find(ue=>ue.id===s.uid)){const ue=[...te.players,{id:s.uid,name:o,avatar:null,directive:null,hand:[],revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}];await hn(Z,{players:ue})}_(d),localStorage.setItem("masquerade_room_id",d),ae(!1)},Zi=async Z=>{if(!y)return;const F=Qt(Yt,"artifacts",Zt,"public","data","rooms",y),te=E.players.filter(le=>le.id!==Z);await hn(F,{players:te,logs:Es({text:"A player was removed from the session.",type:"danger",id:Date.now(),viewerId:"all"})})},Ms=async()=>{if(E.hostId!==s.uid)return;const Z=Hi(Object.keys(Nn)),F=Hi(Object.keys(bs));let te=Hi([...Mv]);const le=E.players.map((ue,Ne)=>{let ee=[],fe=!1;for(;!fe;)ee=[te.pop(),te.pop(),te.pop()],ee.filter(je=>je==="VIRUS").length<3?fe=!0:(te.push(...ee),te=Hi(te),ee=[]);return{...ue,avatar:Z[Ne%Z.length],directive:F[Ne%F.length],hand:ee,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0}});await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),{status:"playing",players:le,deck:te,discardPile:[],turnIndex:0,crashCount:0,logs:[{text:`Round ${E.roundCount||1} Initialized. Safety protocols active.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Wi=async()=>{if(!y)return;const Z=Qt(Yt,"artifacts",Zt,"public","data","rooms",y);if(E.hostId===s.uid)await eC(Z);else{let te={players:E.players.filter(le=>le.id!==s.uid)};te.logs=Es({text:`${E.players.find(le=>le.id===s.uid)?.name||"User"} disconnected.`,type:"danger",id:Date.now(),viewerId:"all"}),await hn(Z,te)}_(""),localStorage.removeItem("masquerade_room_id"),a("menu"),C(!1)},es=async()=>{if(E.hostId!==s.uid)return;const Z=E.players.map(F=>({...F,hand:[],avatar:null,directive:null,revealed:!1,glitchUsed:!1,isEliminated:!1,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,chips:0}));await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),{status:"lobby",players:Z,deck:[],discardPile:[],winnerId:null,logs:[],lastEvent:null,crashCount:0,roundCount:1}),C(!1)},Gn=async()=>{if(E.hostId!==s.uid)return;const Z=Hi(Object.keys(Nn)),F=Hi(Object.keys(bs));let te=Hi([...Mv]);const le=E.players.map((ue,Ne)=>{let ee=[],fe=!1;for(;!fe;)ee=[te.pop(),te.pop(),te.pop()],ee.filter(je=>je==="VIRUS").length<3?fe=!0:(te.push(...ee),te=Hi(te),ee=[]);return{...ue,avatar:Z[Ne%Z.length],directive:F[Ne%F.length],hand:ee,ready:!1,passiveUsed:!1,pingCount:0,antivirusCount:0,isEliminated:!1,revealed:!1,glitchUsed:!1}});await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),{status:"playing",players:le,deck:te,discardPile:[],turnIndex:0,crashCount:0,winnerId:null,roundCount:Ts(1),logs:[{text:`Round ${E.roundCount+1} Initialized. Safety protocols active.`,type:"neutral",id:Date.now(),viewerId:"all"}]})},Or=async()=>{if(!y)return;const Z=Qt(Yt,"artifacts",Zt,"public","data","rooms",y),F=E.players.findIndex(le=>le.id===s.uid);if(F===-1)return;const te=[...E.players];te[F].ready=!0,await hn(Z,{players:te})},Mn=async(Z,F,te=0)=>{const le=Z.filter(ee=>!ee.isEliminated);if(le.length===1)return le[0].id;const Ne=(E.crashCount||0)+te;for(const ee of Z){if(ee.isEliminated)continue;const fe=ee.directive,Oe=ee.hand;let je=!1;if(fe==="COLLECTOR"?Oe.filter(ze=>ze==="INTEL").length>=5&&(je=!0):fe==="CORRUPTOR"?Oe.filter(ze=>ze==="VIRUS").length>=4&&(je=!0):fe==="ANARCHIST"?le.filter(ce=>ce.id!==ee.id&&ce.hand.filter(Y=>Y==="VIRUS").length>=2).length>=2&&(je=!0):fe==="SABOTEUR"?Oe.includes("INTEL")&&Oe.includes("VIRUS")&&Oe.includes("PING")&&Oe.includes("PATCH")&&(je=!0):fe==="SURVIVOR"?Ne>=1&&(je=!0):fe==="HACKER"?(ee.pingCount||0)>=3&&(je=!0):fe==="ANTIVIRUS"&&(ee.antivirusCount||0)>=2&&(je=!0),je)return ee.id}return null},vi=async(Z,F,te,le,ue=null)=>{const Ne=Z[E.turnIndex];let ee=[];if(!Ne.isEliminated){const Se=Ne.avatar==="ADMIN"?7:5;for(;Ne.hand.length>Se;){const Mt=Math.floor(Math.random()*Ne.hand.length),wt=Ne.hand.splice(Mt,1)[0];te.push(wt),ee.push(wt),le.push({text:`${Ne.name} discarded excess data (${wt}).`,type:"neutral",id:Date.now()+ee.length,viewerId:"all"})}}ee.length>0&&_e({title:"MEMORY OVERFLOW",message:"Hand limit exceeded. Auto-purged data:",cards:ee.map(Se=>({type:Se,label:"Purged"}))});let fe=await Mn(Z);if(fe){const Se=Z.findIndex(vt=>vt.id===fe);Z[Se].chips=(Z[Se].chips||0)+1,Z.forEach(vt=>{vt.revealed=!0});const wt={players:Z.map(vt=>({...vt,ready:!1})),status:"finished",winnerId:fe,discardPile:te,logs:Es(...le,{text:`Round Winner Identified: ${Z[Se].name}. Chip awarded.`,type:"success",id:Date.now()+2,viewerId:"all"})};ue&&(wt.lastEvent=ue),await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),wt);return}let Oe=!1,je=(E.turnIndex+1)%Z.length,ze=0,ce=0;const Y=Z.length*2;for(;!Oe&&ce<Y;){ce++;let Se=0;for(;Z[je].isEliminated&&Se<Z.length;)je=(je+1)%Z.length,Se++;const Mt=Z[je];if(Mt.passiveUsed=!1,Se>=Z.length)break;let wt=1;Mt.avatar==="MINER"&&(wt=2);for(let Ti=0;Ti<wt;Ti++){if(F.length===0)if(te.length>0)F=Hi([...te]),te=[],le.push({text:"Deck rebooted.",type:"neutral",id:Date.now()+3+ce,viewerId:"all"});else break;F.length>0&&Mt.hand.push(F.pop())}const vt=Pe(Z,te);ze+=vt,Mt.isEliminated?le.push({text:`${Mt.name} crashed immediately upon receiving data. Passing control...`,type:"danger",id:Date.now()+5+ce,viewerId:"all"}):Oe=!0}if(fe=await Mn(Z,le,ze),fe){const Se=Z.findIndex(vt=>vt.id===fe);Z[Se].chips=(Z[Se].chips||0)+1;const wt={players:Z.map(vt=>({...vt,ready:!1})),status:"finished",winnerId:fe,discardPile:te,logs:Es(...le,{text:`Round Winner: ${Z[Se].name}.`,type:"success",id:Date.now()+4,viewerId:"all"}),crashCount:Ts(ze)};ue&&(wt.lastEvent=ue),await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),wt);return}le.push({text:`Processing cycle: ${Z[je].name}`,type:"neutral",id:Date.now()+10,viewerId:"all"});const pe={players:Z,deck:F,discardPile:te,turnIndex:je,logs:Es(...le),crashCount:Ts(ze)};ue&&(pe.lastEvent=ue),await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),pe)},Vs=async Z=>{if(!y)return;const F=E.players.findIndex(ee=>ee.id===s.uid),te=E.players[F];if(te.passiveUsed)return;const le=Qt(Yt,"artifacts",Zt,"public","data","rooms",y),ue=[...E.players];ue[F].passiveUsed=!0;const Ne={players:ue,logs:Es({text:`${te.name} ${Z?"ran a passive background scan.":"skipped passive scan."}`,type:"neutral",id:Date.now(),viewerId:"all"})};if(Z){const ee=E.players.find(fe=>fe.id===Z);if(ee&&ee.hand.length>0){const fe=Math.floor(Math.random()*ee.hand.length),Oe=ee.hand[fe];_e({title:"PASSIVE SCAN RESULT",message:`Scanner intercepted ${ee.name}'s packet:`,cards:[{type:Oe,label:"Intercepted"}]})}}await hn(le,Ne)},It=async(Z,F)=>{if(!y||!re)return;const te=E.players.findIndex(Y=>Y.id===s.uid),le=E.players[te],ue=E.players.findIndex(Y=>Y.id===re),Ne=E.players[ue];X(!1),he(null);const ee=JSON.parse(JSON.stringify(E.players)),fe=[];ee[te].glitchUsed=!0,ee[te].revealed=!0,ee[ue].hand.splice(F,1),ee[te].hand.push(Z),fe.push({text:` GLITCH: ${le.name} Indexed ${Ne.name} and extracted a ${Z}.`,type:"glitch",id:Date.now(),viewerId:"all"}),Ie("glitch","DOWNLOAD COMPLETE",`Acquired ${Z}`,lT);let Oe=[...E.discardPile],je=[...E.deck];const ze=Pe(ee,Oe),ce=await Mn(ee,fe,ze);if(ce){const Y=ee.findIndex(Se=>Se.id===ce);ee[Y].chips=(ee[Y].chips||0)+1,ee.forEach(Se=>{Se.revealed=!0});const pe={players:ee.map(Se=>({...Se,ready:!1})),status:"finished",winnerId:ce,discardPile:Oe,logs:Es(...fe),crashCount:Ts(ze)};await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),pe);return}ze>0&&await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),{crashCount:Ts(ze)}),await vi(ee,je,Oe,fe)},Ct=async(Z=null)=>{if(A===null)return;const F=E.players.findIndex(ce=>ce.id===s.uid),te=E.players[F],le=te.hand[A],ue=JSON.parse(JSON.stringify(E.players));let Ne=[...E.deck],ee=[...E.discardPile||[]];const fe=[];let Oe=null;if(ue[F].hand.splice(A,1),le==="PATCH"){ee.push("PATCH");const ce=ue[F].hand.indexOf("VIRUS");ce>-1?(ue[F].hand.splice(ce,1),ee.push("VIRUS"),ue[F].antivirusCount=(ue[F].antivirusCount||0)+1,fe.push({text:`${te.name} ran a Patch. Virus purged.`,type:"success",id:Date.now(),viewerId:"all"})):fe.push({text:`${te.name} ran a Patch but had no Virus.`,type:"neutral",id:Date.now(),viewerId:"all"})}else if(le==="PING"){if(ee.push("PING"),ue[F].pingCount=(ue[F].pingCount||0)+1,!Z)return;const ce=ue.find(Y=>Y.id===Z);if(ce.hand.length>0){const Y=Math.floor(Math.random()*ce.hand.length),pe=ce.hand[Y];Oe={id:Date.now(),type:"PING",initiatorId:s.uid,initiatorName:te.name,targetId:Z,payload:{revealedCard:pe}},_e({title:"PING RESULT",message:`You revealed ${ce.name}'s data:`,cards:[{type:pe,label:"Revealed"}]}),fe.push({text:`PING: ${ce.name} has a ${pe}.`,type:"warning",id:Date.now(),viewerId:"all"})}}else if(!Z)ee.push(le),fe.push({text:`${te.name} discarded ${le}.`,type:"neutral",id:Date.now(),viewerId:"all"});else{const ce=ue.findIndex(pe=>pe.id===Z),Y=ue[ce];if(Y.hand.length>0){const pe=Math.floor(Math.random()*Y.hand.length),Se=Y.hand.splice(pe,1)[0];Y.hand.push(le),ue[F].hand.push(Se),Oe={id:Date.now(),type:"TRADE",initiatorId:s.uid,initiatorName:te.name,targetId:Z,payload:{given:le,received:Se}},_e({title:"TRADE COMPLETE",message:`Exchange with ${Y.name} successful.`,cards:[{type:le,label:"You Gave"},{type:Se,label:"You Received"}]}),fe.push({text:`${te.name} traded data with ${Y.name}.`,type:"warning",id:Date.now(),viewerId:"all"})}else Y.hand.push(le),fe.push({text:`${te.name} transferred data to ${Y.name} (Empty hand).`,type:"neutral",id:Date.now(),viewerId:"all"})}const je=Pe(ue,ee);x(null);const ze=await Mn(ue,fe,je);if(ze){const ce=ue.findIndex(Se=>Se.id===ze);ue[ce].chips=(ue[ce].chips||0)+1,ue.forEach(Se=>{Se.revealed=!0});const pe={players:ue.map(Se=>({...Se,ready:!1})),status:"finished",winnerId:ze,discardPile:ee,logs:Es(...fe,{text:`Round Winner: ${ue[ce].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:Ts(je)};Oe&&(pe.lastEvent=Oe),await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),pe);return}je>0&&await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),{crashCount:Ts(je)}),await vi(ue,Ne,ee,fe,Oe)},Ei=async()=>{if(!y||!E)return;const Z=E.players.findIndex(ue=>ue.id===s.uid),F=E.players[Z],te=F.avatar==="ADMIN"?7:5;if(F.hand.length>te){Ie("failure","MEMORY OVERFLOW",`Cannot skip. Hand limit (${te}) exceeded.`,ko);return}const le=[{text:`${F.name} skipped their turn.`,type:"neutral",id:Date.now(),viewerId:"all"}];await vi(E.players,E.deck,E.discardPile,le)},ya=async(Z=null)=>{const F=E.players.findIndex(ce=>ce.id===s.uid),te=E.players[F];if(te.glitchUsed)return;if(Z){const ce=E.players.find(Y=>Y.id===Z);if(ce&&ce.avatar==="GHOST"){R(!1),Ie("failure","TARGET IMMUNE","Ghost Process blocks Glitch effects.",Rp);return}}const le=JSON.parse(JSON.stringify(E.players)),ue=[...E.deck];let Ne=[...E.discardPile||[]];const ee=[];let fe=null;le[F].glitchUsed=!0,le[F].revealed=!0,ee.push({text:` GLITCH DETECTED: ${te.name} is ${bs[te.directive].name}!`,type:"glitch",id:Date.now(),viewerId:"all"}),Ie("glitch","GLITCH ACTIVATED","Directive Revealed!",Om);const Oe=te.avatar;if(Oe==="FIREWALL"){let ce=0;le[F].hand=le[F].hand.map(Y=>Y==="VIRUS"?(ce++,"INTEL"):Y),_e({title:"SYSTEM DECRYPTION",message:`${ce} Virus(es) decrypted into Intel.`,cards:[]}),ee.push({text:"Firewall Decryption complete. Malicious code converted to valuable data.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(Oe==="MINER"){let ce=0;for(let Y=0;Y<5;Y++){if(ue.length===0&&Ne.length>0){const pe=Hi([...Ne]);Ne=[],ue.push(...pe)}ue.length>0&&(le[F].hand.push(ue.pop()),ce++)}_e({title:"JACKPOT",message:`You mined ${ce} new data packets.`,cards:[]}),ee.push({text:"Miner hit the Jackpot. 5 Cards drawn.",type:"success",id:Date.now()+1,viewerId:"all"})}else if(Oe==="GHOST"){if(!Z)return;const ce=le.findIndex(pe=>pe.id===Z),Y=[...le[F].hand];le[F].hand=[...le[ce].hand],le[ce].hand=Y,fe={id:Date.now(),type:"GLITCH_GHOST",initiatorId:s.uid,initiatorName:te.name,targetId:Z,payload:{}},_e({title:"GHOST HAUNT",message:`Swapped hands with ${le[ce].name}.`,cards:[]}),ee.push({text:`Ghost Process Haunt. Hands swapped with ${le[ce].name}.`,type:"warning",id:Date.now()+1,viewerId:"all"})}else if(Oe==="ADMIN"){if(!Z)return;const ce=le.findIndex(Se=>Se.id===Z),Y=le[ce];let pe=[];if(Y.hand.length>=2){const Se=Y.hand.splice(0,1)[0],Mt=Y.hand.splice(0,1)[0];Ne.push(Se,Mt),pe=[Se,Mt]}else pe=[...Y.hand],Ne.push(...Y.hand),Y.hand=[];fe={id:Date.now(),type:"GLITCH_ADMIN",initiatorId:s.uid,initiatorName:te.name,targetId:Z,payload:{deleted:pe}},_e({title:"SUDO COMMAND",message:`Forced ${Y.name} to delete ${pe.length} data packets.`,cards:[]}),ee.push({text:`Admin Sudo command. ${Y.name} forced to delete data.`,type:"danger",id:Date.now()+1,viewerId:"all"})}else if(Oe==="SEARCH_ENGINE"){if(!Z)return;he(Z),X(!0),R(!1);return}R(!1);const je=Pe(le,Ne),ze=await Mn(le,ee,je);if(ze){const ce=le.findIndex(Se=>Se.id===ze);le[ce].chips=(le[ce].chips||0)+1,le.forEach(Se=>{Se.revealed=!0});const pe={players:le.map(Se=>({...Se,ready:!1})),status:"finished",winnerId:ze,discardPile:Ne,logs:Es(...ee,{text:`Round Winner: ${le[ce].name}.`,type:"success",id:Date.now(),viewerId:"all"}),crashCount:Ts(je)};fe&&(pe.lastEvent=fe),await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),pe);return}je>0&&await hn(Qt(Yt,"artifacts",Zt,"public","data","rooms",y),{crashCount:Ts(je)}),await vi(le,ue,Ne,ee,fe)};if(ne)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(wC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The AI is glitched. Wait for replacement hardware."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(Ov,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(Ov,{size:16})]})})})})]});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-4 relative overflow-hidden font-mono",children:[b.jsx(tm,{}),Ce&&b.jsx(kv,{onClose:()=>be(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[b.jsx(Cm,{size:64,className:"text-cyan-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]"}),b.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:["MASQUERADE",b.jsx("br",{}),"PROTOCOL"]}),b.jsx("p",{className:"text-cyan-400/60 tracking-[0.2em] uppercase mt-2",children:"Social Hacking Simulation"})]}),b.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-lg w-full max-w-md shadow-2xl z-10",children:[M&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),b.jsx("input",{className:"w-full bg-black/50 border border-slate-700 p-3 rounded mb-4 text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none transition-colors",placeholder:"USER_ID",value:o,onChange:Z=>c(Z.target.value)}),b.jsxs("button",{onClick:Ot,disabled:ie,className:"w-full bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 text-cyan-100 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 transition-all hover:shadow-[0_0_15px_rgba(6,182,212,0.3)]",children:[b.jsx(zC,{size:20})," INITIALIZE_SERVER"]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[b.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-slate-700 p-3 rounded text-cyan-100 placeholder-slate-600 focus:border-cyan-500 outline-none text-center tracking-widest uppercase",placeholder:"ACCESS_CODE",value:d,onChange:Z=>g(Z.target.value.toUpperCase())}),b.jsx("button",{onClick:_t,disabled:ie,className:"w-full sm:w-auto bg-slate-800 hover:bg-slate-700 border border-slate-600 px-6 py-3 rounded font-bold transition-colors text-slate-300",children:"CONNECT"})]}),b.jsxs("button",{onClick:()=>be(!0),className:"w-full text-sm text-slate-500 hover:text-cyan-400 flex items-center justify-center gap-2 py-2",children:[b.jsx(Im,{size:16})," READ_MANUAL.txt"]})]}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const Z=E.hostId===s.uid;return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 flex flex-col items-center justify-center p-6 relative font-mono",children:[b.jsx(tm,{}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-lg border border-cyan-500/30 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-800 pb-4",children:[b.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[b.jsx(cT,{size:20})," LOBBY:"," ",b.jsx("span",{className:"text-white",children:y})]}),b.jsx("button",{onClick:Wi,className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:b.jsx(Wd,{size:16})})]}),b.jsxs("div",{className:"bg-black/40 rounded p-4 mb-8 border border-slate-800",children:[b.jsxs("h3",{className:"text-slate-500 text-xs uppercase tracking-widest mb-4",children:["Connected Clients (",E.players.length,"/6)"]}),b.jsx("div",{className:"space-y-2",children:E.players.map(F=>b.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded border border-slate-700",children:[b.jsxs("span",{className:`font-bold flex items-center gap-2 ${F.id===s.uid?"text-cyan-400":"text-slate-400"}`,children:[b.jsx(hT,{size:14})," ",F.name,F.id===E.hostId&&b.jsx(Nm,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[(F.chips||0)>0&&b.jsxs("div",{className:"flex items-center gap-1 bg-yellow-900/40 px-2 py-0.5 rounded border border-yellow-700/50",children:[b.jsx(Bc,{size:12,className:"text-yellow-400"}),b.jsx("span",{className:"text-xs text-yellow-200 font-bold",children:F.chips})]}),b.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[b.jsx(Zc,{size:12})," ONLINE"]}),Z&&F.id!==s.uid&&b.jsx("button",{onClick:()=>Zi(F.id),className:"text-red-500 hover:text-red-400 p-1 hover:bg-red-900/30 rounded",title:"Kick Player",children:b.jsx(XC,{size:14})})]})]},F.id))})]}),Z?b.jsx("button",{onClick:Ms,disabled:E.players.length<3,className:`w-full py-4 rounded font-bold text-lg transition-all flex items-center justify-center gap-2 ${E.players.length>=3?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-[0_0_20px_rgba(6,182,212,0.4)]":"bg-slate-800 cursor-not-allowed text-slate-600"}`,children:E.players.length<3?"WAITING_FOR_USERS (Min 3)":"EXECUTE_PROTOCOL"}):b.jsx("div",{className:"text-center text-cyan-500/60 animate-pulse italic",children:"Waiting for Host execution..."})]}),b.jsx(Vv,{})]})}if(i==="game"&&E){const Z=E.players.findIndex(Y=>Y.id===s.uid),F=E.players[Z],te=E.turnIndex===Z,le=E.hostId===s.uid,ue=A!==null?F.hand[A]:null,Ne=ue==="PING",ee=ue==="INTEL"||ue==="VIRUS",fe=Ne||ee,Oe=cN(F.avatar),je=E.players.filter(Y=>Y.id!==E.hostId).every(Y=>Y.ready),ze=E.players.find(Y=>Y.id===E.winnerId),ce=E.players.find(Y=>(Y.chips||0)>=3);return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-cyan-100 overflow-hidden flex flex-col relative font-mono",children:[b.jsx(tm,{}),V&&b.jsx(oN,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),Ce&&b.jsx(kv,{onClose:()=>be(!1)}),lt&&b.jsx(aN,{item:lt,canGlitch:lt.canGlitch,onClose:()=>gt(null),onActivateGlitch:lt.canGlitch?()=>{gt(null),R(!0)}:null}),G.length>0&&b.jsx(lN,{data:G[0],onClose:()=>oe(Y=>Y.slice(1))}),ve&&b.jsx(sN,{players:E.players.filter(Y=>Y.id!==s.uid&&!Y.isEliminated),onSelect:Y=>Vs(Y),onSkip:()=>Vs(null)}),O&&re&&b.jsx(rN,{targetPlayer:E.players.find(Y=>Y.id===re),onSelect:It,onCancel:()=>{X(!1),he(null)}}),b.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Cm,{size:18,className:"text-cyan-500"}),b.jsxs("span",{className:"font-bold tracking-wider hidden md:block text-cyan-100",children:["ROUND ",E.roundCount||1]}),b.jsxs("span",{className:"text-xs text-slate-500",children:["Deck: ",E.deck.length," | Bin:"," ",E.discardPile?.length||0]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>be(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400",children:b.jsx(Im,{size:18})}),b.jsx("button",{onClick:()=>ht(!We),className:`p-2 rounded-full ${We?"bg-cyan-900 text-cyan-400":"text-gray-400 hover:bg-gray-800"}`,children:b.jsx(CC,{size:18})}),b.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:b.jsx(Wd,{size:18})})]})]}),b.jsxs("div",{className:"flex-1 flex flex-col p-4 max-w-6xl mx-auto w-full relative z-10",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:E.players.map((Y,pe)=>{if(Y.id===s.uid)return null;const Se=E.turnIndex===pe,Mt=te&&fe||U&&Oe;return b.jsxs("div",{onClick:()=>{te&&fe&&Ct(Y.id),U&&Oe&&ya(Y.id)},className:`
                    relative bg-slate-900/80 p-3 rounded border transition-all cursor-default
                    ${Se?"border-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.3)]":"border-slate-700"}
                    ${Mt?"ring-2 ring-red-500 cursor-pointer animate-pulse bg-red-900/10":""}
                    ${Y.isEliminated?"opacity-50 grayscale border-red-900":""}
                  `,children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("span",{className:"font-bold text-xs truncate flex items-center gap-1",children:[Y.revealed&&b.jsx(ko,{size:12,className:"text-red-500"}),Y.name]}),b.jsxs("div",{className:"flex items-center gap-1",children:[(Y.chips||0)>0&&b.jsx("div",{className:"flex items-center gap-0.5",title:`${Y.chips} Chips`,children:[...Array(Y.chips)].map((wt,vt)=>b.jsx(Bc,{size:10,className:"text-yellow-400 fill-yellow-900"},vt))}),Y.ready&&E.status==="finished"&&b.jsx(Zc,{size:14,className:"text-green-500"}),Y.isEliminated&&b.jsx(oT,{size:14,className:"text-red-500"})]})]}),b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{onClick:wt=>{wt.stopPropagation(),gt(Nn[Y.avatar])},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${Nn[Y.avatar].border} ${Nn[Y.avatar].bg}`,children:la.createElement(Nn[Y.avatar].icon,{size:16,className:Nn[Y.avatar].color})}),b.jsx("div",{onClick:wt=>{wt.stopPropagation(),Y.revealed||E.status==="finished"?gt(bs[Y.directive]):gt(iN)},className:`w-8 h-8 rounded flex items-center justify-center border cursor-pointer hover:scale-110 transition-transform ${Y.revealed||E.status==="finished"?"border-red-500 bg-red-950":"border-slate-700 bg-slate-800"}`,children:Y.revealed||E.status==="finished"?la.createElement(bs[Y.directive].icon,{size:16,className:"text-red-400"}):b.jsx(wp,{size:14,className:"text-slate-600"})})]}),b.jsx("div",{className:"flex gap-0.5 justify-center",children:Y.hand.map((wt,vt)=>b.jsx("div",{className:"w-2 h-4 bg-slate-700 rounded-sm"},vt))})]},Y.id)})}),b.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:E.status==="finished"?b.jsxs("div",{className:"bg-slate-900/95 p-8 rounded-xl border border-cyan-500 shadow-2xl z-50 animate-in fade-in zoom-in w-full max-w-md",children:[ce?b.jsxs(b.Fragment,{children:[b.jsx(Nm,{size:64,className:"text-yellow-400 mx-auto mb-4 animate-bounce"}),b.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-yellow-600 mb-2",children:"GRAND CHAMPION"}),b.jsx("div",{className:"text-2xl text-white mb-6",children:ce.name}),b.jsx("div",{className:"text-sm text-yellow-500/80 mb-6 uppercase tracking-widest",children:"Collected 3 Golden Chips"})]}):b.jsxs(b.Fragment,{children:[b.jsx(Bc,{size:48,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),b.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["ROUND ",E.roundCount," COMPLETE"]}),b.jsxs("div",{className:"text-xl text-cyan-400 mb-6",children:["WINNER: ",ze?.name]}),b.jsxs("div",{className:"text-sm text-slate-400 mb-6",children:[ze?.name," receives a Golden Chip. (",ze?.chips,"/3)"]})]}),le?b.jsx("div",{className:"space-y-2",children:ce?b.jsxs("button",{onClick:es,className:"px-6 py-3 rounded font-bold bg-red-700 hover:bg-red-600 text-white shadow-lg mx-auto flex items-center gap-2",children:[b.jsx(Wd,{size:18})," FULL RESET TO LOBBY"]}):b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:Gn,disabled:!je,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${je?"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:[b.jsx(pC,{size:18})," START ROUND"," ",(E.roundCount||0)+1]}),!je&&b.jsx("div",{className:"text-xs text-yellow-500 animate-pulse",children:"Waiting for players..."})]})}):!ce&&b.jsxs("button",{onClick:Or,disabled:F.ready,className:`px-6 py-3 rounded font-bold flex items-center gap-2 mx-auto transition-all ${F.ready?"bg-green-800 text-green-200 cursor-default":"bg-cyan-700 hover:bg-cyan-600 text-white shadow-lg animate-pulse"}`,children:[F.ready?b.jsx(Zc,{size:18}):b.jsx(Om,{size:18}),F.ready?"WAITING FOR HOST":"READY FOR NEXT ROUND"]})]}):b.jsx("div",{className:"w-full max-w-md space-y-2 pointer-events-none",children:E.logs.filter(Y=>Y.viewerId==="all"||Y.viewerId===s.uid).slice(-3).reverse().map((Y,pe)=>b.jsx("div",{className:`text-xs p-2 rounded bg-black/60 border border-slate-800 ${Y.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":Y.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,style:{opacity:1-pe*.3},children:`> ${Y.text}`},Y.id))})}),b.jsxs("div",{className:"mt-auto bg-slate-900/90 border-t border-cyan-900/30 p-4 -mx-4 md:rounded-t-2xl md:mx-0 backdrop-blur-md relative z-20",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{onClick:()=>{gt({...Nn[F.avatar],canGlitch:!F.glitchUsed&&!F.isEliminated})},className:`
                    flex items-center gap-3 p-2 rounded border cursor-pointer hover:bg-slate-800 transition-colors relative
                    ${Nn[F.avatar].border} ${Nn[F.avatar].bg}
                  `,children:[!F.glitchUsed&&!F.isEliminated&&F.isMyTurn&&b.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[b.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),la.createElement(Nn[F.avatar].icon,{size:32,className:Nn[F.avatar].color}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-bold text-white uppercase",children:Nn[F.avatar].name}),b.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[F.glitchUsed?"Glitch Offline":"Tap for Info",b.jsx(Dv,{size:8})]})]})]}),b.jsxs("div",{onClick:()=>{gt(bs[F.directive])},className:`
                    flex items-center gap-3 p-2 rounded border border-slate-700 bg-slate-800 relative cursor-pointer hover:bg-slate-700
                    ${F.revealed?"border-red-500 bg-red-900/20":""}
                  `,children:[F.directive==="HACKER"&&b.jsxs("div",{className:"absolute -top-2 -right-2 bg-indigo-900 text-indigo-100 text-[10px] px-2 py-0.5 rounded-full border border-indigo-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[b.jsx(Dm,{size:10})," ",F.pingCount||0,"/3"]}),F.directive==="ANTIVIRUS"&&b.jsxs("div",{className:"absolute -top-2 -right-2 bg-teal-900 text-teal-100 text-[10px] px-2 py-0.5 rounded-full border border-teal-500 font-bold shadow-lg z-10 flex items-center gap-1",children:[b.jsx(uT,{size:10})," ",F.antivirusCount||0,"/2"]}),la.createElement(bs[F.directive].icon,{size:32,className:F.revealed?"text-red-400":"text-fuchsia-400"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-bold text-white uppercase",children:bs[F.directive].name}),b.jsxs("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[F.revealed?"REVEALED":"Tap for Info",b.jsx(Dv,{size:8})]})]})]}),(F.chips||0)>0&&b.jsx("div",{className:"flex items-center gap-1 bg-yellow-900/30 px-3 py-1 rounded border border-yellow-600/50",children:[...Array(F.chips)].map((Y,pe)=>b.jsx(Bc,{size:16,className:"text-yellow-400 fill-yellow-900"},pe))})]}),te&&b.jsx("div",{className:"flex items-center gap-4",children:b.jsx("div",{className:"text-xs text-green-400 font-bold animate-pulse",children:"AWAITING_INPUT..."})})]}),b.jsx("div",{className:"w-full overflow-x-auto pb-4 pt-6 px-4",children:b.jsx("div",{className:"flex gap-2 w-fit mx-auto",children:F.hand.map((Y,pe)=>{const Se=A===pe;return b.jsx("div",{className:`transition-all duration-200 ${Se?"-translate-y-4":"hover:-translate-y-2"}`,children:b.jsx(Ip,{type:Y,onClick:()=>te?x(pe):null,highlight:Se,disabled:!te||F.isEliminated})},pe)})})}),te&&b.jsx("div",{className:"absolute top-0 left-0 right-0 -mt-16 flex justify-center gap-2 pointer-events-none",children:b.jsx("div",{className:"pointer-events-auto flex gap-2",children:ue?b.jsxs(b.Fragment,{children:[fe?b.jsxs("div",{className:"bg-yellow-600 text-black px-4 py-2 rounded font-bold animate-bounce shadow-lg border border-yellow-400 flex items-center gap-2",children:[ee?b.jsx(lC,{size:16}):b.jsx(Dm,{size:16}),"Select Target to ",ee?"Trade":"Ping"]}):b.jsxs("button",{onClick:()=>Ct(),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all hover:scale-105",children:[b.jsx(hN,{size:16})," Execute"," ",xp[ue].name]}),b.jsx("button",{onClick:()=>x(null),className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white shadow-lg transition-colors",children:b.jsx(Jo,{size:20})})]}):(()=>{const Y=F.avatar==="ADMIN"?7:5,pe=F.hand.length<=Y;return b.jsx("button",{onClick:Ei,disabled:!pe,className:`
                            px-6 py-2 rounded shadow-lg font-bold flex items-center gap-2 transition-all
                            ${pe?"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-500":"bg-red-900/50 text-red-400 border border-red-800 cursor-not-allowed opacity-80"}
                          `,children:pe?b.jsxs(b.Fragment,{children:[b.jsx(qC,{size:16})," SKIP TURN"]}):b.jsxs(b.Fragment,{children:[b.jsx(ko,{size:16})," HAND LIMIT EXCEEDED"]})})})()})}),U&&b.jsxs("div",{className:"absolute inset-0 bg-slate-950/95 z-50 flex flex-col items-center justify-center rounded-t-2xl animate-in slide-in-from-bottom-10",children:[b.jsx(ko,{size:48,className:"text-red-500 mb-2 animate-pulse"}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"WARNING: GLITCH DETECTED"}),b.jsxs("p",{className:"text-xs text-red-400 mb-4 max-w-xs text-center",children:["Activating your glitch will"," ",b.jsx("strong",{className:"text-white",children:"REVEAL YOUR DIRECTIVE"})," ","to all players. This cannot be undone."]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 rounded border border-slate-600 text-slate-300 hover:bg-slate-800",children:"CANCEL"}),Oe?b.jsx("div",{className:"px-4 py-2 rounded bg-fuchsia-900/50 text-fuchsia-200 border border-fuchsia-500 animate-pulse",children:"Select Target Player"}):b.jsx("button",{onClick:()=>ya(),className:"px-4 py-2 rounded bg-red-600 hover:bg-red-500 text-white font-bold shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"CONFIRM EXECUTION"})]})]})]})]}),We&&b.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:b.jsxs("div",{className:"bg-slate-900 rounded-lg w-full max-w-md h-[60vh] flex flex-col border border-slate-700",children:[b.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between",children:[b.jsx("h3",{className:"text-white font-bold",children:"System Logs"}),b.jsx("button",{onClick:()=>ht(!1),children:b.jsx(Jo,{className:"text-slate-400"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 font-mono text-xs",children:[...E.logs].filter(Y=>Y.viewerId==="all"||Y.viewerId===s.uid).reverse().map(Y=>b.jsxs("div",{className:`p-2 border-l-2 ${Y.type==="danger"?"border-red-500 bg-red-900/10 text-red-300":Y.type==="glitch"?"border-fuchsia-500 bg-fuchsia-900/10 text-fuchsia-300":"border-slate-600 text-slate-400"}`,children:[b.jsxs("span",{className:"opacity-50 mr-2",children:["[",new Date(Y.id).toLocaleTimeString(),"]"]}),Y.text]},Y.id))})]})}),Xe&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 rounded border border-slate-700 p-6 text-center",children:[b.jsx("h3",{className:"text-white font-bold mb-4",children:"Disconnect from Server?"}),b.jsxs("div",{className:"flex gap-4 justify-center",children:[b.jsx("button",{onClick:()=>C(!1),className:"bg-slate-700 px-4 py-2 rounded text-white",children:"Cancel"}),b.jsx("button",{onClick:Wi,className:"bg-red-600 px-4 py-2 rounded text-white",children:"Disconnect"}),le&&b.jsxs("button",{onClick:es,className:"bg-orange-600 px-4 py-2 rounded text-white flex items-center gap-1",children:[b.jsx(DC,{size:16})," Lobby"]})]})]})}),b.jsx(Vv,{})]})}return null}function cN(s){return["GHOST","ADMIN","SEARCH_ENGINE"].includes(s)}const hN=uC;Wb.createRoot(document.getElementById("root")).render(b.jsx(rt.StrictMode,{children:b.jsx(uN,{})}));
